function _N(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function sT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ig={exports:{}},Wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function wN(){if(iE)return Wu;iE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Wu.Fragment=e,Wu.jsx=t,Wu.jsxs=t,Wu}var sE;function EN(){return sE||(sE=1,Ig.exports=wN()),Ig.exports}var v=EN(),Ng={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aE;function xN(){if(aE)return Ke;aE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function _(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,A={};function I(q,le,me){this.props=q,this.context=le,this.refs=A,this.updater=me||x}I.prototype.isReactComponent={},I.prototype.setState=function(q,le){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,le,"setState")},I.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function R(){}R.prototype=I.prototype;function T(q,le,me){this.props=q,this.context=le,this.refs=A,this.updater=me||x}var M=T.prototype=new R;M.constructor=T,E(M,I.prototype),M.isPureReactComponent=!0;var z=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function P(q,le,me,pe,Te,ke){return me=ke.ref,{$$typeof:n,type:q,key:le,ref:me!==void 0?me:null,props:ke}}function N(q,le){return P(q.type,le,void 0,void 0,void 0,q.props)}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function V(q){var le={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(me){return le[me]})}var U=/\/+/g;function B(q,le){return typeof q=="object"&&q!==null&&q.key!=null?V(""+q.key):le.toString(36)}function k(){}function ie(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(k,k):(q.status="pending",q.then(function(le){q.status==="pending"&&(q.status="fulfilled",q.value=le)},function(le){q.status==="pending"&&(q.status="rejected",q.reason=le)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function oe(q,le,me,pe,Te){var ke=typeof q;(ke==="undefined"||ke==="boolean")&&(q=null);var Ie=!1;if(q===null)Ie=!0;else switch(ke){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(q.$$typeof){case n:case e:Ie=!0;break;case m:return Ie=q._init,oe(Ie(q._payload),le,me,pe,Te)}}if(Ie)return Te=Te(q),Ie=pe===""?"."+B(q,0):pe,z(Te)?(me="",Ie!=null&&(me=Ie.replace(U,"$&/")+"/"),oe(Te,le,me,"",function(Ft){return Ft})):Te!=null&&(O(Te)&&(Te=N(Te,me+(Te.key==null||q&&q.key===Te.key?"":(""+Te.key).replace(U,"$&/")+"/")+Ie)),le.push(Te)),1;Ie=0;var lt=pe===""?".":pe+":";if(z(q))for(var Ye=0;Ye<q.length;Ye++)pe=q[Ye],ke=lt+B(pe,Ye),Ie+=oe(pe,le,me,ke,Te);else if(Ye=_(q),typeof Ye=="function")for(q=Ye.call(q),Ye=0;!(pe=q.next()).done;)pe=pe.value,ke=lt+B(pe,Ye++),Ie+=oe(pe,le,me,ke,Te);else if(ke==="object"){if(typeof q.then=="function")return oe(ie(q),le,me,pe,Te);throw le=String(q),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function $(q,le,me){if(q==null)return q;var pe=[],Te=0;return oe(q,pe,"","",function(ke){return le.call(me,ke,Te++)}),pe}function re(q){if(q._status===-1){var le=q._result;le=le(),le.then(function(me){(q._status===0||q._status===-1)&&(q._status=1,q._result=me)},function(me){(q._status===0||q._status===-1)&&(q._status=2,q._result=me)}),q._status===-1&&(q._status=0,q._result=le)}if(q._status===1)return q._result.default;throw q._result}var he=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function be(){}return Ke.Children={map:$,forEach:function(q,le,me){$(q,function(){le.apply(this,arguments)},me)},count:function(q){var le=0;return $(q,function(){le++}),le},toArray:function(q){return $(q,function(le){return le})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ke.Component=I,Ke.Fragment=t,Ke.Profiler=s,Ke.PureComponent=T,Ke.StrictMode=r,Ke.Suspense=f,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(q){return j.H.useMemoCache(q)}},Ke.cache=function(q){return function(){return q.apply(null,arguments)}},Ke.cloneElement=function(q,le,me){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var pe=E({},q.props),Te=q.key,ke=void 0;if(le!=null)for(Ie in le.ref!==void 0&&(ke=void 0),le.key!==void 0&&(Te=""+le.key),le)!Y.call(le,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&le.ref===void 0||(pe[Ie]=le[Ie]);var Ie=arguments.length-2;if(Ie===1)pe.children=me;else if(1<Ie){for(var lt=Array(Ie),Ye=0;Ye<Ie;Ye++)lt[Ye]=arguments[Ye+2];pe.children=lt}return P(q.type,Te,void 0,void 0,ke,pe)},Ke.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},Ke.createElement=function(q,le,me){var pe,Te={},ke=null;if(le!=null)for(pe in le.key!==void 0&&(ke=""+le.key),le)Y.call(le,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Te[pe]=le[pe]);var Ie=arguments.length-2;if(Ie===1)Te.children=me;else if(1<Ie){for(var lt=Array(Ie),Ye=0;Ye<Ie;Ye++)lt[Ye]=arguments[Ye+2];Te.children=lt}if(q&&q.defaultProps)for(pe in Ie=q.defaultProps,Ie)Te[pe]===void 0&&(Te[pe]=Ie[pe]);return P(q,ke,void 0,void 0,null,Te)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(q){return{$$typeof:d,render:q}},Ke.isValidElement=O,Ke.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:re}},Ke.memo=function(q,le){return{$$typeof:h,type:q,compare:le===void 0?null:le}},Ke.startTransition=function(q){var le=j.T,me={};j.T=me;try{var pe=q(),Te=j.S;Te!==null&&Te(me,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(be,he)}catch(ke){he(ke)}finally{j.T=le}},Ke.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Ke.use=function(q){return j.H.use(q)},Ke.useActionState=function(q,le,me){return j.H.useActionState(q,le,me)},Ke.useCallback=function(q,le){return j.H.useCallback(q,le)},Ke.useContext=function(q){return j.H.useContext(q)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(q,le){return j.H.useDeferredValue(q,le)},Ke.useEffect=function(q,le,me){var pe=j.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(q,le)},Ke.useId=function(){return j.H.useId()},Ke.useImperativeHandle=function(q,le,me){return j.H.useImperativeHandle(q,le,me)},Ke.useInsertionEffect=function(q,le){return j.H.useInsertionEffect(q,le)},Ke.useLayoutEffect=function(q,le){return j.H.useLayoutEffect(q,le)},Ke.useMemo=function(q,le){return j.H.useMemo(q,le)},Ke.useOptimistic=function(q,le){return j.H.useOptimistic(q,le)},Ke.useReducer=function(q,le,me){return j.H.useReducer(q,le,me)},Ke.useRef=function(q){return j.H.useRef(q)},Ke.useState=function(q){return j.H.useState(q)},Ke.useSyncExternalStore=function(q,le,me){return j.H.useSyncExternalStore(q,le,me)},Ke.useTransition=function(){return j.H.useTransition()},Ke.version="19.1.0",Ke}var oE;function uy(){return oE||(oE=1,Ng.exports=xN()),Ng.exports}var D=uy();const Fe=sT(D),lE=_N({__proto__:null,default:Fe},[D]);var Og={exports:{}},Zu={},Mg={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uE;function SN(){return uE||(uE=1,function(n){function e($,re){var he=$.length;$.push(re);e:for(;0<he;){var be=he-1>>>1,q=$[be];if(0<s(q,re))$[be]=re,$[he]=q,he=be;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var re=$[0],he=$.pop();if(he!==re){$[0]=he;e:for(var be=0,q=$.length,le=q>>>1;be<le;){var me=2*(be+1)-1,pe=$[me],Te=me+1,ke=$[Te];if(0>s(pe,he))Te<q&&0>s(ke,pe)?($[be]=ke,$[Te]=he,be=Te):($[be]=pe,$[me]=he,be=me);else if(Te<q&&0>s(ke,he))$[be]=ke,$[Te]=he,be=Te;else break e}}return re}function s($,re){var he=$.sortIndex-re.sortIndex;return he!==0?he:$.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],h=[],m=1,b=null,_=3,x=!1,E=!1,A=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function z($){for(var re=t(h);re!==null;){if(re.callback===null)r(h);else if(re.startTime<=$)r(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=t(h)}}function j($){if(A=!1,z($),!E)if(t(f)!==null)E=!0,Y||(Y=!0,B());else{var re=t(h);re!==null&&oe(j,re.startTime-$)}}var Y=!1,P=-1,N=5,O=-1;function V(){return I?!0:!(n.unstable_now()-O<N)}function U(){if(I=!1,Y){var $=n.unstable_now();O=$;var re=!0;try{e:{E=!1,A&&(A=!1,T(P),P=-1),x=!0;var he=_;try{t:{for(z($),b=t(f);b!==null&&!(b.expirationTime>$&&V());){var be=b.callback;if(typeof be=="function"){b.callback=null,_=b.priorityLevel;var q=be(b.expirationTime<=$);if($=n.unstable_now(),typeof q=="function"){b.callback=q,z($),re=!0;break t}b===t(f)&&r(f),z($)}else r(f);b=t(f)}if(b!==null)re=!0;else{var le=t(h);le!==null&&oe(j,le.startTime-$),re=!1}}break e}finally{b=null,_=he,x=!1}re=void 0}}finally{re?B():Y=!1}}}var B;if(typeof M=="function")B=function(){M(U)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,ie=k.port2;k.port1.onmessage=U,B=function(){ie.postMessage(null)}}else B=function(){R(U,0)};function oe($,re){P=R(function(){$(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function($){switch(_){case 1:case 2:case 3:var re=3;break;default:re=_}var he=_;_=re;try{return $()}finally{_=he}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function($,re){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var he=_;_=$;try{return re()}finally{_=he}},n.unstable_scheduleCallback=function($,re,he){var be=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?be+he:be):he=be,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=he+q,$={id:m++,callback:re,priorityLevel:$,startTime:he,expirationTime:q,sortIndex:-1},he>be?($.sortIndex=he,e(h,$),t(f)===null&&$===t(h)&&(A?(T(P),P=-1):A=!0,oe(j,he-be))):($.sortIndex=q,e(f,$),E||x||(E=!0,Y||(Y=!0,B()))),$},n.unstable_shouldYield=V,n.unstable_wrapCallback=function($){var re=_;return function(){var he=_;_=re;try{return $.apply(this,arguments)}finally{_=he}}}}(Dg)),Dg}var cE;function TN(){return cE||(cE=1,Mg.exports=SN()),Mg.exports}var Pg={exports:{}},Dn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE;function AN(){if(dE)return Dn;dE=1;var n=uy();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:f,containerInfo:h,implementation:m}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Dn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,m)},Dn.flushSync=function(f){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=m,r.d.f()}},Dn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Dn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Dn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,b=d(m,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:x}):m==="script"&&r.d.X(f,{crossOrigin:b,integrity:_,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Dn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Dn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,b=d(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Dn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Dn.requestFormReset=function(f){r.d.r(f)},Dn.unstable_batchedUpdates=function(f,h){return f(h)},Dn.useFormState=function(f,h,m){return u.H.useFormState(f,h,m)},Dn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Dn.version="19.1.0",Dn}var fE;function aT(){if(fE)return Pg.exports;fE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pg.exports=AN(),Pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hE;function CN(){if(hE)return Zu;hE=1;var n=TN(),e=uy(),t=aT();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return d(g),i;if(y===c)return d(g),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=y;else{for(var C=!1,L=g.child;L;){if(L===l){C=!0,l=g,c=y;break}if(L===c){C=!0,c=g,l=y;break}L=L.sibling}if(!C){for(L=y.child;L;){if(L===l){C=!0,l=y,c=g;break}if(L===c){C=!0,c=y,l=g;break}L=L.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function h(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=h(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),T=Symbol.for("react.consumer"),M=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var k=Symbol.for("react.client.reference");function ie(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===k?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case I:return"Profiler";case A:return"StrictMode";case j:return"Suspense";case Y:return"SuspenseList";case O:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case M:return(i.displayName||"Context")+".Provider";case T:return(i._context.displayName||"Context")+".Consumer";case z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:ie(i.type)||"Memo";case N:a=i._payload,i=i._init;try{return ie(i(a))}catch{}}return null}var oe=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},be=[],q=-1;function le(i){return{current:i}}function me(i){0>q||(i.current=be[q],be[q]=null,q--)}function pe(i,a){q++,be[q]=i.current,i.current=a}var Te=le(null),ke=le(null),Ie=le(null),lt=le(null);function Ye(i,a){switch(pe(Ie,a),pe(ke,i),pe(Te,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?Mw(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=Mw(a),i=Dw(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(Te),pe(Te,i)}function Ft(){me(Te),me(ke),me(Ie)}function On(i){i.memoizedState!==null&&pe(lt,i);var a=Te.current,l=Dw(a,i.type);a!==l&&(pe(ke,i),pe(Te,l))}function we(i){ke.current===i&&(me(Te),me(ke)),lt.current===i&&(me(lt),Gu._currentValue=he)}var Ee=Object.prototype.hasOwnProperty,Ge=n.unstable_scheduleCallback,Ze=n.unstable_cancelCallback,Rt=n.unstable_shouldYield,Ii=n.unstable_requestPaint,_n=n.unstable_now,Ni=n.unstable_getCurrentPriorityLevel,Zr=n.unstable_ImmediatePriority,G=n.unstable_UserBlockingPriority,J=n.unstable_NormalPriority,se=n.unstable_LowPriority,ve=n.unstable_IdlePriority,ye=n.log,ge=n.unstable_setDisableYieldValue,xe=null,Ne=null;function Qe(i){if(typeof ye=="function"&&ge(i),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(xe,i)}catch{}}var vt=Math.clz32?Math.clz32:Mi,Oi=Math.log,yr=Math.LN2;function Mi(i){return i>>>=0,i===0?32:31-(Oi(i)/yr|0)|0}var Vr=256,Lr=4194304;function tr(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Di(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var g=0,y=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var L=c&134217727;return L!==0?(c=L&~y,c!==0?g=tr(c):(C&=L,C!==0?g=tr(C):l||(l=L&~i,l!==0&&(g=tr(l))))):(L=c&~y,L!==0?g=tr(L):C!==0?g=tr(C):l||(l=c&~i,l!==0&&(g=tr(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function Pi(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function xs(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var i=Vr;return Vr<<=1,(Vr&4194048)===0&&(Vr=256),i}function Kl(){var i=Lr;return Lr<<=1,(Lr&62914560)===0&&(Lr=4194304),i}function ki(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Vi(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ql(i,a,l,c,g,y){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var L=i.entanglements,H=i.expirationTimes,Z=i.hiddenUpdates;for(l=C&~l;0<l;){var ae=31-vt(l),ce=1<<ae;L[ae]=0,H[ae]=-1;var ee=Z[ae];if(ee!==null)for(Z[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}l&=~ce}c!==0&&Jr(i,c,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(C&~a))}function Jr(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-vt(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Xl(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-vt(l),g=1<<c;g&a|i[c]&a&&(i[c]|=a),l&=~g}}function Ss(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Eo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ts(){var i=re.p;return i!==0?i:(i=window.event,i===void 0?32:Zw(i.type))}function ad(i,a){var l=re.p;try{return re.p=i,a()}finally{re.p=l}}var Nt=Math.random().toString(36).slice(2),nn="__reactFiber$"+Nt,Yt="__reactProps$"+Nt,br="__reactContainer$"+Nt,Wl="__reactEvents$"+Nt,Mp="__reactListeners$"+Nt,As="__reactHandles$"+Nt,od="__reactResources$"+Nt,xa="__reactMarker$"+Nt;function Cs(i){delete i[nn],delete i[Yt],delete i[Wl],delete i[Mp],delete i[As]}function Li(i){var a=i[nn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[br]||l[nn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Lw(i);i!==null;){if(l=i[nn])return l;i=Lw(i)}return a}i=l,l=i.parentNode}return null}function ei(i){if(i=i[nn]||i[br]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function ti(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Un(i){var a=i[od];return a||(a=i[od]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Bt(i){i[xa]=!0}var Zl=new Set,xo={};function jr(i,a){ji(i,a),ji(i+"Capture",a)}function ji(i,a){for(xo[i]=a,i=0;i<a.length;i++)Zl.add(a[i])}var ld=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ud={},Sa={};function cd(i){return Ee.call(Sa,i)?!0:Ee.call(ud,i)?!1:ld.test(i)?Sa[i]=!0:(ud[i]=!0,!1)}function Rs(i,a,l){if(cd(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function ni(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function wn(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var Ta,dd;function Ui(i){if(Ta===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Ta=a&&a[1]||"",dd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ta+i+dd}var So=!1;function To(i,a){if(!i||So)return"";So=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(te){var ee=te}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(te){ee=te}i.call(ce.prototype)}}else{try{throw Error()}catch(te){ee=te}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),C=y[0],L=y[1];if(C&&L){var H=C.split(`
`),Z=L.split(`
`);for(g=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(c===H.length||g===Z.length)for(c=H.length-1,g=Z.length-1;1<=c&&0<=g&&H[c]!==Z[g];)g--;for(;1<=c&&0<=g;c--,g--)if(H[c]!==Z[g]){if(c!==1||g!==1)do if(c--,g--,0>g||H[c]!==Z[g]){var ae=`
`+H[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=g);break}}}finally{So=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Ui(l):""}function Jl(i){switch(i.tag){case 26:case 27:case 5:return Ui(i.type);case 16:return Ui("Lazy");case 13:return Ui("Suspense");case 19:return Ui("SuspenseList");case 0:case 15:return To(i.type,!1);case 11:return To(i.type.render,!1);case 1:return To(i.type,!0);case 31:return Ui("Activity");default:return""}}function Ao(i){try{var a="";do a+=Jl(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function eu(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Dp(i){var a=eu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(C){c=""+C,y.call(this,C)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Co(i){i._valueTracker||(i._valueTracker=Dp(i))}function tu(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=eu(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Aa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Pp=/[\n"\\]/g;function Kt(i){return i.replace(Pp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function nr(i,a,l,c,g,y,C,L){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),a!=null?C==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Fn(a)):i.value!==""+Fn(a)&&(i.value=""+Fn(a)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),a!=null?Is(i,C,Fn(a)):l!=null?Is(i,C,Fn(l)):c!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+Fn(L):i.removeAttribute("name")}function Ca(i,a,l,c,g,y,C,L){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Fn(l):"",a=a!=null?""+Fn(a):l,L||a===i.value||(i.value=a),i.defaultValue=a}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=L?i.checked:!!c,i.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function Is(i,a,l){a==="number"&&Aa(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Fi(i,a,l,c){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Fn(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function _t(i,a,l){if(a!=null&&(a=""+Fn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Fn(l):""}function Ra(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(oe(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Fn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function _r(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Ia=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||Ia.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function nu(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in a)c=a[g],a.hasOwnProperty(g)&&l[g]!==c&&fd(i,g,c)}else for(var y in a)a.hasOwnProperty(y)&&fd(i,y,a[y])}function ru(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ro(i){return Vp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Bi=null;function wr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zi=null,Hi=null;function iu(i){var a=ei(i);if(a&&(i=a.stateNode)){var l=i[Yt]||null;e:switch(i=a.stateNode,a.type){case"input":if(nr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Kt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var g=c[Yt]||null;if(!g)throw Error(r(90));nr(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&tu(c)}break e;case"textarea":_t(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Fi(i,!!l.multiple,a,!1)}}}var ri=!1;function hd(i,a,l){if(ri)return i(a,l);ri=!0;try{var c=i(a);return c}finally{if(ri=!1,(zi!==null||Hi!==null)&&(of(),zi&&(a=zi,i=Hi,Hi=zi=null,iu(a),i)))for(a=0;a<i.length;a++)iu(i[a])}}function Na(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Yt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Er=!1;if(Ur)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Er=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{Er=!1}var ii=null,Ns=null,qi=null;function su(){if(qi)return qi;var i,a=Ns,l=a.length,c,g="value"in ii?ii.value:ii.textContent,y=g.length;for(i=0;i<l&&a[i]===g[i];i++);var C=l-i;for(c=1;c<=C&&a[l-c]===g[y-c];c++);return qi=g.slice(i,1<c?1-c:void 0)}function si(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ai(){return!0}function au(){return!1}function dn(i){function a(l,c,g,y,C){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(l=i[L],this[L]=l?l(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ai:au,this.isPropagationStopped=au,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),a}var ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Io=dn(ht),Ma=m({},ht,{view:0,detail:0}),pd=dn(Ma),No,Oo,oi,Da=m({},Ma,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==oi&&(oi&&i.type==="mousemove"?(No=i.screenX-oi.screenX,Oo=i.screenY-oi.screenY):Oo=No=0,oi=i),No)},movementY:function(i){return"movementY"in i?i.movementY:Oo}}),xr=dn(Da),md=m({},Da,{dataTransfer:0}),Lp=dn(md),Pa=m({},Ma,{relatedTarget:0}),Mo=dn(Pa),ou=m({},ht,{animationName:0,elapsedTime:0,pseudoElement:0}),Do=dn(ou),gd=m({},ht,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Po=dn(gd),jp=m({},ht,{data:0}),lu=dn(jp),ka={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=yd[i])?!!a[i]:!1}function Va(){return uu}var bd=m({},Ma,{key:function(i){if(i.key){var a=ka[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=si(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(i){return i.type==="keypress"?si(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?si(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),ko=dn(bd),_d=m({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=dn(_d),$i=m({},Ma,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),wd=dn($i),Ed=m({},ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),xd=dn(Ed),Sd=m({},Da,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Vo=dn(Sd),Bn=m({},ht,{newState:0,oldState:0}),Td=dn(Bn),Ad=[9,13,27,32],li=Ur&&"CompositionEvent"in window,p=null;Ur&&"documentMode"in document&&(p=document.documentMode);var w=Ur&&"TextEvent"in window&&!p,S=Ur&&(!li||p&&8<p&&11>=p),F=" ",X=!1;function ne(i,a){switch(i){case"keyup":return Ad.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var it=!1;function rn(i,a){switch(i){case"compositionend":return _e(a);case"keypress":return a.which!==32?null:(X=!0,F);case"textInput":return i=a.data,i===F&&X?null:i;default:return null}}function st(i,a){if(it)return i==="compositionend"||!li&&ne(i,a)?(i=su(),qi=Ns=ii=null,it=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!fn[i.type]:a==="textarea"}function Gi(i,a,l,c){zi?Hi?Hi.push(c):Hi=[c]:zi=c,a=hf(a,"onChange"),0<a.length&&(l=new Io("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var En=null,ui=null;function du(i){Cw(i,0)}function Cd(i){var a=ti(i);if(tu(a))return i}function Kb(i,a){if(i==="change")return a}var Qb=!1;if(Ur){var Up;if(Ur){var Fp="oninput"in document;if(!Fp){var Xb=document.createElement("div");Xb.setAttribute("oninput","return;"),Fp=typeof Xb.oninput=="function"}Up=Fp}else Up=!1;Qb=Up&&(!document.documentMode||9<document.documentMode)}function Wb(){En&&(En.detachEvent("onpropertychange",Zb),ui=En=null)}function Zb(i){if(i.propertyName==="value"&&Cd(ui)){var a=[];Gi(a,ui,i,wr(i)),hd(du,a)}}function XR(i,a,l){i==="focusin"?(Wb(),En=a,ui=l,En.attachEvent("onpropertychange",Zb)):i==="focusout"&&Wb()}function WR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cd(ui)}function ZR(i,a){if(i==="click")return Cd(a)}function JR(i,a){if(i==="input"||i==="change")return Cd(a)}function eI(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var rr=typeof Object.is=="function"?Object.is:eI;function fu(i,a){if(rr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Ee.call(a,g)||!rr(i[g],a[g]))return!1}return!0}function Jb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function e0(i,a){var l=Jb(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jb(l)}}function t0(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?t0(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function n0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Aa(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Aa(i.document)}return a}function Bp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var tI=Ur&&"documentMode"in document&&11>=document.documentMode,Lo=null,zp=null,hu=null,Hp=!1;function r0(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hp||Lo==null||Lo!==Aa(c)||(c=Lo,"selectionStart"in c&&Bp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),hu&&fu(hu,c)||(hu=c,c=hf(zp,"onSelect"),0<c.length&&(a=new Io("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=Lo)))}function La(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var jo={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionrun:La("Transition","TransitionRun"),transitionstart:La("Transition","TransitionStart"),transitioncancel:La("Transition","TransitionCancel"),transitionend:La("Transition","TransitionEnd")},qp={},i0={};Ur&&(i0=document.createElement("div").style,"AnimationEvent"in window||(delete jo.animationend.animation,delete jo.animationiteration.animation,delete jo.animationstart.animation),"TransitionEvent"in window||delete jo.transitionend.transition);function ja(i){if(qp[i])return qp[i];if(!jo[i])return i;var a=jo[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in i0)return qp[i]=a[l];return i}var s0=ja("animationend"),a0=ja("animationiteration"),o0=ja("animationstart"),nI=ja("transitionrun"),rI=ja("transitionstart"),iI=ja("transitioncancel"),l0=ja("transitionend"),u0=new Map,$p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$p.push("scrollEnd");function Fr(i,a){u0.set(i,a),jr(a,[i])}var c0=new WeakMap;function Sr(i,a){if(typeof i=="object"&&i!==null){var l=c0.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Ao(a)},c0.set(i,a),a)}return{value:i,source:a,stack:Ao(a)}}var Tr=[],Uo=0,Gp=0;function Rd(){for(var i=Uo,a=Gp=Uo=0;a<i;){var l=Tr[a];Tr[a++]=null;var c=Tr[a];Tr[a++]=null;var g=Tr[a];Tr[a++]=null;var y=Tr[a];if(Tr[a++]=null,c!==null&&g!==null){var C=c.pending;C===null?g.next=g:(g.next=C.next,C.next=g),c.pending=g}y!==0&&d0(l,g,y)}}function Id(i,a,l,c){Tr[Uo++]=i,Tr[Uo++]=a,Tr[Uo++]=l,Tr[Uo++]=c,Gp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Yp(i,a,l,c){return Id(i,a,l,c),Nd(i)}function Fo(i,a){return Id(i,null,null,a),Nd(i)}function d0(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&a!==null&&(g=31-vt(l),i=y.hiddenUpdates,c=i[g],c===null?i[g]=[a]:c.push(a),a.lane=l|536870912),y):null}function Nd(i){if(50<ju)throw ju=0,Jm=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Bo={};function sI(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(i,a,l,c){return new sI(i,a,l,c)}function Kp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Yi(i,a){var l=i.alternate;return l===null?(l=ir(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function f0(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Od(i,a,l,c,g,y){var C=0;if(c=i,typeof i=="function")Kp(i)&&(C=1);else if(typeof i=="string")C=oN(i,l,Te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case O:return i=ir(31,l,a,g),i.elementType=O,i.lanes=y,i;case E:return Ua(l.children,g,y,a);case A:C=8,g|=24;break;case I:return i=ir(12,l,a,g|2),i.elementType=I,i.lanes=y,i;case j:return i=ir(13,l,a,g),i.elementType=j,i.lanes=y,i;case Y:return i=ir(19,l,a,g),i.elementType=Y,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case R:case M:C=10;break e;case T:C=9;break e;case z:C=11;break e;case P:C=14;break e;case N:C=16,c=null;break e}C=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=ir(C,l,a,g),a.elementType=i,a.type=c,a.lanes=y,a}function Ua(i,a,l,c){return i=ir(7,i,c,a),i.lanes=l,i}function Qp(i,a,l){return i=ir(6,i,null,a),i.lanes=l,i}function Xp(i,a,l){return a=ir(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var zo=[],Ho=0,Md=null,Dd=0,Ar=[],Cr=0,Fa=null,Ki=1,Qi="";function Ba(i,a){zo[Ho++]=Dd,zo[Ho++]=Md,Md=i,Dd=a}function h0(i,a,l){Ar[Cr++]=Ki,Ar[Cr++]=Qi,Ar[Cr++]=Fa,Fa=i;var c=Ki;i=Qi;var g=32-vt(c)-1;c&=~(1<<g),l+=1;var y=32-vt(a)+g;if(30<y){var C=g-g%5;y=(c&(1<<C)-1).toString(32),c>>=C,g-=C,Ki=1<<32-vt(a)+g|l<<g|c,Qi=y+i}else Ki=1<<y|l<<g|c,Qi=i}function Wp(i){i.return!==null&&(Ba(i,1),h0(i,1,0))}function Zp(i){for(;i===Md;)Md=zo[--Ho],zo[Ho]=null,Dd=zo[--Ho],zo[Ho]=null;for(;i===Fa;)Fa=Ar[--Cr],Ar[Cr]=null,Qi=Ar[--Cr],Ar[Cr]=null,Ki=Ar[--Cr],Ar[Cr]=null}var zn=null,kt=null,ct=!1,za=null,ci=!1,Jp=Error(r(519));function Ha(i){var a=Error(r(418,""));throw gu(Sr(a,i)),Jp}function p0(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[nn]=i,a[Yt]=c,l){case"dialog":tt("cancel",a),tt("close",a);break;case"iframe":case"object":case"embed":tt("load",a);break;case"video":case"audio":for(l=0;l<Fu.length;l++)tt(Fu[l],a);break;case"source":tt("error",a);break;case"img":case"image":case"link":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"input":tt("invalid",a),Ca(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Co(a);break;case"select":tt("invalid",a);break;case"textarea":tt("invalid",a),Ra(a,c.value,c.defaultValue,c.children),Co(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||Ow(a.textContent,l)?(c.popover!=null&&(tt("beforetoggle",a),tt("toggle",a)),c.onScroll!=null&&tt("scroll",a),c.onScrollEnd!=null&&tt("scrollend",a),c.onClick!=null&&(a.onclick=pf),a=!0):a=!1,a||Ha(i)}function m0(i){for(zn=i.return;zn;)switch(zn.tag){case 5:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:zn=zn.return}}function pu(i){if(i!==zn)return!1;if(!ct)return m0(i),ct=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||mg(i.type,i.memoizedProps)),l=!l),l&&kt&&Ha(i),m0(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){kt=zr(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}kt=null}}else a===27?(a=kt,Gs(i.type)?(i=bg,bg=null,kt=i):kt=a):kt=zn?zr(i.stateNode.nextSibling):null;return!0}function mu(){kt=zn=null,ct=!1}function g0(){var i=za;return i!==null&&(Qn===null?Qn=i:Qn.push.apply(Qn,i),za=null),i}function gu(i){za===null?za=[i]:za.push(i)}var em=le(null),qa=null,Xi=null;function Os(i,a,l){pe(em,a._currentValue),a._currentValue=l}function Wi(i){i._currentValue=em.current,me(em)}function tm(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function nm(i,a,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var C=g.child;y=y.firstContext;e:for(;y!==null;){var L=y;y=g;for(var H=0;H<a.length;H++)if(L.context===a[H]){y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),tm(y.return,l,i),c||(C=null);break e}y=L.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=l,y=C.alternate,y!==null&&(y.lanes|=l),tm(C,l,i),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===i){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function vu(i,a,l,c){i=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var L=g.type;rr(g.pendingProps.value,C.value)||(i!==null?i.push(L):i=[L])}}else if(g===lt.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Gu):i=[Gu])}g=g.return}i!==null&&nm(a,i,l,c),a.flags|=262144}function Pd(i){for(i=i.firstContext;i!==null;){if(!rr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function $a(i){qa=i,Xi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Mn(i){return v0(qa,i)}function kd(i,a){return qa===null&&$a(i),v0(i,a)}function v0(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Xi===null){if(i===null)throw Error(r(308));Xi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Xi=Xi.next=a;return l}var aI=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},oI=n.unstable_scheduleCallback,lI=n.unstable_NormalPriority,an={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new aI,data:new Map,refCount:0}}function yu(i){i.refCount--,i.refCount===0&&oI(lI,function(){i.controller.abort()})}var bu=null,im=0,qo=0,$o=null;function uI(i,a){if(bu===null){var l=bu=[];im=0,qo=ag(),$o={status:"pending",value:void 0,then:function(c){l.push(c)}}}return im++,a.then(y0,y0),a}function y0(){if(--im===0&&bu!==null){$o!==null&&($o.status="fulfilled");var i=bu;bu=null,qo=0,$o=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function cI(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var b0=$.S;$.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&uI(i,a),b0!==null&&b0(i,a)};var Ga=le(null);function sm(){var i=Ga.current;return i!==null?i:At.pooledCache}function Vd(i,a){a===null?pe(Ga,Ga.current):pe(Ga,a.pool)}function _0(){var i=sm();return i===null?null:{parent:an._currentValue,pool:i}}var _u=Error(r(460)),w0=Error(r(474)),Ld=Error(r(542)),am={then:function(){}};function E0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function jd(){}function x0(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(jd,jd),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,T0(i),i;default:if(typeof a.status=="string")a.then(jd,jd);else{if(i=At,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=c}},function(c){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,T0(i),i}throw wu=a,_u}}var wu=null;function S0(){if(wu===null)throw Error(r(459));var i=wu;return wu=null,i}function T0(i){if(i===_u||i===Ld)throw Error(r(483))}var Ms=!1;function om(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ds(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ps(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(yt&2)!==0){var g=c.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),c.pending=a,a=Nd(i),d0(i,null,l),a}return Id(i,c,a,l),Nd(i)}function Eu(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Xl(i,l)}}function um(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=C:y=y.next=C,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var cm=!1;function xu(){if(cm){var i=$o;if(i!==null)throw i}}function Su(i,a,l,c){cm=!1;var g=i.updateQueue;Ms=!1;var y=g.firstBaseUpdate,C=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var H=L,Z=H.next;H.next=null,C===null?y=Z:C.next=Z,C=H;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,L=ae.lastBaseUpdate,L!==C&&(L===null?ae.firstBaseUpdate=Z:L.next=Z,ae.lastBaseUpdate=H))}if(y!==null){var ce=g.baseState;C=0,ae=Z=H=null,L=y;do{var ee=L.lane&-536870913,te=ee!==L.lane;if(te?(at&ee)===ee:(c&ee)===ee){ee!==0&&ee===qo&&(cm=!0),ae!==null&&(ae=ae.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var ze=i,Le=L;ee=a;var xt=l;switch(Le.tag){case 1:if(ze=Le.payload,typeof ze=="function"){ce=ze.call(xt,ce,ee);break e}ce=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Le.payload,ee=typeof ze=="function"?ze.call(xt,ce,ee):ze,ee==null)break e;ce=m({},ce,ee);break e;case 2:Ms=!0}}ee=L.callback,ee!==null&&(i.flags|=64,te&&(i.flags|=8192),te=g.callbacks,te===null?g.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},ae===null?(Z=ae=te,H=ce):ae=ae.next=te,C|=ee;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;te=L,L=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);ae===null&&(H=ce),g.baseState=H,g.firstBaseUpdate=Z,g.lastBaseUpdate=ae,y===null&&(g.shared.lanes=0),zs|=C,i.lanes=C,i.memoizedState=ce}}function A0(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function C0(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)A0(l[i],a)}var Go=le(null),Ud=le(0);function R0(i,a){i=is,pe(Ud,i),pe(Go,a),is=i|a.baseLanes}function dm(){pe(Ud,is),pe(Go,Go.current)}function fm(){is=Ud.current,me(Go),me(Ud)}var ks=0,Xe=null,wt=null,Qt=null,Fd=!1,Yo=!1,Ya=!1,Bd=0,Tu=0,Ko=null,dI=0;function zt(){throw Error(r(321))}function hm(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!rr(i[l],a[l]))return!1;return!0}function pm(i,a,l,c,g,y){return ks=y,Xe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,$.H=i===null||i.memoizedState===null?d_:f_,Ya=!1,y=l(c,g),Ya=!1,Yo&&(y=N0(a,l,c,g)),I0(i),y}function I0(i){$.H=Yd;var a=wt!==null&&wt.next!==null;if(ks=0,Qt=wt=Xe=null,Fd=!1,Tu=0,Ko=null,a)throw Error(r(300));i===null||hn||(i=i.dependencies,i!==null&&Pd(i)&&(hn=!0))}function N0(i,a,l,c){Xe=i;var g=0;do{if(Yo&&(Ko=null),Tu=0,Yo=!1,25<=g)throw Error(r(301));if(g+=1,Qt=wt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}$.H=yI,y=a(l,c)}while(Yo);return y}function fI(){var i=$.H,a=i.useState()[0];return a=typeof a.then=="function"?Au(a):a,i=i.useState()[0],(wt!==null?wt.memoizedState:null)!==i&&(Xe.flags|=1024),a}function mm(){var i=Bd!==0;return Bd=0,i}function gm(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function vm(i){if(Fd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Fd=!1}ks=0,Qt=wt=Xe=null,Yo=!1,Tu=Bd=0,Ko=null}function Yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Xe.memoizedState=Qt=i:Qt=Qt.next=i,Qt}function Xt(){if(wt===null){var i=Xe.alternate;i=i!==null?i.memoizedState:null}else i=wt.next;var a=Qt===null?Xe.memoizedState:Qt.next;if(a!==null)Qt=a,wt=i;else{if(i===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));wt=i,i={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},Qt===null?Xe.memoizedState=Qt=i:Qt=Qt.next=i}return Qt}function ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(i){var a=Tu;return Tu+=1,Ko===null&&(Ko=[]),i=x0(Ko,i,a),a=Xe,(Qt===null?a.memoizedState:Qt.next)===null&&(a=a.alternate,$.H=a===null||a.memoizedState===null?d_:f_),i}function zd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Au(i);if(i.$$typeof===M)return Mn(i)}throw Error(r(438,String(i)))}function bm(i){var a=null,l=Xe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Xe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ym(),Xe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=V;return a.index++,l}function Zi(i,a){return typeof a=="function"?a(i):a}function Hd(i){var a=Xt();return _m(a,wt,i)}function _m(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=i.baseQueue,y=c.pending;if(y!==null){if(g!==null){var C=g.next;g.next=y.next,y.next=C}a.baseQueue=g=y,c.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{a=g.next;var L=C=null,H=null,Z=a,ae=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(at&ce)===ce:(ks&ce)===ce){var ee=Z.revertLane;if(ee===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===qo&&(ae=!0);else if((ks&ee)===ee){Z=Z.next,ee===qo&&(ae=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(L=H=ce,C=y):H=H.next=ce,Xe.lanes|=ee,zs|=ee;ce=Z.action,Ya&&l(y,ce),y=Z.hasEagerState?Z.eagerState:l(y,ce)}else ee={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},H===null?(L=H=ee,C=y):H=H.next=ee,Xe.lanes|=ce,zs|=ce;Z=Z.next}while(Z!==null&&Z!==a);if(H===null?C=y:H.next=L,!rr(y,i.memoizedState)&&(hn=!0,ae&&(l=$o,l!==null)))throw l;i.memoizedState=y,i.baseState=C,i.baseQueue=H,c.lastRenderedState=y}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function wm(i){var a=Xt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var C=g=g.next;do y=i(y,C.action),C=C.next;while(C!==g);rr(y,a.memoizedState)||(hn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function O0(i,a,l){var c=Xe,g=Xt(),y=ct;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var C=!rr((wt||g).memoizedState,l);C&&(g.memoizedState=l,hn=!0),g=g.queue;var L=P0.bind(null,c,g,i);if(Cu(2048,8,L,[i]),g.getSnapshot!==a||C||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,Qo(9,qd(),D0.bind(null,c,g,l,a),null),At===null)throw Error(r(349));y||(ks&124)!==0||M0(c,a,l)}return l}function M0(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Xe.updateQueue,a===null?(a=ym(),Xe.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function D0(i,a,l,c){a.value=l,a.getSnapshot=c,k0(a)&&V0(i)}function P0(i,a,l){return l(function(){k0(a)&&V0(i)})}function k0(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!rr(i,l)}catch{return!0}}function V0(i){var a=Fo(i,2);a!==null&&ur(a,i,2)}function Em(i){var a=Yn();if(typeof i=="function"){var l=i;if(i=l(),Ya){Qe(!0);try{l()}finally{Qe(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:i},a}function L0(i,a,l,c){return i.baseState=l,_m(i,wt,typeof c=="function"?c:Zi)}function hI(i,a,l,c,g){if(Gd(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};$.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,j0(a,y)):(y.next=l.next,a.pending=l.next=y)}}function j0(i,a){var l=a.action,c=a.payload,g=i.state;if(a.isTransition){var y=$.T,C={};$.T=C;try{var L=l(g,c),H=$.S;H!==null&&H(C,L),U0(i,a,L)}catch(Z){xm(i,a,Z)}finally{$.T=y}}else try{y=l(g,c),U0(i,a,y)}catch(Z){xm(i,a,Z)}}function U0(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){F0(i,a,c)},function(c){return xm(i,a,c)}):F0(i,a,l)}function F0(i,a,l){a.status="fulfilled",a.value=l,B0(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,j0(i,l)))}function xm(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,B0(a),a=a.next;while(a!==c)}i.action=null}function B0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function z0(i,a){return a}function H0(i,a){if(ct){var l=At.formState;if(l!==null){e:{var c=Xe;if(ct){if(kt){t:{for(var g=kt,y=ci;g.nodeType!==8;){if(!y){g=null;break t}if(g=zr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){kt=zr(g.nextSibling),c=g.data==="F!";break e}}Ha(c)}c=!1}c&&(a=l[0])}}return l=Yn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z0,lastRenderedState:a},l.queue=c,l=l_.bind(null,Xe,c),c.dispatch=l,c=Em(!1),y=Rm.bind(null,Xe,!1,c.queue),c=Yn(),g={state:a,dispatch:null,action:i,pending:null},c.queue=g,l=hI.bind(null,Xe,g,y,l),g.dispatch=l,c.memoizedState=i,[a,l,!1]}function q0(i){var a=Xt();return $0(a,wt,i)}function $0(i,a,l){if(a=_m(i,a,z0)[0],i=Hd(Zi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Au(a)}catch(C){throw C===_u?Ld:C}else c=a;a=Xt();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(Xe.flags|=2048,Qo(9,qd(),pI.bind(null,g,l),null)),[c,y,i]}function pI(i,a){i.action=a}function G0(i){var a=Xt(),l=wt;if(l!==null)return $0(a,l,i);Xt(),a=a.memoizedState,l=Xt();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function Qo(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Xe.updateQueue,a===null&&(a=ym(),Xe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function qd(){return{destroy:void 0,resource:void 0}}function Y0(){return Xt().memoizedState}function $d(i,a,l,c){var g=Yn();c=c===void 0?null:c,Xe.flags|=i,g.memoizedState=Qo(1|a,qd(),l,c)}function Cu(i,a,l,c){var g=Xt();c=c===void 0?null:c;var y=g.memoizedState.inst;wt!==null&&c!==null&&hm(c,wt.memoizedState.deps)?g.memoizedState=Qo(a,y,l,c):(Xe.flags|=i,g.memoizedState=Qo(1|a,y,l,c))}function K0(i,a){$d(8390656,8,i,a)}function Q0(i,a){Cu(2048,8,i,a)}function X0(i,a){return Cu(4,2,i,a)}function W0(i,a){return Cu(4,4,i,a)}function Z0(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function J0(i,a,l){l=l!=null?l.concat([i]):null,Cu(4,4,Z0.bind(null,a,i),l)}function Sm(){}function e_(i,a){var l=Xt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&hm(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function t_(i,a){var l=Xt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&hm(a,c[1]))return c[0];if(c=i(),Ya){Qe(!0);try{i()}finally{Qe(!1)}}return l.memoizedState=[c,a],c}function Tm(i,a,l){return l===void 0||(ks&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=iw(),Xe.lanes|=i,zs|=i,l)}function n_(i,a,l,c){return rr(l,a)?l:Go.current!==null?(i=Tm(i,l,c),rr(i,a)||(hn=!0),i):(ks&42)===0?(hn=!0,i.memoizedState=l):(i=iw(),Xe.lanes|=i,zs|=i,a)}function r_(i,a,l,c,g){var y=re.p;re.p=y!==0&&8>y?y:8;var C=$.T,L={};$.T=L,Rm(i,!1,a,l);try{var H=g(),Z=$.S;if(Z!==null&&Z(L,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var ae=cI(H,c);Ru(i,a,ae,lr(i))}else Ru(i,a,c,lr(i))}catch(ce){Ru(i,a,{then:function(){},status:"rejected",reason:ce},lr())}finally{re.p=y,$.T=C}}function mI(){}function Am(i,a,l,c){if(i.tag!==5)throw Error(r(476));var g=i_(i).queue;r_(i,g,a,he,l===null?mI:function(){return s_(i),l(c)})}function i_(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:he},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function s_(i){var a=i_(i).next.queue;Ru(i,a,{},lr())}function Cm(){return Mn(Gu)}function a_(){return Xt().memoizedState}function o_(){return Xt().memoizedState}function gI(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=lr();i=Ds(l);var c=Ps(a,i,l);c!==null&&(ur(c,a,l),Eu(c,a,l)),a={cache:rm()},i.payload=a;return}a=a.return}}function vI(i,a,l){var c=lr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Gd(i)?u_(a,l):(l=Yp(i,a,l,c),l!==null&&(ur(l,i,c),c_(l,a,c)))}function l_(i,a,l){var c=lr();Ru(i,a,l,c)}function Ru(i,a,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Gd(i))u_(a,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var C=a.lastRenderedState,L=y(C,l);if(g.hasEagerState=!0,g.eagerState=L,rr(L,C))return Id(i,a,g,0),At===null&&Rd(),!1}catch{}finally{}if(l=Yp(i,a,g,c),l!==null)return ur(l,i,c),c_(l,a,c),!0}return!1}function Rm(i,a,l,c){if(c={lane:2,revertLane:ag(),action:c,hasEagerState:!1,eagerState:null,next:null},Gd(i)){if(a)throw Error(r(479))}else a=Yp(i,l,c,2),a!==null&&ur(a,i,2)}function Gd(i){var a=i.alternate;return i===Xe||a!==null&&a===Xe}function u_(i,a){Yo=Fd=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function c_(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Xl(i,l)}}var Yd={readContext:Mn,use:zd,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt},d_={readContext:Mn,use:zd,useCallback:function(i,a){return Yn().memoizedState=[i,a===void 0?null:a],i},useContext:Mn,useEffect:K0,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,$d(4194308,4,Z0.bind(null,a,i),l)},useLayoutEffect:function(i,a){return $d(4194308,4,i,a)},useInsertionEffect:function(i,a){$d(4,2,i,a)},useMemo:function(i,a){var l=Yn();a=a===void 0?null:a;var c=i();if(Ya){Qe(!0);try{i()}finally{Qe(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Yn();if(l!==void 0){var g=l(a);if(Ya){Qe(!0);try{l(a)}finally{Qe(!1)}}}else g=a;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=vI.bind(null,Xe,i),[c.memoizedState,i]},useRef:function(i){var a=Yn();return i={current:i},a.memoizedState=i},useState:function(i){i=Em(i);var a=i.queue,l=l_.bind(null,Xe,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Sm,useDeferredValue:function(i,a){var l=Yn();return Tm(l,i,a)},useTransition:function(){var i=Em(!1);return i=r_.bind(null,Xe,i.queue,!0,!1),Yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Xe,g=Yn();if(ct){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),At===null)throw Error(r(349));(at&124)!==0||M0(c,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,K0(P0.bind(null,c,y,i),[i]),c.flags|=2048,Qo(9,qd(),D0.bind(null,c,y,l,a),null),l},useId:function(){var i=Yn(),a=At.identifierPrefix;if(ct){var l=Qi,c=Ki;l=(c&~(1<<32-vt(c)-1)).toString(32)+l,a=""+a+"R"+l,l=Bd++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=dI++,a=""+a+"r"+l.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Cm,useFormState:H0,useActionState:H0,useOptimistic:function(i){var a=Yn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Rm.bind(null,Xe,!0,l),l.dispatch=a,[i,a]},useMemoCache:bm,useCacheRefresh:function(){return Yn().memoizedState=gI.bind(null,Xe)}},f_={readContext:Mn,use:zd,useCallback:e_,useContext:Mn,useEffect:Q0,useImperativeHandle:J0,useInsertionEffect:X0,useLayoutEffect:W0,useMemo:t_,useReducer:Hd,useRef:Y0,useState:function(){return Hd(Zi)},useDebugValue:Sm,useDeferredValue:function(i,a){var l=Xt();return n_(l,wt.memoizedState,i,a)},useTransition:function(){var i=Hd(Zi)[0],a=Xt().memoizedState;return[typeof i=="boolean"?i:Au(i),a]},useSyncExternalStore:O0,useId:a_,useHostTransitionStatus:Cm,useFormState:q0,useActionState:q0,useOptimistic:function(i,a){var l=Xt();return L0(l,wt,i,a)},useMemoCache:bm,useCacheRefresh:o_},yI={readContext:Mn,use:zd,useCallback:e_,useContext:Mn,useEffect:Q0,useImperativeHandle:J0,useInsertionEffect:X0,useLayoutEffect:W0,useMemo:t_,useReducer:wm,useRef:Y0,useState:function(){return wm(Zi)},useDebugValue:Sm,useDeferredValue:function(i,a){var l=Xt();return wt===null?Tm(l,i,a):n_(l,wt.memoizedState,i,a)},useTransition:function(){var i=wm(Zi)[0],a=Xt().memoizedState;return[typeof i=="boolean"?i:Au(i),a]},useSyncExternalStore:O0,useId:a_,useHostTransitionStatus:Cm,useFormState:G0,useActionState:G0,useOptimistic:function(i,a){var l=Xt();return wt!==null?L0(l,wt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:bm,useCacheRefresh:o_},Xo=null,Iu=0;function Kd(i){var a=Iu;return Iu+=1,Xo===null&&(Xo=[]),x0(Xo,i,a)}function Nu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Qd(i,a){throw a.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function h_(i){var a=i._init;return a(i._payload)}function p_(i){function a(Q,K){if(i){var W=Q.deletions;W===null?(Q.deletions=[K],Q.flags|=16):W.push(K)}}function l(Q,K){if(!i)return null;for(;K!==null;)a(Q,K),K=K.sibling;return null}function c(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function g(Q,K){return Q=Yi(Q,K),Q.index=0,Q.sibling=null,Q}function y(Q,K,W){return Q.index=W,i?(W=Q.alternate,W!==null?(W=W.index,W<K?(Q.flags|=67108866,K):W):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function C(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function L(Q,K,W,ue){return K===null||K.tag!==6?(K=Qp(W,Q.mode,ue),K.return=Q,K):(K=g(K,W),K.return=Q,K)}function H(Q,K,W,ue){var Re=W.type;return Re===E?ae(Q,K,W.props.children,ue,W.key):K!==null&&(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===N&&h_(Re)===K.type)?(K=g(K,W.props),Nu(K,W),K.return=Q,K):(K=Od(W.type,W.key,W.props,null,Q.mode,ue),Nu(K,W),K.return=Q,K)}function Z(Q,K,W,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==W.containerInfo||K.stateNode.implementation!==W.implementation?(K=Xp(W,Q.mode,ue),K.return=Q,K):(K=g(K,W.children||[]),K.return=Q,K)}function ae(Q,K,W,ue,Re){return K===null||K.tag!==7?(K=Ua(W,Q.mode,ue,Re),K.return=Q,K):(K=g(K,W),K.return=Q,K)}function ce(Q,K,W){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Qp(""+K,Q.mode,W),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return W=Od(K.type,K.key,K.props,null,Q.mode,W),Nu(W,K),W.return=Q,W;case x:return K=Xp(K,Q.mode,W),K.return=Q,K;case N:var ue=K._init;return K=ue(K._payload),ce(Q,K,W)}if(oe(K)||B(K))return K=Ua(K,Q.mode,W,null),K.return=Q,K;if(typeof K.then=="function")return ce(Q,Kd(K),W);if(K.$$typeof===M)return ce(Q,kd(Q,K),W);Qd(Q,K)}return null}function ee(Q,K,W,ue){var Re=K!==null?K.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Re!==null?null:L(Q,K,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return W.key===Re?H(Q,K,W,ue):null;case x:return W.key===Re?Z(Q,K,W,ue):null;case N:return Re=W._init,W=Re(W._payload),ee(Q,K,W,ue)}if(oe(W)||B(W))return Re!==null?null:ae(Q,K,W,ue,null);if(typeof W.then=="function")return ee(Q,K,Kd(W),ue);if(W.$$typeof===M)return ee(Q,K,kd(Q,W),ue);Qd(Q,W)}return null}function te(Q,K,W,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(W)||null,L(K,Q,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return Q=Q.get(ue.key===null?W:ue.key)||null,H(K,Q,ue,Re);case x:return Q=Q.get(ue.key===null?W:ue.key)||null,Z(K,Q,ue,Re);case N:var Je=ue._init;return ue=Je(ue._payload),te(Q,K,W,ue,Re)}if(oe(ue)||B(ue))return Q=Q.get(W)||null,ae(K,Q,ue,Re,null);if(typeof ue.then=="function")return te(Q,K,W,Kd(ue),Re);if(ue.$$typeof===M)return te(Q,K,W,kd(K,ue),Re);Qd(K,ue)}return null}function ze(Q,K,W,ue){for(var Re=null,Je=null,Oe=K,je=K=0,mn=null;Oe!==null&&je<W.length;je++){Oe.index>je?(mn=Oe,Oe=null):mn=Oe.sibling;var ut=ee(Q,Oe,W[je],ue);if(ut===null){Oe===null&&(Oe=mn);break}i&&Oe&&ut.alternate===null&&a(Q,Oe),K=y(ut,K,je),Je===null?Re=ut:Je.sibling=ut,Je=ut,Oe=mn}if(je===W.length)return l(Q,Oe),ct&&Ba(Q,je),Re;if(Oe===null){for(;je<W.length;je++)Oe=ce(Q,W[je],ue),Oe!==null&&(K=y(Oe,K,je),Je===null?Re=Oe:Je.sibling=Oe,Je=Oe);return ct&&Ba(Q,je),Re}for(Oe=c(Oe);je<W.length;je++)mn=te(Oe,Q,je,W[je],ue),mn!==null&&(i&&mn.alternate!==null&&Oe.delete(mn.key===null?je:mn.key),K=y(mn,K,je),Je===null?Re=mn:Je.sibling=mn,Je=mn);return i&&Oe.forEach(function(Ws){return a(Q,Ws)}),ct&&Ba(Q,je),Re}function Le(Q,K,W,ue){if(W==null)throw Error(r(151));for(var Re=null,Je=null,Oe=K,je=K=0,mn=null,ut=W.next();Oe!==null&&!ut.done;je++,ut=W.next()){Oe.index>je?(mn=Oe,Oe=null):mn=Oe.sibling;var Ws=ee(Q,Oe,ut.value,ue);if(Ws===null){Oe===null&&(Oe=mn);break}i&&Oe&&Ws.alternate===null&&a(Q,Oe),K=y(Ws,K,je),Je===null?Re=Ws:Je.sibling=Ws,Je=Ws,Oe=mn}if(ut.done)return l(Q,Oe),ct&&Ba(Q,je),Re;if(Oe===null){for(;!ut.done;je++,ut=W.next())ut=ce(Q,ut.value,ue),ut!==null&&(K=y(ut,K,je),Je===null?Re=ut:Je.sibling=ut,Je=ut);return ct&&Ba(Q,je),Re}for(Oe=c(Oe);!ut.done;je++,ut=W.next())ut=te(Oe,Q,je,ut.value,ue),ut!==null&&(i&&ut.alternate!==null&&Oe.delete(ut.key===null?je:ut.key),K=y(ut,K,je),Je===null?Re=ut:Je.sibling=ut,Je=ut);return i&&Oe.forEach(function(bN){return a(Q,bN)}),ct&&Ba(Q,je),Re}function xt(Q,K,W,ue){if(typeof W=="object"&&W!==null&&W.type===E&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case _:e:{for(var Re=W.key;K!==null;){if(K.key===Re){if(Re=W.type,Re===E){if(K.tag===7){l(Q,K.sibling),ue=g(K,W.props.children),ue.return=Q,Q=ue;break e}}else if(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===N&&h_(Re)===K.type){l(Q,K.sibling),ue=g(K,W.props),Nu(ue,W),ue.return=Q,Q=ue;break e}l(Q,K);break}else a(Q,K);K=K.sibling}W.type===E?(ue=Ua(W.props.children,Q.mode,ue,W.key),ue.return=Q,Q=ue):(ue=Od(W.type,W.key,W.props,null,Q.mode,ue),Nu(ue,W),ue.return=Q,Q=ue)}return C(Q);case x:e:{for(Re=W.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===W.containerInfo&&K.stateNode.implementation===W.implementation){l(Q,K.sibling),ue=g(K,W.children||[]),ue.return=Q,Q=ue;break e}else{l(Q,K);break}else a(Q,K);K=K.sibling}ue=Xp(W,Q.mode,ue),ue.return=Q,Q=ue}return C(Q);case N:return Re=W._init,W=Re(W._payload),xt(Q,K,W,ue)}if(oe(W))return ze(Q,K,W,ue);if(B(W)){if(Re=B(W),typeof Re!="function")throw Error(r(150));return W=Re.call(W),Le(Q,K,W,ue)}if(typeof W.then=="function")return xt(Q,K,Kd(W),ue);if(W.$$typeof===M)return xt(Q,K,kd(Q,W),ue);Qd(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,K!==null&&K.tag===6?(l(Q,K.sibling),ue=g(K,W),ue.return=Q,Q=ue):(l(Q,K),ue=Qp(W,Q.mode,ue),ue.return=Q,Q=ue),C(Q)):l(Q,K)}return function(Q,K,W,ue){try{Iu=0;var Re=xt(Q,K,W,ue);return Xo=null,Re}catch(Oe){if(Oe===_u||Oe===Ld)throw Oe;var Je=ir(29,Oe,null,Q.mode);return Je.lanes=ue,Je.return=Q,Je}finally{}}}var Wo=p_(!0),m_=p_(!1),Rr=le(null),di=null;function Vs(i){var a=i.alternate;pe(on,on.current&1),pe(Rr,i),di===null&&(a===null||Go.current!==null||a.memoizedState!==null)&&(di=i)}function g_(i){if(i.tag===22){if(pe(on,on.current),pe(Rr,i),di===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(di=i)}}else Ls()}function Ls(){pe(on,on.current),pe(Rr,Rr.current)}function Ji(i){me(Rr),di===i&&(di=null),me(on)}var on=le(0);function Xd(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||yg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Im(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:m({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Nm={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=lr(),g=Ds(c);g.payload=a,l!=null&&(g.callback=l),a=Ps(i,g,c),a!==null&&(ur(a,i,c),Eu(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=lr(),g=Ds(c);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Ps(i,g,c),a!==null&&(ur(a,i,c),Eu(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=lr(),c=Ds(l);c.tag=2,a!=null&&(c.callback=a),a=Ps(i,c,l),a!==null&&(ur(a,i,l),Eu(a,i,l))}};function v_(i,a,l,c,g,y,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,C):a.prototype&&a.prototype.isPureReactComponent?!fu(l,c)||!fu(g,y):!0}function y_(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Nm.enqueueReplaceState(a,a.state,null)}function Ka(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=m({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Wd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function b_(i){Wd(i)}function __(i){console.error(i)}function w_(i){Wd(i)}function Zd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function E_(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Om(i,a,l){return l=Ds(l),l.tag=3,l.payload={element:null},l.callback=function(){Zd(i,a)},l}function x_(i){return i=Ds(i),i.tag=3,i}function S_(i,a,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;i.payload=function(){return g(y)},i.callback=function(){E_(a,l,c)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){E_(a,l,c),typeof g!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})})}function bI(i,a,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&vu(a,l,g,!0),l=Rr.current,l!==null){switch(l.tag){case 13:return di===null?tg():l.alternate===null&&Vt===0&&(Vt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===am?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),rg(i,c,g)),!1;case 22:return l.flags|=65536,c===am?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),rg(i,c,g)),!1}throw Error(r(435,l.tag))}return rg(i,c,g),tg(),!1}if(ct)return a=Rr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,c!==Jp&&(i=Error(r(422),{cause:c}),gu(Sr(i,l)))):(c!==Jp&&(a=Error(r(423),{cause:c}),gu(Sr(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=Sr(c,l),g=Om(i.stateNode,c,g),um(i,g),Vt!==4&&(Vt=2)),!1;var y=Error(r(520),{cause:c});if(y=Sr(y,l),Lu===null?Lu=[y]:Lu.push(y),Vt!==4&&(Vt=2),a===null)return!0;c=Sr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Om(l.stateNode,c,i),um(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hs===null||!Hs.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=x_(g),S_(g,i,l,c),um(l,g),!1}l=l.return}while(l!==null);return!1}var T_=Error(r(461)),hn=!1;function xn(i,a,l,c){a.child=i===null?m_(a,null,l,c):Wo(a,i.child,l,c)}function A_(i,a,l,c,g){l=l.render;var y=a.ref;if("ref"in c){var C={};for(var L in c)L!=="ref"&&(C[L]=c[L])}else C=c;return $a(a),c=pm(i,a,l,C,y,g),L=mm(),i!==null&&!hn?(gm(i,a,g),es(i,a,g)):(ct&&L&&Wp(a),a.flags|=1,xn(i,a,c,g),a.child)}function C_(i,a,l,c,g){if(i===null){var y=l.type;return typeof y=="function"&&!Kp(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,R_(i,a,y,c,g)):(i=Od(l.type,null,c,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!Um(i,g)){var C=y.memoizedProps;if(l=l.compare,l=l!==null?l:fu,l(C,c)&&i.ref===a.ref)return es(i,a,g)}return a.flags|=1,i=Yi(y,c),i.ref=a.ref,i.return=a,a.child=i}function R_(i,a,l,c,g){if(i!==null){var y=i.memoizedProps;if(fu(y,c)&&i.ref===a.ref)if(hn=!1,a.pendingProps=c=y,Um(i,g))(i.flags&131072)!==0&&(hn=!0);else return a.lanes=i.lanes,es(i,a,g)}return Mm(i,a,l,c,g)}function I_(i,a,l){var c=a.pendingProps,g=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(g=a.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return N_(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vd(a,y!==null?y.cachePool:null),y!==null?R0(a,y):dm(),g_(a);else return a.lanes=a.childLanes=536870912,N_(i,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Vd(a,y.cachePool),R0(a,y),Ls(),a.memoizedState=null):(i!==null&&Vd(a,null),dm(),Ls());return xn(i,a,g,l),a.child}function N_(i,a,l,c){var g=sm();return g=g===null?null:{parent:an._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&Vd(a,null),dm(),g_(a),i!==null&&vu(i,a,c,!0),null}function Jd(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Mm(i,a,l,c,g){return $a(a),l=pm(i,a,l,c,void 0,g),c=mm(),i!==null&&!hn?(gm(i,a,g),es(i,a,g)):(ct&&c&&Wp(a),a.flags|=1,xn(i,a,l,g),a.child)}function O_(i,a,l,c,g,y){return $a(a),a.updateQueue=null,l=N0(a,c,l,g),I0(i),c=mm(),i!==null&&!hn?(gm(i,a,y),es(i,a,y)):(ct&&c&&Wp(a),a.flags|=1,xn(i,a,l,y),a.child)}function M_(i,a,l,c,g){if($a(a),a.stateNode===null){var y=Bo,C=l.contextType;typeof C=="object"&&C!==null&&(y=Mn(C)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Nm,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},om(a),C=l.contextType,y.context=typeof C=="object"&&C!==null?Mn(C):Bo,y.state=a.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Im(a,l,C,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&Nm.enqueueReplaceState(y,y.state,null),Su(a,c,y,g),xu(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){y=a.stateNode;var L=a.memoizedProps,H=Ka(l,L);y.props=H;var Z=y.context,ae=l.contextType;C=Bo,typeof ae=="object"&&ae!==null&&(C=Mn(ae));var ce=l.getDerivedStateFromProps;ae=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",L=a.pendingProps!==L,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(L||Z!==C)&&y_(a,y,c,C),Ms=!1;var ee=a.memoizedState;y.state=ee,Su(a,c,y,g),xu(),Z=a.memoizedState,L||ee!==Z||Ms?(typeof ce=="function"&&(Im(a,l,ce,c),Z=a.memoizedState),(H=Ms||v_(a,l,H,c,ee,Z,C))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Z),y.props=c,y.state=Z,y.context=C,c=H):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,lm(i,a),C=a.memoizedProps,ae=Ka(l,C),y.props=ae,ce=a.pendingProps,ee=y.context,Z=l.contextType,H=Bo,typeof Z=="object"&&Z!==null&&(H=Mn(Z)),L=l.getDerivedStateFromProps,(Z=typeof L=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==ce||ee!==H)&&y_(a,y,c,H),Ms=!1,ee=a.memoizedState,y.state=ee,Su(a,c,y,g),xu();var te=a.memoizedState;C!==ce||ee!==te||Ms||i!==null&&i.dependencies!==null&&Pd(i.dependencies)?(typeof L=="function"&&(Im(a,l,L,c),te=a.memoizedState),(ae=Ms||v_(a,l,ae,c,ee,te,H)||i!==null&&i.dependencies!==null&&Pd(i.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,te,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,te,H)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),y.props=c,y.state=te,y.context=H,c=ae):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ee===i.memoizedState||(a.flags|=1024),c=!1)}return y=c,Jd(i,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&c?(a.child=Wo(a,i.child,null,g),a.child=Wo(a,null,l,g)):xn(i,a,l,g),a.memoizedState=y.state,i=a.child):i=es(i,a,g),i}function D_(i,a,l,c){return mu(),a.flags|=256,xn(i,a,l,c),a.child}var Dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(i){return{baseLanes:i,cachePool:_0()}}function km(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Ir),i}function P_(i,a,l){var c=a.pendingProps,g=!1,y=(a.flags&128)!==0,C;if((C=y)||(C=i!==null&&i.memoizedState===null?!1:(on.current&2)!==0),C&&(g=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,i===null){if(ct){if(g?Vs(a):Ls(),ct){var L=kt,H;if(H=L){e:{for(H=L,L=ci;H.nodeType!==8;){if(!L){L=null;break e}if(H=zr(H.nextSibling),H===null){L=null;break e}}L=H}L!==null?(a.memoizedState={dehydrated:L,treeContext:Fa!==null?{id:Ki,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},H=ir(18,null,null,0),H.stateNode=L,H.return=a,a.child=H,zn=a,kt=null,H=!0):H=!1}H||Ha(a)}if(L=a.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return yg(L)?a.lanes=32:a.lanes=536870912,null;Ji(a)}return L=c.children,c=c.fallback,g?(Ls(),g=a.mode,L=ef({mode:"hidden",children:L},g),c=Ua(c,g,l,null),L.return=a,c.return=a,L.sibling=c,a.child=L,g=a.child,g.memoizedState=Pm(l),g.childLanes=km(i,C,l),a.memoizedState=Dm,c):(Vs(a),Vm(a,L))}if(H=i.memoizedState,H!==null&&(L=H.dehydrated,L!==null)){if(y)a.flags&256?(Vs(a),a.flags&=-257,a=Lm(i,a,l)):a.memoizedState!==null?(Ls(),a.child=i.child,a.flags|=128,a=null):(Ls(),g=c.fallback,L=a.mode,c=ef({mode:"visible",children:c.children},L),g=Ua(g,L,l,null),g.flags|=2,c.return=a,g.return=a,c.sibling=g,a.child=c,Wo(a,i.child,null,l),c=a.child,c.memoizedState=Pm(l),c.childLanes=km(i,C,l),a.memoizedState=Dm,a=g);else if(Vs(a),yg(L)){if(C=L.nextSibling&&L.nextSibling.dataset,C)var Z=C.dgst;C=Z,c=Error(r(419)),c.stack="",c.digest=C,gu({value:c,source:null,stack:null}),a=Lm(i,a,l)}else if(hn||vu(i,a,l,!1),C=(l&i.childLanes)!==0,hn||C){if(C=At,C!==null&&(c=l&-l,c=(c&42)!==0?1:Ss(c),c=(c&(C.suspendedLanes|l))!==0?0:c,c!==0&&c!==H.retryLane))throw H.retryLane=c,Fo(i,c),ur(C,i,c),T_;L.data==="$?"||tg(),a=Lm(i,a,l)}else L.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=H.treeContext,kt=zr(L.nextSibling),zn=a,ct=!0,za=null,ci=!1,i!==null&&(Ar[Cr++]=Ki,Ar[Cr++]=Qi,Ar[Cr++]=Fa,Ki=i.id,Qi=i.overflow,Fa=a),a=Vm(a,c.children),a.flags|=4096);return a}return g?(Ls(),g=c.fallback,L=a.mode,H=i.child,Z=H.sibling,c=Yi(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&65011712,Z!==null?g=Yi(Z,g):(g=Ua(g,L,l,null),g.flags|=2),g.return=a,c.return=a,c.sibling=g,a.child=c,c=g,g=a.child,L=i.child.memoizedState,L===null?L=Pm(l):(H=L.cachePool,H!==null?(Z=an._currentValue,H=H.parent!==Z?{parent:Z,pool:Z}:H):H=_0(),L={baseLanes:L.baseLanes|l,cachePool:H}),g.memoizedState=L,g.childLanes=km(i,C,l),a.memoizedState=Dm,c):(Vs(a),l=i.child,i=l.sibling,l=Yi(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(C=a.deletions,C===null?(a.deletions=[i],a.flags|=16):C.push(i)),a.child=l,a.memoizedState=null,l)}function Vm(i,a){return a=ef({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function ef(i,a){return i=ir(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Lm(i,a,l){return Wo(a,i.child,null,l),i=Vm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function k_(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),tm(i.return,a,l)}function jm(i,a,l,c,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=g)}function V_(i,a,l){var c=a.pendingProps,g=c.revealOrder,y=c.tail;if(xn(i,a,c.children,l),c=on.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&k_(i,l,a);else if(i.tag===19)k_(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(pe(on,c),g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&Xd(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),jm(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&Xd(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}jm(a,!0,l,null,y);break;case"together":jm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function es(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),zs|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(vu(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Yi(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Yi(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Um(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Pd(i)))}function _I(i,a,l){switch(a.tag){case 3:Ye(a,a.stateNode.containerInfo),Os(a,an,i.memoizedState.cache),mu();break;case 27:case 5:On(a);break;case 4:Ye(a,a.stateNode.containerInfo);break;case 10:Os(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Vs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?P_(i,a,l):(Vs(a),i=es(i,a,l),i!==null?i.sibling:null);Vs(a);break;case 19:var g=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(vu(i,a,l,!1),c=(l&a.childLanes)!==0),g){if(c)return V_(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),pe(on,on.current),c)break;return null;case 22:case 23:return a.lanes=0,I_(i,a,l);case 24:Os(a,an,i.memoizedState.cache)}return es(i,a,l)}function L_(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)hn=!0;else{if(!Um(i,l)&&(a.flags&128)===0)return hn=!1,_I(i,a,l);hn=(i.flags&131072)!==0}else hn=!1,ct&&(a.flags&1048576)!==0&&h0(a,Dd,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,g=c._init;if(c=g(c._payload),a.type=c,typeof c=="function")Kp(c)?(i=Ka(c,i),a.tag=1,a=M_(null,a,c,i,l)):(a.tag=0,a=Mm(null,a,c,i,l));else{if(c!=null){if(g=c.$$typeof,g===z){a.tag=11,a=A_(null,a,c,i,l);break e}else if(g===P){a.tag=14,a=C_(null,a,c,i,l);break e}}throw a=ie(c)||c,Error(r(306,a,""))}}return a;case 0:return Mm(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,g=Ka(c,a.pendingProps),M_(i,a,c,g,l);case 3:e:{if(Ye(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;g=y.element,lm(i,a),Su(a,c,null,l);var C=a.memoizedState;if(c=C.cache,Os(a,an,c),c!==y.cache&&nm(a,[an],l,!0),xu(),c=C.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=D_(i,a,c,l);break e}else if(c!==g){g=Sr(Error(r(424)),a),gu(g),a=D_(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(kt=zr(i.firstChild),zn=a,ct=!0,za=null,ci=!0,l=m_(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(mu(),c===g){a=es(i,a,l);break e}xn(i,a,c,l)}a=a.child}return a;case 26:return Jd(i,a),i===null?(l=Bw(a.type,null,a.pendingProps,null))?a.memoizedState=l:ct||(l=a.type,i=a.pendingProps,c=mf(Ie.current).createElement(l),c[nn]=a,c[Yt]=i,Tn(c,l,i),Bt(c),a.stateNode=c):a.memoizedState=Bw(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return On(a),i===null&&ct&&(c=a.stateNode=jw(a.type,a.pendingProps,Ie.current),zn=a,ci=!0,g=kt,Gs(a.type)?(bg=g,kt=zr(c.firstChild)):kt=g),xn(i,a,a.pendingProps.children,l),Jd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&ct&&((g=c=kt)&&(c=KI(c,a.type,a.pendingProps,ci),c!==null?(a.stateNode=c,zn=a,kt=zr(c.firstChild),ci=!1,g=!0):g=!1),g||Ha(a)),On(a),g=a.type,y=a.pendingProps,C=i!==null?i.memoizedProps:null,c=y.children,mg(g,y)?c=null:C!==null&&mg(g,C)&&(a.flags|=32),a.memoizedState!==null&&(g=pm(i,a,fI,null,null,l),Gu._currentValue=g),Jd(i,a),xn(i,a,c,l),a.child;case 6:return i===null&&ct&&((i=l=kt)&&(l=QI(l,a.pendingProps,ci),l!==null?(a.stateNode=l,zn=a,kt=null,i=!0):i=!1),i||Ha(a)),null;case 13:return P_(i,a,l);case 4:return Ye(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Wo(a,null,c,l):xn(i,a,c,l),a.child;case 11:return A_(i,a,a.type,a.pendingProps,l);case 7:return xn(i,a,a.pendingProps,l),a.child;case 8:return xn(i,a,a.pendingProps.children,l),a.child;case 12:return xn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Os(a,a.type,c.value),xn(i,a,c.children,l),a.child;case 9:return g=a.type._context,c=a.pendingProps.children,$a(a),g=Mn(g),c=c(g),a.flags|=1,xn(i,a,c,l),a.child;case 14:return C_(i,a,a.type,a.pendingProps,l);case 15:return R_(i,a,a.type,a.pendingProps,l);case 19:return V_(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=ef(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=Yi(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return I_(i,a,l);case 24:return $a(a),c=Mn(an),i===null?(g=sm(),g===null&&(g=At,y=rm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:c,cache:g},om(a),Os(a,an,g)):((i.lanes&l)!==0&&(lm(i,a),Su(a,null,null,l),xu()),g=i.memoizedState,y=a.memoizedState,g.parent!==c?(g={parent:c,cache:c},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Os(a,an,c)):(c=y.cache,Os(a,an,c),c!==g.cache&&nm(a,[an],l,!0))),xn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ts(i){i.flags|=4}function j_(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Gw(a)){if(a=Rr.current,a!==null&&((at&4194048)===at?di!==null:(at&62914560)!==at&&(at&536870912)===0||a!==di))throw wu=am,w0;i.flags|=8192}}function tf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Kl():536870912,i.lanes|=a,tl|=a)}function Ou(i,a){if(!ct)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Dt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function wI(i,a,l){var c=a.pendingProps;switch(Zp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(a),null;case 1:return Dt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Wi(an),Ft(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(pu(a)?ts(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,g0())),Dt(a),null;case 26:return l=a.memoizedState,i===null?(ts(a),l!==null?(Dt(a),j_(a,l)):(Dt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(ts(a),Dt(a),j_(a,l)):(Dt(a),a.flags&=-16777217):(i.memoizedProps!==c&&ts(a),Dt(a),a.flags&=-16777217),null;case 27:we(a),l=Ie.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&ts(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}i=Te.current,pu(a)?p0(a):(i=jw(g,c,l),a.stateNode=i,ts(a))}return Dt(a),null;case 5:if(we(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&ts(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Dt(a),null}if(i=Te.current,pu(a))p0(a);else{switch(g=mf(Ie.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}i[nn]=a,i[Yt]=c;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(Tn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ts(a)}}return Dt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&ts(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ie.current,pu(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,g=zn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[nn]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Ow(i.nodeValue,l)),i||Ha(a)}else i=mf(i).createTextNode(c),i[nn]=a,a.stateNode=i}return Dt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=pu(a),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[nn]=a}else mu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Dt(a),g=!1}else g=g0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Ji(a),a):(Ji(a),null)}if(Ji(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),tf(a,a.updateQueue),Dt(a),null;case 4:return Ft(),i===null&&cg(a.stateNode.containerInfo),Dt(a),null;case 10:return Wi(a.type),Dt(a),null;case 19:if(me(on),g=a.memoizedState,g===null)return Dt(a),null;if(c=(a.flags&128)!==0,y=g.rendering,y===null)if(c)Ou(g,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=Xd(i),y!==null){for(a.flags|=128,Ou(g,!1),i=y.updateQueue,a.updateQueue=i,tf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)f0(l,i),l=l.sibling;return pe(on,on.current&1|2),a.child}i=i.sibling}g.tail!==null&&_n()>sf&&(a.flags|=128,c=!0,Ou(g,!1),a.lanes=4194304)}else{if(!c)if(i=Xd(y),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,tf(a,i),Ou(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!ct)return Dt(a),null}else 2*_n()-g.renderingStartTime>sf&&l!==536870912&&(a.flags|=128,c=!0,Ou(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(i=g.last,i!==null?i.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=_n(),a.sibling=null,i=on.current,pe(on,c?i&1|2:i&1),a):(Dt(a),null);case 22:case 23:return Ji(a),fm(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Dt(a),a.subtreeFlags&6&&(a.flags|=8192)):Dt(a),l=a.updateQueue,l!==null&&tf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&me(Ga),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Wi(an),Dt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function EI(i,a){switch(Zp(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Wi(an),Ft(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return we(a),null;case 13:if(Ji(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));mu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return me(on),null;case 4:return Ft(),null;case 10:return Wi(a.type),null;case 22:case 23:return Ji(a),fm(),i!==null&&me(Ga),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Wi(an),null;case 25:return null;default:return null}}function U_(i,a){switch(Zp(a),a.tag){case 3:Wi(an),Ft();break;case 26:case 27:case 5:we(a);break;case 4:Ft();break;case 13:Ji(a);break;case 19:me(on);break;case 10:Wi(a.type);break;case 22:case 23:Ji(a),fm(),i!==null&&me(Ga);break;case 24:Wi(an)}}function Mu(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var y=l.create,C=l.inst;c=y(),C.destroy=c}l=l.next}while(l!==g)}}catch(L){St(a,a.return,L)}}function js(i,a,l){try{var c=a.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&i)===i){var C=c.inst,L=C.destroy;if(L!==void 0){C.destroy=void 0,g=a;var H=l,Z=L;try{Z()}catch(ae){St(g,H,ae)}}}c=c.next}while(c!==y)}}catch(ae){St(a,a.return,ae)}}function F_(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{C0(a,l)}catch(c){St(i,i.return,c)}}}function B_(i,a,l){l.props=Ka(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){St(i,a,c)}}function Du(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(g){St(i,a,g)}}function fi(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){St(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){St(i,a,g)}else l.current=null}function z_(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){St(i,i.return,g)}}function Fm(i,a,l){try{var c=i.stateNode;HI(c,i.type,l,a),c[Yt]=a}catch(g){St(i,i.return,g)}}function H_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Gs(i.type)||i.tag===4}function Bm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||H_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Gs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zm(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=pf));else if(c!==4&&(c===27&&Gs(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(zm(i,a,l),i=i.sibling;i!==null;)zm(i,a,l),i=i.sibling}function nf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&Gs(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(nf(i,a,l),i=i.sibling;i!==null;)nf(i,a,l),i=i.sibling}function q_(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Tn(a,c,l),a[nn]=i,a[Yt]=l}catch(y){St(i,i.return,y)}}var ns=!1,Ht=!1,Hm=!1,$_=typeof WeakSet=="function"?WeakSet:Set,pn=null;function xI(i,a){if(i=i.containerInfo,hg=wf,i=n0(i),Bp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var C=0,L=-1,H=-1,Z=0,ae=0,ce=i,ee=null;t:for(;;){for(var te;ce!==l||g!==0&&ce.nodeType!==3||(L=C+g),ce!==y||c!==0&&ce.nodeType!==3||(H=C+c),ce.nodeType===3&&(C+=ce.nodeValue.length),(te=ce.firstChild)!==null;)ee=ce,ce=te;for(;;){if(ce===i)break t;if(ee===l&&++Z===g&&(L=C),ee===y&&++ae===c&&(H=C),(te=ce.nextSibling)!==null)break;ce=ee,ee=ce.parentNode}ce=te}l=L===-1||H===-1?null:{start:L,end:H}}else l=null}l=l||{start:0,end:0}}else l=null;for(pg={focusedElem:i,selectionRange:l},wf=!1,pn=a;pn!==null;)if(a=pn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,pn=i;else for(;pn!==null;){switch(a=pn,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var ze=Ka(l.type,g,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(ze,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Le){St(l,l.return,Le)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)vg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,pn=i;break}pn=a.return}}function G_(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Us(i,l),c&4&&Mu(5,l);break;case 1:if(Us(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(C){St(l,l.return,C)}else{var g=Ka(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(C){St(l,l.return,C)}}c&64&&F_(l),c&512&&Du(l,l.return);break;case 3:if(Us(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{C0(i,a)}catch(C){St(l,l.return,C)}}break;case 27:a===null&&c&4&&q_(l);case 26:case 5:Us(i,l),a===null&&c&4&&z_(l),c&512&&Du(l,l.return);break;case 12:Us(i,l);break;case 13:Us(i,l),c&4&&Q_(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=MI.bind(null,l),XI(i,l))));break;case 22:if(c=l.memoizedState!==null||ns,!c){a=a!==null&&a.memoizedState!==null||Ht,g=ns;var y=Ht;ns=c,(Ht=a)&&!y?Fs(i,l,(l.subtreeFlags&8772)!==0):Us(i,l),ns=g,Ht=y}break;case 30:break;default:Us(i,l)}}function Y_(i){var a=i.alternate;a!==null&&(i.alternate=null,Y_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Cs(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ot=null,Kn=!1;function rs(i,a,l){for(l=l.child;l!==null;)K_(i,a,l),l=l.sibling}function K_(i,a,l){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(xe,l)}catch{}switch(l.tag){case 26:Ht||fi(l,a),rs(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ht||fi(l,a);var c=Ot,g=Kn;Gs(l.type)&&(Ot=l.stateNode,Kn=!1),rs(i,a,l),zu(l.stateNode),Ot=c,Kn=g;break;case 5:Ht||fi(l,a);case 6:if(c=Ot,g=Kn,Ot=null,rs(i,a,l),Ot=c,Kn=g,Ot!==null)if(Kn)try{(Ot.nodeType===9?Ot.body:Ot.nodeName==="HTML"?Ot.ownerDocument.body:Ot).removeChild(l.stateNode)}catch(y){St(l,a,y)}else try{Ot.removeChild(l.stateNode)}catch(y){St(l,a,y)}break;case 18:Ot!==null&&(Kn?(i=Ot,Vw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Xu(i)):Vw(Ot,l.stateNode));break;case 4:c=Ot,g=Kn,Ot=l.stateNode.containerInfo,Kn=!0,rs(i,a,l),Ot=c,Kn=g;break;case 0:case 11:case 14:case 15:Ht||js(2,l,a),Ht||js(4,l,a),rs(i,a,l);break;case 1:Ht||(fi(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&B_(l,a,c)),rs(i,a,l);break;case 21:rs(i,a,l);break;case 22:Ht=(c=Ht)||l.memoizedState!==null,rs(i,a,l),Ht=c;break;default:rs(i,a,l)}}function Q_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xu(i)}catch(l){St(a,a.return,l)}}function SI(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new $_),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new $_),a;default:throw Error(r(435,i.tag))}}function qm(i,a){var l=SI(i);a.forEach(function(c){var g=DI.bind(null,i,c);l.has(c)||(l.add(c),c.then(g,g))})}function sr(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],y=i,C=a,L=C;e:for(;L!==null;){switch(L.tag){case 27:if(Gs(L.type)){Ot=L.stateNode,Kn=!1;break e}break;case 5:Ot=L.stateNode,Kn=!1;break e;case 3:case 4:Ot=L.stateNode.containerInfo,Kn=!0;break e}L=L.return}if(Ot===null)throw Error(r(160));K_(y,C,g),Ot=null,Kn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)X_(a,i),a=a.sibling}var Br=null;function X_(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:sr(a,i),ar(i),c&4&&(js(3,i,i.return),Mu(3,i),js(5,i,i.return));break;case 1:sr(a,i),ar(i),c&512&&(Ht||l===null||fi(l,l.return)),c&64&&ns&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Br;if(sr(a,i),ar(i),c&512&&(Ht||l===null||fi(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[xa]||y[nn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),Tn(y,c,l),y[nn]=i,Bt(y),c=y;break e;case"link":var C=qw("link","href",g).get(c+(l.href||""));if(C){for(var L=0;L<C.length;L++)if(y=C[L],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(L,1);break t}}y=g.createElement(c),Tn(y,c,l),g.head.appendChild(y);break;case"meta":if(C=qw("meta","content",g).get(c+(l.content||""))){for(L=0;L<C.length;L++)if(y=C[L],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(L,1);break t}}y=g.createElement(c),Tn(y,c,l),g.head.appendChild(y);break;default:throw Error(r(468,c))}y[nn]=i,Bt(y),c=y}i.stateNode=c}else $w(g,i.type,i.stateNode);else i.stateNode=Hw(g,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?$w(g,i.type,i.stateNode):Hw(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Fm(i,i.memoizedProps,l.memoizedProps)}break;case 27:sr(a,i),ar(i),c&512&&(Ht||l===null||fi(l,l.return)),l!==null&&c&4&&Fm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(sr(a,i),ar(i),c&512&&(Ht||l===null||fi(l,l.return)),i.flags&32){g=i.stateNode;try{_r(g,"")}catch(te){St(i,i.return,te)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,Fm(i,g,l!==null?l.memoizedProps:g)),c&1024&&(Hm=!0);break;case 6:if(sr(a,i),ar(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(te){St(i,i.return,te)}}break;case 3:if(yf=null,g=Br,Br=gf(a.containerInfo),sr(a,i),Br=g,ar(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Xu(a.containerInfo)}catch(te){St(i,i.return,te)}Hm&&(Hm=!1,W_(i));break;case 4:c=Br,Br=gf(i.stateNode.containerInfo),sr(a,i),ar(i),Br=c;break;case 12:sr(a,i),ar(i);break;case 13:sr(a,i),ar(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Xm=_n()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qm(i,c)));break;case 22:g=i.memoizedState!==null;var H=l!==null&&l.memoizedState!==null,Z=ns,ae=Ht;if(ns=Z||g,Ht=ae||H,sr(a,i),Ht=ae,ns=Z,ar(i),c&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||H||ns||Ht||Qa(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){H=l=a;try{if(y=H.stateNode,g)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{L=H.stateNode;var ce=H.memoizedProps.style,ee=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){St(H,H.return,te)}}}else if(a.tag===6){if(l===null){H=a;try{H.stateNode.nodeValue=g?"":H.memoizedProps}catch(te){St(H,H.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,qm(i,l))));break;case 19:sr(a,i),ar(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qm(i,c)));break;case 30:break;case 21:break;default:sr(a,i),ar(i)}}function ar(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(H_(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=Bm(i);nf(i,y,g);break;case 5:var C=l.stateNode;l.flags&32&&(_r(C,""),l.flags&=-33);var L=Bm(i);nf(i,L,C);break;case 3:case 4:var H=l.stateNode.containerInfo,Z=Bm(i);zm(i,Z,H);break;default:throw Error(r(161))}}catch(ae){St(i,i.return,ae)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function W_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;W_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Us(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)G_(i,a.alternate,a),a=a.sibling}function Qa(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:js(4,a,a.return),Qa(a);break;case 1:fi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&B_(a,a.return,l),Qa(a);break;case 27:zu(a.stateNode);case 26:case 5:fi(a,a.return),Qa(a);break;case 22:a.memoizedState===null&&Qa(a);break;case 30:Qa(a);break;default:Qa(a)}i=i.sibling}}function Fs(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,g=i,y=a,C=y.flags;switch(y.tag){case 0:case 11:case 15:Fs(g,y,l),Mu(4,y);break;case 1:if(Fs(g,y,l),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){St(c,c.return,Z)}if(c=y,g=c.updateQueue,g!==null){var L=c.stateNode;try{var H=g.shared.hiddenCallbacks;if(H!==null)for(g.shared.hiddenCallbacks=null,g=0;g<H.length;g++)A0(H[g],L)}catch(Z){St(c,c.return,Z)}}l&&C&64&&F_(y),Du(y,y.return);break;case 27:q_(y);case 26:case 5:Fs(g,y,l),l&&c===null&&C&4&&z_(y),Du(y,y.return);break;case 12:Fs(g,y,l);break;case 13:Fs(g,y,l),l&&C&4&&Q_(g,y);break;case 22:y.memoizedState===null&&Fs(g,y,l),Du(y,y.return);break;case 30:break;default:Fs(g,y,l)}a=a.sibling}}function $m(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&yu(l))}function Gm(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&yu(i))}function hi(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Z_(i,a,l,c),a=a.sibling}function Z_(i,a,l,c){var g=a.flags;switch(a.tag){case 0:case 11:case 15:hi(i,a,l,c),g&2048&&Mu(9,a);break;case 1:hi(i,a,l,c);break;case 3:hi(i,a,l,c),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&yu(i)));break;case 12:if(g&2048){hi(i,a,l,c),i=a.stateNode;try{var y=a.memoizedProps,C=y.id,L=y.onPostCommit;typeof L=="function"&&L(C,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){St(a,a.return,H)}}else hi(i,a,l,c);break;case 13:hi(i,a,l,c);break;case 23:break;case 22:y=a.stateNode,C=a.alternate,a.memoizedState!==null?y._visibility&2?hi(i,a,l,c):Pu(i,a):y._visibility&2?hi(i,a,l,c):(y._visibility|=2,Zo(i,a,l,c,(a.subtreeFlags&10256)!==0)),g&2048&&$m(C,a);break;case 24:hi(i,a,l,c),g&2048&&Gm(a.alternate,a);break;default:hi(i,a,l,c)}}function Zo(i,a,l,c,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,C=a,L=l,H=c,Z=C.flags;switch(C.tag){case 0:case 11:case 15:Zo(y,C,L,H,g),Mu(8,C);break;case 23:break;case 22:var ae=C.stateNode;C.memoizedState!==null?ae._visibility&2?Zo(y,C,L,H,g):Pu(y,C):(ae._visibility|=2,Zo(y,C,L,H,g)),g&&Z&2048&&$m(C.alternate,C);break;case 24:Zo(y,C,L,H,g),g&&Z&2048&&Gm(C.alternate,C);break;default:Zo(y,C,L,H,g)}a=a.sibling}}function Pu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,g=c.flags;switch(c.tag){case 22:Pu(l,c),g&2048&&$m(c.alternate,c);break;case 24:Pu(l,c),g&2048&&Gm(c.alternate,c);break;default:Pu(l,c)}a=a.sibling}}var ku=8192;function Jo(i){if(i.subtreeFlags&ku)for(i=i.child;i!==null;)J_(i),i=i.sibling}function J_(i){switch(i.tag){case 26:Jo(i),i.flags&ku&&i.memoizedState!==null&&uN(Br,i.memoizedState,i.memoizedProps);break;case 5:Jo(i);break;case 3:case 4:var a=Br;Br=gf(i.stateNode.containerInfo),Jo(i),Br=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=ku,ku=16777216,Jo(i),ku=a):Jo(i));break;default:Jo(i)}}function ew(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Vu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];pn=c,nw(c,i)}ew(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)tw(i),i=i.sibling}function tw(i){switch(i.tag){case 0:case 11:case 15:Vu(i),i.flags&2048&&js(9,i,i.return);break;case 3:Vu(i);break;case 12:Vu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,rf(i)):Vu(i);break;default:Vu(i)}}function rf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];pn=c,nw(c,i)}ew(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:js(8,a,a.return),rf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,rf(a));break;default:rf(a)}i=i.sibling}}function nw(i,a){for(;pn!==null;){var l=pn;switch(l.tag){case 0:case 11:case 15:js(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:yu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,pn=c;else e:for(l=i;pn!==null;){c=pn;var g=c.sibling,y=c.return;if(Y_(c),c===l){pn=null;break e}if(g!==null){g.return=y,pn=g;break e}pn=y}}}var TI={getCacheForType:function(i){var a=Mn(an),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},AI=typeof WeakMap=="function"?WeakMap:Map,yt=0,At=null,et=null,at=0,bt=0,or=null,Bs=!1,el=!1,Ym=!1,is=0,Vt=0,zs=0,Xa=0,Km=0,Ir=0,tl=0,Lu=null,Qn=null,Qm=!1,Xm=0,sf=1/0,af=null,Hs=null,Sn=0,qs=null,nl=null,rl=0,Wm=0,Zm=null,rw=null,ju=0,Jm=null;function lr(){if((yt&2)!==0&&at!==0)return at&-at;if($.T!==null){var i=qo;return i!==0?i:ag()}return Ts()}function iw(){Ir===0&&(Ir=(at&536870912)===0||ct?Yl():536870912);var i=Rr.current;return i!==null&&(i.flags|=32),Ir}function ur(i,a,l){(i===At&&(bt===2||bt===9)||i.cancelPendingCommit!==null)&&(il(i,0),$s(i,at,Ir,!1)),Vi(i,l),((yt&2)===0||i!==At)&&(i===At&&((yt&2)===0&&(Xa|=l),Vt===4&&$s(i,at,Ir,!1)),pi(i))}function sw(i,a,l){if((yt&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||Pi(i,a),g=c?II(i,a):ng(i,a,!0),y=c;do{if(g===0){el&&!c&&$s(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!CI(l)){g=ng(i,a,!1),y=!1;continue}if(g===2){if(y=a,i.errorRecoveryDisabledLanes&y)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;e:{var L=i;g=Lu;var H=L.current.memoizedState.isDehydrated;if(H&&(il(L,C).flags|=256),C=ng(L,C,!1),C!==2){if(Ym&&!H){L.errorRecoveryDisabledLanes|=y,Xa|=y,g=4;break e}y=Qn,Qn=g,y!==null&&(Qn===null?Qn=y:Qn.push.apply(Qn,y))}g=C}if(y=!1,g!==2)continue}}if(g===1){il(i,0),$s(i,a,0,!0);break}e:{switch(c=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:$s(c,a,Ir,!Bs);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=Xm+300-_n(),10<g)){if($s(c,a,Ir,!Bs),Di(c,0,!0)!==0)break e;c.timeoutHandle=Pw(aw.bind(null,c,l,Qn,af,Qm,a,Ir,Xa,tl,Bs,y,2,-0,0),g);break e}aw(c,l,Qn,af,Qm,a,Ir,Xa,tl,Bs,y,0,-0,0)}}break}while(!0);pi(i)}function aw(i,a,l,c,g,y,C,L,H,Z,ae,ce,ee,te){if(i.timeoutHandle=-1,ce=a.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&($u={stylesheets:null,count:0,unsuspend:lN},J_(a),ce=cN(),ce!==null)){i.cancelPendingCommit=ce(hw.bind(null,i,a,y,l,c,g,C,L,H,ae,1,ee,te)),$s(i,y,C,!Z);return}hw(i,a,y,l,c,g,C,L,H)}function CI(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],y=g.getSnapshot;g=g.value;try{if(!rr(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function $s(i,a,l,c){a&=~Km,a&=~Xa,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var g=a;0<g;){var y=31-vt(g),C=1<<y;c[y]=-1,g&=~C}l!==0&&Jr(i,l,a)}function of(){return(yt&6)===0?(Uu(0),!1):!0}function eg(){if(et!==null){if(bt===0)var i=et.return;else i=et,Xi=qa=null,vm(i),Xo=null,Iu=0,i=et;for(;i!==null;)U_(i.alternate,i),i=i.return;et=null}}function il(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,$I(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),eg(),At=i,et=l=Yi(i.current,null),at=a,bt=0,or=null,Bs=!1,el=Pi(i,a),Ym=!1,tl=Ir=Km=Xa=zs=Vt=0,Qn=Lu=null,Qm=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var g=31-vt(c),y=1<<g;a|=i[g],c&=~y}return is=a,Rd(),l}function ow(i,a){Xe=null,$.H=Yd,a===_u||a===Ld?(a=S0(),bt=3):a===w0?(a=S0(),bt=4):bt=a===T_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,or=a,et===null&&(Vt=1,Zd(i,Sr(a,i.current)))}function lw(){var i=$.H;return $.H=Yd,i===null?Yd:i}function uw(){var i=$.A;return $.A=TI,i}function tg(){Vt=4,Bs||(at&4194048)!==at&&Rr.current!==null||(el=!0),(zs&134217727)===0&&(Xa&134217727)===0||At===null||$s(At,at,Ir,!1)}function ng(i,a,l){var c=yt;yt|=2;var g=lw(),y=uw();(At!==i||at!==a)&&(af=null,il(i,a)),a=!1;var C=Vt;e:do try{if(bt!==0&&et!==null){var L=et,H=or;switch(bt){case 8:eg(),C=6;break e;case 3:case 2:case 9:case 6:Rr.current===null&&(a=!0);var Z=bt;if(bt=0,or=null,sl(i,L,H,Z),l&&el){C=0;break e}break;default:Z=bt,bt=0,or=null,sl(i,L,H,Z)}}RI(),C=Vt;break}catch(ae){ow(i,ae)}while(!0);return a&&i.shellSuspendCounter++,Xi=qa=null,yt=c,$.H=g,$.A=y,et===null&&(At=null,at=0,Rd()),C}function RI(){for(;et!==null;)cw(et)}function II(i,a){var l=yt;yt|=2;var c=lw(),g=uw();At!==i||at!==a?(af=null,sf=_n()+500,il(i,a)):el=Pi(i,a);e:do try{if(bt!==0&&et!==null){a=et;var y=or;t:switch(bt){case 1:bt=0,or=null,sl(i,a,y,1);break;case 2:case 9:if(E0(y)){bt=0,or=null,dw(a);break}a=function(){bt!==2&&bt!==9||At!==i||(bt=7),pi(i)},y.then(a,a);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:E0(y)?(bt=0,or=null,dw(a)):(bt=0,or=null,sl(i,a,y,7));break;case 5:var C=null;switch(et.tag){case 26:C=et.memoizedState;case 5:case 27:var L=et;if(!C||Gw(C)){bt=0,or=null;var H=L.sibling;if(H!==null)et=H;else{var Z=L.return;Z!==null?(et=Z,lf(Z)):et=null}break t}}bt=0,or=null,sl(i,a,y,5);break;case 6:bt=0,or=null,sl(i,a,y,6);break;case 8:eg(),Vt=6;break e;default:throw Error(r(462))}}NI();break}catch(ae){ow(i,ae)}while(!0);return Xi=qa=null,$.H=c,$.A=g,yt=l,et!==null?0:(At=null,at=0,Rd(),Vt)}function NI(){for(;et!==null&&!Rt();)cw(et)}function cw(i){var a=L_(i.alternate,i,is);i.memoizedProps=i.pendingProps,a===null?lf(i):et=a}function dw(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=O_(l,a,a.pendingProps,a.type,void 0,at);break;case 11:a=O_(l,a,a.pendingProps,a.type.render,a.ref,at);break;case 5:vm(a);default:U_(l,a),a=et=f0(a,is),a=L_(l,a,is)}i.memoizedProps=i.pendingProps,a===null?lf(i):et=a}function sl(i,a,l,c){Xi=qa=null,vm(a),Xo=null,Iu=0;var g=a.return;try{if(bI(i,g,a,l,at)){Vt=1,Zd(i,Sr(l,i.current)),et=null;return}}catch(y){if(g!==null)throw et=g,y;Vt=1,Zd(i,Sr(l,i.current)),et=null;return}a.flags&32768?(ct||c===1?i=!0:el||(at&536870912)!==0?i=!1:(Bs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Rr.current,c!==null&&c.tag===13&&(c.flags|=16384))),fw(a,i)):lf(a)}function lf(i){var a=i;do{if((a.flags&32768)!==0){fw(a,Bs);return}i=a.return;var l=wI(a.alternate,a,is);if(l!==null){et=l;return}if(a=a.sibling,a!==null){et=a;return}et=a=i}while(a!==null);Vt===0&&(Vt=5)}function fw(i,a){do{var l=EI(i.alternate,i);if(l!==null){l.flags&=32767,et=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){et=i;return}et=i=l}while(i!==null);Vt=6,et=null}function hw(i,a,l,c,g,y,C,L,H){i.cancelPendingCommit=null;do uf();while(Sn!==0);if((yt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=Gp,Ql(i,l,y,C,L,H),i===At&&(et=At=null,at=0),nl=a,qs=i,rl=l,Wm=y,Zm=g,rw=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,PI(J,function(){return yw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,g=re.p,re.p=2,C=yt,yt|=4;try{xI(i,a,l)}finally{yt=C,re.p=g,$.T=c}}Sn=1,pw(),mw(),gw()}}function pw(){if(Sn===1){Sn=0;var i=qs,a=nl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=$.T,$.T=null;var c=re.p;re.p=2;var g=yt;yt|=4;try{X_(a,i);var y=pg,C=n0(i.containerInfo),L=y.focusedElem,H=y.selectionRange;if(C!==L&&L&&L.ownerDocument&&t0(L.ownerDocument.documentElement,L)){if(H!==null&&Bp(L)){var Z=H.start,ae=H.end;if(ae===void 0&&(ae=Z),"selectionStart"in L)L.selectionStart=Z,L.selectionEnd=Math.min(ae,L.value.length);else{var ce=L.ownerDocument||document,ee=ce&&ce.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),ze=L.textContent.length,Le=Math.min(H.start,ze),xt=H.end===void 0?Le:Math.min(H.end,ze);!te.extend&&Le>xt&&(C=xt,xt=Le,Le=C);var Q=e0(L,Le),K=e0(L,xt);if(Q&&K&&(te.rangeCount!==1||te.anchorNode!==Q.node||te.anchorOffset!==Q.offset||te.focusNode!==K.node||te.focusOffset!==K.offset)){var W=ce.createRange();W.setStart(Q.node,Q.offset),te.removeAllRanges(),Le>xt?(te.addRange(W),te.extend(K.node,K.offset)):(W.setEnd(K.node,K.offset),te.addRange(W))}}}}for(ce=[],te=L;te=te.parentNode;)te.nodeType===1&&ce.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var ue=ce[L];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}wf=!!hg,pg=hg=null}finally{yt=g,re.p=c,$.T=l}}i.current=a,Sn=2}}function mw(){if(Sn===2){Sn=0;var i=qs,a=nl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=$.T,$.T=null;var c=re.p;re.p=2;var g=yt;yt|=4;try{G_(i,a.alternate,a)}finally{yt=g,re.p=c,$.T=l}}Sn=3}}function gw(){if(Sn===4||Sn===3){Sn=0,Ii();var i=qs,a=nl,l=rl,c=rw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Sn=5:(Sn=0,nl=qs=null,vw(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Hs=null),Eo(l),a=a.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(xe,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=$.T,g=re.p,re.p=2,$.T=null;try{for(var y=i.onRecoverableError,C=0;C<c.length;C++){var L=c[C];y(L.value,{componentStack:L.stack})}}finally{$.T=a,re.p=g}}(rl&3)!==0&&uf(),pi(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Jm?ju++:(ju=0,Jm=i):ju=0,Uu(0)}}function vw(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,yu(a)))}function uf(i){return pw(),mw(),gw(),yw()}function yw(){if(Sn!==5)return!1;var i=qs,a=Wm;Wm=0;var l=Eo(rl),c=$.T,g=re.p;try{re.p=32>l?32:l,$.T=null,l=Zm,Zm=null;var y=qs,C=rl;if(Sn=0,nl=qs=null,rl=0,(yt&6)!==0)throw Error(r(331));var L=yt;if(yt|=4,tw(y.current),Z_(y,y.current,C,l),yt=L,Uu(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(xe,y)}catch{}return!0}finally{re.p=g,$.T=c,vw(i,a)}}function bw(i,a,l){a=Sr(l,a),a=Om(i.stateNode,a,2),i=Ps(i,a,2),i!==null&&(Vi(i,2),pi(i))}function St(i,a,l){if(i.tag===3)bw(i,i,l);else for(;a!==null;){if(a.tag===3){bw(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hs===null||!Hs.has(c))){i=Sr(l,i),l=x_(2),c=Ps(a,l,2),c!==null&&(S_(l,c,a,i),Vi(c,2),pi(c));break}}a=a.return}}function rg(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new AI;var g=new Set;c.set(a,g)}else g=c.get(a),g===void 0&&(g=new Set,c.set(a,g));g.has(l)||(Ym=!0,g.add(l),i=OI.bind(null,i,a,l),a.then(i,i))}function OI(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,At===i&&(at&l)===l&&(Vt===4||Vt===3&&(at&62914560)===at&&300>_n()-Xm?(yt&2)===0&&il(i,0):Km|=l,tl===at&&(tl=0)),pi(i)}function _w(i,a){a===0&&(a=Kl()),i=Fo(i,a),i!==null&&(Vi(i,a),pi(i))}function MI(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),_w(i,l)}function DI(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),_w(i,l)}function PI(i,a){return Ge(i,a)}var cf=null,al=null,ig=!1,df=!1,sg=!1,Wa=0;function pi(i){i!==al&&i.next===null&&(al===null?cf=al=i:al=al.next=i),df=!0,ig||(ig=!0,VI())}function Uu(i,a){if(!sg&&df){sg=!0;do for(var l=!1,c=cf;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var C=c.suspendedLanes,L=c.pingedLanes;y=(1<<31-vt(42|i)+1)-1,y&=g&~(C&~L),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Sw(c,y))}else y=at,y=Di(c,c===At?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Pi(c,y)||(l=!0,Sw(c,y));c=c.next}while(l);sg=!1}}function kI(){ww()}function ww(){df=ig=!1;var i=0;Wa!==0&&(qI()&&(i=Wa),Wa=0);for(var a=_n(),l=null,c=cf;c!==null;){var g=c.next,y=Ew(c,a);y===0?(c.next=null,l===null?cf=g:l.next=g,g===null&&(al=l)):(l=c,(i!==0||(y&3)!==0)&&(df=!0)),c=g}Uu(i)}function Ew(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var C=31-vt(y),L=1<<C,H=g[C];H===-1?((L&l)===0||(L&c)!==0)&&(g[C]=xs(L,a)):H<=a&&(i.expiredLanes|=L),y&=~L}if(a=At,l=at,l=Di(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(bt===2||bt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ze(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Pi(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Ze(c),Eo(l)){case 2:case 8:l=G;break;case 32:l=J;break;case 268435456:l=ve;break;default:l=J}return c=xw.bind(null,i),l=Ge(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Ze(c),i.callbackPriority=2,i.callbackNode=null,2}function xw(i,a){if(Sn!==0&&Sn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(uf()&&i.callbackNode!==l)return null;var c=at;return c=Di(i,i===At?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(sw(i,c,a),Ew(i,_n()),i.callbackNode!=null&&i.callbackNode===l?xw.bind(null,i):null)}function Sw(i,a){if(uf())return null;sw(i,a,!0)}function VI(){GI(function(){(yt&6)!==0?Ge(Zr,kI):ww()})}function ag(){return Wa===0&&(Wa=Yl()),Wa}function Tw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ro(""+i)}function Aw(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function LI(i,a,l,c,g){if(a==="submit"&&l&&l.stateNode===g){var y=Tw((g[Yt]||null).action),C=c.submitter;C&&(a=(a=C[Yt]||null)?Tw(a.formAction):C.getAttribute("formAction"),a!==null&&(y=a,C=null));var L=new Io("action","action",null,c,g);i.push({event:L,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Wa!==0){var H=C?Aw(g,C):new FormData(g);Am(l,{pending:!0,data:H,method:g.method,action:y},null,H)}}else typeof y=="function"&&(L.preventDefault(),H=C?Aw(g,C):new FormData(g),Am(l,{pending:!0,data:H,method:g.method,action:y},y,H))},currentTarget:g}]})}}for(var og=0;og<$p.length;og++){var lg=$p[og],jI=lg.toLowerCase(),UI=lg[0].toUpperCase()+lg.slice(1);Fr(jI,"on"+UI)}Fr(s0,"onAnimationEnd"),Fr(a0,"onAnimationIteration"),Fr(o0,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(nI,"onTransitionRun"),Fr(rI,"onTransitionStart"),Fr(iI,"onTransitionCancel"),Fr(l0,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fu));function Cw(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var C=c.length-1;0<=C;C--){var L=c[C],H=L.instance,Z=L.currentTarget;if(L=L.listener,H!==y&&g.isPropagationStopped())break e;y=L,g.currentTarget=Z;try{y(g)}catch(ae){Wd(ae)}g.currentTarget=null,y=H}else for(C=0;C<c.length;C++){if(L=c[C],H=L.instance,Z=L.currentTarget,L=L.listener,H!==y&&g.isPropagationStopped())break e;y=L,g.currentTarget=Z;try{y(g)}catch(ae){Wd(ae)}g.currentTarget=null,y=H}}}}function tt(i,a){var l=a[Wl];l===void 0&&(l=a[Wl]=new Set);var c=i+"__bubble";l.has(c)||(Rw(a,i,2,!1),l.add(c))}function ug(i,a,l){var c=0;a&&(c|=4),Rw(l,i,c,a)}var ff="_reactListening"+Math.random().toString(36).slice(2);function cg(i){if(!i[ff]){i[ff]=!0,Zl.forEach(function(l){l!=="selectionchange"&&(FI.has(l)||ug(l,!1,i),ug(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[ff]||(a[ff]=!0,ug("selectionchange",!1,a))}}function Rw(i,a,l,c){switch(Zw(a)){case 2:var g=hN;break;case 8:g=pN;break;default:g=Sg}l=g.bind(null,a,l,i),g=void 0,!Er||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function dg(i,a,l,c,g){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var L=c.stateNode.containerInfo;if(L===g)break;if(C===4)for(C=c.return;C!==null;){var H=C.tag;if((H===3||H===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;L!==null;){if(C=Li(L),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){c=y=C;continue e}L=L.parentNode}}c=c.return}hd(function(){var Z=y,ae=wr(l),ce=[];e:{var ee=u0.get(i);if(ee!==void 0){var te=Io,ze=i;switch(i){case"keypress":if(si(l)===0)break e;case"keydown":case"keyup":te=ko;break;case"focusin":ze="focus",te=Mo;break;case"focusout":ze="blur",te=Mo;break;case"beforeblur":case"afterblur":te=Mo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=wd;break;case s0:case a0:case o0:te=Do;break;case l0:te=xd;break;case"scroll":case"scrollend":te=pd;break;case"wheel":te=Vo;break;case"copy":case"cut":case"paste":te=Po;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=cu;break;case"toggle":case"beforetoggle":te=Td}var Le=(a&4)!==0,xt=!Le&&(i==="scroll"||i==="scrollend"),Q=Le?ee!==null?ee+"Capture":null:ee;Le=[];for(var K=Z,W;K!==null;){var ue=K;if(W=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||W===null||Q===null||(ue=Na(K,Q),ue!=null&&Le.push(Bu(K,ue,W))),xt)break;K=K.return}0<Le.length&&(ee=new te(ee,ze,null,l,ae),ce.push({event:ee,listeners:Le}))}}if((a&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",ee&&l!==Bi&&(ze=l.relatedTarget||l.fromElement)&&(Li(ze)||ze[br]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(ze=l.relatedTarget||l.toElement,te=Z,ze=ze?Li(ze):null,ze!==null&&(xt=o(ze),Le=ze.tag,ze!==xt||Le!==5&&Le!==27&&Le!==6)&&(ze=null)):(te=null,ze=Z),te!==ze)){if(Le=xr,ue="onMouseLeave",Q="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Le=cu,ue="onPointerLeave",Q="onPointerEnter",K="pointer"),xt=te==null?ee:ti(te),W=ze==null?ee:ti(ze),ee=new Le(ue,K+"leave",te,l,ae),ee.target=xt,ee.relatedTarget=W,ue=null,Li(ae)===Z&&(Le=new Le(Q,K+"enter",ze,l,ae),Le.target=W,Le.relatedTarget=xt,ue=Le),xt=ue,te&&ze)t:{for(Le=te,Q=ze,K=0,W=Le;W;W=ol(W))K++;for(W=0,ue=Q;ue;ue=ol(ue))W++;for(;0<K-W;)Le=ol(Le),K--;for(;0<W-K;)Q=ol(Q),W--;for(;K--;){if(Le===Q||Q!==null&&Le===Q.alternate)break t;Le=ol(Le),Q=ol(Q)}Le=null}else Le=null;te!==null&&Iw(ce,ee,te,Le,!1),ze!==null&&xt!==null&&Iw(ce,xt,ze,Le,!0)}}e:{if(ee=Z?ti(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Re=Kb;else if(sn(ee))if(Qb)Re=JR;else{Re=WR;var Je=XR}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&ru(Z.elementType)&&(Re=Kb):Re=ZR;if(Re&&(Re=Re(i,Z))){Gi(ce,Re,l,ae);break e}Je&&Je(i,ee,Z),i==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Is(ee,"number",ee.value)}switch(Je=Z?ti(Z):window,i){case"focusin":(sn(Je)||Je.contentEditable==="true")&&(Lo=Je,zp=Z,hu=null);break;case"focusout":hu=zp=Lo=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,r0(ce,l,ae);break;case"selectionchange":if(tI)break;case"keydown":case"keyup":r0(ce,l,ae)}var Oe;if(li)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else it?ne(i,l)&&(je="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(je="onCompositionStart");je&&(S&&l.locale!=="ko"&&(it||je!=="onCompositionStart"?je==="onCompositionEnd"&&it&&(Oe=su()):(ii=ae,Ns="value"in ii?ii.value:ii.textContent,it=!0)),Je=hf(Z,je),0<Je.length&&(je=new lu(je,i,null,l,ae),ce.push({event:je,listeners:Je}),Oe?je.data=Oe:(Oe=_e(l),Oe!==null&&(je.data=Oe)))),(Oe=w?rn(i,l):st(i,l))&&(je=hf(Z,"onBeforeInput"),0<je.length&&(Je=new lu("onBeforeInput","beforeinput",null,l,ae),ce.push({event:Je,listeners:je}),Je.data=Oe)),LI(ce,i,Z,l,ae)}Cw(ce,a)})}function Bu(i,a,l){return{instance:i,listener:a,currentTarget:l}}function hf(i,a){for(var l=a+"Capture",c=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Na(i,l),g!=null&&c.unshift(Bu(i,g,y)),g=Na(i,a),g!=null&&c.push(Bu(i,g,y))),i.tag===3)return c;i=i.return}return[]}function ol(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Iw(i,a,l,c,g){for(var y=a._reactName,C=[];l!==null&&l!==c;){var L=l,H=L.alternate,Z=L.stateNode;if(L=L.tag,H!==null&&H===c)break;L!==5&&L!==26&&L!==27||Z===null||(H=Z,g?(Z=Na(l,y),Z!=null&&C.unshift(Bu(l,Z,H))):g||(Z=Na(l,y),Z!=null&&C.push(Bu(l,Z,H)))),l=l.return}C.length!==0&&i.push({event:a,listeners:C})}var BI=/\r\n?/g,zI=/\u0000|\uFFFD/g;function Nw(i){return(typeof i=="string"?i:""+i).replace(BI,`
`).replace(zI,"")}function Ow(i,a){return a=Nw(a),Nw(i)===a}function pf(){}function Et(i,a,l,c,g,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||_r(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&_r(i,""+c);break;case"className":ni(i,"class",c);break;case"tabIndex":ni(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ni(i,l,c);break;case"style":nu(i,c,y);break;case"data":if(a!=="object"){ni(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ro(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Et(i,a,"name",g.name,g,null),Et(i,a,"formEncType",g.formEncType,g,null),Et(i,a,"formMethod",g.formMethod,g,null),Et(i,a,"formTarget",g.formTarget,g,null)):(Et(i,a,"encType",g.encType,g,null),Et(i,a,"method",g.method,g,null),Et(i,a,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ro(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=pf);break;case"onScroll":c!=null&&tt("scroll",i);break;case"onScrollEnd":c!=null&&tt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Ro(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":tt("beforetoggle",i),tt("toggle",i),Rs(i,"popover",c);break;case"xlinkActuate":wn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":wn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":wn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":wn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":wn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":wn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":wn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":wn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":wn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Rs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kp.get(l)||l,Rs(i,l,c))}}function fg(i,a,l,c,g,y){switch(l){case"style":nu(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?_r(i,c):(typeof c=="number"||typeof c=="bigint")&&_r(i,""+c);break;case"onScroll":c!=null&&tt("scroll",i);break;case"onScrollEnd":c!=null&&tt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=i[Yt]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,g);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Rs(i,l,c)}}}function Tn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",i),tt("load",i);var c=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var C=l[y];if(C!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Et(i,a,y,C,l,null)}}g&&Et(i,a,"srcSet",l.srcSet,l,null),c&&Et(i,a,"src",l.src,l,null);return;case"input":tt("invalid",i);var L=y=C=g=null,H=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var ae=l[c];if(ae!=null)switch(c){case"name":g=ae;break;case"type":C=ae;break;case"checked":H=ae;break;case"defaultChecked":Z=ae;break;case"value":y=ae;break;case"defaultValue":L=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:Et(i,a,c,ae,l,null)}}Ca(i,y,L,H,Z,C,g,!1),Co(i);return;case"select":tt("invalid",i),c=C=y=null;for(g in l)if(l.hasOwnProperty(g)&&(L=l[g],L!=null))switch(g){case"value":y=L;break;case"defaultValue":C=L;break;case"multiple":c=L;default:Et(i,a,g,L,l,null)}a=y,l=C,i.multiple=!!c,a!=null?Fi(i,!!c,a,!1):l!=null&&Fi(i,!!c,l,!0);return;case"textarea":tt("invalid",i),y=g=c=null;for(C in l)if(l.hasOwnProperty(C)&&(L=l[C],L!=null))switch(C){case"value":c=L;break;case"defaultValue":g=L;break;case"children":y=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Et(i,a,C,L,l,null)}Ra(i,c,g,y),Co(i);return;case"option":for(H in l)if(l.hasOwnProperty(H)&&(c=l[H],c!=null))switch(H){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Et(i,a,H,c,l,null)}return;case"dialog":tt("beforetoggle",i),tt("toggle",i),tt("cancel",i),tt("close",i);break;case"iframe":case"object":tt("load",i);break;case"video":case"audio":for(c=0;c<Fu.length;c++)tt(Fu[c],i);break;case"image":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"embed":case"source":case"link":tt("error",i),tt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Et(i,a,Z,c,l,null)}return;default:if(ru(a)){for(ae in l)l.hasOwnProperty(ae)&&(c=l[ae],c!==void 0&&fg(i,a,ae,c,l,void 0));return}}for(L in l)l.hasOwnProperty(L)&&(c=l[L],c!=null&&Et(i,a,L,c,l,null))}function HI(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,C=null,L=null,H=null,Z=null,ae=null;for(te in l){var ce=l[te];if(l.hasOwnProperty(te)&&ce!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":H=ce;default:c.hasOwnProperty(te)||Et(i,a,te,null,c,ce)}}for(var ee in c){var te=c[ee];if(ce=l[ee],c.hasOwnProperty(ee)&&(te!=null||ce!=null))switch(ee){case"type":y=te;break;case"name":g=te;break;case"checked":Z=te;break;case"defaultChecked":ae=te;break;case"value":C=te;break;case"defaultValue":L=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:te!==ce&&Et(i,a,ee,te,c,ce)}}nr(i,C,L,H,Z,ae,y,g);return;case"select":te=C=L=ee=null;for(y in l)if(H=l[y],l.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":te=H;default:c.hasOwnProperty(y)||Et(i,a,y,null,c,H)}for(g in c)if(y=c[g],H=l[g],c.hasOwnProperty(g)&&(y!=null||H!=null))switch(g){case"value":ee=y;break;case"defaultValue":L=y;break;case"multiple":C=y;default:y!==H&&Et(i,a,g,y,c,H)}a=L,l=C,c=te,ee!=null?Fi(i,!!l,ee,!1):!!c!=!!l&&(a!=null?Fi(i,!!l,a,!0):Fi(i,!!l,l?[]:"",!1));return;case"textarea":te=ee=null;for(L in l)if(g=l[L],l.hasOwnProperty(L)&&g!=null&&!c.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Et(i,a,L,null,c,g)}for(C in c)if(g=c[C],y=l[C],c.hasOwnProperty(C)&&(g!=null||y!=null))switch(C){case"value":ee=g;break;case"defaultValue":te=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Et(i,a,C,g,c,y)}_t(i,ee,te);return;case"option":for(var ze in l)if(ee=l[ze],l.hasOwnProperty(ze)&&ee!=null&&!c.hasOwnProperty(ze))switch(ze){case"selected":i.selected=!1;break;default:Et(i,a,ze,null,c,ee)}for(H in c)if(ee=c[H],te=l[H],c.hasOwnProperty(H)&&ee!==te&&(ee!=null||te!=null))switch(H){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:Et(i,a,H,ee,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in l)ee=l[Le],l.hasOwnProperty(Le)&&ee!=null&&!c.hasOwnProperty(Le)&&Et(i,a,Le,null,c,ee);for(Z in c)if(ee=c[Z],te=l[Z],c.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:Et(i,a,Z,ee,c,te)}return;default:if(ru(a)){for(var xt in l)ee=l[xt],l.hasOwnProperty(xt)&&ee!==void 0&&!c.hasOwnProperty(xt)&&fg(i,a,xt,void 0,c,ee);for(ae in c)ee=c[ae],te=l[ae],!c.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||fg(i,a,ae,ee,c,te);return}}for(var Q in l)ee=l[Q],l.hasOwnProperty(Q)&&ee!=null&&!c.hasOwnProperty(Q)&&Et(i,a,Q,null,c,ee);for(ce in c)ee=c[ce],te=l[ce],!c.hasOwnProperty(ce)||ee===te||ee==null&&te==null||Et(i,a,ce,ee,c,te)}var hg=null,pg=null;function mf(i){return i.nodeType===9?i:i.ownerDocument}function Mw(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dw(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function mg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gg=null;function qI(){var i=window.event;return i&&i.type==="popstate"?i===gg?!1:(gg=i,!0):(gg=null,!1)}var Pw=typeof setTimeout=="function"?setTimeout:void 0,$I=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,GI=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(i){return kw.resolve(null).then(i).catch(YI)}:Pw;function YI(i){setTimeout(function(){throw i})}function Gs(i){return i==="head"}function Vw(i,a){var l=a,c=0,g=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var C=i.ownerDocument;if(l&1&&zu(C.documentElement),l&2&&zu(C.body),l&4)for(l=C.head,zu(l),C=l.firstChild;C;){var L=C.nextSibling,H=C.nodeName;C[xa]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&C.rel.toLowerCase()==="stylesheet"||l.removeChild(C),C=L}}if(g===0){i.removeChild(y),Xu(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Xu(a)}function vg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vg(l),Cs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function KI(i,a,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[xa])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=zr(i.nextSibling),i===null)break}return null}function QI(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=zr(i.nextSibling),i===null))return null;return i}function yg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function XI(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function zr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var bg=null;function Lw(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function jw(i,a,l){switch(a=mf(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function zu(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Cs(i)}var Nr=new Map,Uw=new Set;function gf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ss=re.d;re.d={f:WI,r:ZI,D:JI,C:eN,L:tN,m:nN,X:iN,S:rN,M:sN};function WI(){var i=ss.f(),a=of();return i||a}function ZI(i){var a=ei(i);a!==null&&a.tag===5&&a.type==="form"?s_(a):ss.r(i)}var ll=typeof document>"u"?null:document;function Fw(i,a,l){var c=ll;if(c&&typeof a=="string"&&a){var g=Kt(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Uw.has(g)||(Uw.add(g),i={rel:i,crossOrigin:l,href:a},c.querySelector(g)===null&&(a=c.createElement("link"),Tn(a,"link",i),Bt(a),c.head.appendChild(a)))}}function JI(i){ss.D(i),Fw("dns-prefetch",i,null)}function eN(i,a){ss.C(i,a),Fw("preconnect",i,a)}function tN(i,a,l){ss.L(i,a,l);var c=ll;if(c&&i&&a){var g='link[rel="preload"][as="'+Kt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Kt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Kt(l.imageSizes)+'"]')):g+='[href="'+Kt(i)+'"]';var y=g;switch(a){case"style":y=ul(i);break;case"script":y=cl(i)}Nr.has(y)||(i=m({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Nr.set(y,i),c.querySelector(g)!==null||a==="style"&&c.querySelector(Hu(y))||a==="script"&&c.querySelector(qu(y))||(a=c.createElement("link"),Tn(a,"link",i),Bt(a),c.head.appendChild(a)))}}function nN(i,a){ss.m(i,a);var l=ll;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Kt(c)+'"][href="'+Kt(i)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=cl(i)}if(!Nr.has(y)&&(i=m({rel:"modulepreload",href:i},a),Nr.set(y,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qu(y)))return}c=l.createElement("link"),Tn(c,"link",i),Bt(c),l.head.appendChild(c)}}}function rN(i,a,l){ss.S(i,a,l);var c=ll;if(c&&i){var g=Un(c).hoistableStyles,y=ul(i);a=a||"default";var C=g.get(y);if(!C){var L={loading:0,preload:null};if(C=c.querySelector(Hu(y)))L.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Nr.get(y))&&_g(i,l);var H=C=c.createElement("link");Bt(H),Tn(H,"link",i),H._p=new Promise(function(Z,ae){H.onload=Z,H.onerror=ae}),H.addEventListener("load",function(){L.loading|=1}),H.addEventListener("error",function(){L.loading|=2}),L.loading|=4,vf(C,a,c)}C={type:"stylesheet",instance:C,count:1,state:L},g.set(y,C)}}}function iN(i,a){ss.X(i,a);var l=ll;if(l&&i){var c=Un(l).hoistableScripts,g=cl(i),y=c.get(g);y||(y=l.querySelector(qu(g)),y||(i=m({src:i,async:!0},a),(a=Nr.get(g))&&wg(i,a),y=l.createElement("script"),Bt(y),Tn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function sN(i,a){ss.M(i,a);var l=ll;if(l&&i){var c=Un(l).hoistableScripts,g=cl(i),y=c.get(g);y||(y=l.querySelector(qu(g)),y||(i=m({src:i,async:!0,type:"module"},a),(a=Nr.get(g))&&wg(i,a),y=l.createElement("script"),Bt(y),Tn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function Bw(i,a,l,c){var g=(g=Ie.current)?gf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ul(l.href),l=Un(g).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ul(l.href);var y=Un(g).hoistableStyles,C=y.get(i);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,C),(y=g.querySelector(Hu(i)))&&!y._p&&(C.instance=y,C.state.loading=5),Nr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Nr.set(i,l),y||aN(g,i,l,C.state))),a&&c===null)throw Error(r(528,""));return C}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=cl(l),l=Un(g).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ul(i){return'href="'+Kt(i)+'"'}function Hu(i){return'link[rel="stylesheet"]['+i+"]"}function zw(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function aN(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Tn(a,"link",l),Bt(a),i.head.appendChild(a))}function cl(i){return'[src="'+Kt(i)+'"]'}function qu(i){return"script[async]"+i}function Hw(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Kt(l.href)+'"]');if(c)return a.instance=c,Bt(c),c;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Bt(c),Tn(c,"style",g),vf(c,l.precedence,i),a.instance=c;case"stylesheet":g=ul(l.href);var y=i.querySelector(Hu(g));if(y)return a.state.loading|=4,a.instance=y,Bt(y),y;c=zw(l),(g=Nr.get(g))&&_g(c,g),y=(i.ownerDocument||i).createElement("link"),Bt(y);var C=y;return C._p=new Promise(function(L,H){C.onload=L,C.onerror=H}),Tn(y,"link",c),a.state.loading|=4,vf(y,l.precedence,i),a.instance=y;case"script":return y=cl(l.src),(g=i.querySelector(qu(y)))?(a.instance=g,Bt(g),g):(c=l,(g=Nr.get(y))&&(c=m({},l),wg(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),Bt(g),Tn(g,"link",c),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,vf(c,l.precedence,i));return a.instance}function vf(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,C=0;C<c.length;C++){var L=c[C];if(L.dataset.precedence===a)y=L;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function _g(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function wg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var yf=null;function qw(i,a,l){if(yf===null){var c=new Map,g=yf=new Map;g.set(l,c)}else g=yf,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var y=l[g];if(!(y[xa]||y[nn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(a)||"";C=i+C;var L=c.get(C);L?L.push(y):c.set(C,[y])}}return c}function $w(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function oN(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Gw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var $u=null;function lN(){}function uN(i,a,l){if($u===null)throw Error(r(475));var c=$u;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=ul(l.href),y=i.querySelector(Hu(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=bf.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=y,Bt(y);return}y=i.ownerDocument||i,l=zw(l),(g=Nr.get(g))&&_g(l,g),y=y.createElement("link"),Bt(y);var C=y;C._p=new Promise(function(L,H){C.onload=L,C.onerror=H}),Tn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=bf.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function cN(){if($u===null)throw Error(r(475));var i=$u;return i.stylesheets&&i.count===0&&Eg(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&Eg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function bf(){if(this.count--,this.count===0){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var _f=null;function Eg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,_f=new Map,a.forEach(dN,i),_f=null,bf.call(i))}function dN(i,a){if(!(a.state.loading&4)){var l=_f.get(i);if(l)var c=l.get(null);else{l=new Map,_f.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var C=g[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),c=C)}c&&l.set(null,c)}g=a.instance,C=g.getAttribute("data-precedence"),y=l.get(C)||c,y===c&&l.set(null,g),l.set(C,g),this.count++,c=bf.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var Gu={$$typeof:M,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function fN(i,a,l,c,g,y,C,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Yw(i,a,l,c,g,y,C,L,H,Z,ae,ce){return i=new fN(i,a,l,C,L,H,Z,ce),a=1,y===!0&&(a|=24),y=ir(3,null,null,a),i.current=y,y.stateNode=i,a=rm(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},om(y),i}function Kw(i){return i?(i=Bo,i):Bo}function Qw(i,a,l,c,g,y){g=Kw(g),c.context===null?c.context=g:c.pendingContext=g,c=Ds(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Ps(i,c,a),l!==null&&(ur(l,i,a),Eu(l,i,a))}function Xw(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function xg(i,a){Xw(i,a),(i=i.alternate)&&Xw(i,a)}function Ww(i){if(i.tag===13){var a=Fo(i,67108864);a!==null&&ur(a,i,67108864),xg(i,67108864)}}var wf=!0;function hN(i,a,l,c){var g=$.T;$.T=null;var y=re.p;try{re.p=2,Sg(i,a,l,c)}finally{re.p=y,$.T=g}}function pN(i,a,l,c){var g=$.T;$.T=null;var y=re.p;try{re.p=8,Sg(i,a,l,c)}finally{re.p=y,$.T=g}}function Sg(i,a,l,c){if(wf){var g=Tg(c);if(g===null)dg(i,a,c,Ef,l),Jw(i,c);else if(gN(g,i,a,l,c))c.stopPropagation();else if(Jw(i,c),a&4&&-1<mN.indexOf(i)){for(;g!==null;){var y=ei(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=tr(y.pendingLanes);if(C!==0){var L=y;for(L.pendingLanes|=2,L.entangledLanes|=2;C;){var H=1<<31-vt(C);L.entanglements[1]|=H,C&=~H}pi(y),(yt&6)===0&&(sf=_n()+500,Uu(0))}}break;case 13:L=Fo(y,2),L!==null&&ur(L,y,2),of(),xg(y,2)}if(y=Tg(c),y===null&&dg(i,a,c,Ef,l),y===g)break;g=y}g!==null&&c.stopPropagation()}else dg(i,a,c,null,l)}}function Tg(i){return i=wr(i),Ag(i)}var Ef=null;function Ag(i){if(Ef=null,i=Li(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ef=i,null}function Zw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ni()){case Zr:return 2;case G:return 8;case J:case se:return 32;case ve:return 268435456;default:return 32}default:return 32}}var Cg=!1,Ys=null,Ks=null,Qs=null,Yu=new Map,Ku=new Map,Xs=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jw(i,a){switch(i){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Yu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(a.pointerId)}}function Qu(i,a,l,c,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},a!==null&&(a=ei(a),a!==null&&Ww(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function gN(i,a,l,c,g){switch(a){case"focusin":return Ys=Qu(Ys,i,a,l,c,g),!0;case"dragenter":return Ks=Qu(Ks,i,a,l,c,g),!0;case"mouseover":return Qs=Qu(Qs,i,a,l,c,g),!0;case"pointerover":var y=g.pointerId;return Yu.set(y,Qu(Yu.get(y)||null,i,a,l,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Ku.set(y,Qu(Ku.get(y)||null,i,a,l,c,g)),!0}return!1}function eE(i){var a=Li(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,ad(i.priority,function(){if(l.tag===13){var c=lr();c=Ss(c);var g=Fo(l,c);g!==null&&ur(g,l,c),xg(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xf(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Tg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Bi=c,l.target.dispatchEvent(c),Bi=null}else return a=ei(l),a!==null&&Ww(a),i.blockedOn=l,!1;a.shift()}return!0}function tE(i,a,l){xf(i)&&l.delete(a)}function vN(){Cg=!1,Ys!==null&&xf(Ys)&&(Ys=null),Ks!==null&&xf(Ks)&&(Ks=null),Qs!==null&&xf(Qs)&&(Qs=null),Yu.forEach(tE),Ku.forEach(tE)}function Sf(i,a){i.blockedOn===a&&(i.blockedOn=null,Cg||(Cg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vN)))}var Tf=null;function nE(i){Tf!==i&&(Tf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tf===i&&(Tf=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],g=i[a+2];if(typeof c!="function"){if(Ag(c||l)===null)continue;break}var y=ei(l);y!==null&&(i.splice(a,3),a-=3,Am(y,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function Xu(i){function a(H){return Sf(H,i)}Ys!==null&&Sf(Ys,i),Ks!==null&&Sf(Ks,i),Qs!==null&&Sf(Qs,i),Yu.forEach(a),Ku.forEach(a);for(var l=0;l<Xs.length;l++){var c=Xs[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Xs.length&&(l=Xs[0],l.blockedOn===null);)eE(l),l.blockedOn===null&&Xs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],y=l[c+1],C=g[Yt]||null;if(typeof y=="function")C||nE(l);else if(C){var L=null;if(y&&y.hasAttribute("formAction")){if(g=y,C=y[Yt]||null)L=C.formAction;else if(Ag(g)!==null)continue}else L=C.action;typeof L=="function"?l[c+1]=L:(l.splice(c,3),c-=3),nE(l)}}}function Rg(i){this._internalRoot=i}Af.prototype.render=Rg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=lr();Qw(l,c,i,a,null,null)},Af.prototype.unmount=Rg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Qw(i.current,2,null,i,null,null),of(),a[br]=null}};function Af(i){this._internalRoot=i}Af.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ts();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Xs.length&&a!==0&&a<Xs[l].priority;l++);Xs.splice(l,0,i),l===0&&eE(i)}};var rE=e.version;if(rE!=="19.1.0")throw Error(r(527,rE,"19.1.0"));re.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var yN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{xe=Cf.inject(yN),Ne=Cf}catch{}}return Zu.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",g=b_,y=__,C=w_,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(L=a.unstable_transitionCallbacks)),a=Yw(i,1,!1,null,null,l,c,g,y,C,L,null),i[br]=a.current,cg(i),new Rg(a)},Zu.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,g="",y=b_,C=__,L=w_,H=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(H=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),a=Yw(i,1,!0,a,l??null,c,g,y,C,L,H,Z),a.context=Kw(null),l=a.current,c=lr(),c=Ss(c),g=Ds(c),g.callback=null,Ps(l,g,c),l=c,a.current.lanes=l,Vi(a,l),pi(a),i[br]=a.current,cg(i),new Af(a)},Zu.version="19.1.0",Zu}var pE;function RN(){if(pE)return Og.exports;pE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Og.exports=CN(),Og.exports}var IN=RN();const NN=sT(IN);var Ju={},mE;function ON(){if(mE)return Ju;mE=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.parse=u,Ju.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,x){const E=new o,A=_.length;if(A<2)return E;const I=(x==null?void 0:x.decode)||m;let R=0;do{const T=_.indexOf("=",R);if(T===-1)break;const M=_.indexOf(";",R),z=M===-1?A:M;if(T>z){R=_.lastIndexOf(";",T-1)+1;continue}const j=d(_,R,T),Y=f(_,T,j),P=_.slice(j,Y);if(E[P]===void 0){let N=d(_,T+1,z),O=f(_,z,N);const V=I(_.slice(N,O));E[P]=V}R=z+1}while(R<A);return E}function d(_,x,E){do{const A=_.charCodeAt(x);if(A!==32&&A!==9)return x}while(++x<E);return E}function f(_,x,E){for(;x>E;){const A=_.charCodeAt(--x);if(A!==32&&A!==9)return x+1}return E}function h(_,x,E){const A=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=A(x);if(!e.test(I))throw new TypeError(`argument val is invalid: ${x}`);let R=_+"="+I;if(!E)return R;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);R+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);R+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);R+="; Path="+E.path}if(E.expires){if(!b(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);R+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(R+="; HttpOnly"),E.secure&&(R+="; Secure"),E.partitioned&&(R+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return R}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return s.call(_)==="[object Date]"}return Ju}ON();var gE="popstate";function MN(n={}){function e(r,s){let{pathname:o,search:u,hash:d}=r.location;return mv("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Tc(s)}return PN(e,t,null,n)}function Mt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DN(){return Math.random().toString(36).substring(2,10)}function vE(n,e){return{usr:n.state,key:n.key,idx:e}}function mv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?jl(e):e,state:t,key:e&&e.key||r||DN()}}function Tc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function jl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function PN(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,d="POP",f=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function b(){d="POP";let I=m(),R=I==null?null:I-h;h=I,f&&f({action:d,location:A.location,delta:R})}function _(I,R){d="PUSH";let T=mv(A.location,I,R);h=m()+1;let M=vE(T,h),z=A.createHref(T);try{u.pushState(M,"",z)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(z)}o&&f&&f({action:d,location:A.location,delta:1})}function x(I,R){d="REPLACE";let T=mv(A.location,I,R);h=m();let M=vE(T,h),z=A.createHref(T);u.replaceState(M,"",z),o&&f&&f({action:d,location:A.location,delta:0})}function E(I){return kN(I)}let A={get action(){return d},get location(){return n(s,u)},listen(I){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(gE,b),f=I,()=>{s.removeEventListener(gE,b),f=null}},createHref(I){return e(s,I)},createURL:E,encodeLocation(I){let R=E(I);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:_,replace:x,go(I){return u.go(I)}};return A}function kN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Mt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Tc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function oT(n,e,t="/"){return VN(n,e,t,!1)}function VN(n,e,t,r){let s=typeof e=="string"?jl(e):e,o=ps(s.pathname||"/",t);if(o==null)return null;let u=lT(n);LN(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=KN(o);d=GN(u[f],h,r)}return d}function lT(n,e=[],t=[],r=""){let s=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(Mt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=cs([r,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(Mt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),lT(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:qN(h,o.index),routesMeta:m})};return n.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,u);else for(let f of uT(o.path))s(o,u,f)}),e}function uT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=uT(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function LN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:$N(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var jN=/^:[\w-]+$/,UN=3,FN=2,BN=1,zN=10,HN=-2,yE=n=>n==="*";function qN(n,e){let t=n.split("/"),r=t.length;return t.some(yE)&&(r+=HN),e&&(r+=FN),t.filter(s=>!yE(s)).reduce((s,o)=>s+(jN.test(o)?UN:o===""?BN:zN),r)}function $N(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function GN(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",b=lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),_=f.route;if(!b&&h&&t&&!r[r.length-1].route.index&&(b=lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!b)return null;Object.assign(s,b.params),u.push({params:s,pathname:cs([o,b.pathname]),pathnameBase:ZN(cs([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=cs([o,b.pathnameBase]))}return u}function lh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=YN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:b},_)=>{if(m==="*"){let E=d[_]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const x=d[_];return b&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:n}}function YN(n,e=!1,t=!0){Dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function KN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ps(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function QN(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?jl(n):n;return{pathname:t?t.startsWith("/")?t:XN(t,e):e,search:JN(r),hash:e2(s)}}function XN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function kg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function cy(n){let e=WN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function dy(n,e,t,r=!1){let s;typeof n=="string"?s=jl(n):(s={...n},Mt(!s.pathname||!s.pathname.includes("?"),kg("?","pathname","search",s)),Mt(!s.pathname||!s.pathname.includes("#"),kg("#","pathname","hash",s)),Mt(!s.search||!s.search.includes("#"),kg("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=t;else{let b=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;s.pathname=_.join("/")}d=b>=0?e[b]:"/"}let f=QN(s,d),h=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var cs=n=>n.join("/").replace(/\/\/+/g,"/"),ZN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),JN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,e2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function t2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var cT=["POST","PUT","PATCH","DELETE"];new Set(cT);var n2=["GET",...cT];new Set(n2);var Ul=D.createContext(null);Ul.displayName="DataRouter";var Xh=D.createContext(null);Xh.displayName="DataRouterState";var dT=D.createContext({isTransitioning:!1});dT.displayName="ViewTransition";var r2=D.createContext(new Map);r2.displayName="Fetchers";var i2=D.createContext(null);i2.displayName="Await";var Xr=D.createContext(null);Xr.displayName="Navigation";var Bc=D.createContext(null);Bc.displayName="Location";var Pr=D.createContext({outlet:null,matches:[],isDataRoute:!1});Pr.displayName="Route";var fy=D.createContext(null);fy.displayName="RouteError";function s2(n,{relative:e}={}){Mt(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=D.useContext(Xr),{hash:s,pathname:o,search:u}=zc(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:cs([t,o])),r.createHref({pathname:d,search:u,hash:s})}function Fl(){return D.useContext(Bc)!=null}function ws(){return Mt(Fl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Bc).location}var fT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function hT(n){D.useContext(Xr).static||D.useLayoutEffect(n)}function tn(){let{isDataRoute:n}=D.useContext(Pr);return n?w2():a2()}function a2(){Mt(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(Ul),{basename:e,navigator:t}=D.useContext(Xr),{matches:r}=D.useContext(Pr),{pathname:s}=ws(),o=JSON.stringify(cy(r)),u=D.useRef(!1);return hT(()=>{u.current=!0}),D.useCallback((f,h={})=>{if(Dr(u.current,fT),!u.current)return;if(typeof f=="number"){t.go(f);return}let m=dy(f,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:cs([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,s,n])}var o2=D.createContext(null);function l2(n){let e=D.useContext(Pr).outlet;return e&&D.createElement(o2.Provider,{value:n},e)}function u2(){let{matches:n}=D.useContext(Pr),e=n[n.length-1];return e?e.params:{}}function zc(n,{relative:e}={}){let{matches:t}=D.useContext(Pr),{pathname:r}=ws(),s=JSON.stringify(cy(t));return D.useMemo(()=>dy(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function c2(n,e){return pT(n,e)}function pT(n,e,t,r){var R;Mt(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=D.useContext(Xr),{matches:o}=D.useContext(Pr),u=o[o.length-1],d=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let T=m&&m.path||"";mT(f,!m||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=ws(),_;if(e){let T=typeof e=="string"?jl(e):e;Mt(h==="/"||((R=T.pathname)==null?void 0:R.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${T.pathname}" was given in the \`location\` prop.`),_=T}else _=b;let x=_.pathname||"/",E=x;if(h!=="/"){let T=h.replace(/^\//,"").split("/");E="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=oT(n,{pathname:E});Dr(m||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Dr(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=m2(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},d,T.params),pathname:cs([h,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?h:cs([h,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),o,t,r);return e&&I?D.createElement(Bc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function d2(){let n=_2(),e=t2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:s},t):null,u)}var f2=D.createElement(d2,null),h2=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?D.createElement(Pr.Provider,{value:this.props.routeContext},D.createElement(fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function p2({routeContext:n,match:e,children:t}){let r=D.useContext(Ul);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Pr.Provider,{value:n},t)}function m2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let f=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Mt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:b}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||_){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,h,m)=>{let b,_=!1,x=null,E=null;t&&(b=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||f2,u&&(d<0&&m===0?(mT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):d===m&&(_=!0,E=h.route.hydrateFallbackElement||null)));let A=e.concat(s.slice(0,m+1)),I=()=>{let R;return b?R=x:_?R=E:h.route.Component?R=D.createElement(h.route.Component,null):h.route.element?R=h.route.element:R=f,D.createElement(p2,{match:h,routeContext:{outlet:f,matches:A,isDataRoute:t!=null},children:R})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?D.createElement(h2,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:I(),routeContext:{outlet:null,matches:A,isDataRoute:!0}}):I()},null)}function hy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g2(n){let e=D.useContext(Ul);return Mt(e,hy(n)),e}function v2(n){let e=D.useContext(Xh);return Mt(e,hy(n)),e}function y2(n){let e=D.useContext(Pr);return Mt(e,hy(n)),e}function py(n){let e=y2(n),t=e.matches[e.matches.length-1];return Mt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function b2(){return py("useRouteId")}function _2(){var r;let n=D.useContext(fy),e=v2("useRouteError"),t=py("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function w2(){let{router:n}=g2("useNavigate"),e=py("useNavigate"),t=D.useRef(!1);return hT(()=>{t.current=!0}),D.useCallback(async(s,o={})=>{Dr(t.current,fT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var bE={};function mT(n,e,t){!e&&!bE[n]&&(bE[n]=!0,Dr(!1,t))}D.memo(E2);function E2({routes:n,future:e,state:t}){return pT(n,void 0,t,e)}function x2({to:n,replace:e,state:t,relative:r}){Mt(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=D.useContext(Xr);Dr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(Pr),{pathname:u}=ws(),d=tn(),f=dy(n,cy(o),u,r==="path"),h=JSON.stringify(f);return D.useEffect(()=>{d(JSON.parse(h),{replace:e,state:t,relative:r})},[d,h,r,e,t]),null}function gT(n){return l2(n.context)}function Wt(n){Mt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function S2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Mt(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=jl(t));let{pathname:f="/",search:h="",hash:m="",state:b=null,key:_="default"}=t,x=D.useMemo(()=>{let E=ps(f,u);return E==null?null:{location:{pathname:E,search:h,hash:m,state:b,key:_},navigationType:r}},[u,f,h,m,b,_,r]);return Dr(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:D.createElement(Xr.Provider,{value:d},D.createElement(Bc.Provider,{children:e,value:x}))}function T2({children:n,location:e}){return c2(gv(n),e)}function gv(n,e=[]){let t=[];return D.Children.forEach(n,(r,s)=>{if(!D.isValidElement(r))return;let o=[...e,s];if(r.type===D.Fragment){t.push.apply(t,gv(r.props.children,o));return}Mt(r.type===Wt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=gv(r.props.children,o)),t.push(u)}),t}var qf="get",$f="application/x-www-form-urlencoded";function Wh(n){return n!=null&&typeof n.tagName=="string"}function A2(n){return Wh(n)&&n.tagName.toLowerCase()==="button"}function C2(n){return Wh(n)&&n.tagName.toLowerCase()==="form"}function R2(n){return Wh(n)&&n.tagName.toLowerCase()==="input"}function I2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function N2(n,e){return n.button===0&&(!e||e==="_self")&&!I2(n)}function vv(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function O2(n,e){let t=vv(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var Rf=null;function M2(){if(Rf===null)try{new FormData(document.createElement("form"),0),Rf=!1}catch{Rf=!0}return Rf}var D2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(n){return n!=null&&!D2.has(n)?(Dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$f}"`),null):n}function P2(n,e){let t,r,s,o,u;if(C2(n)){let d=n.getAttribute("action");r=d?ps(d,e):null,t=n.getAttribute("method")||qf,s=Vg(n.getAttribute("enctype"))||$f,o=new FormData(n)}else if(A2(n)||R2(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?ps(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||qf,s=Vg(n.getAttribute("formenctype"))||Vg(d.getAttribute("enctype"))||$f,o=new FormData(d,n),!M2()){let{name:h,type:m,value:b}=n;if(m==="image"){let _=h?`${h}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else h&&o.append(h,b)}}else{if(Wh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qf,r=null,s=$f,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function my(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function k2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function V2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function L2(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await k2(o,t);return u.links?u.links():[]}return[]}));return B2(r.flat(1).filter(V2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function _E(n,e,t,r,s,o){let u=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,d=(f,h)=>{var m;return t[h].pathname!==f.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>u(f,h)||d(f,h)):o==="data"?e.filter((f,h)=>{var b;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function j2(n,e,{includeHydrateFallback:t}={}){return U2(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function U2(n){return[...new Set(n)]}function F2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function B2(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(F2(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z2=new Set([100,101,204,205]);function H2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ps(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function vT(){let n=D.useContext(Ul);return my(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function q2(){let n=D.useContext(Xh);return my(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var gy=D.createContext(void 0);gy.displayName="FrameworkContext";function yT(){let n=D.useContext(gy);return my(n,"You must render this element inside a <HydratedRouter> element"),n}function $2(n,e){let t=D.useContext(gy),[r,s]=D.useState(!1),[o,u]=D.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:b}=e,_=D.useRef(null);D.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let A=R=>{R.forEach(T=>{u(T.isIntersecting)})},I=new IntersectionObserver(A,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[n]),D.useEffect(()=>{if(r){let A=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(A)}}},[r]);let x=()=>{s(!0)},E=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:ec(d,x),onBlur:ec(f,E),onMouseEnter:ec(h,x),onMouseLeave:ec(m,E),onTouchStart:ec(b,x)}]:[!1,_,{}]}function ec(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function G2({page:n,...e}){let{router:t}=vT(),r=D.useMemo(()=>oT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?D.createElement(K2,{page:n,matches:r,...e}):null}function Y2(n){let{manifest:e,routeModules:t}=yT(),[r,s]=D.useState([]);return D.useEffect(()=>{let o=!1;return L2(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function K2({page:n,matches:e,...t}){let r=ws(),{manifest:s,routeModules:o}=yT(),{basename:u}=vT(),{loaderData:d,matches:f}=q2(),h=D.useMemo(()=>_E(n,e,f,s,r,"data"),[n,e,f,s,r]),m=D.useMemo(()=>_E(n,e,f,s,r,"assets"),[n,e,f,s,r]),b=D.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,A=!1;if(e.forEach(R=>{var M;let T=s.routes[R.route.id];!T||!T.hasLoader||(!h.some(z=>z.route.id===R.route.id)&&R.route.id in d&&((M=o[R.route.id])!=null&&M.shouldRevalidate)||T.hasClientLoader?A=!0:E.add(R.route.id))}),E.size===0)return[];let I=H2(n,u);return A&&E.size>0&&I.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[I.pathname+I.search]},[u,d,r,s,h,e,n,o]),_=D.useMemo(()=>j2(m,s),[m,s]),x=Y2(m);return D.createElement(D.Fragment,null,b.map(E=>D.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),_.map(E=>D.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),x.map(({key:E,link:A})=>D.createElement("link",{key:E,...A})))}function Q2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bT&&(window.__reactRouterVersion="7.6.2")}catch{}function X2({basename:n,children:e,window:t}){let r=D.useRef();r.current==null&&(r.current=MN({window:t,v5Compat:!0}));let s=r.current,[o,u]=D.useState({action:s.action,location:s.location}),d=D.useCallback(f=>{D.startTransition(()=>u(f))},[u]);return D.useLayoutEffect(()=>s.listen(d),[s,d]),D.createElement(S2,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var _T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yl=D.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:d,target:f,to:h,preventScrollReset:m,viewTransition:b,..._},x){let{basename:E}=D.useContext(Xr),A=typeof h=="string"&&_T.test(h),I,R=!1;if(typeof h=="string"&&A&&(I=h,bT))try{let O=new URL(window.location.href),V=h.startsWith("//")?new URL(O.protocol+h):new URL(h),U=ps(V.pathname,E);V.origin===O.origin&&U!=null?h=U+V.search+V.hash:R=!0}catch{Dr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=s2(h,{relative:s}),[M,z,j]=$2(r,_),Y=eO(h,{replace:u,state:d,target:f,preventScrollReset:m,relative:s,viewTransition:b});function P(O){e&&e(O),O.defaultPrevented||Y(O)}let N=D.createElement("a",{..._,...j,href:I||T,onClick:R||o?e:P,ref:Q2(x,z),target:f,"data-discover":!A&&t==="render"?"true":void 0});return M&&!A?D.createElement(D.Fragment,null,N,D.createElement(G2,{page:T})):N});yl.displayName="Link";var W2=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:d,children:f,...h},m){let b=zc(u,{relative:h.relative}),_=ws(),x=D.useContext(Xh),{navigator:E,basename:A}=D.useContext(Xr),I=x!=null&&sO(b)&&d===!0,R=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,T=_.pathname,M=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(T=T.toLowerCase(),M=M?M.toLowerCase():null,R=R.toLowerCase()),M&&A&&(M=ps(M,A)||M);const z=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let j=T===R||!s&&T.startsWith(R)&&T.charAt(z)==="/",Y=M!=null&&(M===R||!s&&M.startsWith(R)&&M.charAt(R.length)==="/"),P={isActive:j,isPending:Y,isTransitioning:I},N=j?e:void 0,O;typeof r=="function"?O=r(P):O=[r,j?"active":null,Y?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(P):o;return D.createElement(yl,{...h,"aria-current":N,className:O,ref:m,style:V,to:u,viewTransition:d},typeof f=="function"?f(P):f)});W2.displayName="NavLink";var Z2=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=qf,action:d,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:b,..._},x)=>{let E=rO(),A=iO(d,{relative:h}),I=u.toLowerCase()==="get"?"get":"post",R=typeof d=="string"&&_T.test(d),T=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,j=(z==null?void 0:z.getAttribute("formmethod"))||u;E(z||M.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:b})};return D.createElement("form",{ref:x,method:I,action:A,onSubmit:r?f:T,..._,"data-discover":!R&&n==="render"?"true":void 0})});Z2.displayName="Form";function J2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(n){let e=D.useContext(Ul);return Mt(e,J2(n)),e}function eO(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=tn(),f=ws(),h=zc(n,{relative:o});return D.useCallback(m=>{if(N2(m,e)){m.preventDefault();let b=t!==void 0?t:Tc(f)===Tc(h);d(n,{replace:b,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,d,h,t,r,e,n,s,o,u])}function vy(n){Dr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(vv(n)),t=D.useRef(!1),r=ws(),s=D.useMemo(()=>O2(r.search,t.current?null:e.current),[r.search]),o=tn(),u=D.useCallback((d,f)=>{const h=vv(typeof d=="function"?d(s):d);t.current=!0,o("?"+h,f)},[o,s]);return[s,u]}var tO=0,nO=()=>`__${String(++tO)}__`;function rO(){let{router:n}=wT("useSubmit"),{basename:e}=D.useContext(Xr),t=b2();return D.useCallback(async(r,s={})=>{let{action:o,method:u,encType:d,formData:f,body:h}=P2(r,e);if(s.navigate===!1){let m=s.fetcherKey||nO();await n.fetch(m,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function iO(n,{relative:e}={}){let{basename:t}=D.useContext(Xr),r=D.useContext(Pr);Mt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...zc(n||".",{relative:e})},u=ws();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let m=d.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:cs([t,o.pathname])),Tc(o)}function sO(n,e={}){let t=D.useContext(dT);Mt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wT("useViewTransitionState"),s=zc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ps(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ps(t.nextLocation.pathname,r)||t.nextLocation.pathname;return lh(s.pathname,u)!=null||lh(s.pathname,o)!=null}[...z2];var aO=aT();const oO=()=>{};var wE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},lO=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},xT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,h=f?n[s+2]:0,m=o>>2,b=(o&3)<<4|d>>4;let _=(d&15)<<2|h>>6,x=h&63;f||(x=64,u||(_=64)),r.push(t[m],t[b],t[_],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ET(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||d==null||h==null||b==null)throw new uO;const _=o<<2|d>>4;if(r.push(_),h!==64){const x=d<<4&240|h>>2;if(r.push(x),b!==64){const E=h<<6&192|b;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cO=function(n){const e=ET(n);return xT.encodeByteArray(e,!0)},uh=function(n){return cO(n).replace(/\./g,"")},ST=function(n){try{return xT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=()=>dO().__FIREBASE_DEFAULTS__,hO=()=>{if(typeof process>"u"||typeof wE>"u")return;const n=wE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ST(n[1]);return e&&JSON.parse(e)},Zh=()=>{try{return oO()||fO()||hO()||pO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},TT=n=>{var e,t;return(t=(e=Zh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},AT=n=>{const e=TT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},CT=()=>{var n;return(n=Zh())===null||n===void 0?void 0:n.config},RT=n=>{var e;return(e=Zh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(n){return n.endsWith(".cloudworkstations.dev")}async function yy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[uh(JSON.stringify(t)),uh(JSON.stringify(u)),""].join(".")}const mc={};function gO(){const n={prod:[],emulator:[]};for(const e of Object.keys(mc))mc[e]?n.emulator.push(e):n.prod.push(e);return n}function vO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let EE=!1;function by(n,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||mc[n]===e||mc[n]||EE)return;mc[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=gO().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{EE=!0,u()},_}function m(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=vO(r),x=t("text"),E=document.getElementById(x)||document.createElement("span"),A=t("learnmore"),I=document.getElementById(A)||document.createElement("a"),R=t("preprendIcon"),T=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const M=_.element;d(M),m(I,A);const z=h();f(T,R),M.append(T,E,I,z),document.body.appendChild(M)}o?(E.innerText="Preview backend disconnected.",T.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(T.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jn())}function bO(){var n;const e=(n=Zh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _O(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function EO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xO(){const n=jn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function SO(){return!bO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TO(){try{return typeof indexedDB=="object"}catch{return!1}}function AO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="FirebaseError";class Ri extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CO,Object.setPrototypeOf(this,Ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hc.prototype.create)}}class Hc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?RO(o,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Ri(s,d,r)}}function RO(n,e){return n.replace(IO,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const IO=/\{\$([^}]+)}/g;function NO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function so(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(xE(o)&&xE(u)){if(!so(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function xE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function lc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function OO(n,e){const t=new MO(n,e);return t.subscribe.bind(t)}class MO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");DO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Lg),s.error===void 0&&(s.error=Lg),s.complete===void 0&&(s.complete=Lg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(n){return n&&n._delegate?n._delegate:n}class da{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new mO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VO(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kO(n){return n===Ja?void 0:n}function VO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new PO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nt||(nt={}));const jO={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},UO=nt.INFO,FO={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},BO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=FO[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _y{constructor(e){this.name=e,this._logLevel=UO,this._logHandler=BO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const zO=(n,e)=>e.some(t=>n instanceof t);let SE,TE;function HO(){return SE||(SE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qO(){return TE||(TE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NT=new WeakMap,yv=new WeakMap,OT=new WeakMap,jg=new WeakMap,wy=new WeakMap;function $O(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(oa(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&NT.set(t,n)}).catch(()=>{}),wy.set(e,n),e}function GO(n){if(yv.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});yv.set(n,e)}let bv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||OT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return oa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YO(n){bv=n(bv)}function KO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ug(this),e,...t);return OT.set(r,e.sort?e.sort():[e]),oa(r)}:qO().includes(n)?function(...e){return n.apply(Ug(this),e),oa(NT.get(this))}:function(...e){return oa(n.apply(Ug(this),e))}}function QO(n){return typeof n=="function"?KO(n):(n instanceof IDBTransaction&&GO(n),zO(n,HO())?new Proxy(n,bv):n)}function oa(n){if(n instanceof IDBRequest)return $O(n);if(jg.has(n))return jg.get(n);const e=QO(n);return e!==n&&(jg.set(n,e),wy.set(e,n)),e}const Ug=n=>wy.get(n);function XO(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),d=oa(u);return r&&u.addEventListener("upgradeneeded",f=>{r(oa(u.result),f.oldVersion,f.newVersion,oa(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const WO=["get","getKey","getAll","getAllKeys","count"],ZO=["put","add","delete","clear"],Fg=new Map;function AE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Fg.get(e))return Fg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=ZO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||WO.includes(t)))return;const o=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[t](...d),s&&f.done]))[0]};return Fg.set(e,o),o}YO(n=>({...n,get:(e,t,r)=>AE(e,t)||n.get(e,t,r),has:(e,t)=>!!AE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function eM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _v="@firebase/app",CE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new _y("@firebase/app"),tM="@firebase/app-compat",nM="@firebase/analytics-compat",rM="@firebase/analytics",iM="@firebase/app-check-compat",sM="@firebase/app-check",aM="@firebase/auth",oM="@firebase/auth-compat",lM="@firebase/database",uM="@firebase/data-connect",cM="@firebase/database-compat",dM="@firebase/functions",fM="@firebase/functions-compat",hM="@firebase/installations",pM="@firebase/installations-compat",mM="@firebase/messaging",gM="@firebase/messaging-compat",vM="@firebase/performance",yM="@firebase/performance-compat",bM="@firebase/remote-config",_M="@firebase/remote-config-compat",wM="@firebase/storage",EM="@firebase/storage-compat",xM="@firebase/firestore",SM="@firebase/ai",TM="@firebase/firestore-compat",AM="firebase",CM="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="[DEFAULT]",RM={[_v]:"fire-core",[tM]:"fire-core-compat",[rM]:"fire-analytics",[nM]:"fire-analytics-compat",[sM]:"fire-app-check",[iM]:"fire-app-check-compat",[aM]:"fire-auth",[oM]:"fire-auth-compat",[lM]:"fire-rtdb",[uM]:"fire-data-connect",[cM]:"fire-rtdb-compat",[dM]:"fire-fn",[fM]:"fire-fn-compat",[hM]:"fire-iid",[pM]:"fire-iid-compat",[mM]:"fire-fcm",[gM]:"fire-fcm-compat",[vM]:"fire-perf",[yM]:"fire-perf-compat",[bM]:"fire-rc",[_M]:"fire-rc-compat",[wM]:"fire-gcs",[EM]:"fire-gcs-compat",[xM]:"fire-fst",[TM]:"fire-fst-compat",[SM]:"fire-vertex","fire-js":"fire-js",[AM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,IM=new Map,Ev=new Map;function RE(n,e){try{n.container.addComponent(e)}catch(t){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ao(n){const e=n.name;if(Ev.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;Ev.set(e,n);for(const t of ch.values())RE(t,n);for(const t of IM.values())RE(t,n);return!0}function Jh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},la=new Hc("app","Firebase",NM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw la.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=CM;function MT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw la.create("bad-app-name",{appName:String(s)});if(t||(t=CT()),!t)throw la.create("no-options");const o=ch.get(s);if(o){if(so(t,o.options)&&so(r,o.config))return o;throw la.create("duplicate-app",{appName:s})}const u=new LO(s);for(const f of Ev.values())u.addComponent(f);const d=new OM(t,r,u);return ch.set(s,d),d}function Ey(n=wv){const e=ch.get(n);if(!e&&n===wv&&CT())return MT();if(!e)throw la.create("no-app",{appName:n});return e}function wi(n,e,t){var r;let s=(r=RM[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(d.join(" "));return}ao(new da(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM="firebase-heartbeat-database",DM=1,Ac="firebase-heartbeat-store";let Bg=null;function DT(){return Bg||(Bg=XO(MM,DM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ac)}catch(t){console.warn(t)}}}}).catch(n=>{throw la.create("idb-open",{originalErrorMessage:n.message})})),Bg}async function PM(n){try{const t=(await DT()).transaction(Ac),r=await t.objectStore(Ac).get(PT(n));return await t.done,r}catch(e){if(e instanceof Ri)ms.warn(e.message);else{const t=la.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ms.warn(t.message)}}}async function IE(n,e){try{const r=(await DT()).transaction(Ac,"readwrite");await r.objectStore(Ac).put(e,PT(n)),await r.done}catch(t){if(t instanceof Ri)ms.warn(t.message);else{const r=la.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ms.warn(r.message)}}}function PT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=1024,VM=30;class LM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=NE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>VM){const u=FM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=NE(),{heartbeatsToSend:r,unsentEntries:s}=jM(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ms.warn(t),""}}}function NE(){return new Date().toISOString().substring(0,10)}function jM(n,e=kM){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),OE(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),OE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class UM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TO()?AO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await PM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return IE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return IE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function OE(n){return uh(JSON.stringify({version:2,heartbeats:n})).length}function FM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(n){ao(new da("platform-logger",e=>new JO(e),"PRIVATE")),ao(new da("heartbeat",e=>new LM(e),"PRIVATE")),wi(_v,CE,n),wi(_v,CE,"esm2017"),wi("fire-js","")}BM("");var zM="firebase",HM="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(zM,HM,"app");function xy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function kT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qM=kT,VT=new Hc("auth","Firebase",kT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new _y("@firebase/auth");function $M(n,...e){dh.logLevel<=nt.WARN&&dh.warn(`Auth (${vo}): ${n}`,...e)}function Gf(n,...e){dh.logLevel<=nt.ERROR&&dh.error(`Auth (${vo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(n,...e){throw Sy(n,...e)}function Ei(n,...e){return Sy(n,...e)}function LT(n,e,t){const r=Object.assign(Object.assign({},qM()),{[e]:t});return new Hc("auth","Firebase",r).create(e,{appName:n.name})}function ds(n){return LT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return VT.create(n,...e)}function De(n,e,...t){if(!n)throw Sy(e,...t)}function ls(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gf(e),new Error(e)}function gs(n,e){n||ls(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function GM(){return ME()==="http:"||ME()==="https:"}function ME(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GM()||wO()||"connection"in navigator)?navigator.onLine:!0}function KM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.shortDelay=e,this.longDelay=t,gs(t>e,"Short delay should be less than long delay!"),this.isMobile=yO()||EO()}get(){return YM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(n,e){gs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WM=new $c(3e4,6e4);function Wr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function kr(n,e,t,r,s={}){return UT(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=qc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:f},o);return _O()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&go(n.emulatorConfig.host)&&(h.credentials="include"),jT.fetch()(await FT(n,n.config.apiHost,t,d),h)})}async function UT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},QM),e);try{const s=new JM(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw If(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw If(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw If(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw If(n,"user-disabled",u);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw LT(n,m,h);Yr(n,m)}}catch(s){if(s instanceof Ri)throw s;Yr(n,"network-request-failed",{message:String(s)})}}async function Gc(n,e,t,r,s={}){const o=await kr(n,e,t,r,s);return"mfaPendingCredential"in o&&Yr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function FT(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?Ty(n.config,s):`${n.config.apiScheme}://${s}`;return XM.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function ZM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class JM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),WM.get())})}}function If(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ei(n,e,r);return s.customData._tokenResponse=t,s}function DE(n){return n!==void 0&&n.enterprise!==void 0}class eD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ZM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tD(n,e){return kr(n,"GET","/v2/recaptchaConfig",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(n,e){return kr(n,"POST","/v1/accounts:delete",e)}async function fh(n,e){return kr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rD(n,e=!1){const t=Ct(n),r=await t.getIdToken(e),s=Ay(r);De(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:gc(zg(s.auth_time)),issuedAtTime:gc(zg(s.iat)),expirationTime:gc(zg(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zg(n){return Number(n)*1e3}function Ay(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const s=ST(t);return s?JSON.parse(s):(Gf("Failed to decode base64 JWT payload"),null)}catch(s){return Gf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function PE(n){const e=Ay(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ri&&iD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function iD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Rl(n,fh(t,{idToken:r}));De(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?BT(o.providerUserInfo):[],d=oD(n.providerData,u),f=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),m=f?h:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Sv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,b)}async function aD(n){const e=Ct(n);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oD(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function BT(n){return n.map(e=>{var{providerId:t}=e,r=xy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(n,e){const t=await UT(n,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await FT(n,s,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",jT.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uD(n,e){return kr(n,"POST","/v2/accounts:revokeToken",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=PE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await lD(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new wl;return r&&(De(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(De(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class $r{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=xy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Sv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Rl(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rD(this,e)}reload(){return aD(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new $r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(ds(this.auth));const e=await this.getIdToken();return await Rl(this,nD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,d,f,h,m;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,x=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(u=t.photoURL)!==null&&u!==void 0?u:void 0,A=(d=t.tenantId)!==null&&d!==void 0?d:void 0,I=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,R=(h=t.createdAt)!==null&&h!==void 0?h:void 0,T=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:M,emailVerified:z,isAnonymous:j,providerData:Y,stsTokenManager:P}=t;De(M&&P,e,"internal-error");const N=wl.fromJSON(this.name,P);De(typeof M=="string",e,"internal-error"),Zs(b,e.name),Zs(_,e.name),De(typeof z=="boolean",e,"internal-error"),De(typeof j=="boolean",e,"internal-error"),Zs(x,e.name),Zs(E,e.name),Zs(A,e.name),Zs(I,e.name),Zs(R,e.name),Zs(T,e.name);const O=new $r({uid:M,auth:e,email:_,emailVerified:z,displayName:b,isAnonymous:j,photoURL:E,phoneNumber:x,tenantId:A,stsTokenManager:N,createdAt:R,lastLoginAt:T});return Y&&Array.isArray(Y)&&(O.providerData=Y.map(V=>Object.assign({},V))),I&&(O._redirectEventId=I),O}static async _fromIdTokenResponse(e,t,r=!1){const s=new wl;s.updateFromServerResponse(t);const o=new $r({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await hh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];De(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?BT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new wl;d.updateFromIdToken(r);const f=new $r({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Sv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=new Map;function us(n){gs(n instanceof Function,"Expected a class definition");let e=kE.get(n);return e?(gs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,kE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zT.type="NONE";const VE=zT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(n,e,t){return`firebase:${n}:${e}:${t}`}class El{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Yf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Yf("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fh(this.auth,{idToken:e}).catch(()=>{});return t?$r._fromGetAccountInfoResponse(this.auth,t,e):null}return $r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new El(us(VE),e,r);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||us(VE);const u=Yf(r,e.config.apiKey,e.name);let d=null;for(const h of t)try{const m=await h._get(u);if(m){let b;if(typeof m=="string"){const _=await fh(e,{idToken:m}).catch(()=>{});if(!_)break;b=await $r._fromGetAccountInfoResponse(e,_,m)}else b=$r._fromJSON(e,m);h!==o&&(d=b),o=h;break}}catch{}const f=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new El(o,e,r):(o=f[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(u)}catch{}})),new El(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KT(e))return"Blackberry";if(QT(e))return"Webos";if(qT(e))return"Safari";if((e.includes("chrome/")||$T(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HT(n=jn()){return/firefox\//i.test(n)}function qT(n=jn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $T(n=jn()){return/crios\//i.test(n)}function GT(n=jn()){return/iemobile/i.test(n)}function YT(n=jn()){return/android/i.test(n)}function KT(n=jn()){return/blackberry/i.test(n)}function QT(n=jn()){return/webos/i.test(n)}function Cy(n=jn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function cD(n=jn()){var e;return Cy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function dD(){return xO()&&document.documentMode===10}function XT(n=jn()){return Cy(n)||YT(n)||QT(n)||KT(n)||/windows phone/i.test(n)||GT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(n,e=[]){let t;switch(n){case"Browser":t=LE(jn());break;case"Worker":t=`${LE(jn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,d)=>{try{const f=e(o);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(n,e={}){return kr(n,"GET","/v2/passwordPolicy",Wr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=6;class mD{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:pD,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jE(this),this.idTokenSubscription=new jE(this),this.beforeStateQueue=new fD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=us(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await El.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fh(this,{idToken:e}),r=await $r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(ds(this));const t=e?Ct(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hD(this),t=new mD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await uD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&us(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await El.create(this,[us(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&$M(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ya(n){return Ct(n)}class jE{constructor(e){this.auth=e,this.observer=null,this.addObserver=OO(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vD(n){ep=n}function ZT(n){return ep.loadJS(n)}function yD(){return ep.recaptchaEnterpriseScript}function bD(){return ep.gapiScript}function _D(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wD{constructor(){this.enterprise=new ED}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ED{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const xD="recaptcha-enterprise",JT="NO_RECAPTCHA";class SD{constructor(e){this.type=xD,this.auth=ya(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{tD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new eD(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,u(h.siteKey)}}).catch(f=>{d(f)})})}function s(o,u,d){const f=window.grecaptcha;DE(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{u(h)}).catch(()=>{u(JT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wD().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!t&&DE(window.grecaptcha))s(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=yD();f.length!==0&&(f+=d),ZT(f).then(()=>{s(d,o,u)}).catch(h=>{u(h)})}}).catch(d=>{u(d)})})}}async function UE(n,e,t,r=!1,s=!1){const o=new SD(n);let u;if(s)u=JT;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ph(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await UE(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await UE(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(n,e){const t=Jh(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(so(o,e??{}))return s;Yr(s,"already-initialized")}return t.initialize({options:e})}function AD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(us);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function CD(n,e,t){const r=ya(n);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=e1(e),{host:u,port:d}=RD(e),f=d===null?"":`:${d}`,h={url:`${o}//${u}${f}/`},m=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(so(h,r.config.emulator)&&so(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,go(u)?(yy(`${o}//${u}${f}`),by("Auth",!0)):ID()}function e1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function RD(n){const e=e1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:FE(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:FE(u)}}}function FE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ID(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ls("not implemented")}_getIdTokenResponse(e){return ls("not implemented")}_linkToIdToken(e,t){return ls("not implemented")}_getReauthenticationResolver(e){return ls("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(n,e){return kr(n,"POST","/v1/accounts:resetPassword",Wr(n,e))}async function OD(n,e){return kr(n,"POST","/v1/accounts:signUp",e)}async function MD(n,e){return kr(n,"POST","/v1/accounts:update",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(n,e){return Gc(n,"POST","/v1/accounts:signInWithPassword",Wr(n,e))}async function t1(n,e){return kr(n,"POST","/v1/accounts:sendOobCode",Wr(n,e))}async function PD(n,e){return t1(n,e)}async function kD(n,e){return t1(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,e){return Gc(n,"POST","/v1/accounts:signInWithEmailLink",Wr(n,e))}async function LD(n,e){return Gc(n,"POST","/v1/accounts:signInWithEmailLink",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Ry{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Cc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Cc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,t,"signInWithPassword",DD);case"emailLink":return VD(e,{email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,r,"signUpPassword",OD);case"emailLink":return LD(e,{idToken:t,email:this._email,oobCode:this._password});default:Yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(n,e){return Gc(n,"POST","/v1/accounts:signInWithIdp",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="http://localhost";class oo extends Ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new oo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=xy(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new oo(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return xl(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,xl(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,xl(e,t)}buildRequest(){const e={requestUri:jD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function FD(n){const e=oc(lc(n)).link,t=e?oc(lc(e)).deep_link_id:null,r=oc(lc(n)).deep_link_id;return(r?oc(lc(r)).link:null)||r||t||e||n}class Iy{constructor(e){var t,r,s,o,u,d;const f=oc(lc(e)),h=(t=f.apiKey)!==null&&t!==void 0?t:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,b=UD((s=f.mode)!==null&&s!==void 0?s:null);De(h&&m&&b,"argument-error"),this.apiKey=h,this.operation=b,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=FD(e);try{return new Iy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.providerId=Bl.PROVIDER_ID}static credential(e,t){return Cc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Iy.parseLink(t);return De(r,"argument-error"),Cc._fromEmailAndCode(e,r.code,r.tenantId)}}Bl.PROVIDER_ID="password";Bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends n1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Yc{constructor(){super("facebook.com")}static credential(e){return oo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oo._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ea.credential(t,r)}catch{return null}}}ea.GOOGLE_SIGN_IN_METHOD="google.com";ea.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends Yc{constructor(){super("github.com")}static credential(e){return oo._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ta.credential(e.oauthAccessToken)}catch{return null}}}ta.GITHUB_SIGN_IN_METHOD="github.com";ta.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Yc{constructor(){super("twitter.com")}static credential(e,t){return oo._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return na.credential(t,r)}catch{return null}}}na.TWITTER_SIGN_IN_METHOD="twitter.com";na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(n,e){return Gc(n,"POST","/v1/accounts:signUp",Wr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await $r._fromIdTokenResponse(e,r,s),u=BE(r);return new lo({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=BE(r);return new lo({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function BE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Ri{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new mh(e,t,r,s)}}function r1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(n,o,e,r):o})}async function zD(n,e,t=!1){const r=await Rl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return lo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(n,e,t=!1){const{auth:r}=n;if(hr(r.app))return Promise.reject(ds(r));const s="reauthenticate";try{const o=await Rl(n,r1(r,s,e,n),t);De(o.idToken,r,"internal-error");const u=Ay(o.idToken);De(u,r,"internal-error");const{sub:d}=u;return De(n.uid===d,r,"user-mismatch"),lo._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Yr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(n,e,t=!1){if(hr(n.app))return Promise.reject(ds(n));const r="signIn",s=await r1(n,r,e),o=await lo._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function qD(n,e){return i1(ya(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(n,e,t){var r;De(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),De(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),De(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(De(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(De(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ny(n){const e=ya(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GD(n,e,t){const r=ya(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&$D(r,s,t),await ph(r,s,"getOobCode",kD)}async function YD(n,e,t){await ND(Ct(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ny(n),r})}async function KD(n,e){await MD(Ct(n),{oobCode:e})}async function QD(n,e,t){if(hr(n.app))return Promise.reject(ds(n));const r=ya(n),u=await ph(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",BD).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Ny(n),f}),d=await lo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function XD(n,e,t){return hr(n.app)?Promise.reject(ds(n)):qD(Ct(n),Bl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ny(n),r})}async function WD(n,e){const t=Ct(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await PD(t.auth,s);o!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZD(n,e){return kr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ct(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Rl(r,ZD(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function JD(n,e,t,r){return Ct(n).onIdTokenChanged(e,t,r)}function eP(n,e,t){return Ct(n).beforeAuthStateChanged(e,t)}function tp(n,e,t,r){return Ct(n).onAuthStateChanged(e,t,r)}function Oy(n){return Ct(n).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=1e3,nP=10;class o1 extends a1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);dD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,nP):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},tP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}o1.type="LOCAL";const rP=o1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends a1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}l1.type="SESSION";const u1=l1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new np(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async h=>h(t.origin,o)),f=await iP(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}np.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((d,f)=>{const h=My("",20);s.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(b){const _=b;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function aP(n){xi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function oP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function uP(){return c1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="firebaseLocalStorageDb",cP=1,vh="firebaseLocalStorage",f1="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function rp(n,e){return n.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function dP(){const n=indexedDB.deleteDatabase(d1);return new Kc(n).toPromise()}function Tv(){const n=indexedDB.open(d1,cP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vh,{keyPath:f1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await dP(),e(await Tv()))})})}async function zE(n,e,t){const r=rp(n,!0).put({[f1]:e,value:t});return new Kc(r).toPromise()}async function fP(n,e){const t=rp(n,!1).get(e),r=await new Kc(t).toPromise();return r===void 0?null:r.value}function HE(n,e){const t=rp(n,!0).delete(e);return new Kc(t).toPromise()}const hP=800,pP=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>pP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=np._getInstance(uP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await oP(),!this.activeServiceWorker)return;this.sender=new sP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tv();return await zE(e,gh,"1"),await HE(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>zE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>fP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>HE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=rp(s,!1).getAll();return new Kc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const mP=h1;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(n,e){return e?us(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy extends Ry{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return xl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return xl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vP(n){return i1(n.auth,new Dy(n),n.bypassAuthState)}function yP(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),HD(t,new Dy(n),n.bypassAuthState)}async function bP(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),zD(t,new Dy(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vP;case"linkViaPopup":case"linkViaRedirect":return bP;case"reauthViaPopup":case"reauthViaRedirect":return yP;default:Yr(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new $c(2e3,1e4);class bl extends p1{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,bl.currentPopupAction&&bl.currentPopupAction.cancel(),bl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=My();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_P.get())};e()}}bl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="pendingRedirect",Kf=new Map;class EP extends p1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const r=await xP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xP(n,e){const t=AP(e),r=TP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function SP(n,e){Kf.set(n._key(),e)}function TP(n){return us(n._redirectPersistence)}function AP(n){return Yf(wP,n.config.apiKey,n.name)}async function CP(n,e,t=!1){if(hr(n.app))return Promise.reject(ds(n));const r=ya(n),s=gP(r,e),u=await new EP(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=10*60*1e3;class IP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!m1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ei(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RP&&this.cachedEventUids.clear(),this.cachedEventUids.has(qE(e))}saveEventToCache(e){this.cachedEventUids.add(qE(e)),this.lastProcessedEventTime=Date.now()}}function qE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function m1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OP(n,e={}){return kr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DP=/^https?/;async function PP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await OP(n);for(const t of e)try{if(kP(t))return}catch{}Yr(n,"unauthorized-domain")}function kP(n){const e=xv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!DP.test(t))return!1;if(MP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=new $c(3e4,6e4);function $E(){const n=xi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function LP(n){return new Promise((e,t)=>{var r,s,o;function u(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),t(Ei(n,"network-request-failed"))},timeout:VP.get()})}if(!((s=(r=xi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=xi().gapi)===null||o===void 0)&&o.load)u();else{const d=_D("iframefcb");return xi()[d]=()=>{gapi.load?u():t(Ei(n,"network-request-failed"))},ZT(`${bD()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function jP(n){return Qf=Qf||LP(n),Qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=new $c(5e3,15e3),FP="__/auth/iframe",BP="emulator/auth/iframe",zP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qP(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ty(e,BP):`https://${n.config.authDomain}/${FP}`,r={apiKey:e.apiKey,appName:n.name,v:vo},s=HP.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${qc(r).slice(1)}`}async function $P(n){const e=await jP(n),t=xi().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:qP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ei(n,"network-request-failed"),d=xi().setTimeout(()=>{o(u)},UP.get());function f(){xi().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YP=500,KP=600,QP="_blank",XP="http://localhost";class GE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WP(n,e,t,r=YP,s=KP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},GP),{width:r.toString(),height:s.toString(),top:o,left:u}),h=jn().toLowerCase();t&&(d=$T(h)?QP:t),HT(h)&&(e=e||XP,f.scrollbars="yes");const m=Object.entries(f).reduce((_,[x,E])=>`${_}${x}=${E},`,"");if(cD(h)&&d!=="_self")return ZP(e||"",d),new GE(null);const b=window.open(e||"",d,m);De(b,n,"popup-blocked");try{b.focus()}catch{}return new GE(b)}function ZP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="__/auth/handler",ek="emulator/auth/handler",tk=encodeURIComponent("fac");async function YE(n,e,t,r,s,o){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vo,eventId:s};if(e instanceof n1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",NO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,b]of Object.entries({}))u[m]=b}if(e instanceof Yc){const m=e.getScopes().filter(b=>b!=="");m.length>0&&(u.scopes=m.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const m of Object.keys(d))d[m]===void 0&&delete d[m];const f=await n._getAppCheckToken(),h=f?`#${tk}=${encodeURIComponent(f)}`:"";return`${nk(n)}?${qc(d).slice(1)}${h}`}function nk({config:n}){return n.emulator?Ty(n,ek):`https://${n.authDomain}/${JP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="webStorageSupport";class rk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u1,this._completeRedirectFn=CP,this._overrideRedirectResult=SP}async _openPopup(e,t,r,s){var o;gs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await YE(e,t,r,xv(),s);return WP(e,u,My())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await YE(e,t,r,xv(),s);return aP(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(gs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await $P(e),r=new IP(e);return t.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hg,{type:Hg},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Hg];u!==void 0&&t(!!u),Yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return XT()||qT()||Cy()}}const ik=rk;var KE="@firebase/auth",QE="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ok(n){ao(new da("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WT(n)},h=new gD(r,s,o,f);return AD(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ao(new da("auth-internal",e=>{const t=ya(e.getProvider("auth").getImmediate());return(r=>new sk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(KE,QE,ak(n)),wi(KE,QE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=5*60,uk=RT("authIdTokenMaxAge")||lk;let XE=null;const ck=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>uk)return;const s=t==null?void 0:t.token;XE!==s&&(XE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function dk(n=Ey()){const e=Jh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=TD(n,{popupRedirectResolver:ik,persistence:[mP,rP,u1]}),r=RT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=ck(o.toString());eP(t,u,()=>u(t.currentUser)),JD(t,d=>u(d))}}const s=TT("auth");return s&&CD(t,`http://${s}`),t}function fk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Ei("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",fk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ok("Browser");var WE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ua,g1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,N){function O(){}O.prototype=N.prototype,P.D=N.prototype,P.prototype=new O,P.prototype.constructor=P,P.C=function(V,U,B){for(var k=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)k[ie-2]=arguments[ie];return N.prototype[U].apply(V,k)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,N,O){O||(O=0);var V=Array(16);if(typeof N=="string")for(var U=0;16>U;++U)V[U]=N.charCodeAt(O++)|N.charCodeAt(O++)<<8|N.charCodeAt(O++)<<16|N.charCodeAt(O++)<<24;else for(U=0;16>U;++U)V[U]=N[O++]|N[O++]<<8|N[O++]<<16|N[O++]<<24;N=P.g[0],O=P.g[1],U=P.g[2];var B=P.g[3],k=N+(B^O&(U^B))+V[0]+3614090360&4294967295;N=O+(k<<7&4294967295|k>>>25),k=B+(U^N&(O^U))+V[1]+3905402710&4294967295,B=N+(k<<12&4294967295|k>>>20),k=U+(O^B&(N^O))+V[2]+606105819&4294967295,U=B+(k<<17&4294967295|k>>>15),k=O+(N^U&(B^N))+V[3]+3250441966&4294967295,O=U+(k<<22&4294967295|k>>>10),k=N+(B^O&(U^B))+V[4]+4118548399&4294967295,N=O+(k<<7&4294967295|k>>>25),k=B+(U^N&(O^U))+V[5]+1200080426&4294967295,B=N+(k<<12&4294967295|k>>>20),k=U+(O^B&(N^O))+V[6]+2821735955&4294967295,U=B+(k<<17&4294967295|k>>>15),k=O+(N^U&(B^N))+V[7]+4249261313&4294967295,O=U+(k<<22&4294967295|k>>>10),k=N+(B^O&(U^B))+V[8]+1770035416&4294967295,N=O+(k<<7&4294967295|k>>>25),k=B+(U^N&(O^U))+V[9]+2336552879&4294967295,B=N+(k<<12&4294967295|k>>>20),k=U+(O^B&(N^O))+V[10]+4294925233&4294967295,U=B+(k<<17&4294967295|k>>>15),k=O+(N^U&(B^N))+V[11]+2304563134&4294967295,O=U+(k<<22&4294967295|k>>>10),k=N+(B^O&(U^B))+V[12]+1804603682&4294967295,N=O+(k<<7&4294967295|k>>>25),k=B+(U^N&(O^U))+V[13]+4254626195&4294967295,B=N+(k<<12&4294967295|k>>>20),k=U+(O^B&(N^O))+V[14]+2792965006&4294967295,U=B+(k<<17&4294967295|k>>>15),k=O+(N^U&(B^N))+V[15]+1236535329&4294967295,O=U+(k<<22&4294967295|k>>>10),k=N+(U^B&(O^U))+V[1]+4129170786&4294967295,N=O+(k<<5&4294967295|k>>>27),k=B+(O^U&(N^O))+V[6]+3225465664&4294967295,B=N+(k<<9&4294967295|k>>>23),k=U+(N^O&(B^N))+V[11]+643717713&4294967295,U=B+(k<<14&4294967295|k>>>18),k=O+(B^N&(U^B))+V[0]+3921069994&4294967295,O=U+(k<<20&4294967295|k>>>12),k=N+(U^B&(O^U))+V[5]+3593408605&4294967295,N=O+(k<<5&4294967295|k>>>27),k=B+(O^U&(N^O))+V[10]+38016083&4294967295,B=N+(k<<9&4294967295|k>>>23),k=U+(N^O&(B^N))+V[15]+3634488961&4294967295,U=B+(k<<14&4294967295|k>>>18),k=O+(B^N&(U^B))+V[4]+3889429448&4294967295,O=U+(k<<20&4294967295|k>>>12),k=N+(U^B&(O^U))+V[9]+568446438&4294967295,N=O+(k<<5&4294967295|k>>>27),k=B+(O^U&(N^O))+V[14]+3275163606&4294967295,B=N+(k<<9&4294967295|k>>>23),k=U+(N^O&(B^N))+V[3]+4107603335&4294967295,U=B+(k<<14&4294967295|k>>>18),k=O+(B^N&(U^B))+V[8]+1163531501&4294967295,O=U+(k<<20&4294967295|k>>>12),k=N+(U^B&(O^U))+V[13]+2850285829&4294967295,N=O+(k<<5&4294967295|k>>>27),k=B+(O^U&(N^O))+V[2]+4243563512&4294967295,B=N+(k<<9&4294967295|k>>>23),k=U+(N^O&(B^N))+V[7]+1735328473&4294967295,U=B+(k<<14&4294967295|k>>>18),k=O+(B^N&(U^B))+V[12]+2368359562&4294967295,O=U+(k<<20&4294967295|k>>>12),k=N+(O^U^B)+V[5]+4294588738&4294967295,N=O+(k<<4&4294967295|k>>>28),k=B+(N^O^U)+V[8]+2272392833&4294967295,B=N+(k<<11&4294967295|k>>>21),k=U+(B^N^O)+V[11]+1839030562&4294967295,U=B+(k<<16&4294967295|k>>>16),k=O+(U^B^N)+V[14]+4259657740&4294967295,O=U+(k<<23&4294967295|k>>>9),k=N+(O^U^B)+V[1]+2763975236&4294967295,N=O+(k<<4&4294967295|k>>>28),k=B+(N^O^U)+V[4]+1272893353&4294967295,B=N+(k<<11&4294967295|k>>>21),k=U+(B^N^O)+V[7]+4139469664&4294967295,U=B+(k<<16&4294967295|k>>>16),k=O+(U^B^N)+V[10]+3200236656&4294967295,O=U+(k<<23&4294967295|k>>>9),k=N+(O^U^B)+V[13]+681279174&4294967295,N=O+(k<<4&4294967295|k>>>28),k=B+(N^O^U)+V[0]+3936430074&4294967295,B=N+(k<<11&4294967295|k>>>21),k=U+(B^N^O)+V[3]+3572445317&4294967295,U=B+(k<<16&4294967295|k>>>16),k=O+(U^B^N)+V[6]+76029189&4294967295,O=U+(k<<23&4294967295|k>>>9),k=N+(O^U^B)+V[9]+3654602809&4294967295,N=O+(k<<4&4294967295|k>>>28),k=B+(N^O^U)+V[12]+3873151461&4294967295,B=N+(k<<11&4294967295|k>>>21),k=U+(B^N^O)+V[15]+530742520&4294967295,U=B+(k<<16&4294967295|k>>>16),k=O+(U^B^N)+V[2]+3299628645&4294967295,O=U+(k<<23&4294967295|k>>>9),k=N+(U^(O|~B))+V[0]+4096336452&4294967295,N=O+(k<<6&4294967295|k>>>26),k=B+(O^(N|~U))+V[7]+1126891415&4294967295,B=N+(k<<10&4294967295|k>>>22),k=U+(N^(B|~O))+V[14]+2878612391&4294967295,U=B+(k<<15&4294967295|k>>>17),k=O+(B^(U|~N))+V[5]+4237533241&4294967295,O=U+(k<<21&4294967295|k>>>11),k=N+(U^(O|~B))+V[12]+1700485571&4294967295,N=O+(k<<6&4294967295|k>>>26),k=B+(O^(N|~U))+V[3]+2399980690&4294967295,B=N+(k<<10&4294967295|k>>>22),k=U+(N^(B|~O))+V[10]+4293915773&4294967295,U=B+(k<<15&4294967295|k>>>17),k=O+(B^(U|~N))+V[1]+2240044497&4294967295,O=U+(k<<21&4294967295|k>>>11),k=N+(U^(O|~B))+V[8]+1873313359&4294967295,N=O+(k<<6&4294967295|k>>>26),k=B+(O^(N|~U))+V[15]+4264355552&4294967295,B=N+(k<<10&4294967295|k>>>22),k=U+(N^(B|~O))+V[6]+2734768916&4294967295,U=B+(k<<15&4294967295|k>>>17),k=O+(B^(U|~N))+V[13]+1309151649&4294967295,O=U+(k<<21&4294967295|k>>>11),k=N+(U^(O|~B))+V[4]+4149444226&4294967295,N=O+(k<<6&4294967295|k>>>26),k=B+(O^(N|~U))+V[11]+3174756917&4294967295,B=N+(k<<10&4294967295|k>>>22),k=U+(N^(B|~O))+V[2]+718787259&4294967295,U=B+(k<<15&4294967295|k>>>17),k=O+(B^(U|~N))+V[9]+3951481745&4294967295,P.g[0]=P.g[0]+N&4294967295,P.g[1]=P.g[1]+(U+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+U&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.u=function(P,N){N===void 0&&(N=P.length);for(var O=N-this.blockSize,V=this.B,U=this.h,B=0;B<N;){if(U==0)for(;B<=O;)s(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<N;)if(V[U++]=P.charCodeAt(B++),U==this.blockSize){s(this,V),U=0;break}}else for(;B<N;)if(V[U++]=P[B++],U==this.blockSize){s(this,V),U=0;break}}this.h=U,this.o+=N},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var N=1;N<P.length-8;++N)P[N]=0;var O=8*this.o;for(N=P.length-8;N<P.length;++N)P[N]=O&255,O/=256;for(this.u(P),P=Array(16),N=O=0;4>N;++N)for(var V=0;32>V;V+=8)P[O++]=this.g[N]>>>V&255;return P};function o(P,N){var O=d;return Object.prototype.hasOwnProperty.call(O,P)?O[P]:O[P]=N(P)}function u(P,N){this.h=N;for(var O=[],V=!0,U=P.length-1;0<=U;U--){var B=P[U]|0;V&&B==N||(O[U]=B,V=!1)}this.g=O}var d={};function f(P){return-128<=P&&128>P?o(P,function(N){return new u([N|0],0>N?-1:0)}):new u([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return I(h(-P));for(var N=[],O=1,V=0;P>=O;V++)N[V]=P/O|0,O*=4294967296;return new u(N,0)}function m(P,N){if(P.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(P.charAt(0)=="-")return I(m(P.substring(1),N));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=h(Math.pow(N,8)),V=b,U=0;U<P.length;U+=8){var B=Math.min(8,P.length-U),k=parseInt(P.substring(U,U+B),N);8>B?(B=h(Math.pow(N,B)),V=V.j(B).add(h(k))):(V=V.j(O),V=V.add(h(k)))}return V}var b=f(0),_=f(1),x=f(16777216);n=u.prototype,n.m=function(){if(A(this))return-I(this).m();for(var P=0,N=1,O=0;O<this.g.length;O++){var V=this.i(O);P+=(0<=V?V:4294967296+V)*N,N*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(A(this))return"-"+I(this).toString(P);for(var N=h(Math.pow(P,6)),O=this,V="";;){var U=z(O,N).g;O=R(O,U.j(N));var B=((0<O.g.length?O.g[0]:O.h)>>>0).toString(P);if(O=U,E(O))return B+V;for(;6>B.length;)B="0"+B;V=B+V}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(var N=0;N<P.g.length;N++)if(P.g[N]!=0)return!1;return!0}function A(P){return P.h==-1}n.l=function(P){return P=R(this,P),A(P)?-1:E(P)?0:1};function I(P){for(var N=P.g.length,O=[],V=0;V<N;V++)O[V]=~P.g[V];return new u(O,~P.h).add(_)}n.abs=function(){return A(this)?I(this):this},n.add=function(P){for(var N=Math.max(this.g.length,P.g.length),O=[],V=0,U=0;U<=N;U++){var B=V+(this.i(U)&65535)+(P.i(U)&65535),k=(B>>>16)+(this.i(U)>>>16)+(P.i(U)>>>16);V=k>>>16,B&=65535,k&=65535,O[U]=k<<16|B}return new u(O,O[O.length-1]&-2147483648?-1:0)};function R(P,N){return P.add(I(N))}n.j=function(P){if(E(this)||E(P))return b;if(A(this))return A(P)?I(this).j(I(P)):I(I(this).j(P));if(A(P))return I(this.j(I(P)));if(0>this.l(x)&&0>P.l(x))return h(this.m()*P.m());for(var N=this.g.length+P.g.length,O=[],V=0;V<2*N;V++)O[V]=0;for(V=0;V<this.g.length;V++)for(var U=0;U<P.g.length;U++){var B=this.i(V)>>>16,k=this.i(V)&65535,ie=P.i(U)>>>16,oe=P.i(U)&65535;O[2*V+2*U]+=k*oe,T(O,2*V+2*U),O[2*V+2*U+1]+=B*oe,T(O,2*V+2*U+1),O[2*V+2*U+1]+=k*ie,T(O,2*V+2*U+1),O[2*V+2*U+2]+=B*ie,T(O,2*V+2*U+2)}for(V=0;V<N;V++)O[V]=O[2*V+1]<<16|O[2*V];for(V=N;V<2*N;V++)O[V]=0;return new u(O,0)};function T(P,N){for(;(P[N]&65535)!=P[N];)P[N+1]+=P[N]>>>16,P[N]&=65535,N++}function M(P,N){this.g=P,this.h=N}function z(P,N){if(E(N))throw Error("division by zero");if(E(P))return new M(b,b);if(A(P))return N=z(I(P),N),new M(I(N.g),I(N.h));if(A(N))return N=z(P,I(N)),new M(I(N.g),N.h);if(30<P.g.length){if(A(P)||A(N))throw Error("slowDivide_ only works with positive integers.");for(var O=_,V=N;0>=V.l(P);)O=j(O),V=j(V);var U=Y(O,1),B=Y(V,1);for(V=Y(V,2),O=Y(O,2);!E(V);){var k=B.add(V);0>=k.l(P)&&(U=U.add(O),B=k),V=Y(V,1),O=Y(O,1)}return N=R(P,U.j(N)),new M(U,N)}for(U=b;0<=P.l(N);){for(O=Math.max(1,Math.floor(P.m()/N.m())),V=Math.ceil(Math.log(O)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),B=h(O),k=B.j(N);A(k)||0<k.l(P);)O-=V,B=h(O),k=B.j(N);E(B)&&(B=_),U=U.add(B),P=R(P,k)}return new M(U,P)}n.A=function(P){return z(this,P).h},n.and=function(P){for(var N=Math.max(this.g.length,P.g.length),O=[],V=0;V<N;V++)O[V]=this.i(V)&P.i(V);return new u(O,this.h&P.h)},n.or=function(P){for(var N=Math.max(this.g.length,P.g.length),O=[],V=0;V<N;V++)O[V]=this.i(V)|P.i(V);return new u(O,this.h|P.h)},n.xor=function(P){for(var N=Math.max(this.g.length,P.g.length),O=[],V=0;V<N;V++)O[V]=this.i(V)^P.i(V);return new u(O,this.h^P.h)};function j(P){for(var N=P.g.length+1,O=[],V=0;V<N;V++)O[V]=P.i(V)<<1|P.i(V-1)>>>31;return new u(O,P.h)}function Y(P,N){var O=N>>5;N%=32;for(var V=P.g.length-O,U=[],B=0;B<V;B++)U[B]=0<N?P.i(B+O)>>>N|P.i(B+O+1)<<32-N:P.i(B+O);return new u(U,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,g1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=m,ua=u}).apply(typeof WE<"u"?WE:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v1,uc,y1,Xf,Av,b1,_1,w1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,w,S){return p==Array.prototype||p==Object.prototype||(p[w]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var w=0;w<p.length;++w){var S=p[w];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function s(p,w){if(w)e:{var S=r;p=p.split(".");for(var F=0;F<p.length-1;F++){var X=p[F];if(!(X in S))break e;S=S[X]}p=p[p.length-1],F=S[p],w=w(F),w!=F&&w!=null&&e(S,p,{configurable:!0,writable:!0,value:w})}}function o(p,w){p instanceof String&&(p+="");var S=0,F=!1,X={next:function(){if(!F&&S<p.length){var ne=S++;return{value:w(ne,p[ne]),done:!1}}return F=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(p){return p||function(){return o(this,function(w,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(p){var w=typeof p;return w=w!="object"?w:p?Array.isArray(p)?"array":w:"null",w=="array"||w=="object"&&typeof p.length=="number"}function h(p){var w=typeof p;return w=="object"&&p!=null||w=="function"}function m(p,w,S){return p.call.apply(p.bind,arguments)}function b(p,w,S){if(!p)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,F),p.apply(w,X)}}return function(){return p.apply(w,arguments)}}function _(p,w,S){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:b,_.apply(null,arguments)}function x(p,w){var S=Array.prototype.slice.call(arguments,1);return function(){var F=S.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function E(p,w){function S(){}S.prototype=w.prototype,p.aa=w.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(F,X,ne){for(var _e=Array(arguments.length-2),it=2;it<arguments.length;it++)_e[it-2]=arguments[it];return w.prototype[X].apply(F,_e)}}function A(p){const w=p.length;if(0<w){const S=Array(w);for(let F=0;F<w;F++)S[F]=p[F];return S}return[]}function I(p,w){for(let S=1;S<arguments.length;S++){const F=arguments[S];if(f(F)){const X=p.length||0,ne=F.length||0;p.length=X+ne;for(let _e=0;_e<ne;_e++)p[X+_e]=F[_e]}else p.push(F)}}class R{constructor(w,S){this.i=w,this.j=S,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function T(p){return/^[\s\xa0]*$/.test(p)}function M(){var p=d.navigator;return p&&(p=p.userAgent)?p:""}function z(p){return z[" "](p),p}z[" "]=function(){};var j=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function Y(p,w,S){for(const F in p)w.call(S,p[F],F,p)}function P(p,w){for(const S in p)w.call(void 0,p[S],S,p)}function N(p){const w={};for(const S in p)w[S]=p[S];return w}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(p,w){let S,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(S in F)p[S]=F[S];for(let ne=0;ne<O.length;ne++)S=O[ne],Object.prototype.hasOwnProperty.call(F,S)&&(p[S]=F[S])}}function U(p){var w=1;p=p.split(":");const S=[];for(;0<w&&p.length;)S.push(p.shift()),w--;return p.length&&S.push(p.join(":")),S}function B(p){d.setTimeout(()=>{throw p},0)}function k(){var p=be;let w=null;return p.g&&(w=p.g,p.g=p.g.next,p.g||(p.h=null),w.next=null),w}class ie{constructor(){this.h=this.g=null}add(w,S){const F=oe.get();F.set(w,S),this.h?this.h.next=F:this.g=F,this.h=F}}var oe=new R(()=>new $,p=>p.reset());class ${constructor(){this.next=this.g=this.h=null}set(w,S){this.h=w,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let re,he=!1,be=new ie,q=()=>{const p=d.Promise.resolve(void 0);re=()=>{p.then(le)}};var le=()=>{for(var p;p=k();){try{p.h.call(p.g)}catch(S){B(S)}var w=oe;w.j(p),100>w.h&&(w.h++,p.next=w.g,w.g=p)}he=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(p,w){this.type=p,this.g=this.target=w,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var p=!1,w=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};d.addEventListener("test",S,w),d.removeEventListener("test",S,w)}catch{}return p}();function ke(p,w){if(pe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=w,w=p.relatedTarget){if(j){e:{try{z(w.nodeName);var X=!0;break e}catch{}X=!1}X||(w=null)}}else S=="mouseover"?w=p.fromElement:S=="mouseout"&&(w=p.toElement);this.relatedTarget=w,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ie[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}E(ke,pe);var Ie={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Ft(p,w,S,F,X){this.listener=p,this.proxy=null,this.src=w,this.type=S,this.capture=!!F,this.ha=X,this.key=++Ye,this.da=this.fa=!1}function On(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function we(p){this.src=p,this.g={},this.h=0}we.prototype.add=function(p,w,S,F,X){var ne=p.toString();p=this.g[ne],p||(p=this.g[ne]=[],this.h++);var _e=Ge(p,w,F,X);return-1<_e?(w=p[_e],S||(w.fa=!1)):(w=new Ft(w,this.src,ne,!!F,X),w.fa=S,p.push(w)),w};function Ee(p,w){var S=w.type;if(S in p.g){var F=p.g[S],X=Array.prototype.indexOf.call(F,w,void 0),ne;(ne=0<=X)&&Array.prototype.splice.call(F,X,1),ne&&(On(w),p.g[S].length==0&&(delete p.g[S],p.h--))}}function Ge(p,w,S,F){for(var X=0;X<p.length;++X){var ne=p[X];if(!ne.da&&ne.listener==w&&ne.capture==!!S&&ne.ha==F)return X}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),Rt={};function Ii(p,w,S,F,X){if(Array.isArray(w)){for(var ne=0;ne<w.length;ne++)Ii(p,w[ne],S,F,X);return null}return S=ge(S),p&&p[lt]?p.K(w,S,h(F)?!!F.capture:!1,X):_n(p,w,S,!1,F,X)}function _n(p,w,S,F,X,ne){if(!w)throw Error("Invalid event type");var _e=h(X)?!!X.capture:!!X,it=ve(p);if(it||(p[Ze]=it=new we(p)),S=it.add(w,S,F,_e,ne),S.proxy)return S;if(F=Ni(),S.proxy=F,F.src=p,F.listener=S,p.addEventListener)Te||(X=_e),X===void 0&&(X=!1),p.addEventListener(w.toString(),F,X);else if(p.attachEvent)p.attachEvent(J(w.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Ni(){function p(S){return w.call(p.src,p.listener,S)}const w=se;return p}function Zr(p,w,S,F,X){if(Array.isArray(w))for(var ne=0;ne<w.length;ne++)Zr(p,w[ne],S,F,X);else F=h(F)?!!F.capture:!!F,S=ge(S),p&&p[lt]?(p=p.i,w=String(w).toString(),w in p.g&&(ne=p.g[w],S=Ge(ne,S,F,X),-1<S&&(On(ne[S]),Array.prototype.splice.call(ne,S,1),ne.length==0&&(delete p.g[w],p.h--)))):p&&(p=ve(p))&&(w=p.g[w.toString()],p=-1,w&&(p=Ge(w,S,F,X)),(S=-1<p?w[p]:null)&&G(S))}function G(p){if(typeof p!="number"&&p&&!p.da){var w=p.src;if(w&&w[lt])Ee(w.i,p);else{var S=p.type,F=p.proxy;w.removeEventListener?w.removeEventListener(S,F,p.capture):w.detachEvent?w.detachEvent(J(S),F):w.addListener&&w.removeListener&&w.removeListener(F),(S=ve(w))?(Ee(S,p),S.h==0&&(S.src=null,w[Ze]=null)):On(p)}}}function J(p){return p in Rt?Rt[p]:Rt[p]="on"+p}function se(p,w){if(p.da)p=!0;else{w=new ke(w,this);var S=p.listener,F=p.ha||p.src;p.fa&&G(p),p=S.call(F,w)}return p}function ve(p){return p=p[Ze],p instanceof we?p:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(p){return typeof p=="function"?p:(p[ye]||(p[ye]=function(w){return p.handleEvent(w)}),p[ye])}function xe(){me.call(this),this.i=new we(this),this.M=this,this.F=null}E(xe,me),xe.prototype[lt]=!0,xe.prototype.removeEventListener=function(p,w,S,F){Zr(this,p,w,S,F)};function Ne(p,w){var S,F=p.F;if(F)for(S=[];F;F=F.F)S.push(F);if(p=p.M,F=w.type||w,typeof w=="string")w=new pe(w,p);else if(w instanceof pe)w.target=w.target||p;else{var X=w;w=new pe(F,p),V(w,X)}if(X=!0,S)for(var ne=S.length-1;0<=ne;ne--){var _e=w.g=S[ne];X=Qe(_e,F,!0,w)&&X}if(_e=w.g=p,X=Qe(_e,F,!0,w)&&X,X=Qe(_e,F,!1,w)&&X,S)for(ne=0;ne<S.length;ne++)_e=w.g=S[ne],X=Qe(_e,F,!1,w)&&X}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var p=this.i,w;for(w in p.g){for(var S=p.g[w],F=0;F<S.length;F++)On(S[F]);delete p.g[w],p.h--}}this.F=null},xe.prototype.K=function(p,w,S,F){return this.i.add(String(p),w,!1,S,F)},xe.prototype.L=function(p,w,S,F){return this.i.add(String(p),w,!0,S,F)};function Qe(p,w,S,F){if(w=p.i.g[String(w)],!w)return!0;w=w.concat();for(var X=!0,ne=0;ne<w.length;++ne){var _e=w[ne];if(_e&&!_e.da&&_e.capture==S){var it=_e.listener,rn=_e.ha||_e.src;_e.fa&&Ee(p.i,_e),X=it.call(rn,F)!==!1&&X}}return X&&!F.defaultPrevented}function vt(p,w,S){if(typeof p=="function")S&&(p=_(p,S));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:d.setTimeout(p,w||0)}function Oi(p){p.g=vt(()=>{p.g=null,p.i&&(p.i=!1,Oi(p))},p.l);const w=p.h;p.h=null,p.m.apply(null,w)}class yr extends me{constructor(w,S){super(),this.m=w,this.l=S,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Oi(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(p){me.call(this),this.h=p,this.g={}}E(Mi,me);var Vr=[];function Lr(p){Y(p.g,function(w,S){this.g.hasOwnProperty(S)&&G(w)},p),p.g={}}Mi.prototype.N=function(){Mi.aa.N.call(this),Lr(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tr=d.JSON.stringify,Di=d.JSON.parse,Pi=class{stringify(p){return d.JSON.stringify(p,void 0)}parse(p){return d.JSON.parse(p,void 0)}};function xs(){}xs.prototype.h=null;function Yl(p){return p.h||(p.h=p.i())}function Kl(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vi(){pe.call(this,"d")}E(Vi,pe);function Ql(){pe.call(this,"c")}E(Ql,pe);var Jr={},Xl=null;function Ss(){return Xl=Xl||new xe}Jr.La="serverreachability";function Eo(p){pe.call(this,Jr.La,p)}E(Eo,pe);function Ts(p){const w=Ss();Ne(w,new Eo(w))}Jr.STAT_EVENT="statevent";function ad(p,w){pe.call(this,Jr.STAT_EVENT,p),this.stat=w}E(ad,pe);function Nt(p){const w=Ss();Ne(w,new ad(w,p))}Jr.Ma="timingevent";function nn(p,w){pe.call(this,Jr.Ma,p),this.size=w}E(nn,pe);function Yt(p,w){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){p()},w)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function Wl(p,w,S,F,X,ne){p.info(function(){if(p.g)if(ne)for(var _e="",it=ne.split("&"),rn=0;rn<it.length;rn++){var st=it[rn].split("=");if(1<st.length){var fn=st[0];st=st[1];var sn=fn.split("_");_e=2<=sn.length&&sn[1]=="type"?_e+(fn+"="+st+"&"):_e+(fn+"=redacted&")}}else _e=null;else _e=ne;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+w+`
`+S+`
`+_e})}function Mp(p,w,S,F,X,ne,_e){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+w+`
`+S+`
`+ne+" "+_e})}function As(p,w,S,F){p.info(function(){return"XMLHTTP TEXT ("+w+"): "+xa(p,S)+(F?" "+F:"")})}function od(p,w){p.info(function(){return"TIMEOUT: "+w})}br.prototype.info=function(){};function xa(p,w){if(!p.g)return w;if(!w)return null;try{var S=JSON.parse(w);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var F=S[p];if(!(2>F.length)){var X=F[1];if(Array.isArray(X)&&!(1>X.length)){var ne=X[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var _e=1;_e<X.length;_e++)X[_e]=""}}}}return tr(S)}catch{return w}}var Cs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ei;function ti(){}E(ti,xs),ti.prototype.g=function(){return new XMLHttpRequest},ti.prototype.i=function(){return{}},ei=new ti;function Un(p,w,S,F){this.j=p,this.i=w,this.l=S,this.R=F||1,this.U=new Mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var Zl={},xo={};function jr(p,w,S){p.L=1,p.v=Ra(nr(w)),p.m=S,p.P=!0,ji(p,null)}function ji(p,w){p.F=Date.now(),Sa(p),p.A=nr(p.v);var S=p.A,F=p.R;Array.isArray(F)||(F=[String(F)]),iu(S.i,"t",F),p.C=0,S=p.j.J,p.h=new Bt,p.g=xd(p.j,S?w:null,!p.m),0<p.O&&(p.M=new yr(_(p.Y,p,p.g),p.O)),w=p.U,S=p.g,F=p.ca;var X="readystatechange";Array.isArray(X)||(X&&(Vr[0]=X.toString()),X=Vr);for(var ne=0;ne<X.length;ne++){var _e=Ii(S,X[ne],F||w.handleEvent,!1,w.h||w);if(!_e)break;w.g[_e.key]=_e}w=p.H?N(p.H):{},p.m?(p.u||(p.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,w)):(p.u="GET",p.g.ea(p.A,p.u,null,w)),Ts(),Wl(p.i,p.u,p.A,p.l,p.R,p.m)}Un.prototype.ca=function(p){p=p.target;const w=this.M;w&&xr(p)==3?w.j():this.Y(p)},Un.prototype.Y=function(p){try{if(p==this.g)e:{const sn=xr(this.g);var w=this.g.Ba();const Gi=this.g.Z();if(!(3>sn)&&(sn!=3||this.g&&(this.h.h||this.g.oa()||md(this.g)))){this.J||sn!=4||w==7||(w==8||0>=Gi?Ts(3):Ts(2)),Rs(this);var S=this.g.Z();this.X=S;t:if(ld(this)){var F=md(this.g);p="";var X=F.length,ne=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){wn(this),ni(this);var _e="";break t}this.h.i=new d.TextDecoder}for(w=0;w<X;w++)this.h.h=!0,p+=this.h.i.decode(F[w],{stream:!(ne&&w==X-1)});F.length=0,this.h.g+=p,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=S==200,Mp(this.i,this.u,this.A,this.l,this.R,sn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var it,rn=this.g;if((it=rn.g?rn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(it)){var st=it;break t}}st=null}if(S=st)As(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ta(this,S);else{this.o=!1,this.s=3,Nt(12),wn(this),ni(this);break e}}if(this.P){S=!0;let En;for(;!this.J&&this.C<_e.length;)if(En=ud(this,_e),En==xo){sn==4&&(this.s=4,Nt(14),S=!1),As(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Zl){this.s=4,Nt(15),As(this.i,this.l,_e,"[Invalid Chunk]"),S=!1;break}else As(this.i,this.l,En,null),Ta(this,En);if(ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),sn!=4||_e.length!=0||this.h.h||(this.s=1,Nt(16),S=!1),this.o=this.o&&S,!S)As(this.i,this.l,_e,"[Invalid Chunked Response]"),wn(this),ni(this);else if(0<_e.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),Va(fn),fn.M=!0,Nt(11))}}else As(this.i,this.l,_e,null),Ta(this,_e);sn==4&&wn(this),this.o&&!this.J&&(sn==4?_d(this.j,this):(this.o=!1,Sa(this)))}else Lp(this.g),S==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),wn(this),ni(this)}}}catch{}finally{}};function ld(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ud(p,w){var S=p.C,F=w.indexOf(`
`,S);return F==-1?xo:(S=Number(w.substring(S,F)),isNaN(S)?Zl:(F+=1,F+S>w.length?xo:(w=w.slice(F,F+S),p.C=F+S,w)))}Un.prototype.cancel=function(){this.J=!0,wn(this)};function Sa(p){p.S=Date.now()+p.I,cd(p,p.I)}function cd(p,w){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Yt(_(p.ba,p),w)}function Rs(p){p.B&&(d.clearTimeout(p.B),p.B=null)}Un.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(od(this.i,this.A),this.L!=2&&(Ts(),Nt(17)),wn(this),this.s=2,ni(this)):cd(this,this.S-p)};function ni(p){p.j.G==0||p.J||_d(p.j,p)}function wn(p){Rs(p);var w=p.M;w&&typeof w.ma=="function"&&w.ma(),p.M=null,Lr(p.U),p.g&&(w=p.g,p.g=null,w.abort(),w.ma())}function Ta(p,w){try{var S=p.j;if(S.G!=0&&(S.g==p||Jl(S.h,p))){if(!p.K&&Jl(S.h,p)&&S.G==3){try{var F=S.Da.g.parse(w)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)ko(S),Do(S);else break e;uu(S),Nt(18)}}else S.za=X[1],0<S.za-S.T&&37500>X[2]&&S.F&&S.v==0&&!S.C&&(S.C=Yt(_(S.Za,S),6e3));if(1>=To(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else $i(S,11)}else if((p.K||S.g==p)&&ko(S),!T(w))for(X=S.Da.g.parse(w),w=0;w<X.length;w++){let st=X[w];if(S.T=st[0],st=st[1],S.G==2)if(st[0]=="c"){S.K=st[1],S.ia=st[2];const fn=st[3];fn!=null&&(S.la=fn,S.j.info("VER="+S.la));const sn=st[4];sn!=null&&(S.Aa=sn,S.j.info("SVER="+S.Aa));const Gi=st[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(F=1.5*Gi,S.L=F,S.j.info("backChannelRequestTimeoutMs_="+F)),F=S;const En=p.g;if(En){const ui=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var ne=F.h;ne.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Ao(ne,ne.h),ne.h=null))}if(F.D){const du=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;du&&(F.ya=du,_t(F.I,F.D,du))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),F=S;var _e=p;if(F.qa=Ed(F,F.J?F.ia:null,F.W),_e.K){Fn(F.h,_e);var it=_e,rn=F.L;rn&&(it.I=rn),it.B&&(Rs(it),Sa(it)),F.g=_e}else yd(F);0<S.i.length&&Po(S)}else st[0]!="stop"&&st[0]!="close"||$i(S,7);else S.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?$i(S,7):ou(S):st[0]!="noop"&&S.l&&S.l.ta(st),S.v=0)}}Ts(4)}catch{}}var dd=class{constructor(p,w){this.g=p,this.map=w}};function Ui(p){this.l=p||10,d.PerformanceNavigationTiming?(p=d.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function So(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function To(p){return p.h?1:p.g?p.g.size:0}function Jl(p,w){return p.h?p.h==w:p.g?p.g.has(w):!1}function Ao(p,w){p.g?p.g.add(w):p.h=w}function Fn(p,w){p.h&&p.h==w?p.h=null:p.g&&p.g.has(w)&&p.g.delete(w)}Ui.prototype.cancel=function(){if(this.i=eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function eu(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let w=p.i;for(const S of p.g.values())w=w.concat(S.D);return w}return A(p.i)}function Dp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var w=[],S=p.length,F=0;F<S;F++)w.push(p[F]);return w}w=[],S=0;for(F in p)w[S++]=p[F];return w}function Co(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var w=[];p=p.length;for(var S=0;S<p;S++)w.push(S);return w}w=[],S=0;for(const F in p)w[S++]=F;return w}}}function tu(p,w){if(p.forEach&&typeof p.forEach=="function")p.forEach(w,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,w,void 0);else for(var S=Co(p),F=Dp(p),X=F.length,ne=0;ne<X;ne++)w.call(void 0,F[ne],S&&S[ne],p)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pp(p,w){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var F=p[S].indexOf("="),X=null;if(0<=F){var ne=p[S].substring(0,F);X=p[S].substring(F+1)}else ne=p[S];w(ne,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Kt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Kt){this.h=p.h,Ca(this,p.j),this.o=p.o,this.g=p.g,Is(this,p.s),this.l=p.l;var w=p.i,S=new Bi;S.i=w.i,w.g&&(S.g=new Map(w.g),S.h=w.h),Fi(this,S),this.m=p.m}else p&&(w=String(p).match(Aa))?(this.h=!1,Ca(this,w[1]||"",!0),this.o=_r(w[2]||""),this.g=_r(w[3]||"",!0),Is(this,w[4]),this.l=_r(w[5]||"",!0),Fi(this,w[6]||"",!0),this.m=_r(w[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}Kt.prototype.toString=function(){var p=[],w=this.j;w&&p.push(Ia(w,nu,!0),":");var S=this.g;return(S||w=="file")&&(p.push("//"),(w=this.o)&&p.push(Ia(w,nu,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(Ia(S,S.charAt(0)=="/"?kp:ru,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",Ia(S,Ro)),p.join("")};function nr(p){return new Kt(p)}function Ca(p,w,S){p.j=S?_r(w,!0):w,p.j&&(p.j=p.j.replace(/:$/,""))}function Is(p,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);p.s=w}else p.s=null}function Fi(p,w,S){w instanceof Bi?(p.i=w,hd(p.i,p.h)):(S||(w=Ia(w,Vp)),p.i=new Bi(w,p.h))}function _t(p,w,S){p.i.set(w,S)}function Ra(p){return _t(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function _r(p,w){return p?w?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ia(p,w,S){return typeof p=="string"?(p=encodeURI(p).replace(w,fd),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function fd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var nu=/[#\/\?@]/g,ru=/[#\?:]/g,kp=/[#\?]/g,Vp=/[#\?@]/g,Ro=/#/g;function Bi(p,w){this.h=this.g=null,this.i=p||null,this.j=!!w}function wr(p){p.g||(p.g=new Map,p.h=0,p.i&&Pp(p.i,function(w,S){p.add(decodeURIComponent(w.replace(/\+/g," ")),S)}))}n=Bi.prototype,n.add=function(p,w){wr(this),this.i=null,p=ri(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(w),this.h+=1,this};function zi(p,w){wr(p),w=ri(p,w),p.g.has(w)&&(p.i=null,p.h-=p.g.get(w).length,p.g.delete(w))}function Hi(p,w){return wr(p),w=ri(p,w),p.g.has(w)}n.forEach=function(p,w){wr(this),this.g.forEach(function(S,F){S.forEach(function(X){p.call(w,X,F,this)},this)},this)},n.na=function(){wr(this);const p=Array.from(this.g.values()),w=Array.from(this.g.keys()),S=[];for(let F=0;F<w.length;F++){const X=p[F];for(let ne=0;ne<X.length;ne++)S.push(w[F])}return S},n.V=function(p){wr(this);let w=[];if(typeof p=="string")Hi(this,p)&&(w=w.concat(this.g.get(ri(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)w=w.concat(p[S])}return w},n.set=function(p,w){return wr(this),this.i=null,p=ri(this,p),Hi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[w]),this.h+=1,this},n.get=function(p,w){return p?(p=this.V(p),0<p.length?String(p[0]):w):w};function iu(p,w,S){zi(p,w),0<S.length&&(p.i=null,p.g.set(ri(p,w),A(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],w=Array.from(this.g.keys());for(var S=0;S<w.length;S++){var F=w[S];const ne=encodeURIComponent(String(F)),_e=this.V(F);for(F=0;F<_e.length;F++){var X=ne;_e[F]!==""&&(X+="="+encodeURIComponent(String(_e[F]))),p.push(X)}}return this.i=p.join("&")};function ri(p,w){return w=String(w),p.j&&(w=w.toLowerCase()),w}function hd(p,w){w&&!p.j&&(wr(p),p.i=null,p.g.forEach(function(S,F){var X=F.toLowerCase();F!=X&&(zi(this,F),iu(this,X,S))},p)),p.j=w}function Na(p,w){const S=new br;if(d.Image){const F=new Image;F.onload=x(Er,S,"TestLoadImage: loaded",!0,w,F),F.onerror=x(Er,S,"TestLoadImage: error",!1,w,F),F.onabort=x(Er,S,"TestLoadImage: abort",!1,w,F),F.ontimeout=x(Er,S,"TestLoadImage: timeout",!1,w,F),d.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else w(!1)}function Ur(p,w){const S=new br,F=new AbortController,X=setTimeout(()=>{F.abort(),Er(S,"TestPingServer: timeout",!1,w)},1e4);fetch(p,{signal:F.signal}).then(ne=>{clearTimeout(X),ne.ok?Er(S,"TestPingServer: ok",!0,w):Er(S,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(X),Er(S,"TestPingServer: error",!1,w)})}function Er(p,w,S,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(S)}catch{}}function Oa(){this.g=new Pi}function ii(p,w,S){const F=S||"";try{tu(p,function(X,ne){let _e=X;h(X)&&(_e=tr(X)),w.push(F+ne+"="+encodeURIComponent(_e))})}catch(X){throw w.push(F+"type="+encodeURIComponent("_badmap")),X}}function Ns(p){this.l=p.Ub||null,this.j=p.eb||!1}E(Ns,xs),Ns.prototype.g=function(){return new qi(this.l,this.j)},Ns.prototype.i=function(p){return function(){return p}}({});function qi(p,w){xe.call(this),this.D=p,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(qi,xe),n=qi.prototype,n.open=function(p,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=w,this.readyState=1,ai(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(w.body=p),(this.D||d).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,si(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;su(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function su(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var w=p.value?p.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!p.done}))&&(this.response=this.responseText+=w)}p.done?si(this):ai(this),this.readyState==3&&su(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,si(this))},n.Qa=function(p){this.g&&(this.response=p,si(this))},n.ga=function(){this.g&&si(this)};function si(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ai(p)}n.setRequestHeader=function(p,w){this.u.append(p,w)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],w=this.h.entries();for(var S=w.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=w.next();return p.join(`\r
`)};function ai(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function au(p){let w="";return Y(p,function(S,F){w+=F,w+=":",w+=S,w+=`\r
`}),w}function dn(p,w,S){e:{for(F in S){var F=!1;break e}F=!0}F||(S=au(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):_t(p,w,S))}function ht(p){xe.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(ht,xe);var Io=/^https?$/i,Ma=["POST","PUT"];n=ht.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,w,S,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);w=w?w.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ei.g(),this.v=this.o?Yl(this.o):Yl(ei),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(w,String(p),!0),this.B=!1}catch(ne){pd(this,ne);return}if(p=S||"",S=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)S.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const ne of F.keys())S.set(ne,F.get(ne));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(S.keys()).find(ne=>ne.toLowerCase()=="content-type"),X=d.FormData&&p instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ma,w,void 0))||F||X||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,_e]of S)this.g.setRequestHeader(ne,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Da(this),this.u=!0,this.g.send(p),this.u=!1}catch(ne){pd(this,ne)}};function pd(p,w){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=w,p.m=5,No(p),oi(p)}function No(p){p.A||(p.A=!0,Ne(p,"complete"),Ne(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ne(this,"complete"),Ne(this,"abort"),oi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),ht.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Oo(this):this.bb())},n.bb=function(){Oo(this)};function Oo(p){if(p.h&&typeof u<"u"&&(!p.v[1]||xr(p)!=4||p.Z()!=2)){if(p.u&&xr(p)==4)vt(p.Ea,0,p);else if(Ne(p,"readystatechange"),xr(p)==4){p.h=!1;try{const _e=p.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var S;if(!(S=w)){var F;if(F=_e===0){var X=String(p.D).match(Aa)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),F=!Io.test(X?X.toLowerCase():"")}S=F}if(S)Ne(p,"complete"),Ne(p,"success");else{p.m=6;try{var ne=2<xr(p)?p.g.statusText:""}catch{ne=""}p.l=ne+" ["+p.Z()+"]",No(p)}}finally{oi(p)}}}}function oi(p,w){if(p.g){Da(p);const S=p.g,F=p.v[0]?()=>{}:null;p.g=null,p.v=null,w||Ne(p,"ready");try{S.onreadystatechange=F}catch{}}}function Da(p){p.I&&(d.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function xr(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var w=this.g.responseText;return p&&w.indexOf(p)==0&&(w=w.substring(p.length)),Di(w)}};function md(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Lp(p){const w={};p=(p.g&&2<=xr(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(T(p[F]))continue;var S=U(p[F]);const X=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ne=w[X]||[];w[X]=ne,ne.push(S)}P(w,function(F){return F.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(p,w,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||w}function Mo(p){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pa("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pa("baseRetryDelayMs",5e3,p),this.cb=Pa("retryDelaySeedMs",1e4,p),this.Wa=Pa("forwardChannelMaxRetries",2,p),this.wa=Pa("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Ui(p&&p.concurrentRequestLimit),this.Da=new Oa,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Mo.prototype,n.la=8,n.G=1,n.connect=function(p,w,S,F){Nt(0),this.W=p,this.H=w||{},S&&F!==void 0&&(this.H.OSID=S,this.H.OAID=F),this.F=this.X,this.I=Ed(this,null,this.W),Po(this)};function ou(p){if(gd(p),p.G==3){var w=p.U++,S=nr(p.I);if(_t(S,"SID",p.K),_t(S,"RID",w),_t(S,"TYPE","terminate"),ka(p,S),w=new Un(p,p.j,w),w.L=2,w.v=Ra(nr(S)),S=!1,d.navigator&&d.navigator.sendBeacon)try{S=d.navigator.sendBeacon(w.v.toString(),"")}catch{}!S&&d.Image&&(new Image().src=w.v,S=!0),S||(w.g=xd(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Sa(w)}wd(p)}function Do(p){p.g&&(Va(p),p.g.cancel(),p.g=null)}function gd(p){Do(p),p.u&&(d.clearTimeout(p.u),p.u=null),ko(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&d.clearTimeout(p.s),p.s=null)}function Po(p){if(!So(p.h)&&!p.s){p.s=!0;var w=p.Ga;re||q(),he||(re(),he=!0),be.add(w,p),p.B=0}}function jp(p,w){return To(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=w.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Yt(_(p.Ga,p,w),cu(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const X=new Un(this,this.j,p);let ne=this.o;if(this.S&&(ne?(ne=N(ne),V(ne,this.S)):ne=this.S),this.m!==null||this.O||(X.H=ne,ne=null),this.P)e:{for(var w=0,S=0;S<this.i.length;S++){t:{var F=this.i[S];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(w+=F,4096<w){w=S;break e}if(w===4096||S===this.i.length-1){w=S+1;break e}}w=1e3}else w=1e3;w=vd(this,X,w),S=nr(this.I),_t(S,"RID",p),_t(S,"CVER",22),this.D&&_t(S,"X-HTTP-Session-Id",this.D),ka(this,S),ne&&(this.O?w="headers="+encodeURIComponent(String(au(ne)))+"&"+w:this.m&&dn(S,this.m,ne)),Ao(this.h,X),this.Ua&&_t(S,"TYPE","init"),this.P?(_t(S,"$req",w),_t(S,"SID","null"),X.T=!0,jr(X,S,null)):jr(X,S,w),this.G=2}}else this.G==3&&(p?lu(this,p):this.i.length==0||So(this.h)||lu(this))};function lu(p,w){var S;w?S=w.l:S=p.U++;const F=nr(p.I);_t(F,"SID",p.K),_t(F,"RID",S),_t(F,"AID",p.T),ka(p,F),p.m&&p.o&&dn(F,p.m,p.o),S=new Un(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),w&&(p.i=w.D.concat(p.i)),w=vd(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),Ao(p.h,S),jr(S,F,w)}function ka(p,w){p.H&&Y(p.H,function(S,F){_t(w,F,S)}),p.l&&tu({},function(S,F){_t(w,F,S)})}function vd(p,w,S){S=Math.min(p.i.length,S);var F=p.l?_(p.l.Na,p.l,p):null;e:{var X=p.i;let ne=-1;for(;;){const _e=["count="+S];ne==-1?0<S?(ne=X[0].g,_e.push("ofs="+ne)):ne=0:_e.push("ofs="+ne);let it=!0;for(let rn=0;rn<S;rn++){let st=X[rn].g;const fn=X[rn].map;if(st-=ne,0>st)ne=Math.max(0,X[rn].g-100),it=!1;else try{ii(fn,_e,"req"+st+"_")}catch{F&&F(fn)}}if(it){F=_e.join("&");break e}}}return p=p.i.splice(0,S),w.D=p,F}function yd(p){if(!p.g&&!p.u){p.Y=1;var w=p.Fa;re||q(),he||(re(),he=!0),be.add(w,p),p.v=0}}function uu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Yt(_(p.Fa,p),cu(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,bd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Yt(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),Do(this),bd(this))};function Va(p){p.A!=null&&(d.clearTimeout(p.A),p.A=null)}function bd(p){p.g=new Un(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var w=nr(p.qa);_t(w,"RID","rpc"),_t(w,"SID",p.K),_t(w,"AID",p.T),_t(w,"CI",p.F?"0":"1"),!p.F&&p.ja&&_t(w,"TO",p.ja),_t(w,"TYPE","xmlhttp"),ka(p,w),p.m&&p.o&&dn(w,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=Ra(nr(w)),S.m=null,S.P=!0,ji(S,p)}n.Za=function(){this.C!=null&&(this.C=null,Do(this),uu(this),Nt(19))};function ko(p){p.C!=null&&(d.clearTimeout(p.C),p.C=null)}function _d(p,w){var S=null;if(p.g==w){ko(p),Va(p),p.g=null;var F=2}else if(Jl(p.h,w))S=w.D,Fn(p.h,w),F=1;else return;if(p.G!=0){if(w.o)if(F==1){S=w.m?w.m.length:0,w=Date.now()-w.F;var X=p.B;F=Ss(),Ne(F,new nn(F,S)),Po(p)}else yd(p);else if(X=w.s,X==3||X==0&&0<w.X||!(F==1&&jp(p,w)||F==2&&uu(p)))switch(S&&0<S.length&&(w=p.h,w.i=w.i.concat(S)),X){case 1:$i(p,5);break;case 4:$i(p,10);break;case 3:$i(p,6);break;default:$i(p,2)}}}function cu(p,w){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*w}function $i(p,w){if(p.j.info("Error code "+w),w==2){var S=_(p.fb,p),F=p.Xa;const X=!F;F=new Kt(F||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ca(F,"https"),Ra(F),X?Na(F.toString(),S):Ur(F.toString(),S)}else Nt(2);p.G=0,p.l&&p.l.sa(w),wd(p),gd(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function wd(p){if(p.G=0,p.ka=[],p.l){const w=eu(p.h);(w.length!=0||p.i.length!=0)&&(I(p.ka,w),I(p.ka,p.i),p.h.i.length=0,A(p.i),p.i.length=0),p.l.ra()}}function Ed(p,w,S){var F=S instanceof Kt?nr(S):new Kt(S);if(F.g!="")w&&(F.g=w+"."+F.g),Is(F,F.s);else{var X=d.location;F=X.protocol,w=w?w+"."+X.hostname:X.hostname,X=+X.port;var ne=new Kt(null);F&&Ca(ne,F),w&&(ne.g=w),X&&Is(ne,X),S&&(ne.l=S),F=ne}return S=p.D,w=p.ya,S&&w&&_t(F,S,w),_t(F,"VER",p.la),ka(p,F),F}function xd(p,w,S){if(w&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=p.Ca&&!p.pa?new ht(new Ns({eb:S})):new ht(p.pa),w.Ha(p.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sd(){}n=Sd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Vo(){}Vo.prototype.g=function(p,w){return new Bn(p,w)};function Bn(p,w){xe.call(this),this.g=new Mo(w),this.l=p,this.h=w&&w.messageUrlParams||null,p=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(p?p["X-WebChannel-Content-Type"]=w.messageContentType:p={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(p?p["X-WebChannel-Client-Profile"]=w.va:p={"X-WebChannel-Client-Profile":w.va}),this.g.S=p,(p=w&&w.Sb)&&!T(p)&&(this.g.m=p),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!T(w)&&(this.g.D=w,p=this.h,p!==null&&w in p&&(p=this.h,w in p&&delete p[w])),this.j=new li(this)}E(Bn,xe),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){ou(this.g)},Bn.prototype.o=function(p){var w=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=tr(p),p=S);w.i.push(new dd(w.Ya++,p)),w.G==3&&Po(w)},Bn.prototype.N=function(){this.g.l=null,delete this.j,ou(this.g),delete this.g,Bn.aa.N.call(this)};function Td(p){Vi.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var w=p.__sm__;if(w){e:{for(const S in w){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,w=w!==null&&p in w?w[p]:void 0),this.data=w}else this.data=p}E(Td,Vi);function Ad(){Ql.call(this),this.status=1}E(Ad,Ql);function li(p){this.g=p}E(li,Sd),li.prototype.ua=function(){Ne(this.g,"a")},li.prototype.ta=function(p){Ne(this.g,new Td(p))},li.prototype.sa=function(p){Ne(this.g,new Ad)},li.prototype.ra=function(){Ne(this.g,"b")},Vo.prototype.createWebChannel=Vo.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,w1=function(){return new Vo},_1=function(){return Ss()},b1=Jr,Av={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,Xf=Cs,Li.COMPLETE="complete",y1=Li,Kl.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",xe.prototype.listen=xe.prototype.K,uc=Kl,ht.prototype.listenOnce=ht.prototype.L,ht.prototype.getLastError=ht.prototype.Ka,ht.prototype.getLastErrorCode=ht.prototype.Ba,ht.prototype.getStatus=ht.prototype.Z,ht.prototype.getResponseJson=ht.prototype.Oa,ht.prototype.getResponseText=ht.prototype.oa,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Ha,v1=ht}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const ZE="@firebase/firestore",JE="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new _y("@firebase/firestore");function pl(){return uo.logLevel}function Ae(n,...e){if(uo.logLevel<=nt.DEBUG){const t=e.map(Py);uo.debug(`Firestore (${zl}): ${n}`,...t)}}function vs(n,...e){if(uo.logLevel<=nt.ERROR){const t=e.map(Py);uo.error(`Firestore (${zl}): ${n}`,...t)}}function Il(n,...e){if(uo.logLevel<=nt.WARN){const t=e.map(Py);uo.warn(`Firestore (${zl}): ${n}`,...t)}}function Py(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,E1(n,r,t)}function E1(n,e,t){let r=`FIRESTORE (${zl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw vs(r),new Error(r)}function gt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||E1(e,s,r)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vn.UNAUTHENTICATED))}shutdown(){}}class pk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mk{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new fs,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new fs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new x1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new Vn(e)}}class gk{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vk{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new gk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ex{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ex(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ex(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=bk(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function We(n,e){return n<e?-1:n>e?1:0}function Cv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return We(r,s);{const o=S1(),u=_k(o.encode(tx(n,t)),o.encode(tx(e,t)));return u!==0?u:We(r,s)}}t+=r>65535?2:1}return We(n.length,e.length)}function tx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function _k(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return We(n[t],e[t]);return We(n.length,e.length)}function Nl(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=-62135596800,rx=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(e){return un.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*rx);return new un(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<nx)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rx}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new un(0,0))}static max(){return new qe(new un(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ix="__name__";class mi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=mi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return We(e.length,t.length)}static compareSegments(e,t){const r=mi.isNumericId(e),s=mi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?mi.extractNumericId(e).compare(mi.extractNumericId(t)):Cv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class It extends mi{construct(e,t,r){return new It(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new It(t)}static emptyPath(){return new It([])}}const wk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends mi{construct(e,t,r){return new In(e,t,r)}static isValidIdentifier(e){return wk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ix}static keyField(){return new In([ix])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Ce(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ce(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(o(),s++)}if(o(),u)throw new Ce(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(t)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(It.fromString(e))}static fromName(e){return new Pe(It.fromString(e).popFirst(5))}static empty(){return new Pe(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function Ek(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=qe.fromTimestamp(r===1e9?new un(t+1,0):new un(t,r));return new fa(s,Pe.empty(),e)}function xk(n){return new fa(n.readTime,n.key,Rc)}class fa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new fa(qe.min(),Pe.empty(),Rc)}static max(){return new fa(qe.max(),Pe.empty(),Rc)}}function Sk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ak{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hl(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==Tk)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new de((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof de?t:de.resolve(t)}catch(t){return de.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):de.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):de.reject(t)}static resolve(e){return new de((t,r)=>{t(e)})}static reject(e){return new de((t,r)=>{r(e)})}static waitFor(e){return new de((t,r)=>{let s=0,o=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++o,u&&o===s&&t()},f=>r(f))}),u=!0,o===s&&t()})}static or(e){let t=de.resolve(!1);for(const r of e)t=t.next(s=>s?de.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new de((r,s)=>{const o=e.length,u=new Array(o);let d=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next(m=>{u[h]=m,++d,d===o&&r(u)},m=>s(m))}})}static doWhile(e,t){return new de((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function Ck(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ql(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ip.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=-1;function sp(n){return n==null}function yh(n){return n===0&&1/n==-1/0}function Rk(n){return typeof n=="number"&&Number.isInteger(n)&&!yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="";function Ik(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sx(e)),e=Nk(n.get(t),e);return sx(e)}function Nk(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case A1:t+="";break;default:t+=o}}return t}function sx(n){return n+A1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ba(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function C1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){this.comparator=e,this.root=t||Cn.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Cn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cn{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Cn.RED,this.left=s??Cn.EMPTY,this.right=o??Cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Cn(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Cn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Cn.EMPTY=null,Cn.RED=!0,Cn.BLACK=!1;Cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new Cn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ox(this.data.getIterator())}getIteratorFrom(e){return new ox(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof cn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new cn(this.comparator);return t.data=e,t}}class ox{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new pr([])}unionWith(e){let t=new cn(In.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new R1("Invalid base64 string: "+o):o}}(e);return new Nn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const Ok=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(n){if(gt(!!n,39018),typeof n=="string"){let e=0;const t=Ok.exec(n);if(gt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qt(n.seconds),nanos:qt(n.nanos)}}function qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function pa(n){return typeof n=="string"?Nn.fromBase64String(n):Nn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="server_timestamp",N1="__type__",O1="__previous_value__",M1="__local_write_time__";function Vy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[N1])===null||t===void 0?void 0:t.stringValue)===I1}function ap(n){const e=n.mapValue.fields[O1];return Vy(e)?ap(e):e}function Ic(n){const e=ha(n.mapValue.fields[M1].timestampValue);return new un(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,t,r,s,o,u,d,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const bh="(default)";class Nc{constructor(e,t){this.projectId=e,this.database=t||bh}static empty(){return new Nc("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__type__",Dk="__max__",Mf={mapValue:{}},P1="__vector__",_h="value";function ma(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Vy(n)?4:kk(n)?9007199254740991:Pk(n)?10:11:Be(28295,{value:n})}function Ci(n,e){if(n===e)return!0;const t=ma(n);if(t!==ma(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ic(n).isEqual(Ic(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=ha(s.timestampValue),d=ha(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return pa(s.bytesValue).isEqual(pa(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return qt(s.geoPointValue.latitude)===qt(o.geoPointValue.latitude)&&qt(s.geoPointValue.longitude)===qt(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return qt(s.integerValue)===qt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=qt(s.doubleValue),d=qt(o.doubleValue);return u===d?yh(u)===yh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Nl(n.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},d=o.mapValue.fields||{};if(ax(u)!==ax(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ci(u[f],d[f])))return!1;return!0}(n,e);default:return Be(52216,{left:n})}}function Oc(n,e){return(n.values||[]).find(t=>Ci(t,e))!==void 0}function Ol(n,e){if(n===e)return 0;const t=ma(n),r=ma(e);if(t!==r)return We(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=qt(o.integerValue||o.doubleValue),f=qt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return lx(n.timestampValue,e.timestampValue);case 4:return lx(Ic(n),Ic(e));case 5:return Cv(n.stringValue,e.stringValue);case 6:return function(o,u){const d=pa(o),f=pa(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),f=u.split("/");for(let h=0;h<d.length&&h<f.length;h++){const m=We(d[h],f[h]);if(m!==0)return m}return We(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=We(qt(o.latitude),qt(u.latitude));return d!==0?d:We(qt(o.longitude),qt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ux(n.arrayValue,e.arrayValue);case 10:return function(o,u){var d,f,h,m;const b=o.fields||{},_=u.fields||{},x=(d=b[_h])===null||d===void 0?void 0:d.arrayValue,E=(f=_[_h])===null||f===void 0?void 0:f.arrayValue,A=We(((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0,((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0);return A!==0?A:ux(x,E)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Mf.mapValue&&u===Mf.mapValue)return 0;if(o===Mf.mapValue)return 1;if(u===Mf.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),h=u.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let b=0;b<f.length&&b<m.length;++b){const _=Cv(f[b],m[b]);if(_!==0)return _;const x=Ol(d[f[b]],h[m[b]]);if(x!==0)return x}return We(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Be(23264,{Pe:t})}}function lx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=ha(n),r=ha(e),s=We(t.seconds,r.seconds);return s!==0?s:We(t.nanos,r.nanos)}function ux(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Ol(t[s],r[s]);if(o)return o}return We(t.length,r.length)}function Ml(n){return Rv(n)}function Rv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ha(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return pa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Rv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Rv(t.fields[u])}`;return s+"}"}(n.mapValue):Be(61005,{value:n})}function Wf(n){switch(ma(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ap(n);return e?16+Wf(e):16;case 5:return 2*n.stringValue.length;case 6:return pa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Wf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return ba(r.fields,(o,u)=>{s+=o.length+Wf(u)}),s}(n.mapValue);default:throw Be(13486,{value:n})}}function cx(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Iv(n){return!!n&&"integerValue"in n}function Ly(n){return!!n&&"arrayValue"in n}function dx(n){return!!n&&"nullValue"in n}function fx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zf(n){return!!n&&"mapValue"in n}function Pk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[D1])===null||t===void 0?void 0:t.stringValue)===P1}function vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ba(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function kk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Dk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(t)}setAll(e){let t=In.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=vc(u):s.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());Zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Zf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){ba(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Zn(vc(this.value))}}function k1(n){const e=[];return ba(n.fields,(t,r)=>{const s=new In([t]);if(Zf(r)){const o=k1(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,t,r,s,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Ln(e,0,qe.min(),qe.min(),qe.min(),Zn.empty(),0)}static newFoundDocument(e,t,r,s){return new Ln(e,1,t,qe.min(),r,s,0)}static newNoDocument(e,t){return new Ln(e,2,t,qe.min(),qe.min(),Zn.empty(),0)}static newUnknownDocument(e,t){return new Ln(e,3,t,qe.min(),qe.min(),Zn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t){this.position=e,this.inclusive=t}}function hx(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(u.referenceValue),t.key):r=Ol(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function px(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ci(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Vk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{}class en extends V1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new jk(e,t,r):t==="array-contains"?new Bk(e,r):t==="in"?new zk(e,r):t==="not-in"?new Hk(e,r):t==="array-contains-any"?new qk(e,r):new en(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Uk(e,r):new Fk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ol(t,this.value)):t!==null&&ma(this.value)===ma(t)&&this.matchesComparison(Ol(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends V1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Kr(e,t)}matches(e){return L1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function L1(n){return n.op==="and"}function j1(n){return Lk(n)&&L1(n)}function Lk(n){for(const e of n.filters)if(e instanceof Kr)return!1;return!0}function Nv(n){if(n instanceof en)return n.field.canonicalString()+n.op.toString()+Ml(n.value);if(j1(n))return n.filters.map(e=>Nv(e)).join(",");{const e=n.filters.map(t=>Nv(t)).join(",");return`${n.op}(${e})`}}function U1(n,e){return n instanceof en?function(r,s){return s instanceof en&&r.op===s.op&&r.field.isEqual(s.field)&&Ci(r.value,s.value)}(n,e):n instanceof Kr?function(r,s){return s instanceof Kr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,d)=>o&&U1(u,s.filters[d]),!0):!1}(n,e):void Be(19439)}function F1(n){return n instanceof en?function(t){return`${t.field.canonicalString()} ${t.op} ${Ml(t.value)}`}(n):n instanceof Kr?function(t){return t.op.toString()+" {"+t.getFilters().map(F1).join(" ,")+"}"}(n):"Filter"}class jk extends en{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Uk extends en{constructor(e,t){super(e,"in",t),this.keys=B1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Fk extends en{constructor(e,t){super(e,"not-in",t),this.keys=B1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function B1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class Bk extends en{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ly(t)&&Oc(t.arrayValue,this.value)}}class zk extends en{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Oc(this.value.arrayValue,t)}}class Hk extends en{constructor(e,t){super(e,"not-in",t)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Oc(this.value.arrayValue,t)}}class qk extends en{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ly(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t=null,r=[],s=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function mx(n,e=null,t=[],r=[],s=null,o=null,u=null){return new $k(n,e,t,r,s,o,u)}function jy(n){const e=$e(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Nv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ml(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ml(r)).join(",")),e.Ie=t}return e.Ie}function Uy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Vk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!U1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!px(n.startAt,e.startAt)&&px(n.endAt,e.endAt)}function Ov(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t=null,r=[],s=[],o=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Gk(n,e,t,r,s,o,u,d){return new Qc(n,e,t,r,s,o,u,d)}function Fy(n){return new Qc(n)}function gx(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function z1(n){return n.collectionGroup!==null}function yc(n){const e=$e(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new cn(In.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(d=d.add(h.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Eh(o,r))}),t.has(In.keyField().canonicalString())||e.Ee.push(new Eh(In.keyField(),r))}return e.Ee}function Si(n){const e=$e(n);return e.de||(e.de=Yk(e,yc(n))),e.de}function Yk(n,e){if(n.limitType==="F")return mx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Eh(s.field,o)});const t=n.endAt?new wh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new wh(n.startAt.position,n.startAt.inclusive):null;return mx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Mv(n,e){const t=n.filters.concat([e]);return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xh(n,e,t){return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function op(n,e){return Uy(Si(n),Si(e))&&n.limitType===e.limitType}function H1(n){return`${jy(Si(n))}|lt:${n.limitType}`}function ml(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>F1(s)).join(", ")}]`),sp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Ml(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Ml(s)).join(",")),`Target(${r})`}(Si(n))}; limitType=${n.limitType})`}function lp(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of yc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const h=hx(u,d,f);return u.inclusive?h<=0:h<0}(r.startAt,yc(r),s)||r.endAt&&!function(u,d,f){const h=hx(u,d,f);return u.inclusive?h>=0:h>0}(r.endAt,yc(r),s))}(n,e)}function Kk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function q1(n){return(e,t)=>{let r=!1;for(const s of yc(n)){const o=Qk(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Qk(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(o,u,d){const f=u.data.field(o),h=d.data.field(o);return f!==null&&h!==null?Ol(f,h):Be(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return C1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=new Pt(Pe.comparator);function ys(){return Xk}const $1=new Pt(Pe.comparator);function cc(...n){let e=$1;for(const t of n)e=e.insert(t.key,t);return e}function G1(n){let e=$1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function to(){return bc()}function Y1(){return bc()}function bc(){return new yo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Wk=new Pt(Pe.comparator),Zk=new cn(Pe.comparator);function rt(...n){let e=Zk;for(const t of n)e=e.add(t);return e}const Jk=new cn(We);function eV(){return Jk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function K1(n){return{integerValue:""+n}}function Q1(n,e){return Rk(e)?K1(e):By(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this._=void 0}}function tV(n,e,t){return n instanceof Mc?function(s,o){const u={fields:{[N1]:{stringValue:I1},[M1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Vy(o)&&(o=ap(o)),o&&(u.fields[O1]=o),{mapValue:u}}(t,e):n instanceof Dc?W1(n,e):n instanceof Pc?Z1(n,e):function(s,o){const u=X1(s,o),d=vx(u)+vx(s.Re);return Iv(u)&&Iv(s.Re)?K1(d):By(s.serializer,d)}(n,e)}function nV(n,e,t){return n instanceof Dc?W1(n,e):n instanceof Pc?Z1(n,e):t}function X1(n,e){return n instanceof kc?function(r){return Iv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Mc extends up{}class Dc extends up{constructor(e){super(),this.elements=e}}function W1(n,e){const t=J1(e);for(const r of n.elements)t.some(s=>Ci(s,r))||t.push(r);return{arrayValue:{values:t}}}class Pc extends up{constructor(e){super(),this.elements=e}}function Z1(n,e){let t=J1(e);for(const r of n.elements)t=t.filter(s=>!Ci(s,r));return{arrayValue:{values:t}}}class kc extends up{constructor(e,t){super(),this.serializer=e,this.Re=t}}function vx(n){return qt(n.integerValue||n.doubleValue)}function J1(n){return Ly(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t){this.field=e,this.transform=t}}function rV(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Dc&&s instanceof Dc||r instanceof Pc&&s instanceof Pc?Nl(r.elements,s.elements,Ci):r instanceof kc&&s instanceof kc?Ci(r.Re,s.Re):r instanceof Mc&&s instanceof Mc}(n.transform,e.transform)}class iV{constructor(e,t){this.version=e,this.transformResults=t}}class Mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mr}static exists(e){return new Mr(void 0,e)}static updateTime(e){return new Mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class cp{}function tA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zy(n.key,Mr.none()):new Xc(n.key,n.data,Mr.none());{const t=n.data,r=Zn.empty();let s=new cn(In.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new _a(n.key,r,new pr(s.toArray()),Mr.none())}}function sV(n,e,t){n instanceof Xc?function(s,o,u){const d=s.value.clone(),f=bx(s.fieldTransforms,o,u.transformResults);d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof _a?function(s,o,u){if(!Jf(s.precondition,o))return void o.convertToUnknownDocument(u.version);const d=bx(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(nA(s)),f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function _c(n,e,t,r){return n instanceof Xc?function(o,u,d,f){if(!Jf(o.precondition,u))return d;const h=o.value.clone(),m=_x(o.fieldTransforms,f,u);return h.setAll(m),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof _a?function(o,u,d,f){if(!Jf(o.precondition,u))return d;const h=_x(o.fieldTransforms,f,u),m=u.data;return m.setAll(nA(o)),m.setAll(h),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(o,u,d){return Jf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function aV(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=X1(r.transform,s||null);o!=null&&(t===null&&(t=Zn.empty()),t.set(r.field,o))}return t||null}function yx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Nl(r,s,(o,u)=>rV(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xc extends cp{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class _a extends cp{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function nA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function bx(n,e,t){const r=new Map;gt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,d=e.data.field(o.field);r.set(o.field,nV(u,d,t[s]))}return r}function _x(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,tV(o,u,e))}return r}class zy extends cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oV extends cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&sV(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=_c(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=_c(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Y1();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(s.key)?null:d;const f=tA(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rt())}isEqual(e){return this.batchId===e.batchId&&Nl(this.mutations,e.mutations,(t,r)=>yx(t,r))&&Nl(this.baseMutations,e.baseMutations,(t,r)=>yx(t,r))}}class Hy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){gt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return Wk}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new Hy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,ot;function dV(n){switch(n){case fe.OK:return Be(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function rA(n){if(n===void 0)return vs("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Zt.OK:return fe.OK;case Zt.CANCELLED:return fe.CANCELLED;case Zt.UNKNOWN:return fe.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return fe.INTERNAL;case Zt.UNAVAILABLE:return fe.UNAVAILABLE;case Zt.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Zt.NOT_FOUND:return fe.NOT_FOUND;case Zt.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Zt.ABORTED:return fe.ABORTED;case Zt.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Zt.DATA_LOSS:return fe.DATA_LOSS;default:return Be(39323,{code:n})}}(ot=Zt||(Zt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new ua([4294967295,4294967295],0);function wx(n){const e=S1().encode(n),t=new g1;return t.update(e),new Uint8Array(t.digest())}function Ex(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ua([t,r],0),new ua([s,o],0)]}class qy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new dc(`Invalid padding: ${t}`);if(r<0)throw new dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new dc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ua.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(ua.fromNumber(r)));return s.compare(fV)===1&&(s=new ua([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=wx(e),[r,s]=Ex(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.Se(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new qy(o,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=wx(e),[r,s]=Ex(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new dp(qe.min(),s,new Pt(We),ys(),rt())}}class Wc{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Wc(r,t,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class iA{constructor(e,t){this.targetId=e,this.Ce=t}}class sA{constructor(e,t,r=Nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class xx{constructor(){this.Fe=0,this.Me=Sx(),this.xe=Nn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=rt(),t=rt(),r=rt();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Be(38017,{changeType:o})}}),new Wc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Sx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class hV{constructor(e){this.ze=e,this.je=new Map,this.He=ys(),this.Je=Df(),this.Ye=Df(),this.Ze=new Pt(We)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Be(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(Ov(o))if(r===0){const u=new Pe(o.path);this.tt(t,u,Ln.newNoDocument(u,qe.min()))}else gt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const d=this.ct(e),f=d?this.lt(d,e,u):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,d;try{u=pa(r).toUint8Array()}catch(f){if(f instanceof R1)return Il("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new qy(u,s,o)}catch(f){return Il(f instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&Ov(d.target)){const f=new Pe(d.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Ln.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=rt();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new dp(e,t,this.Ze,this.He,r);return this.He=ys(),this.Je=Df(),this.Ye=Df(),this.Ze=new Pt(We),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new xx,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new cn(We),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new cn(We),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new xx),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Df(){return new Pt(Pe.comparator)}function Sx(){return new Pt(Pe.comparator)}const pV={asc:"ASCENDING",desc:"DESCENDING"},mV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gV={and:"AND",or:"OR"};class vV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dv(n,e){return n.useProto3Json||sp(e)?e:{value:e}}function Sh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function aA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yV(n,e){return Sh(n,e.toTimestamp())}function Ti(n){return gt(!!n,49232),qe.fromTimestamp(function(t){const r=ha(t);return new un(r.seconds,r.nanos)}(n))}function $y(n,e){return Pv(n,e).canonicalString()}function Pv(n,e){const t=function(s){return new It(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function oA(n){const e=It.fromString(n);return gt(fA(e),10190,{key:e.toString()}),e}function kv(n,e){return $y(n.databaseId,e.path)}function qg(n,e){const t=oA(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(uA(t))}function lA(n,e){return $y(n.databaseId,e)}function bV(n){const e=oA(n);return e.length===4?It.emptyPath():uA(e)}function Vv(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uA(n){return gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Tx(n,e,t){return{name:kv(n,e),fields:t.value.mapValue.fields}}function _V(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Be(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(gt(m===void 0||typeof m=="string",58123),Nn.fromBase64String(m||"")):(gt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),Nn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(h){const m=h.code===void 0?fe.UNKNOWN:rA(h.code);return new Ce(m,h.message||"")}(u);t=new sA(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=qg(n,r.document.name),o=Ti(r.document.updateTime),u=r.document.createTime?Ti(r.document.createTime):qe.min(),d=new Zn({mapValue:{fields:r.document.fields}}),f=Ln.newFoundDocument(s,o,u,d),h=r.targetIds||[],m=r.removedTargetIds||[];t=new eh(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=qg(n,r.document),o=r.readTime?Ti(r.readTime):qe.min(),u=Ln.newNoDocument(s,o),d=r.removedTargetIds||[];t=new eh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=qg(n,r.document),o=r.removedTargetIds||[];t=new eh([],o,s,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new cV(s,o),d=r.targetId;t=new iA(d,u)}}return t}function wV(n,e){let t;if(e instanceof Xc)t={update:Tx(n,e.key,e.value)};else if(e instanceof zy)t={delete:kv(n,e.key)};else if(e instanceof _a)t={update:Tx(n,e.key,e.data),updateMask:NV(e.fieldMask)};else{if(!(e instanceof oV))return Be(16599,{ft:e.type});t={verify:kv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Mc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Dc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof kc)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Be(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:yV(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Be(27497)}(n,e.precondition)),t}function EV(n,e){return n&&n.length>0?(gt(e!==void 0,14353),n.map(t=>function(s,o){let u=s.updateTime?Ti(s.updateTime):Ti(o);return u.isEqual(qe.min())&&(u=Ti(o)),new iV(u,s.transformResults||[])}(t,e))):[]}function xV(n,e){return{documents:[lA(n,e.path)]}}function SV(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=lA(n,s);const o=function(h){if(h.length!==0)return dA(Kr.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:gl(_.field),direction:CV(_.dir)}}(m))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Dv(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:s}}function TV(n){let e=bV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){gt(r===1,65062);const m=t.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(b){const _=cA(b);return _ instanceof Kr&&j1(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(_=>function(E){return new Eh(vl(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(t.orderBy));let d=null;t.limit&&(d=function(b){let _;return _=typeof b=="object"?b.value:b,sp(_)?null:_}(t.limit));let f=null;t.startAt&&(f=function(b){const _=!!b.before,x=b.values||[];return new wh(x,_)}(t.startAt));let h=null;return t.endAt&&(h=function(b){const _=!b.before,x=b.values||[];return new wh(x,_)}(t.endAt)),Gk(e,s,u,o,d,"F",f,h)}function AV(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function cA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=vl(t.unaryFilter.field);return en.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=vl(t.unaryFilter.field);return en.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vl(t.unaryFilter.field);return en.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=vl(t.unaryFilter.field);return en.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}}(n):n.fieldFilter!==void 0?function(t){return en.create(vl(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Kr.create(t.compositeFilter.filters.map(r=>cA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Be(1026)}}(t.compositeFilter.op))}(n):Be(30097,{filter:n})}function CV(n){return pV[n]}function RV(n){return mV[n]}function IV(n){return gV[n]}function gl(n){return{fieldPath:n.canonicalString()}}function vl(n){return In.fromServerFormat(n.fieldPath)}function dA(n){return n instanceof en?function(t){if(t.op==="=="){if(fx(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NAN"}};if(dx(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fx(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NOT_NAN"}};if(dx(t.value))return{unaryFilter:{field:gl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(t.field),op:RV(t.op),value:t.value}}}(n):n instanceof Kr?function(t){const r=t.getFilters().map(s=>dA(s));return r.length===1?r[0]:{compositeFilter:{op:IV(t.op),filters:r}}}(n):Be(54877,{filter:n})}function NV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,t,r,s,o=qe.min(),u=qe.min(),d=Nn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new sa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new sa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e){this.wt=e}}function MV(n){const e=TV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.Cn=new PV}addToCollectionParentIndex(e,t){return this.Cn.add(t),de.resolve()}getCollectionParents(e,t){return de.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return de.resolve()}deleteFieldIndex(e,t){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,t){return de.resolve()}getDocumentsMatchingTarget(e,t){return de.resolve(null)}getIndexType(e,t){return de.resolve(0)}getFieldIndexes(e,t){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,t){return de.resolve(fa.min())}getMinOffsetFromCollectionGroup(e,t){return de.resolve(fa.min())}updateCollectionGroup(e,t,r){return de.resolve()}updateIndexEntries(e,t){return de.resolve()}}class PV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new cn(It.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new cn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},hA=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(hA,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Dl(0)}static lr(){return new Dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="LruGarbageCollector",kV=1048576;function Rx([n,e],[t,r]){const s=We(n,t);return s===0?We(e,r):s}class VV{constructor(e){this.Er=e,this.buffer=new cn(Rx),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Rx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ae(Cx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ql(t)?Ae(Cx,"Ignoring IndexedDB error during garbage collection: ",t):await Hl(t)}await this.mr(3e5)})}}class jV{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return de.resolve(ip.le);const r=new VV(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(Ax)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ax):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,o,u,d,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,u=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(r=b,d=Date.now(),this.removeTargets(e,r,t))).next(b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(h=Date.now(),pl()<=nt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${b} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b})))}}function UV(n,e){return new jV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(){this.changes=new yo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?de.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&_c(r.mutation,s,pr.empty(),un.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=rt()){const s=to();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=cc();return o.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=to();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,rt()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let o=ys();const u=bc(),d=function(){return bc()}();return t.forEach((f,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof _a)?o=o.insert(h.key,h):m!==void 0?(u.set(h.key,m.mutation.getFieldMask()),_c(m.mutation,h,m.mutation.getFieldMask(),un.now())):u.set(h.key,pr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,m)=>u.set(h,m)),t.forEach((h,m)=>{var b;return d.set(h,new BV(m,(b=u.get(h))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const r=bc();let s=new Pt((u,d)=>u-d),o=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let m=r.get(f)||pr.empty();m=d.applyToLocalView(h,m),r.set(f,m);const b=(s.get(d.batchId)||rt()).add(f);s=s.insert(d.batchId,b)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,m=f.value,b=Y1();m.forEach(_=>{if(!o.has(_)){const x=tA(t.get(_),r.get(_));x!==null&&b.set(_,x),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,h,b))}return de.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):z1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):de.resolve(to());let d=Rc,f=o;return u.next(h=>de.forEach(h,(m,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(m)?de.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{f=f.insert(m,_)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,rt())).next(m=>({batchId:d,changes:G1(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(r=>{let s=cc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=cc();return this.indexManager.getCollectionParents(e,o).next(d=>de.forEach(d,f=>{const h=function(b,_){return new Qc(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(m=>{m.forEach((b,_)=>{u=u.insert(b,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((f,h)=>{const m=h.getKey();u.get(m)===null&&(u=u.insert(m,Ln.newInvalidDocument(m)))});let d=cc();return u.forEach((f,h)=>{const m=o.get(f);m!==void 0&&_c(m.mutation,h,pr.empty(),un.now()),lp(t,h)&&(d=d.insert(f,h))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return de.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Ti(s.createTime)}}(t)),de.resolve()}getNamedQuery(e,t){return de.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:MV(s.bundledQuery),readTime:Ti(s.readTime)}}(t)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.overlays=new Pt(Pe.comparator),this.Qr=new Map}getOverlay(e,t){return de.resolve(this.overlays.get(t))}getOverlays(e,t){const r=to();return de.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.bt(e,t,o)}),de.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),de.resolve()}getOverlaysForCollection(e,t,r){const s=to(),o=t.length+1,u=new Pe(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return de.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Pt((h,m)=>h-m);const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=to(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const d=to(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,m)=>d.set(h,m)),!(d.size()>=s)););return de.resolve(d)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new uV(t,r));let o=this.Qr.get(t);o===void 0&&(o=rt(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.$r=new cn(gn.Ur),this.Kr=new cn(gn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new gn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new gn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Pe(new It([])),r=new gn(t,e),s=new gn(t,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Pe(new It([])),r=new gn(t,e),s=new gn(t,e+1);let o=rt();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new gn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Pe.comparator(e.key,t.key)||We(e.Zr,t.Zr)}static Wr(e,t){return We(e.Zr,t.Zr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new cn(gn.Ur)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new lV(o,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Xr=this.Xr.add(new gn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,t){return de.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),o=s<0?0:s;return de.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?ky:this.nr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gn(t,0),s=new gn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const d=this.ei(u.Zr);o.push(d)}),de.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new cn(We);return t.forEach(s=>{const o=new gn(s,0),u=new gn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],d=>{r=r.add(d.Zr)})}),de.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const u=new gn(new Pe(o),0);let d=new cn(We);return this.Xr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(d=d.add(f.Zr)),!0)},u),de.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){gt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return de.forEach(t.mutations,s=>{const o=new gn(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new gn(t,0),s=this.Xr.firstAfterOrEqual(r);return de.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e){this.ii=e,this.docs=function(){return new Pt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return de.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let r=ys();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Ln.newInvalidDocument(s))}),de.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=ys();const u=t.path,d=new Pe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||Sk(xk(m),r)<=0||(s.has(m.key)||lp(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return de.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Be(9500)}si(e,t){return de.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new KV(this)}getSize(e){return de.resolve(this.size)}}class KV extends FV{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),de.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.persistence=e,this.oi=new yo(t=>jy(t),Uy),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this._i=0,this.ai=new Gy,this.targetCount=0,this.ui=Dl.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),de.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Dl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,de.resolve()}updateTargetData(e,t){return this.Tr(t),de.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.oi.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),de.waitFor(o).next(()=>s)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return de.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),de.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),de.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),de.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return de.resolve(r)}containsKey(e,t){return de.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t){this.ci={},this.overlays={},this.li=new ip(0),this.hi=!1,this.hi=!0,this.Pi=new $V,this.referenceDelegate=e(this),this.Ti=new QV(this),this.indexManager=new DV,this.remoteDocumentCache=function(s){return new YV(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new OV(t),this.Ei=new HV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new GV(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const s=new XV(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,t){return de.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class XV extends Ak{constructor(e){super(),this.currentSequenceNumber=e}}class Yy{constructor(e){this.persistence=e,this.Vi=new Gy,this.mi=null}static fi(e){return new Yy(e)}get gi(){if(this.mi)return this.mi;throw Be(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),de.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),de.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.gi,r=>{const s=Pe.fromPath(r);return this.pi(e,s).next(o=>{o||t.removeEntry(s,qe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return de.or([()=>de.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Th{constructor(e,t){this.persistence=e,this.yi=new yo(r=>Ik(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=UV(this,t)}static fi(e,t){return new Th(e,t)}di(){}Ai(e){return de.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return de.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?de.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,t).next(d=>{d||(r++,o.removeEntry(u,qe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),de.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),de.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wf(e.data.value)),t}Dr(e,t,r){return de.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return de.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=rt(),s=rt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Ky(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return SO()?8:Ck(jn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Ss(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new WV;return this.bs(e,t,u).next(d=>{if(o.result=d,this.fs)return this.Ds(e,t,u,d.size)})}).next(()=>o.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(pl()<=nt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",ml(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),de.resolve()):(pl()<=nt.DEBUG&&Ae("QueryEngine","Query:",ml(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(pl()<=nt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",ml(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(t))):de.resolve())}ws(e,t){if(gx(t))return de.resolve(null);let r=Si(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=xh(t,null,"F"),r=Si(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=rt(...o);return this.ys.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.vs(t,d);return this.Cs(t,h,u,f.readTime)?this.ws(e,xh(t,null,"F")):this.Fs(e,h,t,f)}))})))}Ss(e,t,r,s){return gx(t)||s.isEqual(qe.min())?de.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,s)?de.resolve(null):(pl()<=nt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ml(t)),this.Fs(e,u,t,Ek(s,Rc)).next(d=>d))})}vs(e,t){let r=new cn(q1(e));return t.forEach((s,o)=>{lp(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}bs(e,t,r){return pl()<=nt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",ml(t)),this.ys.getDocumentsMatchingQuery(e,t,fa.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="LocalStore",JV=3e8;class eL{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new Pt(We),this.Os=new yo(o=>jy(o),Uy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function tL(n,e,t,r){return new eL(n,e,t,r)}async function mA(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],d=[];let f=rt();for(const h of s){u.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of o){d.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(h=>({ks:h,removedBatchIds:u,addedBatchIds:d}))})})}function nL(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,f,h,m){const b=h.batch,_=b.keys();let x=de.resolve();return _.forEach(E=>{x=x.next(()=>m.getEntry(f,E)).next(A=>{const I=h.docVersions.get(E);gt(I!==null,48541),A.version.compareTo(I)<0&&(b.applyToRemoteDocument(A,h),A.isValidDocument()&&(A.setReadTime(h.commitVersion),m.addEntry(A)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(f,b))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=rt();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function gA(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function rL(n,e){const t=$e(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const d=[];e.targetChanges.forEach((m,b)=>{const _=s.get(b);if(!_)return;d.push(t.Ti.removeMatchingKeys(o,m.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(o,m.addedDocuments,b)));let x=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(Nn.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),s=s.insert(b,x),function(A,I,R){return A.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=JV?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(_,x,m)&&d.push(t.Ti.updateTargetData(o,x))});let f=ys(),h=rt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),d.push(iL(o,u,e.documentUpdates).next(m=>{f=m.qs,h=m.Qs})),!r.isEqual(qe.min())){const m=t.Ti.getLastRemoteSnapshotVersion(o).next(b=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(m)}return de.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(t.xs=s,o))}function iL(n,e,t){let r=rt(),s=rt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=ys();return t.forEach((d,f)=>{const h=o.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(qe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):Ae(Qy,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function sL(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ky),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function aL(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(o=>o?(s=o,de.resolve(s)):t.Ti.allocateTargetId(r).next(u=>(s=new sa(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Lv(n,e,t){const r=$e(n),s=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!ql(u))throw u;Ae(Qy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Ix(n,e,t){const r=$e(n);let s=qe.min(),o=rt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,h,m){const b=$e(f),_=b.Os.get(m);return _!==void 0?de.resolve(b.xs.get(_)):b.Ti.getTargetData(h,m)}(r,u,Si(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,d.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?s:qe.min(),t?o:rt())).next(d=>(oL(r,Kk(e),d),{documents:d,$s:o})))}function oL(n,e,t){let r=n.Ns.get(e)||qe.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}class Nx{constructor(){this.activeTargetIds=eV()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lL{constructor(){this.xo=new Nx,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Nx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="ConnectivityMonitor";class Mx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ae(Ox,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ae(Ox,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=null;function jv(){return Pf===null?Pf=function(){return 268435456+Math.round(2147483648*Math.random())}():Pf++,"0x"+Pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="RestConnection",cL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class dL{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,o){const u=jv(),d=this.jo(e,t.toUriEncodedString());Ae($g,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:h}=new URL(d),m=go(h);return this.Jo(e,d,f,r,m).then(b=>(Ae($g,`Received RPC '${e}' ${u}: `,b),b),b=>{throw Il($g,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",r),b})}Yo(e,t,r,s,o,u){return this.zo(e,t,r,s,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,t){const r=cL[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn="WebChannelConnection";class hL extends dL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=jv();return new Promise((d,f)=>{const h=new v1;h.setWithCredentials(!0),h.listenOnce(y1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Xf.NO_ERROR:const b=h.getResponseJson();Ae(Pn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Xf.TIMEOUT:Ae(Pn,`RPC '${e}' ${u} timed out`),f(new Ce(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const _=h.getStatus();if(Ae(Pn,`RPC '${e}' ${u} failed with status:`,_,"response text:",h.getResponseText()),_>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const E=x==null?void 0:x.error;if(E&&E.status&&E.message){const A=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(T)>=0?T:fe.UNKNOWN}(E.status);f(new Ce(A,E.message))}else f(new Ce(fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Ce(fe.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:u,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ae(Pn,`RPC '${e}' ${u} completed.`)}});const m=JSON.stringify(s);Ae(Pn,`RPC '${e}' ${u} sending request:`,s),h.send(t,"POST",m,r,15)})}T_(e,t,r){const s=jv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=w1(),d=_1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=o.join("");Ae(Pn,`Creating RPC '${e}' stream ${s}: ${m}`,f);const b=u.createWebChannel(m,f);let _=!1,x=!1;const E=new fL({Zo:I=>{x?Ae(Pn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(_||(Ae(Pn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),_=!0),Ae(Pn,`RPC '${e}' stream ${s} sending:`,I),b.send(I))},Xo:()=>b.close()}),A=(I,R,T)=>{I.listen(R,M=>{try{T(M)}catch(z){setTimeout(()=>{throw z},0)}})};return A(b,uc.EventType.OPEN,()=>{x||(Ae(Pn,`RPC '${e}' stream ${s} transport opened.`),E.__())}),A(b,uc.EventType.CLOSE,()=>{x||(x=!0,Ae(Pn,`RPC '${e}' stream ${s} transport closed`),E.u_())}),A(b,uc.EventType.ERROR,I=>{x||(x=!0,Il(Pn,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),E.u_(new Ce(fe.UNAVAILABLE,"The operation could not be completed")))}),A(b,uc.EventType.MESSAGE,I=>{var R;if(!x){const T=I.data[0];gt(!!T,16349);const M=T,z=(M==null?void 0:M.error)||((R=M[0])===null||R===void 0?void 0:R.error);if(z){Ae(Pn,`RPC '${e}' stream ${s} received error:`,z);const j=z.status;let Y=function(O){const V=Zt[O];if(V!==void 0)return rA(V)}(j),P=z.message;Y===void 0&&(Y=fe.INTERNAL,P="Unknown error status: "+j+" with message "+z.message),x=!0,E.u_(new Ce(Y,P)),b.close()}else Ae(Pn,`RPC '${e}' stream ${s} received:`,T),E.c_(T)}}),A(d,b1.STAT_EVENT,I=>{I.stat===Av.PROXY?Ae(Pn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Av.NOPROXY&&Ae(Pn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}}function Gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(n){return new vV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=s,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,t-r);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="PersistentStream";class yA{constructor(e,t,r,s,o,u,d,f){this.xi=e,this.y_=r,this.w_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new vA(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(vs(t.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===t&&this.K_(r,s)},r=>{e(()=>{const s=new Ce(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Ae(Dx,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Ae(Dx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pL extends yA{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=_V(this.serializer,e),r=function(o){if(!("targetChange"in o))return qe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?Ti(u.readTime):qe.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=Vv(this.serializer),t.addTarget=function(o,u){let d;const f=u.target;if(d=Ov(f)?{documents:xV(o,f)}:{query:SV(o,f).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=aA(o,u.resumeToken);const h=Dv(o,u.expectedCount);h!==null&&(d.expectedCount=h)}else if(u.snapshotVersion.compareTo(qe.min())>0){d.readTime=Sh(o,u.snapshotVersion.toTimestamp());const h=Dv(o,u.expectedCount);h!==null&&(d.expectedCount=h)}return d}(this.serializer,e);const r=AV(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=Vv(this.serializer),t.removeTarget=e,this.L_(t)}}class mL extends yA{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=EV(e.writeResults,e.commitTime),r=Ti(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=Vv(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>wV(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{}class vL extends gL{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new Ce(fe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,Pv(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(fe.UNKNOWN,o.toString())})}Yo(e,t,r,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Yo(e,Pv(t,r),s,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(fe.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class yL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(vs(t),this.oa=!1):Ae("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class bL{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(u=>{r.enqueueAndForget(async()=>{bo(this)&&(Ae(co,"Restarting streams for network reachability change."),await async function(f){const h=$e(f);h.Ta.add(4),await Zc(h),h.da.set("Unknown"),h.Ta.delete(4),await hp(h)}(this))})}),this.da=new yL(r,s)}}async function hp(n){if(bo(n))for(const e of n.Ia)await e(!0)}async function Zc(n){for(const e of n.Ia)await e(!1)}function bA(n,e){const t=$e(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),Jy(t)?Zy(t):$l(t).M_()&&Wy(t,e))}function Xy(n,e){const t=$e(n),r=$l(t);t.Pa.delete(e),r.M_()&&_A(t,e),t.Pa.size===0&&(r.M_()?r.N_():bo(t)&&t.da.set("Unknown"))}function Wy(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$l(n).H_(e)}function _A(n,e){n.Aa.Ke(e),$l(n).J_(e)}function Zy(n){n.Aa=new hV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),$l(n).start(),n.da._a()}function Jy(n){return bo(n)&&!$l(n).F_()&&n.Pa.size>0}function bo(n){return $e(n).Ta.size===0}function wA(n){n.Aa=void 0}async function _L(n){n.da.set("Online")}async function wL(n){n.Pa.forEach((e,t)=>{Wy(n,e)})}async function EL(n,e){wA(n),Jy(n)?(n.da.ca(e),Zy(n)):n.da.set("Unknown")}async function xL(n,e,t){if(n.da.set("Online"),e instanceof sA&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const d of o.targetIds)s.Pa.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Pa.delete(d),s.Aa.removeTarget(d))}(n,e)}catch(r){Ae(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ah(n,r)}else if(e instanceof eh?n.Aa.Xe(e):e instanceof iA?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(qe.min()))try{const r=await gA(n.localStore);t.compareTo(r)>=0&&await function(o,u){const d=o.Aa.It(u);return d.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Pa.get(h);m&&o.Pa.set(h,m.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,h)=>{const m=o.Pa.get(f);if(!m)return;o.Pa.set(f,m.withResumeToken(Nn.EMPTY_BYTE_STRING,m.snapshotVersion)),_A(o,f);const b=new sa(m.target,f,h,m.sequenceNumber);Wy(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Ae(co,"Failed to raise snapshot:",r),await Ah(n,r)}}async function Ah(n,e,t){if(!ql(e))throw e;n.Ta.add(1),await Zc(n),n.da.set("Offline"),t||(t=()=>gA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(co,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await hp(n)})}function EA(n,e){return e().catch(t=>Ah(n,t,e))}async function pp(n){const e=$e(n),t=ga(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:ky;for(;SL(e);)try{const s=await sL(e.localStore,r);if(s===null){e.ha.length===0&&t.N_();break}r=s.batchId,TL(e,s)}catch(s){await Ah(e,s)}xA(e)&&SA(e)}function SL(n){return bo(n)&&n.ha.length<10}function TL(n,e){n.ha.push(e);const t=ga(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function xA(n){return bo(n)&&!ga(n).F_()&&n.ha.length>0}function SA(n){ga(n).start()}async function AL(n){ga(n).ta()}async function CL(n){const e=ga(n);for(const t of n.ha)e.Z_(t.mutations)}async function RL(n,e,t){const r=n.ha.shift(),s=Hy.from(r,e,t);await EA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await pp(n)}async function IL(n,e){e&&ga(n).Y_&&await async function(r,s){if(function(u){return dV(u)&&u!==fe.ABORTED}(s.code)){const o=r.ha.shift();ga(r).O_(),await EA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await pp(r)}}(n,e),xA(n)&&SA(n)}async function Px(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Ae(co,"RemoteStore received new credentials");const r=bo(t);t.Ta.add(3),await Zc(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await hp(t)}async function NL(n,e){const t=$e(n);e?(t.Ta.delete(2),await hp(t)):e||(t.Ta.add(2),await Zc(t),t.da.set("Unknown"))}function $l(n){return n.Ra||(n.Ra=function(t,r,s){const o=$e(t);return o.ra(),new pL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:_L.bind(null,n),n_:wL.bind(null,n),i_:EL.bind(null,n),j_:xL.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),Jy(n)?Zy(n):n.da.set("Unknown")):(await n.Ra.stop(),wA(n))})),n.Ra}function ga(n){return n.Va||(n.Va=function(t,r,s){const o=$e(t);return o.ra(),new mL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:AL.bind(null,n),i_:IL.bind(null,n),X_:CL.bind(null,n),ea:RL.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await pp(n)):(await n.Va.stop(),n.ha.length>0&&(Ae(co,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,d=new eb(e,t,u,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tb(n,e){if(vs("AsyncQueue",`${e}: ${n}`),ql(n))return new Ce(fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{static emptySet(e){return new Sl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=cc(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Sl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.ma=new Pt(Pe.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Be(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class Pl{constructor(e,t,r,s,o,u,d,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Pl(e,t,Sl.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class ML{constructor(){this.queries=Vx(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const s=$e(t),o=s.queries;s.queries=Vx(),o.forEach((u,d)=>{for(const f of d.ya)f.onError(r)})})(this,new Ce(fe.ABORTED,"Firestore shutting down"))}}function Vx(){return new yo(n=>H1(n),op)}async function TA(n,e){const t=$e(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.wa()&&e.Sa()&&(r=2):(o=new OL,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await t.onListen(s,!0);break;case 1:o.pa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=tb(u,`Initialization of query '${ml(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&nb(t)}async function AA(n,e){const t=$e(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ya.indexOf(e);u>=0&&(o.ya.splice(u,1),o.ya.length===0?s=e.Sa()?0:1:!o.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function DL(n,e){const t=$e(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const d of u.ya)d.va(s)&&(r=!0);u.pa=s}}r&&nb(t)}function PL(n,e,t){const r=$e(n),s=r.queries.get(e);if(s)for(const o of s.ya)o.onError(t);r.queries.delete(e)}function nb(n){n.ba.forEach(e=>{e.next()})}var Uv,Lx;(Lx=Uv||(Uv={})).Ca="default",Lx.Cache="cache";class CA{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Uv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.key=e}}class IA{constructor(e){this.key=e}}class kL{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=rt(),this.mutatedKeys=rt(),this.Ha=q1(e),this.Ja=new Sl(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new kx,s=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,b)=>{const _=s.get(m),x=lp(this.query,b)?b:null,E=!!_&&this.mutatedKeys.has(_.key),A=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;_&&x?_.data.isEqual(x.data)?E!==A&&(r.track({type:3,doc:x}),I=!0):this.eu(_,x)||(r.track({type:2,doc:x}),I=!0,(f&&this.Ha(x,f)>0||h&&this.Ha(x,h)<0)&&(d=!0)):!_&&x?(r.track({type:0,doc:x}),I=!0):_&&!x&&(r.track({type:1,doc:_}),I=!0,(f||h)&&(d=!0)),I&&(x?(u=u.add(x),o=A?o.add(m):o.delete(m)):(u=u.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ja:u,Xa:r,Cs:d,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((m,b)=>function(x,E){const A=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:I})}};return A(x)-A(E)}(m.type,b.type)||this.Ha(m.doc,b.doc)),this.tu(r),s=s!=null&&s;const d=t&&!s?this.nu():[],f=this.ja.size===0&&this.current&&!s?1:0,h=f!==this.za;return this.za=f,u.length!==0||h?{snapshot:new Pl(this.query,e.Ja,o,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new kx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=rt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new IA(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new RA(r))}),t}su(e){this.Ga=e.$s,this.ja=rt();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Pl.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const rb="SyncEngine";class VL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class LL{constructor(e){this.key=e,this._u=!1}}class jL{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new yo(d=>H1(d),op),this.cu=new Map,this.lu=new Set,this.hu=new Pt(Pe.comparator),this.Pu=new Map,this.Tu=new Gy,this.Iu={},this.Eu=new Map,this.du=Dl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function UL(n,e,t=!0){const r=kA(n);let s;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ou()):s=await NA(r,e,t,!0),s}async function FL(n,e){const t=kA(n);await NA(t,e,!0,!1)}async function NA(n,e,t,r){const s=await aL(n.localStore,Si(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await BL(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&bA(n.remoteStore,s),d}async function BL(n,e,t,r,s){n.Ru=(b,_,x)=>async function(A,I,R,T){let M=I.view.Za(R);M.Cs&&(M=await Ix(A.localStore,I.query,!1).then(({documents:P})=>I.view.Za(P,M)));const z=T&&T.targetChanges.get(I.targetId),j=T&&T.targetMismatches.get(I.targetId)!=null,Y=I.view.applyChanges(M,A.isPrimaryClient,z,j);return Ux(A,I.targetId,Y.ru),Y.snapshot}(n,b,_,x);const o=await Ix(n.localStore,e,!0),u=new kL(e,o.$s),d=u.Za(o.documents),f=Wc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),h=u.applyChanges(d,n.isPrimaryClient,f);Ux(n,t,h.ru);const m=new VL(e,t,u);return n.uu.set(e,m),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function zL(n,e,t){const r=$e(n),s=r.uu.get(e),o=r.cu.get(s.targetId);if(o.length>1)return r.cu.set(s.targetId,o.filter(u=>!op(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Lv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Xy(r.remoteStore,s.targetId),Fv(r,s.targetId)}).catch(Hl)):(Fv(r,s.targetId),await Lv(r.localStore,s.targetId,!0))}async function HL(n,e){const t=$e(n),r=t.uu.get(e),s=t.cu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Xy(t.remoteStore,r.targetId))}async function qL(n,e,t){const r=WL(n);try{const s=await function(u,d){const f=$e(u),h=un.now(),m=d.reduce((x,E)=>x.add(E.key),rt());let b,_;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let E=ys(),A=rt();return f.Bs.getEntries(x,m).next(I=>{E=I,E.forEach((R,T)=>{T.isValidDocument()||(A=A.add(R))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,E)).next(I=>{b=I;const R=[];for(const T of d){const M=aV(T,b.get(T.key).overlayedDocument);M!=null&&R.push(new _a(T.key,M,k1(M.value.mapValue),Mr.exists(!0)))}return f.mutationQueue.addMutationBatch(x,h,R,d)}).next(I=>{_=I;const R=I.applyToLocalDocumentSet(b,A);return f.documentOverlayCache.saveOverlays(x,I.batchId,R)})}).then(()=>({batchId:_.batchId,changes:G1(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let h=u.Iu[u.currentUser.toKey()];h||(h=new Pt(We)),h=h.insert(d,f),u.Iu[u.currentUser.toKey()]=h}(r,s.batchId,t),await Jc(r,s.changes),await pp(r.remoteStore)}catch(s){const o=tb(s,"Failed to persist write");t.reject(o)}}async function OA(n,e){const t=$e(n);try{const r=await rL(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t.Pu.get(o);u&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u._u=!0:s.modifiedDocuments.size>0?gt(u._u,14607):s.removedDocuments.size>0&&(gt(u._u,42227),u._u=!1))}),await Jc(t,r,e)}catch(r){await Hl(r)}}function jx(n,e,t){const r=$e(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.uu.forEach((o,u)=>{const d=u.view.Da(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=$e(u);f.onlineState=d;let h=!1;f.queries.forEach((m,b)=>{for(const _ of b.ya)_.Da(d)&&(h=!0)}),h&&nb(f)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function $L(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Pu.get(e),o=s&&s.key;if(o){let u=new Pt(Pe.comparator);u=u.insert(o,Ln.newNoDocument(o,qe.min()));const d=rt().add(o),f=new dp(qe.min(),new Map,new Pt(We),u,d);await OA(r,f),r.hu=r.hu.remove(o),r.Pu.delete(e),ib(r)}else await Lv(r.localStore,e,!1).then(()=>Fv(r,e,t)).catch(Hl)}async function GL(n,e){const t=$e(n),r=e.batch.batchId;try{const s=await nL(t.localStore,e);DA(t,r,null),MA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Jc(t,s)}catch(s){await Hl(s)}}async function YL(n,e,t){const r=$e(n);try{const s=await function(u,d){const f=$e(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return f.mutationQueue.lookupMutationBatch(h,d).next(b=>(gt(b!==null,37113),m=b.keys(),f.mutationQueue.removeMutationBatch(h,b))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>f.localDocuments.getDocuments(h,m))})}(r.localStore,e);DA(r,e,t),MA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Jc(r,s)}catch(s){await Hl(s)}}function MA(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function DA(n,e,t){const r=$e(n);let s=r.Iu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Fv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||PA(n,r)})}function PA(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(Xy(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),ib(n))}function Ux(n,e,t){for(const r of t)r instanceof RA?(n.Tu.addReference(r.key,e),KL(n,r)):r instanceof IA?(Ae(rb,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||PA(n,r.key)):Be(19791,{mu:r})}function KL(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Ae(rb,"New document in limbo: "+t),n.lu.add(r),ib(n))}function ib(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Pe(It.fromString(e)),r=n.du.next();n.Pu.set(r,new LL(t)),n.hu=n.hu.insert(t,r),bA(n.remoteStore,new sa(Si(Fy(t.path)),r,"TargetPurposeLimboResolution",ip.le))}}async function Jc(n,e,t){const r=$e(n),s=[],o=[],u=[];r.uu.isEmpty()||(r.uu.forEach((d,f)=>{u.push(r.Ru(f,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const b=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(h){s.push(h);const b=Ky.Rs(f.targetId,h);o.push(b)}}))}),await Promise.all(u),r.au.j_(s),await async function(f,h){const m=$e(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>de.forEach(h,_=>de.forEach(_.ds,x=>m.persistence.referenceDelegate.addReference(b,_.targetId,x)).next(()=>de.forEach(_.As,x=>m.persistence.referenceDelegate.removeReference(b,_.targetId,x)))))}catch(b){if(!ql(b))throw b;Ae(Qy,"Failed to update sequence numbers: "+b)}for(const b of h){const _=b.targetId;if(!b.fromCache){const x=m.xs.get(_),E=x.snapshotVersion,A=x.withLastLimboFreeSnapshotVersion(E);m.xs=m.xs.insert(_,A)}}}(r.localStore,o))}async function QL(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Ae(rb,"User change. New user:",e.toKey());const r=await mA(t.localStore,e);t.currentUser=e,function(o,u){o.Eu.forEach(d=>{d.forEach(f=>{f.reject(new Ce(fe.CANCELLED,u))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jc(t,r.ks)}}function XL(n,e){const t=$e(n),r=t.Pu.get(e);if(r&&r._u)return rt().add(r.key);{let s=rt();const o=t.cu.get(e);if(!o)return s;for(const u of o){const d=t.uu.get(u);s=s.unionWith(d.view.Ya)}return s}}function kA(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$L.bind(null,e),e.au.j_=DL.bind(null,e.eventManager),e.au.Vu=PL.bind(null,e.eventManager),e}function WL(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YL.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fp(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return tL(this.persistence,new ZV,e.initialUser,this.serializer)}yu(e){return new pA(Yy.fi,this.serializer)}pu(e){return new lL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class ZL extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){gt(this.persistence.referenceDelegate instanceof Th,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LV(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new pA(r=>Th.fi(r,t),this.serializer)}}class Bv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=QL.bind(null,this.syncEngine),await NL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ML}()}createDatastore(e){const t=fp(e.databaseInfo.databaseId),r=function(o){return new hL(o)}(e.databaseInfo);return function(o,u,d,f){return new vL(o,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,d){return new bL(r,s,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>jx(this.syncEngine,t,0),function(){return Mx.C()?new Mx:new uL}())}createSyncEngine(e,t){return function(s,o,u,d,f,h,m){const b=new jL(s,o,u,d,f,h);return m&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=$e(s);Ae(co,"RemoteStore shutting down."),o.Ta.add(5),await Zc(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Bv.provider={build:()=>new Bv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):vs("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="FirestoreClient";class JL{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Vn.UNAUTHENTICATED,this.clientId=T1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ae(va,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ae(va,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=tb(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yg(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(va,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await mA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Fx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ej(n);Ae(va,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Px(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>Px(e.remoteStore,s)),n._onlineComponents=e}async function ej(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(va,"Using user provided OfflineComponentProvider");try{await Yg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===fe.FAILED_PRECONDITION||s.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Il("Error using user provided cache. Falling back to memory cache: "+t),await Yg(n,new Ch)}}else Ae(va,"Using default OfflineComponentProvider"),await Yg(n,new ZL(void 0));return n._offlineComponents}async function LA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(va,"Using user provided OnlineComponentProvider"),await Fx(n,n._uninitializedComponentsProvider._online)):(Ae(va,"Using default OnlineComponentProvider"),await Fx(n,new Bv))),n._onlineComponents}function tj(n){return LA(n).then(e=>e.syncEngine)}async function jA(n){const e=await LA(n),t=e.eventManager;return t.onListen=UL.bind(null,e.syncEngine),t.onUnlisten=zL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=FL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HL.bind(null,e.syncEngine),t}function nj(n,e,t={}){const r=new fs;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,h){const m=new VA({next:_=>{m.Cu(),u.enqueueAndForget(()=>AA(o,b));const x=_.docs.has(d);!x&&_.fromCache?h.reject(new Ce(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&f&&f.source==="server"?h.reject(new Ce(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),b=new CA(Fy(d.path),m,{includeMetadataChanges:!0,La:!0});return TA(o,b)}(await jA(n),n.asyncQueue,e,t,r)),r.promise}function rj(n,e,t={}){const r=new fs;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,h){const m=new VA({next:_=>{m.Cu(),u.enqueueAndForget(()=>AA(o,b)),_.fromCache&&f.source==="server"?h.reject(new Ce(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),b=new CA(d,m,{includeMetadataChanges:!0,La:!0});return TA(o,b)}(await jA(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(n,e,t){if(!t)throw new Ce(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ij(n,e,t,r){if(e===!0&&r===!0)throw new Ce(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zx(n){if(!Pe.isDocumentKey(n))throw new Ce(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Hx(n){if(Pe.isDocumentKey(n))throw new Ce(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function mp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function Qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=mp(n);throw new Ce(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firestore.googleapis.com",qx=!0;class $x{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BA,this.ssl=qx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:qx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=hA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kV)throw new Ce(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ij("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ce(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $x({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $x(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hk;switch(r.type){case"firstParty":return new vk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Bx.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),Bx.delete(t),r.terminate())}(this),Promise.resolve()}}function sj(n,e,t,r={}){var s;n=Qr(n,gp);const o=go(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o&&(yy(`https://${f}`),by("Firestore",!0)),u.host!==BA&&u.host!==f&&Il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!so(h,d)&&(n._setSettings(h),r.mockUserToken)){let m,b;if(typeof r.mockUserToken=="string")m=r.mockUserToken,b=Vn.MOCK_USER;else{m=IT(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ce(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Vn(_)}n._authCredentials=new pk(new x1(m,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _o(this.firestore,e,this._query)}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class ca extends _o{constructor(e,t,r){super(e,t,Fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Pe(e))}withConverter(e){return new ca(this.firestore,e,this._path)}}function yn(n,e,...t){if(n=Ct(n),FA("collection","path",e),n instanceof gp){const r=It.fromString(e,...t);return Hx(r),new ca(n,null,r)}{if(!(n instanceof $n||n instanceof ca))throw new Ce(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return Hx(r),new ca(n.firestore,null,r)}}function vr(n,e,...t){if(n=Ct(n),arguments.length===1&&(e=T1.newId()),FA("doc","path",e),n instanceof gp){const r=It.fromString(e,...t);return zx(r),new $n(n,null,new Pe(r))}{if(!(n instanceof $n||n instanceof ca))throw new Ce(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(It.fromString(e,...t));return zx(r),new $n(n.firestore,n instanceof ca?n.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="AsyncQueue";class Yx{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new vA(this,"async_queue_retry"),this.ec=()=>{const r=Gg();r&&Ae(Gx,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=Gg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Gg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new fs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!ql(e))throw e;Ae(Gx,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,vs("INTERNAL UNHANDLED ERROR: ",Kx(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const s=eb.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(s),s}nc(){this.Ju&&Be(47125,{_c:Kx(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function Kx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class wo extends gp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Yx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Yx(e),this._firestoreClient=void 0,await e}}}function aj(n,e){const t=typeof n=="object"?n:Ey(),r=typeof n=="string"?n:bh,s=Jh(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=AT("firestore");o&&sj(s,...o)}return s}function sb(n){if(n._terminated)throw new Ce(fe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||oj(n),n._firestoreClient}function oj(n){var e,t,r;const s=n._freezeSettings(),o=function(d,f,h,m){return new Mk(d,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,UA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new JL(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kl(Nn.fromBase64String(e))}catch(t){throw new Ce(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new kl(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=/^__.*__$/;class uj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xc(e,this.data,t,this.fieldTransforms)}}class zA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new _a(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{hc:n})}}class lb{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new lb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Rh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(HA(this.hc)&&lj.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class cj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fp(e)}gc(e,t,r,s=!1){return new lb({hc:e,methodName:t,fc:r,path:In.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yp(n){const e=n._freezeSettings(),t=fp(n._databaseId);return new cj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qA(n,e,t,r,s,o={}){const u=n.gc(o.merge||o.mergeFields?2:0,e,t,s);db("Data must be an object, but it was:",u,r);const d=$A(r,u);let f,h;if(o.merge)f=new pr(u.fieldMask),h=u.fieldTransforms;else if(o.mergeFields){const m=[];for(const b of o.mergeFields){const _=zv(e,b,t);if(!u.contains(_))throw new Ce(fe.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);YA(m,_)||m.push(_)}f=new pr(m),h=u.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,h=u.fieldTransforms;return new uj(new Zn(d),f,h)}class bp extends ed{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bp}}class ub extends ed{_toFieldTransform(e){return new eA(e.path,new Mc)}isEqual(e){return e instanceof ub}}class cb extends ed{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new kc(e.serializer,Q1(e.serializer,this.wc));return new eA(e.path,t)}isEqual(e){return e instanceof cb&&this.wc===e.wc}}function dj(n,e,t,r){const s=n.gc(1,e,t);db("Data must be an object, but it was:",s,r);const o=[],u=Zn.empty();ba(r,(f,h)=>{const m=fb(e,f,t);h=Ct(h);const b=s.Ac(m);if(h instanceof bp)o.push(m);else{const _=td(h,b);_!=null&&(o.push(m),u.set(m,_))}});const d=new pr(o);return new zA(u,d,s.fieldTransforms)}function fj(n,e,t,r,s,o){const u=n.gc(1,e,t),d=[zv(e,r,t)],f=[s];if(o.length%2!=0)throw new Ce(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(zv(e,o[_])),f.push(o[_+1]);const h=[],m=Zn.empty();for(let _=d.length-1;_>=0;--_)if(!YA(h,d[_])){const x=d[_];let E=f[_];E=Ct(E);const A=u.Ac(x);if(E instanceof bp)h.push(x);else{const I=td(E,A);I!=null&&(h.push(x),m.set(x,I))}}const b=new pr(h);return new zA(m,b,u.fieldTransforms)}function hj(n,e,t,r=!1){return td(t,n.gc(r?4:3,e))}function td(n,e){if(GA(n=Ct(n)))return db("Unsupported field value:",e,n),$A(n,e);if(n instanceof ed)return function(r,s){if(!HA(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const d of r){let f=td(d,s.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q1(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=un.fromDate(r);return{timestampValue:Sh(s.serializer,o)}}if(r instanceof un){const o=new un(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(s.serializer,o)}}if(r instanceof ab)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kl)return{bytesValue:aA(s.serializer,r._byteString)};if(r instanceof $n){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:$y(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ob)return function(u,d){return{mapValue:{fields:{[D1]:{stringValue:P1},[_h]:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw d.Vc("VectorValues must only contain numeric values.");return By(d.serializer,h)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${mp(r)}`)}(n,e)}function $A(n,e){const t={};return C1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(n,(r,s)=>{const o=td(s,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function GA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof un||n instanceof ab||n instanceof kl||n instanceof $n||n instanceof ed||n instanceof ob)}function db(n,e,t){if(!GA(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=mp(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function zv(n,e,t){if((e=Ct(e))instanceof vp)return e._internalPath;if(typeof e=="string")return fb(n,e);throw Rh("Field path arguments must be of type string or ",n,!1,void 0,t)}const pj=new RegExp("[~\\*/\\[\\]]");function fb(n,e,t){if(e.search(pj)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vp(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rh(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new Ce(fe.INVALID_ARGUMENT,d+n+f)}function YA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mj extends KA{data(){return super.data()}}function hb(n,e){return typeof e=="string"?fb(n,e):e instanceof vp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pb{}class QA extends pb{}function nd(n,e,...t){let r=[];e instanceof pb&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof mb).length,d=o.filter(f=>f instanceof _p).length;if(u>1||u>0&&d>0)throw new Ce(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class _p extends QA{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _p(e,t,r)}_apply(e){const t=this._parse(e);return XA(e._query,t),new _o(e.firestore,e.converter,Mv(e._query,t))}_parse(e){const t=yp(e.firestore);return function(o,u,d,f,h,m,b){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ce(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){Xx(b,m);const E=[];for(const A of b)E.push(Qx(f,o,A));_={arrayValue:{values:E}}}else _=Qx(f,o,b)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||Xx(b,m),_=hj(d,u,b,m==="in"||m==="not-in");return en.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Tl(n,e,t){const r=e,s=hb("where",n);return _p._create(s,r,t)}class mb extends pb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new mb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Kr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let u=s;const d=o.getFlattenedFilters();for(const f of d)XA(u,f),u=Mv(u,f)}(e._query,t),new _o(e.firestore,e.converter,Mv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gb extends QA{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new gb(e,t,r)}_apply(e){return new _o(e.firestore,e.converter,xh(e._query,this._limit,this._limitType))}}function vj(n){return gb._create("limit",n,"F")}function Qx(n,e,t){if(typeof(t=Ct(t))=="string"){if(t==="")throw new Ce(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z1(e)&&t.indexOf("/")!==-1)throw new Ce(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(It.fromString(t));if(!Pe.isDocumentKey(r))throw new Ce(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cx(n,new Pe(r))}if(t instanceof $n)return cx(n,t._key);throw new Ce(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mp(t)}.`)}function Xx(n,e){if(!Array.isArray(n)||n.length===0)throw new Ce(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function XA(n,e){const t=function(s,o){for(const u of s)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ce(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class yj{convertValue(e,t="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return ba(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[_h].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>qt(u.doubleValue));return new ob(o)}convertGeoPoint(e){return new ab(qt(e.latitude),qt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ap(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){const t=ha(e);return new un(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=It.fromString(e);gt(fA(r),9688,{name:e});const s=new Nc(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return s.isEqual(t)||vs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZA extends KA{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class th extends ZA{data(e={}){return super.data(e)}}class bj{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new fc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new th(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(d=>{const f=new th(s._firestore,s._userDataWriter,d.doc.key,d.doc,new fc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new th(s._firestore,s._userDataWriter,d.doc.key,d.doc,new fc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return d.type!==0&&(h=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),m=u.indexOf(d.doc.key)),{type:_j(d.type),doc:f,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _j(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(n){n=Qr(n,$n);const e=Qr(n.firestore,wo);return nj(sb(e),n._key).then(t=>wj(e,n,t))}class JA extends yj{constructor(e){super(),this.firestore=e}convertBytes(e){return new kl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function Jn(n){n=Qr(n,_o);const e=Qr(n.firestore,wo),t=sb(e),r=new JA(e);return gj(n._query),rj(t,n._query).then(s=>new bj(e,r,n,s))}function eC(n,e,t){n=Qr(n,$n);const r=Qr(n.firestore,wo),s=WA(n.converter,e);return xp(r,[qA(yp(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Mr.none())])}function rd(n,e,t,...r){n=Qr(n,$n);const s=Qr(n.firestore,wo),o=yp(s);let u;return u=typeof(e=Ct(e))=="string"||e instanceof vp?fj(o,"updateDoc",n._key,e,t,r):dj(o,"updateDoc",n._key,e),xp(s,[u.toMutation(n._key,Mr.exists(!0))])}function vb(n){return xp(Qr(n.firestore,wo),[new zy(n._key,Mr.none())])}function Ep(n,e){const t=Qr(n.firestore,wo),r=vr(n),s=WA(n.converter,e);return xp(t,[qA(yp(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Mr.exists(!1))]).then(()=>r)}function xp(n,e){return function(r,s){const o=new fs;return r.asyncQueue.enqueueAndForget(async()=>qL(await tj(r),s,o)),o.promise}(sb(n),e)}function wj(n,e,t){const r=t.docs.get(e._key),s=new JA(n);return new ZA(n,s,e._key,r,new fc(t.hasPendingWrites,t.fromCache),e.converter)}function Ej(){return new ub("serverTimestamp")}function xj(n){return new cb("increment",n)}(function(e,t=!0){(function(s){zl=s})(vo),ao(new da("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new wo(new mk(r.getProvider("auth-internal")),new yk(u,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ce(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(h.options.projectId,m)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),wi(ZE,JE,e),wi(ZE,JE,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="firebasestorage.googleapis.com",nC="storageBucket",Sj=2*60*1e3,Tj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut extends Ri{constructor(e,t,r=0){super(Kg(e),`Firebase Storage: ${t} (${Kg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var jt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(jt||(jt={}));function Kg(n){return"storage/"+n}function yb(){const n="An unknown error occurred, please check the error payload for server response.";return new Ut(jt.UNKNOWN,n)}function Aj(n){return new Ut(jt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Cj(n){return new Ut(jt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Rj(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ut(jt.UNAUTHENTICATED,n)}function Ij(){return new Ut(jt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Nj(n){return new Ut(jt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function Oj(){return new Ut(jt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Mj(){return new Ut(jt.CANCELED,"User canceled the upload/download.")}function Dj(n){return new Ut(jt.INVALID_URL,"Invalid URL '"+n+"'.")}function Pj(n){return new Ut(jt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function kj(){return new Ut(jt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+nC+"' property when initializing the app?")}function Vj(){return new Ut(jt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Lj(){return new Ut(jt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function jj(n){return new Ut(jt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hv(n){return new Ut(jt.INVALID_ARGUMENT,n)}function rC(){return new Ut(jt.APP_DELETED,"The Firebase app was deleted.")}function Uj(n){return new Ut(jt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function wc(n,e){return new Ut(jt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function tc(n){throw new Ut(jt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=mr.makeFromUrl(e,t)}catch{return new mr(e,"")}if(r.path==="")return r;throw Pj(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function h(z){z.path_=decodeURIComponent(z.path)}const m="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",x=new RegExp(`^https?://${b}/${m}/b/${s}/o${_}`,"i"),E={bucket:1,path:3},A=t===tC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",R=new RegExp(`^https?://${A}/${s}/${I}`,"i"),M=[{regex:d,indices:f,postModify:o},{regex:x,indices:E,postModify:h},{regex:R,indices:{bucket:1,path:2},postModify:h}];for(let z=0;z<M.length;z++){const j=M[z],Y=j.regex.exec(e);if(Y){const P=Y[j.indices.bucket];let N=Y[j.indices.path];N||(N=""),r=new mr(P,N),j.postModify(r);break}}if(r==null)throw Dj(e);return r}}class Fj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(n,e,t){let r=1,s=null,o=null,u=!1,d=0;function f(){return d===2}let h=!1;function m(...I){h||(h=!0,e.apply(null,I))}function b(I){s=setTimeout(()=>{s=null,n(x,f())},I)}function _(){o&&clearTimeout(o)}function x(I,...R){if(h){_();return}if(I){_(),m.call(null,I,...R);return}if(f()||u){_(),m.call(null,I,...R);return}r<64&&(r*=2);let M;d===1?(d=2,M=0):M=(r+Math.random())*1e3,b(M)}let E=!1;function A(I){E||(E=!0,_(),!h&&(s!==null?(I||(d=2),clearTimeout(s),b(0)):I||(d=1)))}return b(0),o=setTimeout(()=>{u=!0,A(!0)},t),A}function zj(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(n){return n!==void 0}function qj(n){return typeof n=="object"&&!Array.isArray(n)}function bb(n){return typeof n=="string"||n instanceof String}function Wx(n){return _b()&&n instanceof Blob}function _b(){return typeof Blob<"u"}function Zx(n,e,t,r){if(r<e)throw Hv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Hv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function iC(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var ro;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(ro||(ro={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,t,r,s,o,u,d,f,h,m,b,_=!0,x=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,A)=>{this.resolve_=E,this.reject_=A,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new kf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const d=o.getErrorCode()===ro.NO_ERROR,f=o.getStatus();if(!d||$j(f,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===ro.ABORT;r(!1,new kf(!1,null,m));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new kf(h,o))})},t=(r,s)=>{const o=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());Hj(f)?o(f):o()}catch(f){u(f)}else if(d!==null){const f=yb();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?rC():Mj();u(f)}else{const f=Oj();u(f)}};this.canceled_?t(!1,new kf(!1,null,!0)):this.backoffId_=Bj(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function Yj(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Kj(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Qj(n,e){e&&(n["X-Firebase-GMPID"]=e)}function Xj(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Wj(n,e,t,r,s,o,u=!0,d=!1){const f=iC(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return Qj(m,e),Yj(m,t),Kj(m,o),Xj(m,r),new Gj(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Jj(...n){const e=Zj();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(_b())return new Blob(n);throw new Ut(jt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function e4(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(n){if(typeof atob>"u")throw jj("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qg{constructor(e,t){this.data=e,this.contentType=t||null}}function n4(n,e){switch(n){case yi.RAW:return new Qg(sC(e));case yi.BASE64:case yi.BASE64URL:return new Qg(aC(n,e));case yi.DATA_URL:return new Qg(i4(e),s4(e))}throw yb()}function sC(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=n.charCodeAt(++t);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function r4(n){let e;try{e=decodeURIComponent(n)}catch{throw wc(yi.DATA_URL,"Malformed data URL.")}return sC(e)}function aC(n,e){switch(n){case yi.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw wc(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case yi.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw wc(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=t4(e)}catch(s){throw s.message.includes("polyfill")?s:wc(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class oC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw wc(yi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=a4(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function i4(n){const e=new oC(n);return e.base64?aC(yi.BASE64,e.rest):r4(e.rest)}function s4(n){return new oC(n).contentType}function a4(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){let r=0,s="";Wx(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(Wx(this.data_)){const r=this.data_,s=e4(r,e,t);return s===null?null:new ra(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ra(r,!0)}}static getBlob(...e){if(_b()){const t=e.map(r=>r instanceof ra?r.data_:r);return new ra(Jj.apply(null,t))}else{const t=e.map(u=>bb(u)?n4(yi.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)s[o++]=u[d]}),new ra(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(n){let e;try{e=JSON.parse(n)}catch{return null}return qj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o4(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function l4(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function uC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(n,e){return e}class Hn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||u4}}let Vf=null;function c4(n){return!bb(n)||n.length<2?n:uC(n)}function cC(){if(Vf)return Vf;const n=[];n.push(new Hn("bucket")),n.push(new Hn("generation")),n.push(new Hn("metageneration")),n.push(new Hn("name","fullPath",!0));function e(o,u){return c4(u)}const t=new Hn("name");t.xform=e,n.push(t);function r(o,u){return u!==void 0?Number(u):u}const s=new Hn("size");return s.xform=r,n.push(s),n.push(new Hn("timeCreated")),n.push(new Hn("updated")),n.push(new Hn("md5Hash",null,!0)),n.push(new Hn("cacheControl",null,!0)),n.push(new Hn("contentDisposition",null,!0)),n.push(new Hn("contentEncoding",null,!0)),n.push(new Hn("contentLanguage",null,!0)),n.push(new Hn("contentType",null,!0)),n.push(new Hn("metadata","customMetadata",!0)),Vf=n,Vf}function d4(n,e){function t(){const r=n.bucket,s=n.fullPath,o=new mr(r,s);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function f4(n,e,t){const r={};r.type="file";const s=t.length;for(let o=0;o<s;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return d4(r,n),r}function dC(n,e,t){const r=lC(e);return r===null?null:f4(n,r,t)}function h4(n,e,t,r){const s=lC(e);if(s===null||!bb(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(h=>{const m=n.bucket,b=n.fullPath,_="/b/"+u(m)+"/o/"+u(b),x=wb(_,t,r),E=iC({alt:"media",token:h});return x+E})[0]}function p4(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class fC{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(n){if(!n)throw yb()}function m4(n,e){function t(r,s){const o=dC(n,s,e);return hC(o!==null),o}return t}function g4(n,e){function t(r,s){const o=dC(n,s,e);return hC(o!==null),h4(o,s,n.host,n._protocol)}return t}function pC(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=Ij():s=Rj():t.getStatus()===402?s=Cj(n.bucket):t.getStatus()===403?s=Nj(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function v4(n){const e=pC(n);function t(r,s){let o=e(r,s);return r.getStatus()===404&&(o=Aj(n.path)),o.serverResponse=s.serverResponse,o}return t}function y4(n,e,t){const r=e.fullServerUrl(),s=wb(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,d=new fC(s,o,g4(n,t),u);return d.errorHandler=v4(e),d}function b4(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function _4(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=b4(null,e)),r}function w4(n,e,t,r,s){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let M="";for(let z=0;z<2;z++)M=M+Math.random().toString().slice(2);return M}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const h=_4(e,r,s),m=p4(h,t),b="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,_=`\r
--`+f+"--",x=ra.getBlob(b,r,_);if(x===null)throw Vj();const E={name:h.fullPath},A=wb(o,n.host,n._protocol),I="POST",R=n.maxUploadRetryTime,T=new fC(A,I,m4(n,t),R);return T.urlParams=E,T.headers=u,T.body=x.uploadData(),T.errorHandler=pC(e),T}class E4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ro.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ro.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ro.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,o){if(this.sent_)throw tc("cannot .send() more than once");if(go(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class x4 extends E4{initXhr(){this.xhr_.responseType="text"}}function mC(){return new x4}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t){this._service=e,t instanceof mr?this._location=t:this._location=mr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fo(e,t)}get root(){const e=new mr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uC(this._location.path)}get storage(){return this._service}get parent(){const e=o4(this._location.path);if(e===null)return null;const t=new mr(this._location.bucket,e);return new fo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Uj(e)}}function S4(n,e,t){n._throwIfRoot("uploadBytes");const r=w4(n.storage,n._location,cC(),new ra(e,!0),t);return n.storage.makeRequestWithTokens(r,mC).then(s=>({metadata:s,ref:n}))}function T4(n){n._throwIfRoot("getDownloadURL");const e=y4(n.storage,n._location,cC());return n.storage.makeRequestWithTokens(e,mC).then(t=>{if(t===null)throw Lj();return t})}function A4(n,e){const t=l4(n._location.path,e),r=new mr(n._location.bucket,t);return new fo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(n){return/^[A-Za-z]+:\/\//.test(n)}function R4(n,e){return new fo(n,e)}function gC(n,e){if(n instanceof Eb){const t=n;if(t._bucket==null)throw kj();const r=new fo(t,t._bucket);return e!=null?gC(r,e):r}else return e!==void 0?A4(n,e):n}function I4(n,e){if(e&&C4(e)){if(n instanceof Eb)return R4(n,e);throw Hv("To use ref(service, url), the first argument must be a Storage instance.")}else return gC(n,e)}function Jx(n,e){const t=e==null?void 0:e[nC];return t==null?null:mr.makeFromBucketSpec(t,n)}function N4(n,e,t,r={}){n.host=`${e}:${t}`;const s=go(e);s&&(yy(`https://${n.host}`),by("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:IT(o,n.app.options.projectId))}class Eb{constructor(e,t,r,s,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=tC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Sj,this._maxUploadRetryTime=Tj,this._requests=new Set,s!=null?this._bucket=mr.makeFromBucketSpec(s,this._host):this._bucket=Jx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=mr.makeFromBucketSpec(this._url,e):this._bucket=Jx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Zx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Zx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fo(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new Fj(rC());{const u=Wj(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const eS="@firebase/storage",tS="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="storage";function O4(n,e,t){return n=Ct(n),S4(n,e,t)}function M4(n){return n=Ct(n),T4(n)}function D4(n,e){return n=Ct(n),I4(n,e)}function yC(n=Ey(),e){n=Ct(n);const r=Jh(n,vC).getImmediate({identifier:e}),s=AT("storage");return s&&P4(r,...s),r}function P4(n,e,t,r={}){N4(n,e,t,r)}function k4(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Eb(t,r,s,e,vo)}function V4(){ao(new da(vC,k4,"PUBLIC").setMultipleInstances(!0)),wi(eS,tS,""),wi(eS,tS,"esm2017")}V4();const L4={apiKey:"AIzaSyCJ_LrvyuzvpwBy3XnY_xhOrN2qXMLylv8",authDomain:"nikosperu-store.firebaseapp.com",projectId:"nikosperu-store",storageBucket:"nikosperu-store.firebasestorage.app",messagingSenderId:"63793384667",appId:"1:63793384667:web:cbc4442746cd7d6d4ad0fe"},xb=MT(L4),mt=aj(xb),bn=dk(xb);yC(xb);function Sp(){const[n,e]=D.useState(null),[t,r]=D.useState(!0);return D.useEffect(()=>{const s=tp(bn,o=>{e(o),r(!1)});return()=>s()},[]),{user:n,loading:t}}function j4({setIsMobileMenuOpen:n}){const{user:e}=Sp();return v.jsxs("div",{className:"header-left",children:[v.jsx("div",{className:"menu-bar",children:v.jsx("a",{href:"#",onClick:t=>{t.preventDefault(),n(!0)},className:"flex md992:hidden menu-trigger",children:v.jsx("i",{className:"bx bx-menu"})})}),v.jsx("div",{className:"hidden md992:block list-inline",children:v.jsx("ul",{className:"list-none",children:v.jsx("li",{className:e?"w-[280px]":"w-[170px]"})})})]})}function U4(){return v.jsx("div",{className:"header-center",children:v.jsx("nav",{className:"hidden md992:grid menu",children:v.jsxs("ul",{className:"list-none",children:[v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"/nikos",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"/nikos/productos",children:"Productos"})}),v.jsx("li",{className:"font-[Anton] uppercase italic text-[40px] mx-5",children:v.jsx("a",{href:"/",children:"Nikos"})}),v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"/nikos/#marcas",children:"Marcas"})}),v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"#contacto",children:"Contacto"})})]})})})}const bC=D.createContext();function F4({children:n}){const[e,t]=D.useState(()=>{const d=localStorage.getItem("carrito");return d?JSON.parse(d):[]});D.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]);const r=d=>{t(f=>{const h=f.findIndex(m=>m.slug===d.slug&&m.talla===d.talla&&m.color===d.color);if(h!==-1){const m=[...f],b=m[h].cantidad+d.cantidad;return m[h].cantidad=Math.min(b,3),m}return[...f,{...d,cantidad:Math.min(d.cantidad,3)}]})},s=(d,f,h)=>{t(m=>m.filter(b=>!(b.slug===d&&b.talla===f&&b.color===h)))},o=()=>{t([])},u=(d,f,h,m)=>{t(b=>b.map(_=>_.slug===d&&_.talla===f&&_.color===h?{..._,cantidad:Math.max(1,Math.min(m,3))}:_))};return v.jsx(bC.Provider,{value:{carrito:e,agregarAlCarrito:r,quitarDelCarrito:s,vaciarCarrito:o,actualizarCantidad:u},children:n})}function Tp(){return D.useContext(bC)}const _C=D.createContext();function B4({children:n}){const[e,t]=D.useState(!1),[r,s]=D.useState(!1),o=()=>t(!0),u=()=>{s(!0),setTimeout(()=>{t(!1),s(!1)},400)};return v.jsx(_C.Provider,{value:{mostrarCarrito:e,animatingClose:r,abrirCarrito:o,cerrarModalConAnimacion:u},children:n})}function Sb(){return D.useContext(_C)}function z4(){const{user:n}=Sp(),[e,t]=D.useState(!1),r=D.useRef(null),s=tn(),o=()=>t(!e),u=async()=>{await Oy(bn)};return D.useEffect(()=>{const d=f=>{r.current&&!r.current.contains(f.target)&&t(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),n?v.jsxs("div",{className:"relative inline-block text-left",ref:r,children:[v.jsxs("button",{onClick:o,className:"cursor-pointer text-black font-medium hover:underline max-w-[100px] overflow-hidden text-ellipsis whitespace-nowrap",children:["Hola, ",n.displayName]}),e&&v.jsxs("div",{className:`absolute right-0 w-48 bg-white border border-gray-200 shadow-md z-50
            transition transform duration-200 ease-out origin-top scale-100 opacity-100
            animate-fade-in`,children:[v.jsx("button",{onClick:()=>{t(!1),s("/mi-perfil")},className:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",children:"Ver perfil"}),v.jsx("hr",{className:"border-t border-gray-200"}),v.jsx("button",{onClick:()=>{t(!1),s("/mis-compras")},className:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",children:"Mis compras"}),v.jsx("hr",{className:"border-t border-gray-200"}),v.jsx("button",{onClick:u,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Cerrar sesin"})]})]}):null}function H4({setIsSearchOpen:n}){const{abrirCarrito:e}=Sb(),{carrito:t}=Tp(),{user:r}=Sp();return v.jsx("div",{className:"header-right",children:v.jsx("div",{className:"list-inline",children:v.jsxs("ul",{className:"list-none",children:[v.jsx("li",{className:"flex",children:v.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),n(!0)},children:v.jsx("i",{className:"bx bx-search"})})}),v.jsx("li",{className:"flex",children:v.jsxs("button",{onClick:e,className:"flex relative text-[24px] py-0 px-[24px]",children:[v.jsx("i",{className:"bx bx-cart text-2xl"}),t.length>0&&v.jsx("span",{className:"absolute -top-2 right-[10px] py-0 px-1 bg-red-500 text-white text-xs px-1 rounded-full",children:t.length})]})}),v.jsx("li",{className:"hidden md992:flex",children:r?v.jsx(z4,{}):v.jsx("a",{href:"/nikos/login",children:v.jsx("i",{className:"bx bx-user"})})})]})})})}function bs(n){return Array.isArray?Array.isArray(n):xC(n)==="[object Array]"}function q4(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function $4(n){return n==null?"":q4(n)}function bi(n){return typeof n=="string"}function wC(n){return typeof n=="number"}function G4(n){return n===!0||n===!1||Y4(n)&&xC(n)=="[object Boolean]"}function EC(n){return typeof n=="object"}function Y4(n){return EC(n)&&n!==null}function fr(n){return n!=null}function Xg(n){return!n.trim().length}function xC(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const K4="Incorrect 'index' type",Q4=n=>`Invalid value for key ${n}`,X4=n=>`Pattern length exceeds max of ${n}.`,W4=n=>`Missing ${n} property in key`,Z4=n=>`Property 'weight' in key '${n}' must be a positive integer`,nS=Object.prototype.hasOwnProperty;class J4{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(r=>{let s=SC(r);this._keys.push(s),this._keyMap[s.id]=s,t+=s.weight}),this._keys.forEach(r=>{r.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function SC(n){let e=null,t=null,r=null,s=1,o=null;if(bi(n)||bs(n))r=n,e=rS(n),t=qv(n);else{if(!nS.call(n,"name"))throw new Error(W4("name"));const u=n.name;if(r=u,nS.call(n,"weight")&&(s=n.weight,s<=0))throw new Error(Z4(u));e=rS(u),t=qv(u),o=n.getFn}return{path:e,id:t,weight:s,src:r,getFn:o}}function rS(n){return bs(n)?n:n.split(".")}function qv(n){return bs(n)?n.join("."):n}function e3(n,e){let t=[],r=!1;const s=(o,u,d)=>{if(fr(o))if(!u[d])t.push(o);else{let f=u[d];const h=o[f];if(!fr(h))return;if(d===u.length-1&&(bi(h)||wC(h)||G4(h)))t.push($4(h));else if(bs(h)){r=!0;for(let m=0,b=h.length;m<b;m+=1)s(h[m],u,d+1)}else u.length&&s(h,u,d+1)}};return s(n,bi(e)?e.split("."):e,0),r?t:t[0]}const t3={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},n3={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},r3={location:0,threshold:.6,distance:100},i3={useExtendedSearch:!1,getFn:e3,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var He={...n3,...t3,...r3,...i3};const s3=/[^ ]+/g;function a3(n=1,e=3){const t=new Map,r=Math.pow(10,e);return{get(s){const o=s.match(s3).length;if(t.has(o))return t.get(o);const u=1/Math.pow(o,.5*n),d=parseFloat(Math.round(u*r)/r);return t.set(o,d),d},clear(){t.clear()}}}class Tb{constructor({getFn:e=He.getFn,fieldNormWeight:t=He.fieldNormWeight}={}){this.norm=a3(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,r)=>{this._keysMap[t.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,bi(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();bi(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,r=this.size();t<r;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!fr(e)||Xg(e))return;let r={v:e,i:t,n:this.norm.get(e)};this.records.push(r)}_addObject(e,t){let r={i:t,$:{}};this.keys.forEach((s,o)=>{let u=s.getFn?s.getFn(e):this.getFn(e,s.path);if(fr(u)){if(bs(u)){let d=[];const f=[{nestedArrIndex:-1,value:u}];for(;f.length;){const{nestedArrIndex:h,value:m}=f.pop();if(fr(m))if(bi(m)&&!Xg(m)){let b={v:m,i:h,n:this.norm.get(m)};d.push(b)}else bs(m)&&m.forEach((b,_)=>{f.push({nestedArrIndex:_,value:b})})}r.$[o]=d}else if(bi(u)&&!Xg(u)){let d={v:u,n:this.norm.get(u)};r.$[o]=d}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function TC(n,e,{getFn:t=He.getFn,fieldNormWeight:r=He.fieldNormWeight}={}){const s=new Tb({getFn:t,fieldNormWeight:r});return s.setKeys(n.map(SC)),s.setSources(e),s.create(),s}function o3(n,{getFn:e=He.getFn,fieldNormWeight:t=He.fieldNormWeight}={}){const{keys:r,records:s}=n,o=new Tb({getFn:e,fieldNormWeight:t});return o.setKeys(r),o.setIndexRecords(s),o}function Lf(n,{errors:e=0,currentLocation:t=0,expectedLocation:r=0,distance:s=He.distance,ignoreLocation:o=He.ignoreLocation}={}){const u=e/n.length;if(o)return u;const d=Math.abs(r-t);return s?u+d/s:d?1:u}function l3(n=[],e=He.minMatchCharLength){let t=[],r=-1,s=-1,o=0;for(let u=n.length;o<u;o+=1){let d=n[o];d&&r===-1?r=o:!d&&r!==-1&&(s=o-1,s-r+1>=e&&t.push([r,s]),r=-1)}return n[o-1]&&o-r>=e&&t.push([r,o-1]),t}const eo=32;function u3(n,e,t,{location:r=He.location,distance:s=He.distance,threshold:o=He.threshold,findAllMatches:u=He.findAllMatches,minMatchCharLength:d=He.minMatchCharLength,includeMatches:f=He.includeMatches,ignoreLocation:h=He.ignoreLocation}={}){if(e.length>eo)throw new Error(X4(eo));const m=e.length,b=n.length,_=Math.max(0,Math.min(r,b));let x=o,E=_;const A=d>1||f,I=A?Array(b):[];let R;for(;(R=n.indexOf(e,E))>-1;){let P=Lf(e,{currentLocation:R,expectedLocation:_,distance:s,ignoreLocation:h});if(x=Math.min(P,x),E=R+m,A){let N=0;for(;N<m;)I[R+N]=1,N+=1}}E=-1;let T=[],M=1,z=m+b;const j=1<<m-1;for(let P=0;P<m;P+=1){let N=0,O=z;for(;N<O;)Lf(e,{errors:P,currentLocation:_+O,expectedLocation:_,distance:s,ignoreLocation:h})<=x?N=O:z=O,O=Math.floor((z-N)/2+N);z=O;let V=Math.max(1,_-O+1),U=u?b:Math.min(_+O,b)+m,B=Array(U+2);B[U+1]=(1<<P)-1;for(let ie=U;ie>=V;ie-=1){let oe=ie-1,$=t[n.charAt(oe)];if(A&&(I[oe]=+!!$),B[ie]=(B[ie+1]<<1|1)&$,P&&(B[ie]|=(T[ie+1]|T[ie])<<1|1|T[ie+1]),B[ie]&j&&(M=Lf(e,{errors:P,currentLocation:oe,expectedLocation:_,distance:s,ignoreLocation:h}),M<=x)){if(x=M,E=oe,E<=_)break;V=Math.max(1,2*_-E)}}if(Lf(e,{errors:P+1,currentLocation:_,expectedLocation:_,distance:s,ignoreLocation:h})>x)break;T=B}const Y={isMatch:E>=0,score:Math.max(.001,M)};if(A){const P=l3(I,d);P.length?f&&(Y.indices=P):Y.isMatch=!1}return Y}function c3(n){let e={};for(let t=0,r=n.length;t<r;t+=1){const s=n.charAt(t);e[s]=(e[s]||0)|1<<r-t-1}return e}const Ih=String.prototype.normalize?n=>n.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):n=>n;class AC{constructor(e,{location:t=He.location,threshold:r=He.threshold,distance:s=He.distance,includeMatches:o=He.includeMatches,findAllMatches:u=He.findAllMatches,minMatchCharLength:d=He.minMatchCharLength,isCaseSensitive:f=He.isCaseSensitive,ignoreDiacritics:h=He.ignoreDiacritics,ignoreLocation:m=He.ignoreLocation}={}){if(this.options={location:t,threshold:r,distance:s,includeMatches:o,findAllMatches:u,minMatchCharLength:d,isCaseSensitive:f,ignoreDiacritics:h,ignoreLocation:m},e=f?e:e.toLowerCase(),e=h?Ih(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const b=(x,E)=>{this.chunks.push({pattern:x,alphabet:c3(x),startIndex:E})},_=this.pattern.length;if(_>eo){let x=0;const E=_%eo,A=_-E;for(;x<A;)b(this.pattern.substr(x,eo),x),x+=eo;if(E){const I=_-eo;b(this.pattern.substr(I),I)}}else b(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:r,includeMatches:s}=this.options;if(e=t?e:e.toLowerCase(),e=r?Ih(e):e,this.pattern===e){let A={isMatch:!0,score:0};return s&&(A.indices=[[0,e.length-1]]),A}const{location:o,distance:u,threshold:d,findAllMatches:f,minMatchCharLength:h,ignoreLocation:m}=this.options;let b=[],_=0,x=!1;this.chunks.forEach(({pattern:A,alphabet:I,startIndex:R})=>{const{isMatch:T,score:M,indices:z}=u3(e,A,I,{location:o+R,distance:u,threshold:d,findAllMatches:f,minMatchCharLength:h,includeMatches:s,ignoreLocation:m});T&&(x=!0),_+=M,T&&z&&(b=[...b,...z])});let E={isMatch:x,score:x?_/this.chunks.length:1};return x&&s&&(E.indices=b),E}}class wa{constructor(e){this.pattern=e}static isMultiMatch(e){return iS(e,this.multiRegex)}static isSingleMatch(e){return iS(e,this.singleRegex)}search(){}}function iS(n,e){const t=n.match(e);return t?t[1]:null}class d3 extends wa{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class f3 extends wa{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class h3 extends wa{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class p3 extends wa{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class m3 extends wa{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class g3 extends wa{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class CC extends wa{constructor(e,{location:t=He.location,threshold:r=He.threshold,distance:s=He.distance,includeMatches:o=He.includeMatches,findAllMatches:u=He.findAllMatches,minMatchCharLength:d=He.minMatchCharLength,isCaseSensitive:f=He.isCaseSensitive,ignoreDiacritics:h=He.ignoreDiacritics,ignoreLocation:m=He.ignoreLocation}={}){super(e),this._bitapSearch=new AC(e,{location:t,threshold:r,distance:s,includeMatches:o,findAllMatches:u,minMatchCharLength:d,isCaseSensitive:f,ignoreDiacritics:h,ignoreLocation:m})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class RC extends wa{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,r;const s=[],o=this.pattern.length;for(;(r=e.indexOf(this.pattern,t))>-1;)t=r+o,s.push([r,t-1]);const u=!!s.length;return{isMatch:u,score:u?0:1,indices:s}}}const $v=[d3,RC,h3,p3,g3,m3,f3,CC],sS=$v.length,v3=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,y3="|";function b3(n,e={}){return n.split(y3).map(t=>{let r=t.trim().split(v3).filter(o=>o&&!!o.trim()),s=[];for(let o=0,u=r.length;o<u;o+=1){const d=r[o];let f=!1,h=-1;for(;!f&&++h<sS;){const m=$v[h];let b=m.isMultiMatch(d);b&&(s.push(new m(b,e)),f=!0)}if(!f)for(h=-1;++h<sS;){const m=$v[h];let b=m.isSingleMatch(d);if(b){s.push(new m(b,e));break}}}return s})}const _3=new Set([CC.type,RC.type]);class w3{constructor(e,{isCaseSensitive:t=He.isCaseSensitive,ignoreDiacritics:r=He.ignoreDiacritics,includeMatches:s=He.includeMatches,minMatchCharLength:o=He.minMatchCharLength,ignoreLocation:u=He.ignoreLocation,findAllMatches:d=He.findAllMatches,location:f=He.location,threshold:h=He.threshold,distance:m=He.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:o,findAllMatches:d,ignoreLocation:u,location:f,threshold:h,distance:m},e=t?e:e.toLowerCase(),e=r?Ih(e):e,this.pattern=e,this.query=b3(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:o}=this.options;e=s?e:e.toLowerCase(),e=o?Ih(e):e;let u=0,d=[],f=0;for(let h=0,m=t.length;h<m;h+=1){const b=t[h];d.length=0,u=0;for(let _=0,x=b.length;_<x;_+=1){const E=b[_],{isMatch:A,indices:I,score:R}=E.search(e);if(A){if(u+=1,f+=R,r){const T=E.constructor.type;_3.has(T)?d=[...d,...I]:d.push(I)}}else{f=0,u=0,d.length=0;break}}if(u){let _={isMatch:!0,score:f/u};return r&&(_.indices=d),_}}return{isMatch:!1,score:1}}}const Gv=[];function E3(...n){Gv.push(...n)}function Yv(n,e){for(let t=0,r=Gv.length;t<r;t+=1){let s=Gv[t];if(s.condition(n,e))return new s(n,e)}return new AC(n,e)}const Nh={AND:"$and",OR:"$or"},Kv={PATH:"$path",PATTERN:"$val"},Qv=n=>!!(n[Nh.AND]||n[Nh.OR]),x3=n=>!!n[Kv.PATH],S3=n=>!bs(n)&&EC(n)&&!Qv(n),aS=n=>({[Nh.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function IC(n,e,{auto:t=!0}={}){const r=s=>{let o=Object.keys(s);const u=x3(s);if(!u&&o.length>1&&!Qv(s))return r(aS(s));if(S3(s)){const f=u?s[Kv.PATH]:o[0],h=u?s[Kv.PATTERN]:s[f];if(!bi(h))throw new Error(Q4(f));const m={keyId:qv(f),pattern:h};return t&&(m.searcher=Yv(h,e)),m}let d={children:[],operator:o[0]};return o.forEach(f=>{const h=s[f];bs(h)&&h.forEach(m=>{d.children.push(r(m))})}),d};return Qv(n)||(n=aS(n)),r(n)}function T3(n,{ignoreFieldNorm:e=He.ignoreFieldNorm}){n.forEach(t=>{let r=1;t.matches.forEach(({key:s,norm:o,score:u})=>{const d=s?s.weight:null;r*=Math.pow(u===0&&d?Number.EPSILON:u,(d||1)*(e?1:o))}),t.score=r})}function A3(n,e){const t=n.matches;e.matches=[],fr(t)&&t.forEach(r=>{if(!fr(r.indices)||!r.indices.length)return;const{indices:s,value:o}=r;let u={indices:s,value:o};r.key&&(u.key=r.key.src),r.idx>-1&&(u.refIndex=r.idx),e.matches.push(u)})}function C3(n,e){e.score=n.score}function R3(n,e,{includeMatches:t=He.includeMatches,includeScore:r=He.includeScore}={}){const s=[];return t&&s.push(A3),r&&s.push(C3),n.map(o=>{const{idx:u}=o,d={item:e[u],refIndex:u};return s.length&&s.forEach(f=>{f(o,d)}),d})}class ho{constructor(e,t={},r){this.options={...He,...t},this.options.useExtendedSearch,this._keyStore=new J4(this.options.keys),this.setCollection(e,r)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Tb))throw new Error(K4);this._myIndex=t||TC(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){fr(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let r=0,s=this._docs.length;r<s;r+=1){const o=this._docs[r];e(o,r)&&(this.removeAt(r),r-=1,s-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:o,sortFn:u,ignoreFieldNorm:d}=this.options;let f=bi(e)?bi(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return T3(f,{ignoreFieldNorm:d}),o&&f.sort(u),wC(t)&&t>-1&&(f=f.slice(0,t)),R3(f,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(e){const t=Yv(e,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:o,i:u,n:d})=>{if(!fr(o))return;const{isMatch:f,score:h,indices:m}=t.searchIn(o);f&&s.push({item:o,idx:u,matches:[{score:h,value:o,norm:d,indices:m}]})}),s}_searchLogical(e){const t=IC(e,this.options),r=(d,f,h)=>{if(!d.children){const{keyId:b,searcher:_}=d,x=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(f,b),searcher:_});return x&&x.length?[{idx:h,item:f,matches:x}]:[]}const m=[];for(let b=0,_=d.children.length;b<_;b+=1){const x=d.children[b],E=r(x,f,h);if(E.length)m.push(...E);else if(d.operator===Nh.AND)return[]}return m},s=this._myIndex.records,o={},u=[];return s.forEach(({$:d,i:f})=>{if(fr(d)){let h=r(t,d,f);h.length&&(o[f]||(o[f]={idx:f,item:d,matches:[]},u.push(o[f])),h.forEach(({matches:m})=>{o[f].matches.push(...m)}))}}),u}_searchObjectList(e){const t=Yv(e,this.options),{keys:r,records:s}=this._myIndex,o=[];return s.forEach(({$:u,i:d})=>{if(!fr(u))return;let f=[];r.forEach((h,m)=>{f.push(...this._findMatches({key:h,value:u[m],searcher:t}))}),f.length&&o.push({idx:d,item:u,matches:f})}),o}_findMatches({key:e,value:t,searcher:r}){if(!fr(t))return[];let s=[];if(bs(t))t.forEach(({v:o,i:u,n:d})=>{if(!fr(o))return;const{isMatch:f,score:h,indices:m}=r.searchIn(o);f&&s.push({score:h,key:e,value:o,idx:u,norm:d,indices:m})});else{const{v:o,n:u}=t,{isMatch:d,score:f,indices:h}=r.searchIn(o);d&&s.push({score:f,key:e,value:o,norm:u,indices:h})}return s}}ho.version="7.1.0";ho.createIndex=TC;ho.parseIndex=o3;ho.config=He;ho.parseQuery=IC;E3(w3);function I3({isSearchOpen:n,setIsSearchOpen:e,productos:t}){const[r,s]=D.useState(""),[o,u]=D.useState([]),[d,f]=D.useState(!1),h=tn(),m=D.useMemo(()=>new ho(t,{keys:["nombre","descripcion","marca","etiquetas","tipoCalzado","uso","material","origen"],threshold:.3,includeMatches:!0}),[t]),b=(A,I)=>{let R;return(...T)=>{clearTimeout(R),R=setTimeout(()=>A(...T),I)}},_=D.useCallback(b(async A=>{if(t.length>0){const I=m.search(A);u(I)}else{f(!0);const I=yn(mt,"productos"),T=(await Jn(I)).docs.map(j=>({id:j.id,...j.data()})),z=new ho(T,{keys:["nombre","descripcion","marca","etiquetas","tipoCalzado","uso","material","origen"],threshold:.3,includeMatches:!0}).search(A);u(z),f(!1)}},300),[m,t]);D.useEffect(()=>{if(!n){s(""),u([]);return}const A=r.trim();if(A===""){u([]);return}_(A)},[r,n,_]),D.useEffect(()=>(document.body.style.overflow=n?"hidden":"",()=>{document.body.style.overflow=""}),[n]);const x=()=>e(!1),E=(A,I)=>{if(!I||I.length===0)return A;let R="",T=0;return I[0].indices.forEach(([M,z])=>{R+=A.slice(T,M),R+=`<mark class='bg-yellow-200'>${A.slice(M,z+1)}</mark>`,T=z+1}),R+=A.slice(T),R};return v.jsx(v.Fragment,{children:n&&v.jsx("div",{className:"fixed inset-0 z-[1000] bg-black/30 backdrop-blur-sm",children:v.jsxs("div",{className:"fixed top-0 left-0 right-0 h-20 bg-white shadow-md z-[1001]",children:[v.jsxs("form",{className:"relative h-full w-full flex items-center px-4",children:[v.jsx("i",{className:"bx bx-search text-xl absolute left-4"}),v.jsx("input",{type:"search",placeholder:"Buscar productos",value:r,autoFocus:!0,onChange:A=>s(A.target.value),className:"pl-10 pr-10 w-full h-full outline-none border-none text-base"}),v.jsx("i",{className:"bx bx-x text-xl absolute right-4 cursor-pointer",onClick:x})]}),r.trim()!==""&&v.jsxs("div",{className:"bg-white max-h-[calc(100vh-10rem)] overflow-y-auto border-t border-gray-200 shadow rounded-b-md flex flex-col",children:[v.jsx("ul",{className:"divide-y divide-gray-100 flex-1 overflow-y-auto",children:d?v.jsx("li",{className:"px-4 py-4 text-sm text-gray-500 text-center",children:"Buscando..."}):v.jsx(v.Fragment,{children:o.length>0?o.map(({item:A,matches:I})=>v.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-50 transition",onClick:()=>{h(`/productos/${A.slug}`),x()},children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("i",{className:"bx bx-sneaker text-gray-400 text-base"}),v.jsx("span",{className:"truncate",dangerouslySetInnerHTML:{__html:E(A.nombre,I!=null&&I.find(R=>R.key==="nombre")?[I.find(R=>R.key==="nombre")]:[])}})]})},A.id)):v.jsx("li",{className:"px-4 py-4 text-sm text-gray-500 text-center",children:"No encontramos el producto que buscas."})})}),v.jsx("div",{className:"border-t px-4 py-3 bg-white sticky bottom-0 z-10",children:v.jsxs("button",{onClick:()=>{h("/productos"),x()},className:"w-full flex items-center justify-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors",children:[v.jsx("i",{className:"bx bx-store-alt text-lg"}),v.jsx("span",{children:"Ver todos los productos"})]})})]})]})})})}function Ab({mostrarModalFiltros:n,animatingClose:e,cerrarModalConAnimacion:t,direction:r="left",width:s="w-72",minHeight:o="max-h-[calc(100vh-8rem)] md:max-h-[calc(100vh-4rem)]",children:u}){if(D.useEffect(()=>(n?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[n]),!n&&!e)return null;const d=r==="left"?e?"slide-out-left":"slide-in-left":e?"slide-out-right":"slide-in-right";return v.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 opacity-100",onClick:t}),v.jsxs("div",{className:`relative h-full bg-white shadow-xl ${s} ${d} ${r==="right"?"max-w-[80%] right-0 absolute ml-auto":"left-0 absolute"}`,children:[v.jsx("div",{className:"flex justify-end items-center p-4",children:v.jsx("button",{onClick:t,children:""})}),v.jsx("div",{className:`p-2 overflow-y-auto h-full ${o}`,children:u})]})]})}function N3({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const[t,r]=D.useState(!1),[s,o]=D.useState(!1),{user:u}=Sp(),d=tn(),f=()=>{r(!0),setTimeout(()=>{e(!1),r(!1)},400)};return v.jsx(Ab,{mostrarModalFiltros:n,animatingClose:t,cerrarModalConAnimacion:f,children:v.jsxs("div",{className:"main-menu scrollto flex flex-col h-full",children:[v.jsx("nav",{className:"wrapper",children:v.jsxs("ul",{className:"pt-2 space-y-2",children:[v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"/nikos",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"/nikos/productos",children:"Productos"})}),v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"/nikos/#marcas",onClick:()=>e(!1),children:"Marcas"})}),v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"#contacto",onClick:()=>e(!1),children:"Contacto"})})]})}),!u&&v.jsxs("div",{className:"mt-auto p-4 flex flex-col space-y-2 gap-2",children:[v.jsx("a",{href:"/nikos/login",className:"btn secondary-btn text-center bg-black text-white py-2 rounded",children:"Iniciar Sesin"}),v.jsx("a",{href:"/nikos/register",className:"btn primary-btn text-center border border-black py-2 text-black rounded",children:"Registrarse"})]}),u&&v.jsxs("div",{className:"mt-auto border-t border-gray-200 px-4 pt-4",children:[v.jsxs("button",{onClick:()=>o(!s),className:"w-full flex justify-between items-center text-black font-medium text-left truncate",children:[v.jsxs("span",{className:"truncate max-w-[80%]",title:u.displayName||u.email,children:["Hola, ",u.displayName||u.email]}),v.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${s?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),v.jsxs("ul",{className:`mt-3 space-y-2 text-sm text-gray-800 overflow-hidden transition-all duration-300 ${s?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>{d("/mi-perfil"),e(!1)},className:"block w-full text-left hover:bg-gray-100 px-2 py-1 rounded",children:"Ver perfil"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>{d("/mis-compras"),e(!1)},className:"block w-full text-left hover:bg-gray-100 px-2 py-1 rounded",children:"Mis compras"})}),v.jsx("li",{children:v.jsx("button",{onClick:async()=>{await Oy(bn),e(!1)},className:"block w-full text-left text-red-600 hover:bg-gray-100 px-2 py-1 rounded",children:"Cerrar sesin"})})]})]})]})})}function O3(){const[n,e]=D.useState(!1),[t,r]=D.useState(!1),[s,o]=D.useState(!1),[u,d]=D.useState([]);return D.useEffect(()=>{if(!n)return;(async()=>{try{const h=nd(yn(mt,"productos"),vj(20)),b=(await Jn(h)).docs.map(_=>({id:_.id,..._.data()}));d(b)}catch(h){console.error("Error al obtener productos:",h)}})()},[n]),D.useEffect(()=>{const f=window.matchMedia("(min-width: 992px)"),h=m=>{m.matches&&o(!1)};return f.addEventListener("change",h),()=>f.removeEventListener("change",h)},[]),v.jsxs("div",{id:"page",className:`${s?"mobile-version":""}`,children:[v.jsx("header",{children:v.jsxs("div",{className:"inner-header leading-[80px]",children:[v.jsx("div",{className:"wide",children:v.jsxs("div",{className:"wrap",children:[v.jsx(j4,{setIsMobileMenuOpen:o}),v.jsx(U4,{}),v.jsx(H4,{setIsSearchOpen:e})]})}),v.jsx(I3,{isSearchOpen:n,setIsSearchOpen:e,productos:u})]})}),v.jsx(N3,{isMobileMenuOpen:s,setIsMobileMenuOpen:o,isSubmenuOpen:t,setIsSubMenuOpen:r})]})}function M3(){return v.jsx("div",{id:"contacto",className:"footer relative left-1/2 -translate-x-1/2 w-screen",children:v.jsxs("footer",{className:"bg-black text-gray-200 py-6 mt-10",children:[v.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"title-footer text-2xl font-bold mb-2 font-[Anton] uppercase italic text-[40px]",children:"Nikos"}),v.jsx("p",{className:"text-sm",children:"Vendemos productos nicos para personas nicas. Calidad, estilo y funcionalidad en uno solo."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Enlaces"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsx("li",{children:v.jsx("a",{href:"/",className:"hover:underline",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{href:"/nikos/productos",className:"hover:underline",children:"Productos"})}),v.jsx("li",{children:v.jsx("a",{href:"/nikos/#marcas",className:"hover:underline",children:"Marcas"})}),v.jsx("li",{children:v.jsx("a",{href:"#contacto",className:"hover:underline",children:"Contacto"})})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Contacto"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsx("li",{children:"Email: contacto@mimarca.com"}),v.jsx("li",{children:"Tel: +51 944 788 568"}),v.jsx("li",{children:"Direccin: Calle Ficticia 123, Ciudad"})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Sguenos"}),v.jsxs("div",{className:"flex gap-4 text-xl",children:[v.jsx("a",{href:"https://www.facebook.com",target:"_blank",className:"hover:text-white",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"24",height:"24",children:v.jsx("path",{d:"M22 12a10 10 0 1 0-11.6 9.9v-7H8v-2.9h2.4V9.8c0-2.4 1.4-3.7 3.5-3.7 1 0 2 .2 2 .2v2.3h-1.1c-1.1 0-1.4.7-1.4 1.4v1.7h2.5l-.4 2.9H13.4v7A10 10 0 0 0 22 12z"})})}),v.jsx("a",{href:"https://www.instagram.com",target:"_blank",className:"hover:text-white",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"24",height:"24",children:v.jsx("path",{d:"M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 2c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3h10zM12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm4.5-2a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})})]})]})]}),v.jsxs("div",{className:"border-t border-gray-700 mt-10 pt-4 text-center text-sm",children:["v.1.0.5  ",new Date().getFullYear()," Nikos. Todos los derechos reservados."]})]})})}const Vl="/nikos/assets/no-photo-B4rHX3et.JPG";function D3(){const{carrito:n,quitarDelCarrito:e,vaciarCarrito:t,actualizarCantidad:r}=Tp(),s=tn(),{cerrarModalConAnimacion:o}=Sb(),u=()=>{o(),setTimeout(()=>{s("/checkout")},400)},[d,f]=D.useState(""),h=(b,_)=>{const x=b.cantidad+_;x>3?f(b.slug+b.talla+b.color):f(""),r(b.slug,b.talla,b.color,x)},m=()=>n.reduce((b,_)=>b+_.precio*_.cantidad,0);return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsxs("div",{className:"px-4 pb-1 flex flex-row gap-4 justify-between items-center",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Mi Carrito"}),n.length>0&&v.jsx("div",{className:"button text-center",children:v.jsx("button",{onClick:t,className:"btn btm-sm secondary-btn px-2 py-1",children:v.jsx("i",{className:"bx bx-trash"})})})]}),v.jsx("div",{className:"flex-1 gap 2 overflow-y-auto p-2 md:p-4 space-y-4",children:n.length===0?v.jsx("p",{className:"text-gray-500",children:"Tu carrito est vaco."}):n.map((b,_)=>v.jsxs("div",{className:"flex gap-4 bg-white py-2 relative",children:[v.jsx("img",{src:b.imagen||Vl,alt:b.nombre,className:"w-20 h-20 object-cover rounded border"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-gray-800 cursor-pointer",onClick:()=>s(`/productos/${b.slug}`),children:b.nombre}),v.jsxs("div",{className:"text-sm text-gray-600 flex",children:["Talla: ",v.jsx("span",{className:"font-medium px-1",children:b.talla})," | Color: ",b.color]}),v.jsxs("span",{className:"text-sm text-gray-500",children:["S/ ",b.precio," c/u"]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded",onClick:()=>h(b,-1),disabled:b.cantidad===1,children:""}),v.jsx("input",{type:"text",value:b.cantidad,readOnly:!0,className:"w-8 text-center border rounded"}),v.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded",onClick:()=>h(b,1),children:"+"})]})]}),v.jsx("button",{onClick:()=>e(b.slug,b.talla,b.color),className:"text-red-500 hover:text-red-700 self-start",title:"Quitar del carrito",children:v.jsx("i",{className:"bx bx-trash"})})]},_))}),n.length>0&&v.jsxs("div",{className:"bg-black text-white p-4 border-t",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm",children:[v.jsx("span",{children:"Total:"}),v.jsxs("span",{className:"font-semibold",children:["S/ ",m().toFixed(2)]})]}),d!==""&&v.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Si deseas hacer compras al por mayor, comuncate con nosotros para acceder a mejores precios."}),v.jsx("button",{onClick:u,className:"w-full bg-green-600 hover:bg-green-700 py-2 rounded text-white font-semibold",children:"Confirmar compra"})]})]})}function P3(){return v.jsx("a",{href:"https://wa.me/51944788568",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Contctanos por WhatsApp",children:v.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/5e/WhatsApp_icon.png",alt:"WhatsApp",width:"50",height:"50"})})}function k3(){const{mostrarCarrito:n,animatingClose:e,cerrarModalConAnimacion:t}=Sb();return v.jsxs(v.Fragment,{children:[v.jsx(O3,{}),v.jsx(gT,{}),v.jsx(M3,{}),v.jsx(Ab,{mostrarModalFiltros:n,animatingClose:e,cerrarModalConAnimacion:t,direction:"right",width:"w-[500px]",children:v.jsx(D3,{})}),v.jsx(P3,{})]})}function oS(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function Cb(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:oS(e[r])&&oS(n[r])&&Object.keys(e[r]).length>0&&Cb(n[r],e[r])})}const NC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ea(){const n=typeof document<"u"?document:{};return Cb(n,NC),n}const V3={document:NC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Gn(){const n=typeof window<"u"?window:{};return Cb(n,V3),n}function L3(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function j3(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Xv(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function io(){return Date.now()}function U3(n){const e=Gn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function F3(n,e){e===void 0&&(e="x");const t=Gn();let r,s,o;const u=U3(n);return t.WebKitCSSMatrix?(s=u.transform||u.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(s==="none"?"":s)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=o.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=o.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function hc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function B3(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function cr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!B3(r)){const s=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,u=s.length;o<u;o+=1){const d=s[o],f=Object.getOwnPropertyDescriptor(r,d);f!==void 0&&f.enumerable&&(hc(n[d])&&hc(r[d])?r[d].__swiper__?n[d]=r[d]:cr(n[d],r[d]):!hc(n[d])&&hc(r[d])?(n[d]={},r[d].__swiper__?n[d]=r[d]:cr(n[d],r[d])):n[d]=r[d])}}}return n}function jf(n,e,t){n.style.setProperty(e,t)}function OC(n){let{swiper:e,targetPosition:t,side:r}=n;const s=Gn(),o=-e.translate;let u=null,d;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const h=t>o?"next":"prev",m=(_,x)=>h==="next"&&_>=x||h==="prev"&&_<=x,b=()=>{d=new Date().getTime(),u===null&&(u=d);const _=Math.max(Math.min((d-u)/f,1),0),x=.5-Math.cos(_*Math.PI)/2;let E=o+x*(t-o);if(m(E,t)&&(E=t),e.wrapperEl.scrollTo({[r]:E}),m(E,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:E})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(b)};b()}function Gr(n,e){e===void 0&&(e="");const t=Gn(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function z3(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function H3(n,e){const t=Gn();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=z3(n,e))),r}function Oh(n){try{console.warn(n);return}catch{}}function Mh(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:L3(e)),t}function q3(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function $3(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function aa(n,e){return Gn().getComputedStyle(n,null).getPropertyValue(e)}function Dh(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function MC(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Wg(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function Wv(n,e,t){const r=Gn();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function vn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Ph(n,e){e===void 0&&(e=""),typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Zg;function G3(){const n=Gn(),e=Ea();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function DC(){return Zg||(Zg=G3()),Zg}let Jg;function Y3(n){let{userAgent:e}=n===void 0?{}:n;const t=DC(),r=Gn(),s=r.navigator.platform,o=e||r.navigator.userAgent,u={ios:!1,android:!1},d=r.screen.width,f=r.screen.height,h=o.match(/(Android);?[\s\/]+([\d.]+)?/);let m=o.match(/(iPad).*OS\s([\d_]+)/);const b=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!m&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),x=s==="Win32";let E=s==="MacIntel";const A=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&E&&t.touch&&A.indexOf(`${d}x${f}`)>=0&&(m=o.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),E=!1),h&&!x&&(u.os="android",u.android=!0),(m||_||b)&&(u.os="ios",u.ios=!0),u}function PC(n){return n===void 0&&(n={}),Jg||(Jg=Y3(n)),Jg}let ev;function K3(){const n=Gn(),e=PC();let t=!1;function r(){const d=n.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(n.navigator.userAgent);if(d.includes("Version/")){const[f,h]=d.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));t=f<16||f===16&&h<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),u=o||s&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:u,isWebView:s}}function kC(){return ev||(ev=K3()),ev}function Q3(n){let{swiper:e,on:t,emit:r}=n;const s=Gn();let o=null,u=null;const d=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(b=>{u=s.requestAnimationFrame(()=>{const{width:_,height:x}=e;let E=_,A=x;b.forEach(I=>{let{contentBoxSize:R,contentRect:T,target:M}=I;M&&M!==e.el||(E=T?T.width:(R[0]||R).inlineSize,A=T?T.height:(R[0]||R).blockSize)}),(E!==_||A!==x)&&d()})}),o.observe(e.el))},h=()=>{u&&s.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},m=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){f();return}s.addEventListener("resize",d),s.addEventListener("orientationchange",m)}),t("destroy",()=>{h(),s.removeEventListener("resize",d),s.removeEventListener("orientationchange",m)})}function X3(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const o=[],u=Gn(),d=function(m,b){b===void 0&&(b={});const _=u.MutationObserver||u.WebkitMutationObserver,x=new _(E=>{if(e.__preventObserver__)return;if(E.length===1){s("observerUpdate",E[0]);return}const A=function(){s("observerUpdate",E[0])};u.requestAnimationFrame?u.requestAnimationFrame(A):u.setTimeout(A,0)});x.observe(m,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:e.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),o.push(x)},f=()=>{if(e.params.observer){if(e.params.observeParents){const m=MC(e.hostEl);for(let b=0;b<m.length;b+=1)d(m[b])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},h=()=>{o.forEach(m=>{m.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",h)}var W3={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];e.apply(r,u)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(h=>{h.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(h=>{h.apply(r,t)})}),n}};function Z3(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(aa(r,"padding-left")||0,10)-parseInt(aa(r,"padding-right")||0,10),t=t-parseInt(aa(r,"padding-top")||0,10)-parseInt(aa(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function J3(){const n=this;function e(V,U){return parseFloat(V.getPropertyValue(n.getDirectionLabel(U))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:u,wrongRTL:d}=n,f=n.virtual&&t.virtual.enabled,h=f?n.virtual.slides.length:n.slides.length,m=Gr(s,`.${n.params.slideClass}, swiper-slide`),b=f?n.virtual.slides.length:m.length;let _=[];const x=[],E=[];let A=t.slidesOffsetBefore;typeof A=="function"&&(A=t.slidesOffsetBefore.call(n));let I=t.slidesOffsetAfter;typeof I=="function"&&(I=t.slidesOffsetAfter.call(n));const R=n.snapGrid.length,T=n.slidesGrid.length;let M=t.spaceBetween,z=-A,j=0,Y=0;if(typeof o>"u")return;typeof M=="string"&&M.indexOf("%")>=0?M=parseFloat(M.replace("%",""))/100*o:typeof M=="string"&&(M=parseFloat(M)),n.virtualSize=-M,m.forEach(V=>{u?V.style.marginLeft="":V.style.marginRight="",V.style.marginBottom="",V.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(jf(r,"--swiper-centered-offset-before",""),jf(r,"--swiper-centered-offset-after",""));const P=t.grid&&t.grid.rows>1&&n.grid;P?n.grid.initSlides(m):n.grid&&n.grid.unsetSlides();let N;const O=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(V=>typeof t.breakpoints[V].slidesPerView<"u").length>0;for(let V=0;V<b;V+=1){N=0;let U;if(m[V]&&(U=m[V]),P&&n.grid.updateSlide(V,U,m),!(m[V]&&aa(U,"display")==="none")){if(t.slidesPerView==="auto"){O&&(m[V].style[n.getDirectionLabel("width")]="");const B=getComputedStyle(U),k=U.style.transform,ie=U.style.webkitTransform;if(k&&(U.style.transform="none"),ie&&(U.style.webkitTransform="none"),t.roundLengths)N=n.isHorizontal()?Wv(U,"width"):Wv(U,"height");else{const oe=e(B,"width"),$=e(B,"padding-left"),re=e(B,"padding-right"),he=e(B,"margin-left"),be=e(B,"margin-right"),q=B.getPropertyValue("box-sizing");if(q&&q==="border-box")N=oe+he+be;else{const{clientWidth:le,offsetWidth:me}=U;N=oe+$+re+he+be+(me-le)}}k&&(U.style.transform=k),ie&&(U.style.webkitTransform=ie),t.roundLengths&&(N=Math.floor(N))}else N=(o-(t.slidesPerView-1)*M)/t.slidesPerView,t.roundLengths&&(N=Math.floor(N)),m[V]&&(m[V].style[n.getDirectionLabel("width")]=`${N}px`);m[V]&&(m[V].swiperSlideSize=N),E.push(N),t.centeredSlides?(z=z+N/2+j/2+M,j===0&&V!==0&&(z=z-o/2-M),V===0&&(z=z-o/2-M),Math.abs(z)<1/1e3&&(z=0),t.roundLengths&&(z=Math.floor(z)),Y%t.slidesPerGroup===0&&_.push(z),x.push(z)):(t.roundLengths&&(z=Math.floor(z)),(Y-Math.min(n.params.slidesPerGroupSkip,Y))%n.params.slidesPerGroup===0&&_.push(z),x.push(z),z=z+N+M),n.virtualSize+=N+M,j=N,Y+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+I,u&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+M}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+M}px`),P&&n.grid.updateWrapperSize(N,_),!t.centeredSlides){const V=[];for(let U=0;U<_.length;U+=1){let B=_[U];t.roundLengths&&(B=Math.floor(B)),_[U]<=n.virtualSize-o&&V.push(B)}_=V,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(f&&t.loop){const V=E[0]+M;if(t.slidesPerGroup>1){const U=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),B=V*t.slidesPerGroup;for(let k=0;k<U;k+=1)_.push(_[_.length-1]+B)}for(let U=0;U<n.virtual.slidesBefore+n.virtual.slidesAfter;U+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+V),x.push(x[x.length-1]+V),n.virtualSize+=V}if(_.length===0&&(_=[0]),M!==0){const V=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");m.filter((U,B)=>!t.cssMode||t.loop?!0:B!==m.length-1).forEach(U=>{U.style[V]=`${M}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let V=0;E.forEach(B=>{V+=B+(M||0)}),V-=M;const U=V>o?V-o:0;_=_.map(B=>B<=0?-A:B>U?U+I:B)}if(t.centerInsufficientSlides){let V=0;E.forEach(B=>{V+=B+(M||0)}),V-=M;const U=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(V+U<o){const B=(o-V-U)/2;_.forEach((k,ie)=>{_[ie]=k-B}),x.forEach((k,ie)=>{x[ie]=k+B})}}if(Object.assign(n,{slides:m,snapGrid:_,slidesGrid:x,slidesSizesGrid:E}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){jf(r,"--swiper-centered-offset-before",`${-_[0]}px`),jf(r,"--swiper-centered-offset-after",`${n.size/2-E[E.length-1]/2}px`);const V=-n.snapGrid[0],U=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(B=>B+V),n.slidesGrid=n.slidesGrid.map(B=>B+U)}if(b!==h&&n.emit("slidesLengthChange"),_.length!==R&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),x.length!==T&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const V=`${t.containerModifierClass}backface-hidden`,U=n.el.classList.contains(V);b<=t.maxBackfaceHiddenSlides?U||n.el.classList.add(V):U&&n.el.classList.remove(V)}}function e6(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{t.push(d)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const d=e.activeIndex+o;if(d>e.slides.length&&!r)break;t.push(u(d))}else t.push(u(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const d=t[o].offsetHeight;s=d>s?d:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function t6(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const lS=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function n6(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;s&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=t.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let f=0;f<r.length;f+=1){const h=r[f];let m=h.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(m-=r[0].swiperSlideOffset);const b=(u+(t.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+d),_=(u-o[0]+(t.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+d),x=-(u-m),E=x+e.slidesSizesGrid[f],A=x>=0&&x<=e.size-e.slidesSizesGrid[f],I=x>=0&&x<e.size-1||E>1&&E<=e.size||x<=0&&E>=e.size;I&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(f)),lS(h,I,t.slideVisibleClass),lS(h,A,t.slideFullyVisibleClass),h.progress=s?-b:b,h.originalProgress=s?-_:_}}function r6(n){const e=this;if(typeof n>"u"){const m=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*m||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:u,progressLoop:d}=e;const f=o,h=u;if(r===0)s=0,o=!0,u=!0;else{s=(n-e.minTranslate())/r;const m=Math.abs(n-e.minTranslate())<1,b=Math.abs(n-e.maxTranslate())<1;o=m||s<=0,u=b||s>=1,m&&(s=0),b&&(s=1)}if(t.loop){const m=e.getSlideIndexByData(0),b=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[m],x=e.slidesGrid[b],E=e.slidesGrid[e.slidesGrid.length-1],A=Math.abs(n);A>=_?d=(A-_)/E:d=(A+E-x)/E,d>1&&(d-=1)}Object.assign(e,{progress:s,progressLoop:d,isBeginning:o,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!f&&e.emit("reachBeginning toEdge"),u&&!h&&e.emit("reachEnd toEdge"),(f&&!o||h&&!u)&&e.emit("fromEdge"),e.emit("progress",s)}const tv=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function i6(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,o=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,d=b=>Gr(r,`.${t.slideClass}${b}, swiper-slide${b}`)[0];let f,h,m;if(o)if(t.loop){let b=s-n.virtual.slidesBefore;b<0&&(b=n.virtual.slides.length+b),b>=n.virtual.slides.length&&(b-=n.virtual.slides.length),f=d(`[data-swiper-slide-index="${b}"]`)}else f=d(`[data-swiper-slide-index="${s}"]`);else u?(f=e.find(b=>b.column===s),m=e.find(b=>b.column===s+1),h=e.find(b=>b.column===s-1)):f=e[s];f&&(u||(m=$3(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!m&&(m=e[0]),h=q3(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(b=>{tv(b,b===f,t.slideActiveClass),tv(b,b===m,t.slideNextClass),tv(b,b===h,t.slidePrevClass)}),n.emitSlidesClasses()}const nh=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},nv=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Zv=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=s,d=[u-e];d.push(...Array.from({length:e}).map((f,h)=>u+r+h)),n.slides.forEach((f,h)=>{d.includes(f.column)&&nv(n,h)});return}const o=s+r-1;if(n.params.rewind||n.params.loop)for(let u=s-e;u<=o+e;u+=1){const d=(u%t+t)%t;(d<s||d>o)&&nv(n,d)}else for(let u=Math.max(s-e,0);u<=Math.min(o+e,t-1);u+=1)u!==s&&(u>o||u<s)&&nv(n,u)};function s6(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?s=o:r>=e[o]&&r<e[o+1]&&(s=o+1):r>=e[o]&&(s=o);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function a6(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:o,realIndex:u,snapIndex:d}=e;let f=n,h;const m=x=>{let E=x-e.virtual.slidesBefore;return E<0&&(E=e.virtual.slides.length+E),E>=e.virtual.slides.length&&(E-=e.virtual.slides.length),E};if(typeof f>"u"&&(f=s6(e)),r.indexOf(t)>=0)h=r.indexOf(t);else{const x=Math.min(s.slidesPerGroupSkip,f);h=x+Math.floor((f-x)/s.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),f===o&&!e.params.loop){h!==d&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(f===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(f);return}const b=e.grid&&s.grid&&s.grid.rows>1;let _;if(e.virtual&&s.virtual.enabled&&s.loop)_=m(f);else if(b){const x=e.slides.find(A=>A.column===f);let E=parseInt(x.getAttribute("data-swiper-slide-index"),10);Number.isNaN(E)&&(E=Math.max(e.slides.indexOf(x),0)),_=Math.floor(E/s.grid.rows)}else if(e.slides[f]){const x=e.slides[f].getAttribute("data-swiper-slide-index");x?_=parseInt(x,10):_=f}else _=f;Object.assign(e,{previousSnapIndex:d,snapIndex:h,previousRealIndex:u,realIndex:_,previousIndex:o,activeIndex:f}),e.initialized&&Zv(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function o6(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(d=>{!s&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(s=d)});let o=!1,u;if(s){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===s){o=!0,u=d;break}}if(s&&o)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var l6={updateSize:Z3,updateSlides:J3,updateAutoHeight:e6,updateSlidesOffset:t6,updateSlidesProgress:n6,updateProgress:r6,updateSlidesClasses:i6,updateActiveIndex:a6,updateClickedSlide:o6};function u6(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:o}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let u=F3(o,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function c6(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:o,progress:u}=t;let d=0,f=0;const h=0;t.isHorizontal()?d=r?-n:n:f=n,s.roundLengths&&(d=Math.floor(d),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?d:f,s.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-d:-f:s.virtualTranslate||(t.isHorizontal()?d-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${d}px, ${f}px, ${h}px)`);let m;const b=t.maxTranslate()-t.minTranslate();b===0?m=0:m=(n-t.minTranslate())/b,m!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function d6(){return-this.snapGrid[0]}function f6(){return-this.snapGrid[this.snapGrid.length-1]}function h6(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:u,wrapperEl:d}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const f=o.minTranslate(),h=o.maxTranslate();let m;if(r&&n>f?m=f:r&&n<h?m=h:m=n,o.updateProgress(m),u.cssMode){const b=o.isHorizontal();if(e===0)d[b?"scrollLeft":"scrollTop"]=-m;else{if(!o.support.smoothScroll)return OC({swiper:o,targetPosition:-m,side:b?"left":"top"}),!0;d.scrollTo({[b?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(m),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(m),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var p6={getTranslate:u6,setTranslate:c6,minTranslate:d6,maxTranslate:f6,translateTo:h6};function m6(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function VC(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:o,previousIndex:u}=e;let d=r;d||(o>u?d="next":o<u?d="prev":d="reset"),e.emit(`transition${s}`),t&&d==="reset"?e.emit(`slideResetTransition${s}`):t&&o!==u&&(e.emit(`slideChangeTransition${s}`),d==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`))}function g6(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),VC({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function v6(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),VC({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var y6={setTransition:m6,transitionStart:g6,transitionEnd:v6};function b6(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let u=n;u<0&&(u=0);const{params:d,snapGrid:f,slidesGrid:h,previousIndex:m,activeIndex:b,rtlTranslate:_,wrapperEl:x,enabled:E}=o;if(!E&&!r&&!s||o.destroyed||o.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const A=Math.min(o.params.slidesPerGroupSkip,u);let I=A+Math.floor((u-A)/o.params.slidesPerGroup);I>=f.length&&(I=f.length-1);const R=-f[I];if(d.normalizeSlideIndex)for(let P=0;P<h.length;P+=1){const N=-Math.floor(R*100),O=Math.floor(h[P]*100),V=Math.floor(h[P+1]*100);typeof h[P+1]<"u"?N>=O&&N<V-(V-O)/2?u=P:N>=O&&N<V&&(u=P+1):N>=O&&(u=P)}if(o.initialized&&u!==b&&(!o.allowSlideNext&&(_?R>o.translate&&R>o.minTranslate():R<o.translate&&R<o.minTranslate())||!o.allowSlidePrev&&R>o.translate&&R>o.maxTranslate()&&(b||0)!==u))return!1;u!==(m||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(R);let T;u>b?T="next":u<b?T="prev":T="reset";const M=o.virtual&&o.params.virtual.enabled;if(!(M&&s)&&(_&&-R===o.translate||!_&&R===o.translate))return o.updateActiveIndex(u),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(R),T!=="reset"&&(o.transitionStart(t,T),o.transitionEnd(t,T)),!1;if(d.cssMode){const P=o.isHorizontal(),N=_?R:-R;if(e===0)M&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),M&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{x[P?"scrollLeft":"scrollTop"]=N})):x[P?"scrollLeft":"scrollTop"]=N,M&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return OC({swiper:o,targetPosition:N,side:P?"left":"top"}),!0;x.scrollTo({[P?"left":"top"]:N,behavior:"smooth"})}return!0}const Y=kC().isSafari;return M&&!s&&Y&&o.isElement&&o.virtual.update(!1,!1,u),o.setTransition(e),o.setTranslate(R),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,T),e===0?o.transitionEnd(t,T):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(N){!o||o.destroyed||N.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,T))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function _6(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let u=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)u=u+s.virtual.slidesBefore;else{let d;if(o){const _=u*s.params.grid.rows;d=s.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===_).column}else d=s.getSlideIndexByData(u);const f=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:h}=s.params;let m=s.params.slidesPerView;m==="auto"?m=s.slidesPerViewDynamic():(m=Math.ceil(parseFloat(s.params.slidesPerView,10)),h&&m%2===0&&(m=m+1));let b=f-d<m;if(h&&(b=b||d<Math.ceil(m/2)),r&&h&&s.params.slidesPerView!=="auto"&&!o&&(b=!1),b){const _=h?d<s.activeIndex?"prev":"next":d-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?d+1:d-f+1,slideRealIndex:_==="next"?s.realIndex:void 0})}if(o){const _=u*s.params.grid.rows;u=s.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===_).column}else u=s.getSlideIndexByData(u)}return requestAnimationFrame(()=>{s.slideTo(u,e,t,r)}),s}function w6(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:o,animating:u}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<o.slidesPerGroupSkip?1:d,h=r.virtual&&o.virtual.enabled;if(o.loop){if(u&&!h&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function E6(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:o,slidesGrid:u,rtlTranslate:d,enabled:f,animating:h}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const m=r.virtual&&s.virtual.enabled;if(s.loop){if(h&&!m&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const b=d?r.translate:-r.translate;function _(T){return T<0?-Math.floor(Math.abs(T)):Math.floor(T)}const x=_(b),E=o.map(T=>_(T)),A=s.freeMode&&s.freeMode.enabled;let I=o[E.indexOf(x)-1];if(typeof I>"u"&&(s.cssMode||A)){let T;o.forEach((M,z)=>{x>=M&&(T=z)}),typeof T<"u"&&(I=A?o[T]:o[T>0?T-1:T])}let R=0;if(typeof I<"u"&&(R=u.indexOf(I),R<0&&(R=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(R=R-r.slidesPerViewDynamic("previous",!0)+1,R=Math.max(R,0))),s.rewind&&r.isBeginning){const T=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(T,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(R,n,e,t)}),!0;return r.slideTo(R,n,e,t)}function x6(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function S6(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let o=s.activeIndex;const u=Math.min(s.params.slidesPerGroupSkip,o),d=u+Math.floor((o-u)/s.params.slidesPerGroup),f=s.rtlTranslate?s.translate:-s.translate;if(f>=s.snapGrid[d]){const h=s.snapGrid[d],m=s.snapGrid[d+1];f-h>(m-h)*r&&(o+=s.params.slidesPerGroup)}else{const h=s.snapGrid[d-1],m=s.snapGrid[d];f-h<=(m-h)*r&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,n,e,t)}function T6(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,o;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(Gr(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),Xv(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(Gr(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),Xv(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var A6={slideTo:b6,slideToLoop:_6,slideNext:w6,slidePrev:E6,slideReset:x6,slideToClosest:S6,slideToClickedSlide:T6};function C6(n,e){const t=this,{params:r,slidesEl:s}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{Gr(s,`.${r.slideClass}, swiper-slide`).forEach((_,x)=>{_.setAttribute("data-swiper-slide-index",x)})},u=t.grid&&r.grid&&r.grid.rows>1,d=r.slidesPerGroup*(u?r.grid.rows:1),f=t.slides.length%d!==0,h=u&&t.slides.length%r.grid.rows!==0,m=b=>{for(let _=0;_<b;_+=1){const x=t.isElement?Mh("swiper-slide",[r.slideBlankClass]):Mh("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(x)}};if(f){if(r.loopAddBlankSlides){const b=d-t.slides.length%d;m(b),t.recalcSlides(),t.updateSlides()}else Oh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(h){if(r.loopAddBlankSlides){const b=r.grid.rows-t.slides.length%r.grid.rows;m(b),t.recalcSlides(),t.updateSlides()}else Oh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function R6(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:o,initial:u,byController:d,byMousewheel:f}=n===void 0?{}:n;const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:m,allowSlidePrev:b,allowSlideNext:_,slidesEl:x,params:E}=h,{centeredSlides:A,initialSlide:I}=E;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&E.virtual.enabled){t&&(!E.centeredSlides&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):E.centeredSlides&&h.snapIndex<E.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=b,h.allowSlideNext=_,h.emit("loopFix");return}let R=E.slidesPerView;R==="auto"?R=h.slidesPerViewDynamic():(R=Math.ceil(parseFloat(E.slidesPerView,10)),A&&R%2===0&&(R=R+1));const T=E.slidesPerGroupAuto?R:E.slidesPerGroup;let M=T;M%T!==0&&(M+=T-M%T),M+=E.loopAdditionalSlides,h.loopedSlides=M;const z=h.grid&&E.grid&&E.grid.rows>1;m.length<R+M||h.params.effect==="cards"&&m.length<R+M*2?Oh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):z&&E.grid.fill==="row"&&Oh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const j=[],Y=[],P=z?Math.ceil(m.length/E.grid.rows):m.length,N=u&&P-I<R&&!A;let O=N?I:h.activeIndex;typeof o>"u"?o=h.getSlideIndex(m.find($=>$.classList.contains(E.slideActiveClass))):O=o;const V=r==="next"||!r,U=r==="prev"||!r;let B=0,k=0;const oe=(z?m[o].column:o)+(A&&typeof s>"u"?-R/2+.5:0);if(oe<M){B=Math.max(M-oe,T);for(let $=0;$<M-oe;$+=1){const re=$-Math.floor($/P)*P;if(z){const he=P-re-1;for(let be=m.length-1;be>=0;be-=1)m[be].column===he&&j.push(be)}else j.push(P-re-1)}}else if(oe+R>P-M){k=Math.max(oe-(P-M*2),T),N&&(k=Math.max(k,R-P+I+1));for(let $=0;$<k;$+=1){const re=$-Math.floor($/P)*P;z?m.forEach((he,be)=>{he.column===re&&Y.push(be)}):Y.push(re)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),h.params.effect==="cards"&&m.length<R+M*2&&(Y.includes(o)&&Y.splice(Y.indexOf(o),1),j.includes(o)&&j.splice(j.indexOf(o),1)),U&&j.forEach($=>{m[$].swiperLoopMoveDOM=!0,x.prepend(m[$]),m[$].swiperLoopMoveDOM=!1}),V&&Y.forEach($=>{m[$].swiperLoopMoveDOM=!0,x.append(m[$]),m[$].swiperLoopMoveDOM=!1}),h.recalcSlides(),E.slidesPerView==="auto"?h.updateSlides():z&&(j.length>0&&U||Y.length>0&&V)&&h.slides.forEach(($,re)=>{h.grid.updateSlide(re,$,h.slides)}),E.watchSlidesProgress&&h.updateSlidesOffset(),t){if(j.length>0&&U){if(typeof e>"u"){const $=h.slidesGrid[O],he=h.slidesGrid[O+B]-$;f?h.setTranslate(h.translate-he):(h.slideTo(O+Math.ceil(B),0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-he,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-he))}else if(s){const $=z?j.length/E.grid.rows:j.length;h.slideTo(h.activeIndex+$,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(Y.length>0&&V)if(typeof e>"u"){const $=h.slidesGrid[O],he=h.slidesGrid[O-k]-$;f?h.setTranslate(h.translate-he):(h.slideTo(O-k,0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-he,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-he))}else{const $=z?Y.length/E.grid.rows:Y.length;h.slideTo(h.activeIndex-$,0,!1,!0)}}if(h.allowSlidePrev=b,h.allowSlideNext=_,h.controller&&h.controller.control&&!d){const $={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(re=>{!re.destroyed&&re.params.loop&&re.loopFix({...$,slideTo:re.params.slidesPerView===E.slidesPerView?t:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...$,slideTo:h.controller.control.params.slidesPerView===E.slidesPerView?t:!1})}h.emit("loopFix")}function I6(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[o]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var N6={loopCreate:C6,loopFix:R6,loopDestroy:I6};function O6(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function M6(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var D6={setGrabCursor:O6,unsetGrabCursor:M6};function P6(n,e){e===void 0&&(e=this);function t(r){if(!r||r===Ea()||r===Gn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function uS(n,e,t){const r=Gn(),{params:s}=n,o=s.edgeSwipeDetection,u=s.edgeSwipeThreshold;return o&&(t<=u||t>=r.innerWidth-u)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function k6(n){const e=this,t=Ea();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){uS(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let f=r.target;if(o.touchEventsTarget==="wrapper"&&!H3(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const h=!!o.noSwipingClass&&o.noSwipingClass!=="",m=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&m&&(f=m[0]);const b=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(_?P6(b,f):f.closest(b))){e.allowClick=!0;return}if(o.swipeHandler&&!f.closest(o.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const x=u.currentX,E=u.currentY;if(!uS(e,r,x))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=x,u.startY=E,s.touchStartTime=io(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let A=!0;f.matches(s.focusableElements)&&(A=!1,f.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(s.focusableElements))&&t.activeElement.blur();const I=A&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||I)&&!f.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function V6(n){const e=Ea(),t=this,r=t.touchEventsData,{params:s,touches:o,rtlTranslate:u,enabled:d}=t;if(!d||!s.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let h;if(f.type==="touchmove"){if(h=[...f.changedTouches].find(j=>j.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const m=h.pageX,b=h.pageY;if(f.preventedByNestedSwiper){o.startX=m,o.startY=b;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:m,startY:b,currentX:m,currentY:b}),r.touchStartTime=io());return}if(s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(b<o.startY&&t.translate<=t.maxTranslate()||b>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(m>o.startX&&-t.translate<=t.maxTranslate()||m<o.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(m<o.startX&&t.translate<=t.maxTranslate()||m>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=m,o.currentY=b;const _=o.currentX-o.startX,x=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+x**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let j;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:_*_+x*x>=25&&(j=Math.atan2(Math.abs(x),Math.abs(_))*180/Math.PI,r.isScrolling=t.isHorizontal()?j>s.touchAngle:90-j>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&f.cancelable&&f.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&f.stopPropagation();let E=t.isHorizontal()?_:x,A=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(E=Math.abs(E)*(u?1:-1),A=Math.abs(A)*(u?1:-1)),o.diff=E,E*=s.touchRatio,u&&(E=-E,A=-A);const I=t.touchesDirection;t.swipeDirection=E>0?"prev":"next",t.touchesDirection=A>0?"prev":"next";const R=t.params.loop&&!s.cssMode,T=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(R&&T&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const j=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(j)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&I!==t.touchesDirection&&R&&T&&Math.abs(E)>=1){Object.assign(o,{startX:m,startY:b,currentX:m,currentY:b,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=E+r.startTranslate;let M=!0,z=s.resistanceRatio;if(s.touchReleaseOnEdges&&(z=0),E>0?(R&&T&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(M=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+E)**z))):E<0&&(R&&T&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(M=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-E)**z))),M&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(E)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function L6(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(j=>j.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:d,rtlTranslate:f,slidesGrid:h,enabled:m}=e;if(!m||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const b=io(),_=b-t.touchStartTime;if(e.allowClick){const j=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(j&&j[0]||r.target,j),e.emit("tap click",r),_<300&&b-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=io(),Xv(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||d.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let x;if(u.followFinger?x=f?e.translate:-e.translate:x=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:x});return}const E=x>=-e.maxTranslate()&&!e.params.loop;let A=0,I=e.slidesSizesGrid[0];for(let j=0;j<h.length;j+=j<u.slidesPerGroupSkip?1:u.slidesPerGroup){const Y=j<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof h[j+Y]<"u"?(E||x>=h[j]&&x<h[j+Y])&&(A=j,I=h[j+Y]-h[j]):(E||x>=h[j])&&(A=j,I=h[h.length-1]-h[h.length-2])}let R=null,T=null;u.rewind&&(e.isBeginning?T=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(R=0));const M=(x-h[A])/I,z=A<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(_>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(M>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?R:A+z):e.slideTo(A)),e.swipeDirection==="prev"&&(M>1-u.longSwipesRatio?e.slideTo(A+z):T!==null&&M<0&&Math.abs(M)>u.longSwipesRatio?e.slideTo(T):e.slideTo(A))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(A+z):e.slideTo(A):(e.swipeDirection==="next"&&e.slideTo(R!==null?R:A+z),e.swipeDirection==="prev"&&e.slideTo(T!==null?T:A))}}function cS(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:o}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const d=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!d?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function j6(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function U6(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const o=n.maxTranslate()-n.minTranslate();o===0?s=0:s=(n.translate-n.minTranslate())/o,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function F6(n){const e=this;nh(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function B6(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const LC=(n,e)=>{const t=Ea(),{params:r,el:s,wrapperEl:o,device:u}=n,d=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",h=e;!s||typeof s=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:d}),s[f]("touchstart",n.onTouchStart,{passive:!1}),s[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:d}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:d}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[f]("click",n.onClick,!0),r.cssMode&&o[f]("scroll",n.onScroll),r.updateOnWindowResize?n[h](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",cS,!0):n[h]("observerUpdate",cS,!0),s[f]("load",n.onLoad,{capture:!0}))};function z6(){const n=this,{params:e}=n;n.onTouchStart=k6.bind(n),n.onTouchMove=V6.bind(n),n.onTouchEnd=L6.bind(n),n.onDocumentTouchStart=B6.bind(n),e.cssMode&&(n.onScroll=U6.bind(n)),n.onClick=j6.bind(n),n.onLoad=F6.bind(n),LC(n,"on")}function H6(){LC(this,"off")}var q6={attachEvents:z6,detachEvents:H6};const dS=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function $6(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const u=Ea(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),h=n.getBreakpoint(o,d,f);if(!h||n.currentBreakpoint===h)return;const b=(h in o?o[h]:void 0)||n.originalParams,_=dS(n,r),x=dS(n,b),E=n.params.grabCursor,A=b.grabCursor,I=r.enabled;_&&!x?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&x&&(s.classList.add(`${r.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),E&&!A?n.unsetGrabCursor():!E&&A&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Y=>{if(typeof b[Y]>"u")return;const P=r[Y]&&r[Y].enabled,N=b[Y]&&b[Y].enabled;P&&!N&&n[Y].disable(),!P&&N&&n[Y].enable()});const R=b.direction&&b.direction!==r.direction,T=r.loop&&(b.slidesPerView!==r.slidesPerView||R),M=r.loop;R&&t&&n.changeDirection(),cr(n.params,b);const z=n.params.enabled,j=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),I&&!z?n.disable():!I&&z&&n.enable(),n.currentBreakpoint=h,n.emit("_beforeBreakpoint",b),t&&(T?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!M&&j?(n.loopCreate(e),n.updateSlides()):M&&!j&&n.loopDestroy()),n.emit("breakpoint",b)}function G6(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=Gn(),o=e==="window"?s.innerHeight:t.clientHeight,u=Object.keys(n).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const f=parseFloat(d.substr(1));return{value:o*f,point:d}}return{value:d,point:d}});u.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<u.length;d+=1){const{point:f,value:h}=u[d];e==="window"?s.matchMedia(`(min-width: ${h}px)`).matches&&(r=f):h<=t.clientWidth&&(r=f)}return r||"max"}var Y6={setBreakpoint:$6,getBreakpoint:G6};function K6(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function Q6(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:o}=n,u=K6(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),s.classList.add(...e),n.emitContainerClasses()}function X6(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var W6={addClasses:Q6,removeClasses:X6};function Z6(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,o=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var J6={checkOverflow:Z6},Jv={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function eU(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],o=r[s];if(typeof o!="object"||o===null){cr(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in o)){cr(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),cr(e,r)}}const rv={eventsEmitter:W3,update:l6,translate:p6,transition:y6,slide:A6,loop:N6,grabCursor:D6,events:q6,breakpoints:Y6,checkOverflow:J6,classes:W6},iv={};let Rb=class os{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=cr({},t),e&&!t.el&&(t.el=e);const u=Ea();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const m=[];return u.querySelectorAll(t.el).forEach(b=>{const _=cr({},t,{el:b});m.push(new os(_))}),m}const d=this;d.__swiper__=!0,d.support=DC(),d.device=PC({userAgent:t.userAgent}),d.browser=kC(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],t.modules&&Array.isArray(t.modules)&&d.modules.push(...t.modules);const f={};d.modules.forEach(m=>{m({params:t,swiper:d,extendParams:eU(t,f),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const h=cr({},Jv,f);return d.params=cr({},h,iv,t),d.originalParams=cr({},d.params),d.passedParams=cr({},t),d.params&&d.params.on&&Object.keys(d.params.on).forEach(m=>{d.on(m,d.params.on[m])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=Gr(t,`.${r.slideClass}, swiper-slide`),o=Dh(s[0]);return Dh(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Gr(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),u=(r.maxTranslate()-s)*e+s;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:o,slidesGrid:u,slidesSizesGrid:d,size:f,activeIndex:h}=r;let m=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let b=o[h]?Math.ceil(o[h].swiperSlideSize):0,_;for(let x=h+1;x<o.length;x+=1)o[x]&&!_&&(b+=Math.ceil(o[x].swiperSlideSize),m+=1,b>f&&(_=!0));for(let x=h-1;x>=0;x-=1)o[x]&&!_&&(b+=o[x].swiperSlideSize,m+=1,b>f&&(_=!0))}else if(e==="current")for(let b=h+1;b<o.length;b+=1)(t?u[b]+d[b]-u[h]<f:u[b]-u[h]<f)&&(m+=1);else for(let b=h-1;b>=0;b-=1)u[h]-u[b]<f&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&nh(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const u=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(u.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Gr(r,s())[0];return!u&&t.params.createElements&&(u=Mh("div",t.params.wrapperClass),r.append(u),Gr(r,`.${t.params.slideClass}`).forEach(d=>{u.append(d)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||aa(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||aa(r,"direction")==="rtl"),wrongRTL:aa(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?nh(t,o):o.addEventListener("load",u=>{nh(t,u.target)})}),Zv(t),t.initialized=!0,Zv(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:o,wrapperEl:u,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),u&&u.removeAttribute("style"),d&&d.length&&d.forEach(f=>{f.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),j3(r)),r.destroyed=!0),null}static extendDefaults(e){cr(iv,e)}static get extendedDefaults(){return iv}static get defaults(){return Jv}static installModule(e){os.prototype.__modules__||(os.prototype.__modules__=[]);const t=os.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>os.installModule(t)),os):(os.installModule(e),os)}};Object.keys(rv).forEach(n=>{Object.keys(rv[n]).forEach(e=>{Rb.prototype[e]=rv[n][e]})});Rb.use([Q3,X3]);const jC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function po(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Al(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:po(e[r])&&po(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Al(n[r],e[r]):n[r]=e[r]})}function UC(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function FC(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function BC(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function zC(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function tU(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function nU(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:o,prevEl:u,scrollbarEl:d,paginationEl:f}=n;const h=s.filter(O=>O!=="children"&&O!=="direction"&&O!=="wrapperClass"),{params:m,pagination:b,navigation:_,scrollbar:x,virtual:E,thumbs:A}=e;let I,R,T,M,z,j,Y,P;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(I=!0),s.includes("controller")&&r.controller&&r.controller.control&&m.controller&&!m.controller.control&&(R=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(m.pagination||m.pagination===!1)&&b&&!b.el&&(T=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||d)&&(m.scrollbar||m.scrollbar===!1)&&x&&!x.el&&(M=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||o)&&(m.navigation||m.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(z=!0);const N=O=>{e[O]&&(e[O].destroy(),O==="navigation"?(e.isElement&&(e[O].prevEl.remove(),e[O].nextEl.remove()),m[O].prevEl=void 0,m[O].nextEl=void 0,e[O].prevEl=void 0,e[O].nextEl=void 0):(e.isElement&&e[O].el.remove(),m[O].el=void 0,e[O].el=void 0))};s.includes("loop")&&e.isElement&&(m.loop&&!r.loop?j=!0:!m.loop&&r.loop?Y=!0:P=!0),h.forEach(O=>{if(po(m[O])&&po(r[O]))Object.assign(m[O],r[O]),(O==="navigation"||O==="pagination"||O==="scrollbar")&&"enabled"in r[O]&&!r[O].enabled&&N(O);else{const V=r[O];(V===!0||V===!1)&&(O==="navigation"||O==="pagination"||O==="scrollbar")?V===!1&&N(O):m[O]=r[O]}}),h.includes("controller")&&!R&&e.controller&&e.controller.control&&m.controller&&m.controller.control&&(e.controller.control=m.controller.control),s.includes("children")&&t&&E&&m.virtual.enabled?(E.slides=t,E.update(!0)):s.includes("virtual")&&E&&m.virtual.enabled&&(t&&(E.slides=t),E.update(!0)),s.includes("children")&&t&&m.loop&&(P=!0),I&&A.init()&&A.update(!0),R&&(e.controller.control=m.controller.control),T&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(m.pagination.el=f),b.init(),b.render(),b.update()),M&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(m.scrollbar.el=d),x.init(),x.updateSize(),x.setTranslate()),z&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Ph(o,e.hostEl.constructor.nextButtonSvg),o.part.add("button-next"),e.el.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),Ph(u,e.hostEl.constructor.prevButtonSvg),u.part.add("button-prev"),e.el.appendChild(u))),o&&(m.navigation.nextEl=o),u&&(m.navigation.prevEl=u),_.init(),_.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(j||P)&&e.loopDestroy(),(Y||P)&&e.loopCreate(),e.update()}function rU(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};Al(t,Jv),t._emitClasses=!0,t.init=!1;const o={},u=jC.map(f=>f.replace(/_/,"")),d=Object.assign({},n);return Object.keys(d).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?po(n[f])?(t[f]={},s[f]={},Al(t[f],n[f]),Al(s[f],n[f])):(t[f]=n[f],s[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:o[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:s,rest:o,events:r}}function iU(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:o,scrollbarEl:u,swiper:d}=n;UC(e)&&r&&s&&(d.params.navigation.nextEl=r,d.originalParams.navigation.nextEl=r,d.params.navigation.prevEl=s,d.originalParams.navigation.prevEl=s),FC(e)&&o&&(d.params.pagination.el=o,d.originalParams.pagination.el=o),BC(e)&&u&&(d.params.scrollbar.el=u,d.originalParams.scrollbar.el=u),d.init(t)}function sU(n,e,t,r,s){const o=[];if(!e)return o;const u=f=>{o.indexOf(f)<0&&o.push(f)};if(t&&r){const f=r.map(s),h=t.map(s);f.join("")!==h.join("")&&u("children"),r.length!==t.length&&u("children")}return jC.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(po(n[f])&&po(e[f])){const h=Object.keys(n[f]),m=Object.keys(e[f]);h.length!==m.length?u(f):(h.forEach(b=>{n[f][b]!==e[f][b]&&u(f)}),m.forEach(b=>{n[f][b]!==e[f][b]&&u(f)}))}else n[f]!==e[f]&&u(f)}),o}const aU=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function kh(){return kh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kh.apply(this,arguments)}function HC(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function qC(n){const e=[];return Fe.Children.toArray(n).forEach(t=>{HC(t)?e.push(t):t.props&&t.props.children&&qC(t.props.children).forEach(r=>e.push(r))}),e}function oU(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Fe.Children.toArray(n).forEach(r=>{if(HC(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=qC(r.props.children);s.length>0?s.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function lU(n,e,t){if(!t)return null;const r=m=>{let b=m;return m<0?b=e.length+m:b>=e.length&&(b=b-e.length),b},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:u}=t,d=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,h=[];for(let m=d;m<f;m+=1)m>=o&&m<=u&&h.push(e[r(m)]);return h.map((m,b)=>Fe.cloneElement(m,{swiper:n,style:s,key:m.props.virtualIndex||m.key||`slide-${b}`}))}function Ec(n,e){return typeof window>"u"?D.useEffect(n,e):D.useLayoutEffect(n,e)}const fS=D.createContext(null),uU=D.createContext(null),Vc=D.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:o,onSwiper:u,...d}=n===void 0?{}:n,f=!1;const[h,m]=D.useState("swiper"),[b,_]=D.useState(null),[x,E]=D.useState(!1),A=D.useRef(!1),I=D.useRef(null),R=D.useRef(null),T=D.useRef(null),M=D.useRef(null),z=D.useRef(null),j=D.useRef(null),Y=D.useRef(null),P=D.useRef(null),{params:N,passedParams:O,rest:V,events:U}=rU(d),{slides:B,slots:k}=oU(o),ie=()=>{E(!x)};Object.assign(N.on,{_containerClasses(be,q){m(q)}});const oe=()=>{Object.assign(N.on,U),f=!0;const be={...N};if(delete be.wrapperClass,R.current=new Rb(be),R.current.virtual&&R.current.params.virtual.enabled){R.current.virtual.slides=B;const q={cache:!1,slides:B,renderExternal:_,renderExternalUpdate:!1};Al(R.current.params.virtual,q),Al(R.current.originalParams.virtual,q)}};I.current||oe(),R.current&&R.current.on("_beforeBreakpoint",ie);const $=()=>{f||!U||!R.current||Object.keys(U).forEach(be=>{R.current.on(be,U[be])})},re=()=>{!U||!R.current||Object.keys(U).forEach(be=>{R.current.off(be,U[be])})};D.useEffect(()=>()=>{R.current&&R.current.off("_beforeBreakpoint",ie)}),D.useEffect(()=>{!A.current&&R.current&&(R.current.emitSlidesClasses(),A.current=!0)}),Ec(()=>{if(e&&(e.current=I.current),!!I.current)return R.current.destroyed&&oe(),iU({el:I.current,nextEl:z.current,prevEl:j.current,paginationEl:Y.current,scrollbarEl:P.current,swiper:R.current},N),u&&!R.current.destroyed&&u(R.current),()=>{R.current&&!R.current.destroyed&&R.current.destroy(!0,!1)}},[]),Ec(()=>{$();const be=sU(O,T.current,B,M.current,q=>q.key);return T.current=O,M.current=B,be.length&&R.current&&!R.current.destroyed&&nU({swiper:R.current,slides:B,passedParams:O,changedParams:be,nextEl:z.current,prevEl:j.current,scrollbarEl:P.current,paginationEl:Y.current}),()=>{re()}}),Ec(()=>{aU(R.current)},[b]);function he(){return N.virtual?lU(R.current,B,b):B.map((be,q)=>Fe.cloneElement(be,{swiper:R.current,swiperSlideIndex:q}))}return Fe.createElement(r,kh({ref:I,className:zC(`${h}${t?` ${t}`:""}`)},V),Fe.createElement(uU.Provider,{value:R.current},k["container-start"],Fe.createElement(s,{className:tU(N.wrapperClass)},k["wrapper-start"],he(),k["wrapper-end"]),UC(N)&&Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{ref:j,className:"swiper-button-prev"}),Fe.createElement("div",{ref:z,className:"swiper-button-next"})),BC(N)&&Fe.createElement("div",{ref:P,className:"swiper-scrollbar"}),FC(N)&&Fe.createElement("div",{ref:Y,className:"swiper-pagination"}),k["container-end"]))});Vc.displayName="Swiper";const Lc=D.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:o,zoom:u,lazy:d,virtualIndex:f,swiperSlideIndex:h,...m}=n===void 0?{}:n;const b=D.useRef(null),[_,x]=D.useState("swiper-slide"),[E,A]=D.useState(!1);function I(z,j,Y){j===b.current&&x(Y)}Ec(()=>{if(typeof h<"u"&&(b.current.swiperSlideIndex=h),e&&(e.current=b.current),!(!b.current||!o)){if(o.destroyed){_!=="swiper-slide"&&x("swiper-slide");return}return o.on("_slideClass",I),()=>{o&&o.off("_slideClass",I)}}}),Ec(()=>{o&&b.current&&!o.destroyed&&x(o.getSlideClasses(b.current))},[o]);const R={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},T=()=>typeof r=="function"?r(R):r,M=()=>{A(!0)};return Fe.createElement(t,kh({ref:b,className:zC(`${_}${s?` ${s}`:""}`),"data-swiper-slide-index":f,onLoad:M},m),u&&Fe.createElement(fS.Provider,{value:R},Fe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},T(),d&&!E&&Fe.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&Fe.createElement(fS.Provider,{value:R},T(),d&&!E&&Fe.createElement("div",{className:"swiper-lazy-preloader"})))});Lc.displayName="SwiperSlide";function $C(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let o=Gr(n.el,`.${r[s]}`)[0];o||(o=Mh("div",r[s]),o.className=r[s],n.el.append(o)),t[s]=o,e[s]=o}}),t}function cU(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(E){let A;return E&&typeof E=="string"&&e.isElement&&(A=e.el.querySelector(E)||e.hostEl.querySelector(E),A)?A:(E&&(typeof E=="string"&&(A=[...document.querySelectorAll(E)]),e.params.uniqueNavElements&&typeof E=="string"&&A&&A.length>1&&e.el.querySelectorAll(E).length===1?A=e.el.querySelector(E):A&&A.length===1&&(A=A[0])),E&&!A?E:A)}function u(E,A){const I=e.params.navigation;E=vn(E),E.forEach(R=>{R&&(R.classList[A?"add":"remove"](...I.disabledClass.split(" ")),R.tagName==="BUTTON"&&(R.disabled=A),e.params.watchOverflow&&e.enabled&&R.classList[e.isLocked?"add":"remove"](I.lockClass))})}function d(){const{nextEl:E,prevEl:A}=e.navigation;if(e.params.loop){u(A,!1),u(E,!1);return}u(A,e.isBeginning&&!e.params.rewind),u(E,e.isEnd&&!e.params.rewind)}function f(E){E.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function h(E){E.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function m(){const E=e.params.navigation;if(e.params.navigation=$C(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(E.nextEl||E.prevEl))return;let A=o(E.nextEl),I=o(E.prevEl);Object.assign(e.navigation,{nextEl:A,prevEl:I}),A=vn(A),I=vn(I);const R=(T,M)=>{T&&T.addEventListener("click",M==="next"?h:f),!e.enabled&&T&&T.classList.add(...E.lockClass.split(" "))};A.forEach(T=>R(T,"next")),I.forEach(T=>R(T,"prev"))}function b(){let{nextEl:E,prevEl:A}=e.navigation;E=vn(E),A=vn(A);const I=(R,T)=>{R.removeEventListener("click",T==="next"?h:f),R.classList.remove(...e.params.navigation.disabledClass.split(" "))};E.forEach(R=>I(R,"next")),A.forEach(R=>I(R,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?x():(m(),d())}),r("toEdge fromEdge lock unlock",()=>{d()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{nextEl:E,prevEl:A}=e.navigation;if(E=vn(E),A=vn(A),e.enabled){d();return}[...E,...A].filter(I=>!!I).forEach(I=>I.classList.add(e.params.navigation.lockClass))}),r("click",(E,A)=>{let{nextEl:I,prevEl:R}=e.navigation;I=vn(I),R=vn(R);const T=A.target;let M=R.includes(T)||I.includes(T);if(e.isElement&&!M){const z=A.path||A.composedPath&&A.composedPath();z&&(M=z.find(j=>I.includes(j)||R.includes(j)))}if(e.params.navigation.hideOnClick&&!M){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===T||e.pagination.el.contains(T)))return;let z;I.length?z=I[0].classList.contains(e.params.navigation.hiddenClass):R.length&&(z=R[0].classList.contains(e.params.navigation.hiddenClass)),s(z===!0?"navigationShow":"navigationHide"),[...I,...R].filter(j=>!!j).forEach(j=>j.classList.toggle(e.params.navigation.hiddenClass))}});const _=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),m(),d()},x=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(e.navigation,{enable:_,disable:x,update:d,init:m,destroy:b})}function nc(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function GC(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:T=>T,formatFractionTotal:T=>T,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,d=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(T,M){const{bulletActiveClass:z}=e.params.pagination;T&&(T=T[`${M==="prev"?"previous":"next"}ElementSibling`],T&&(T.classList.add(`${z}-${M}`),T=T[`${M==="prev"?"previous":"next"}ElementSibling`],T&&T.classList.add(`${z}-${M}-${M}`)))}function m(T,M,z){if(T=T%z,M=M%z,M===T+1)return"next";if(M===T-1)return"previous"}function b(T){const M=T.target.closest(nc(e.params.pagination.bulletClass));if(!M)return;T.preventDefault();const z=Dh(M)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===z)return;const j=m(e.realIndex,z,e.slides.length);j==="next"?e.slideNext():j==="previous"?e.slidePrev():e.slideToLoop(z)}else e.slideTo(z)}function _(){const T=e.rtl,M=e.params.pagination;if(f())return;let z=e.pagination.el;z=vn(z);let j,Y;const P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,N=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(Y=e.previousRealIndex||0,j=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(j=e.snapIndex,Y=e.previousSnapIndex):(Y=e.previousIndex||0,j=e.activeIndex||0),M.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const O=e.pagination.bullets;let V,U,B;if(M.dynamicBullets&&(u=Wv(O[0],e.isHorizontal()?"width":"height"),z.forEach(k=>{k.style[e.isHorizontal()?"width":"height"]=`${u*(M.dynamicMainBullets+4)}px`}),M.dynamicMainBullets>1&&Y!==void 0&&(d+=j-(Y||0),d>M.dynamicMainBullets-1?d=M.dynamicMainBullets-1:d<0&&(d=0)),V=Math.max(j-d,0),U=V+(Math.min(O.length,M.dynamicMainBullets)-1),B=(U+V)/2),O.forEach(k=>{const ie=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(oe=>`${M.bulletActiveClass}${oe}`)].map(oe=>typeof oe=="string"&&oe.includes(" ")?oe.split(" "):oe).flat();k.classList.remove(...ie)}),z.length>1)O.forEach(k=>{const ie=Dh(k);ie===j?k.classList.add(...M.bulletActiveClass.split(" ")):e.isElement&&k.setAttribute("part","bullet"),M.dynamicBullets&&(ie>=V&&ie<=U&&k.classList.add(...`${M.bulletActiveClass}-main`.split(" ")),ie===V&&h(k,"prev"),ie===U&&h(k,"next"))});else{const k=O[j];if(k&&k.classList.add(...M.bulletActiveClass.split(" ")),e.isElement&&O.forEach((ie,oe)=>{ie.setAttribute("part",oe===j?"bullet-active":"bullet")}),M.dynamicBullets){const ie=O[V],oe=O[U];for(let $=V;$<=U;$+=1)O[$]&&O[$].classList.add(...`${M.bulletActiveClass}-main`.split(" "));h(ie,"prev"),h(oe,"next")}}if(M.dynamicBullets){const k=Math.min(O.length,M.dynamicMainBullets+4),ie=(u*k-u)/2-B*u,oe=T?"right":"left";O.forEach($=>{$.style[e.isHorizontal()?oe:"top"]=`${ie}px`})}}z.forEach((O,V)=>{if(M.type==="fraction"&&(O.querySelectorAll(nc(M.currentClass)).forEach(U=>{U.textContent=M.formatFractionCurrent(j+1)}),O.querySelectorAll(nc(M.totalClass)).forEach(U=>{U.textContent=M.formatFractionTotal(N)})),M.type==="progressbar"){let U;M.progressbarOpposite?U=e.isHorizontal()?"vertical":"horizontal":U=e.isHorizontal()?"horizontal":"vertical";const B=(j+1)/N;let k=1,ie=1;U==="horizontal"?k=B:ie=B,O.querySelectorAll(nc(M.progressbarFillClass)).forEach(oe=>{oe.style.transform=`translate3d(0,0,0) scaleX(${k}) scaleY(${ie})`,oe.style.transitionDuration=`${e.params.speed}ms`})}M.type==="custom"&&M.renderCustom?(Ph(O,M.renderCustom(e,j+1,N)),V===0&&s("paginationRender",O)):(V===0&&s("paginationRender",O),s("paginationUpdate",O)),e.params.watchOverflow&&e.enabled&&O.classList[e.isLocked?"add":"remove"](M.lockClass)})}function x(){const T=e.params.pagination;if(f())return;const M=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let z=e.pagination.el;z=vn(z);let j="";if(T.type==="bullets"){let Y=e.params.loop?Math.ceil(M/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&Y>M&&(Y=M);for(let P=0;P<Y;P+=1)T.renderBullet?j+=T.renderBullet.call(e,P,T.bulletClass):j+=`<${T.bulletElement} ${e.isElement?'part="bullet"':""} class="${T.bulletClass}"></${T.bulletElement}>`}T.type==="fraction"&&(T.renderFraction?j=T.renderFraction.call(e,T.currentClass,T.totalClass):j=`<span class="${T.currentClass}"></span> / <span class="${T.totalClass}"></span>`),T.type==="progressbar"&&(T.renderProgressbar?j=T.renderProgressbar.call(e,T.progressbarFillClass):j=`<span class="${T.progressbarFillClass}"></span>`),e.pagination.bullets=[],z.forEach(Y=>{T.type!=="custom"&&Ph(Y,j||""),T.type==="bullets"&&e.pagination.bullets.push(...Y.querySelectorAll(nc(T.bulletClass)))}),T.type!=="custom"&&s("paginationRender",z[0])}function E(){e.params.pagination=$C(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const T=e.params.pagination;if(!T.el)return;let M;typeof T.el=="string"&&e.isElement&&(M=e.el.querySelector(T.el)),!M&&typeof T.el=="string"&&(M=[...document.querySelectorAll(T.el)]),M||(M=T.el),!(!M||M.length===0)&&(e.params.uniqueNavElements&&typeof T.el=="string"&&Array.isArray(M)&&M.length>1&&(M=[...e.el.querySelectorAll(T.el)],M.length>1&&(M=M.find(z=>MC(z,".swiper")[0]===e.el))),Array.isArray(M)&&M.length===1&&(M=M[0]),Object.assign(e.pagination,{el:M}),M=vn(M),M.forEach(z=>{T.type==="bullets"&&T.clickable&&z.classList.add(...(T.clickableClass||"").split(" ")),z.classList.add(T.modifierClass+T.type),z.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.type==="bullets"&&T.dynamicBullets&&(z.classList.add(`${T.modifierClass}${T.type}-dynamic`),d=0,T.dynamicMainBullets<1&&(T.dynamicMainBullets=1)),T.type==="progressbar"&&T.progressbarOpposite&&z.classList.add(T.progressbarOppositeClass),T.clickable&&z.addEventListener("click",b),e.enabled||z.classList.add(T.lockClass)}))}function A(){const T=e.params.pagination;if(f())return;let M=e.pagination.el;M&&(M=vn(M),M.forEach(z=>{z.classList.remove(T.hiddenClass),z.classList.remove(T.modifierClass+T.type),z.classList.remove(e.isHorizontal()?T.horizontalClass:T.verticalClass),T.clickable&&(z.classList.remove(...(T.clickableClass||"").split(" ")),z.removeEventListener("click",b))})),e.pagination.bullets&&e.pagination.bullets.forEach(z=>z.classList.remove(...T.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const T=e.params.pagination;let{el:M}=e.pagination;M=vn(M),M.forEach(z=>{z.classList.remove(T.horizontalClass,T.verticalClass),z.classList.add(e.isHorizontal()?T.horizontalClass:T.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?R():(E(),x(),_())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),r("snapIndexChange",()=>{_()}),r("snapGridLengthChange",()=>{x(),_()}),r("destroy",()=>{A()}),r("enable disable",()=>{let{el:T}=e.pagination;T&&(T=vn(T),T.forEach(M=>M.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{_()}),r("click",(T,M)=>{const z=M.target,j=vn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&j&&j.length>0&&!z.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&z===e.navigation.nextEl||e.navigation.prevEl&&z===e.navigation.prevEl))return;const Y=j[0].classList.contains(e.params.pagination.hiddenClass);s(Y===!0?"paginationShow":"paginationHide"),j.forEach(P=>P.classList.toggle(e.params.pagination.hiddenClass))}});const I=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=vn(T),T.forEach(M=>M.classList.remove(e.params.pagination.paginationDisabledClass))),E(),x(),_()},R=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:T}=e.pagination;T&&(T=vn(T),T.forEach(M=>M.classList.add(e.params.pagination.paginationDisabledClass))),A()};Object.assign(e.pagination,{enable:I,disable:R,render:x,update:_,init:E,destroy:A})}function hS(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,o=!1;e.thumbs={swiper:null};function u(){const h=e.thumbs.swiper;if(!h||h.destroyed)return;const m=h.clickedIndex,b=h.clickedSlide;if(b&&b.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof m>"u"||m===null)return;let _;h.params.loop?_=parseInt(h.clickedSlide.getAttribute("data-swiper-slide-index"),10):_=m,e.params.loop?e.slideToLoop(_):e.slideTo(_)}function d(){const{thumbs:h}=e.params;if(s)return!1;s=!0;const m=e.constructor;if(h.swiper instanceof m){if(h.swiper.destroyed)return s=!1,!1;e.thumbs.swiper=h.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(hc(h.swiper)){const b=Object.assign({},h.swiper);Object.assign(b,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new m(b),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function f(h){const m=e.thumbs.swiper;if(!m||m.destroyed)return;const b=m.params.slidesPerView==="auto"?m.slidesPerViewDynamic():m.params.slidesPerView;let _=1;const x=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(_=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(_=1),_=Math.floor(_),m.slides.forEach(I=>I.classList.remove(x)),m.params.loop||m.params.virtual&&m.params.virtual.enabled)for(let I=0;I<_;I+=1)Gr(m.slidesEl,`[data-swiper-slide-index="${e.realIndex+I}"]`).forEach(R=>{R.classList.add(x)});else for(let I=0;I<_;I+=1)m.slides[e.realIndex+I]&&m.slides[e.realIndex+I].classList.add(x);const E=e.params.thumbs.autoScrollOffset,A=E&&!m.params.loop;if(e.realIndex!==m.realIndex||A){const I=m.activeIndex;let R,T;if(m.params.loop){const M=m.slides.find(z=>z.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);R=m.slides.indexOf(M),T=e.activeIndex>e.previousIndex?"next":"prev"}else R=e.realIndex,T=R>e.previousIndex?"next":"prev";A&&(R+=T==="next"?E:-1*E),m.visibleSlidesIndexes&&m.visibleSlidesIndexes.indexOf(R)<0&&(m.params.centeredSlides?R>I?R=R-Math.floor(b/2)+1:R=R+Math.floor(b/2)-1:R>I&&m.params.slidesPerGroup,m.slideTo(R,h?0:void 0))}}r("beforeInit",()=>{const{thumbs:h}=e.params;if(!(!h||!h.swiper))if(typeof h.swiper=="string"||h.swiper instanceof HTMLElement){const m=Ea(),b=()=>{const x=typeof h.swiper=="string"?m.querySelector(h.swiper):h.swiper;if(x&&x.swiper)h.swiper=x.swiper,d(),f(!0);else if(x){const E=`${e.params.eventsPrefix}init`,A=I=>{h.swiper=I.detail[0],x.removeEventListener(E,A),d(),f(!0),h.swiper.update(),e.update()};x.addEventListener(E,A)}return x},_=()=>{if(e.destroyed)return;b()||requestAnimationFrame(_)};requestAnimationFrame(_)}else d(),f(!0)}),r("slideChange update resize observerUpdate",()=>{f()}),r("setTransition",(h,m)=>{const b=e.thumbs.swiper;!b||b.destroyed||b.setTransition(m)}),r("beforeDestroy",()=>{const h=e.thumbs.swiper;!h||h.destroyed||o&&h.destroy()}),Object.assign(e.thumbs,{init:d,update:f})}function dU(n){let{swiper:e,extendParams:t,emit:r,once:s}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const f=e.getTranslate();e.setTranslate(f),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function u(){if(e.params.cssMode)return;const{touchEventsData:f,touches:h}=e;f.velocities.length===0&&f.velocities.push({position:h[e.isHorizontal()?"startX":"startY"],time:f.touchStartTime}),f.velocities.push({position:h[e.isHorizontal()?"currentX":"currentY"],time:io()})}function d(f){let{currentPos:h}=f;if(e.params.cssMode)return;const{params:m,wrapperEl:b,rtlTranslate:_,snapGrid:x,touchEventsData:E}=e,I=io()-E.touchStartTime;if(h<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(h>-e.maxTranslate()){e.slides.length<x.length?e.slideTo(x.length-1):e.slideTo(e.slides.length-1);return}if(m.freeMode.momentum){if(E.velocities.length>1){const N=E.velocities.pop(),O=E.velocities.pop(),V=N.position-O.position,U=N.time-O.time;e.velocity=V/U,e.velocity/=2,Math.abs(e.velocity)<m.freeMode.minimumVelocity&&(e.velocity=0),(U>150||io()-N.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=m.freeMode.momentumVelocityRatio,E.velocities.length=0;let R=1e3*m.freeMode.momentumRatio;const T=e.velocity*R;let M=e.translate+T;_&&(M=-M);let z=!1,j;const Y=Math.abs(e.velocity)*20*m.freeMode.momentumBounceRatio;let P;if(M<e.maxTranslate())m.freeMode.momentumBounce?(M+e.maxTranslate()<-Y&&(M=e.maxTranslate()-Y),j=e.maxTranslate(),z=!0,E.allowMomentumBounce=!0):M=e.maxTranslate(),m.loop&&m.centeredSlides&&(P=!0);else if(M>e.minTranslate())m.freeMode.momentumBounce?(M-e.minTranslate()>Y&&(M=e.minTranslate()+Y),j=e.minTranslate(),z=!0,E.allowMomentumBounce=!0):M=e.minTranslate(),m.loop&&m.centeredSlides&&(P=!0);else if(m.freeMode.sticky){let N;for(let O=0;O<x.length;O+=1)if(x[O]>-M){N=O;break}Math.abs(x[N]-M)<Math.abs(x[N-1]-M)||e.swipeDirection==="next"?M=x[N]:M=x[N-1],M=-M}if(P&&s("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(_?R=Math.abs((-M-e.translate)/e.velocity):R=Math.abs((M-e.translate)/e.velocity),m.freeMode.sticky){const N=Math.abs((_?-M:M)-e.translate),O=e.slidesSizesGrid[e.activeIndex];N<O?R=m.speed:N<2*O?R=m.speed*1.5:R=m.speed*2.5}}else if(m.freeMode.sticky){e.slideToClosest();return}m.freeMode.momentumBounce&&z?(e.updateProgress(j),e.setTransition(R),e.setTranslate(M),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Wg(b,()=>{!e||e.destroyed||!E.allowMomentumBounce||(r("momentumBounce"),e.setTransition(m.speed),setTimeout(()=>{e.setTranslate(j),Wg(b,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(M),e.setTransition(R),e.setTranslate(M),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Wg(b,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(M),e.updateActiveIndex(),e.updateSlidesClasses()}else if(m.freeMode.sticky){e.slideToClosest();return}else m.freeMode&&r("_freeModeNoMomentumRelease");(!m.freeMode.momentum||I>=m.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:u,onTouchEnd:d}})}const fU="/nikos/assets/banner-1-DTPlrS7y.png",hU="/nikos/assets/banner1_small-CCBtV6oB.png",pU="/nikos/assets/banner-2-DRYg38-f.png",mU="/nikos/assets/banner2_small-CcaYcGmp.png",gU="/nikos/assets/banner-4-DKsyLWdi.png",vU="/nikos/assets/banner4_small-4inaOCxD.png";function yU(){const[n,e]=D.useState(0),t=[{id:1,image:{small:hU,medium:fU},title:"Activa tu ritmo",textColor:"primary-btn"},{id:2,image:{small:mU,medium:pU},title:"Distincin en cada paso",description:"",textColor:"primary-btn"},{id:3,image:{small:vU,medium:gU},title:"Nikos Kids",description:"",textColor:"secondary-btn"}],r=o=>window.innerWidth<780?o.small:o.medium,s=({image:o})=>{const[u,d]=D.useState(r(o));return D.useEffect(()=>{const f=()=>{d(r(o))};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[o]),v.jsx("img",{src:u,alt:""})};return v.jsx("main",{id:"#banner",children:v.jsx("div",{className:"slider",children:v.jsx("div",{className:"sliderbox",children:v.jsx("div",{className:"wrap",children:v.jsx(Vc,{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{clickable:!0},modules:[GC],onSlideChange:o=>{e(o.realIndex)},children:t.map((o,u)=>v.jsx(Lc,{children:v.jsx("div",{className:"item",children:v.jsxs("div",{className:"image",children:[v.jsx("div",{className:"ob-cover",children:v.jsx(s,{image:o.image})}),v.jsx("div",{className:`title-info transition-all duration-[700ms] ease-[cubic-bezier(0.25,0.1,0.25,1)] 
                            ${n===u?"opacity-100 translate-y-0":"opacity-0 translate-y-6 pointer-events-none"}
                          `,children:v.jsx("div",{className:"wide",children:v.jsxs("div",{className:"wrap",children:[v.jsx("h3",{className:`title ${o.textColor==="primary-btn"?"md:text-white":"md:text-black"}`,children:o.title}),v.jsx("div",{className:"button",children:v.jsx("a",{href:"/nikos/productos",className:`btn ${o.textColor==="primary-btn"?"primary-btn":"secondary-btn"}`,children:"Compra Ahora"})})]})})})]})})},o.id))})})})})})}function YC({producto:n,onClose:e}){const t=tn();if(!n||!n.nombre||!n.precio)return null;const{nombre:r="Producto sin nombre",precio:s=0,precioDescuento:o,descuento:u=0,imagenes:d=[],slug:f=""}=n,h=()=>{t(`/productos/${f}`),e&&e()},m=o&&o<s?s:null,b=o&&o<s?Math.round(100-o/s*100):u;return v.jsxs("div",{className:"item",onClick:h,children:[v.jsxs("div",{className:"dot-images",children:[v.jsx("div",{className:"thumbnail",children:v.jsx("img",{className:"mx-auto",src:(d==null?void 0:d[0])||Vl,alt:r})}),v.jsx("div",{className:"thumbnail hover",children:v.jsx("img",{className:"mx-auto",src:(d==null?void 0:d[1])||(d==null?void 0:d[0])||Vl,alt:`${r} hover`})}),b>0&&(d==null?void 0:d[0])&&v.jsx("div",{className:"label",children:v.jsxs("span",{children:[b,"%"]})})]}),v.jsxs("div",{className:"dot-info",children:[v.jsx("h2",{className:"dot-title",children:r}),v.jsxs("div",{className:"product-price",children:[m&&v.jsxs("span",{className:"before",children:["s/.",m.toFixed(2)]}),v.jsxs("span",{className:"current",children:["s/.",(o&&o<s?o:s).toFixed(2)]})]})]})]})}function bU({productos:n}){const e=n.filter(b=>b.creadoEn).sort((b,_)=>new Date(_.creadoEn)-new Date(b.creadoEn)).slice(0,8),t=D.useRef(null),r=D.useRef(null),[s,o]=D.useState(null),[u,d]=D.useState(!0),[f,h]=D.useState(!1),m=b=>{d(b.isBeginning),h(b.isEnd)};return v.jsx("div",{className:"products-carousel",children:v.jsxs("div",{className:"wrap",children:[v.jsx("div",{className:"mt-5 md:mt-0 heading",children:v.jsx("h2",{className:"title",children:" Nuevos ingresos"})}),v.jsx("div",{className:"inner-wrapper",children:v.jsx("div",{className:"dotgrid carouselbox",children:v.jsxs("div",{className:"wrapper relative",children:[v.jsxs("div",{className:"swiper-nav-buttons flex justify-between items-center mb-4",children:[!u&&v.jsx("button",{ref:t,onClick:()=>s.slidePrev(),className:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10 border border-black rounded-full w-10 h-10 flex items-center justify-center bg-transparent",children:v.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),!f&&v.jsx("button",{ref:r,onClick:()=>s.slideNext(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 z-10 border border-black rounded-full w-10 h-10 flex items-center justify-center bg-transparent",children:v.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),v.jsx(Vc,{slidesPerView:1,slidesPerGroup:1,spaceBetween:20,loop:!1,navigation:{prevEl:t.current,nextEl:r.current},onSlideChange:m,onSwiper:b=>o(b),breakpoints:{640:{slidesPerView:2,slidesPerGroup:2},768:{slidesPerView:2,slidesPerGroup:2},992:{slidesPerView:3,slidesPerGroup:3},1024:{slidesPerView:4,slidesPerGroup:4}},modules:[cU],children:e.map((b,_)=>v.jsx(Lc,{children:v.jsx(YC,{producto:b})},_))})]})})})]})})}function _U({options:n,initial:e,onSelect:t}){const[r,s]=D.useState(!1),[o,u]=D.useState(e);D.useEffect(()=>{u(e)},[e]);const d=f=>{u(f),s(!1),t&&t(f)};return v.jsxs("div",{className:"relative max-w-[150px] inline-block text-left",children:[v.jsxs("h3",{className:"opt-trigger cursor-pointer flex items-center gap-2",onClick:()=>s(!r),children:[v.jsx("span",{className:"value font-medium",children:o==null?void 0:o.nombre}),v.jsx("i",{className:"bx bx-chevron-down text-[20px]"})]}),r&&v.jsx("ul",{className:"absolute mt-2 bg-white border border-gray-300 shadow-md z-10 min-w-[120px]",children:n.map(f=>v.jsx("li",{className:"text-[1rem]",children:v.jsx("button",{className:`tabbed-trigger px-4 py-2 block w-full text-left hover:bg-black hover:text-white ${(o==null?void 0:o.nombre)===f.nombre?"font-semibold bg-black text-white":""}`,onClick:()=>d(f),children:f==null?void 0:f.nombre})},f.id||f.nombre))})]})}function wU({productos:n,usuarios:e}){const t=tn(),[r,s]=D.useState([]),[o,u]=D.useState(null),d=()=>t("/productos"),f=()=>{const m=window.innerWidth;return m>=1024?8:m>=768?3:2},h=m=>{m!=null&&m.nombre&&u(m)};return D.useEffect(()=>{e.length>0&&!o&&u(e[0])},[e]),D.useEffect(()=>{if(!o||n.length===0)return;const m=o.nombre,b=n.filter(x=>x.usuario===m),_=f();s(b.slice(0,_))},[n,o]),v.jsx("div",{className:"bycats",children:v.jsxs("div",{className:"wrap",children:[e.length>0&&o&&v.jsxs("div",{className:"mt-5 md:mt-0 heading sort-list tabs",children:[v.jsx("span",{className:"grey-color mr-3",children:"in"}),v.jsx(_U,{options:e,initial:e[0],onSelect:h})]}),v.jsx("div",{className:"tabbed",children:v.jsx("div",{className:"sort-data",children:v.jsxs("div",{className:"dotgrid",children:[v.jsx("div",{className:`wrapper grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 ${r.length>0?"animate-fadeIn":""}`,children:r.map((m,b)=>v.jsx(YC,{producto:m},m.id||b))}),v.jsx("div",{onClick:d,className:"button my-3 mx-auto min-w-[150px] cursor-pointer",children:v.jsx("div",{className:"btn primary-btn",children:"Ver ms"})})]})})})]})})}function EU({marcas:n=[]}){return D.useEffect(()=>{if(!n.length)return;const e=document.getElementById("scrolling-container");let t=0;const r=.5,s=()=>{e&&(e.scrollLeft+=r,t+=r,t>=e.scrollWidth-e.clientWidth&&(e.scrollLeft=0,t=0)),requestAnimationFrame(s)};s()},[n]),v.jsx("div",{className:"brandssection",id:"marcas",children:v.jsx("div",{className:"wrap",children:v.jsx("div",{className:"dotgrid",children:v.jsx("div",{id:"scrolling-container",className:"wrapper overflow-x-auto whitespace-nowrap max-w-full",children:v.jsx("div",{className:"flex gap-2 py-2",children:n.map((e,t)=>v.jsx("div",{className:"flex-shrink-0 max-w-[220px] w-full bg-gray-100 rounded shadow p-4 flex items-center justify-center",children:v.jsx("img",{src:e.imagen||"/placeholder.jpg",alt:e.nombre,className:"w-32 h-32 object-contain"})},t))})})})})})}const xU=["Hombre","Mujer","Juvenil"],SU=()=>{const[n,e]=D.useState([]),[t,r]=D.useState([]),[s,o]=D.useState([]);return D.useEffect(()=>{(async()=>{const f=(await Jn(yn(mt,"productos"))).docs.map(x=>({id:x.id,...x.data()}));e(f);const m=(await Jn(yn(mt,"filtros"))).docs.map(x=>x.data()),b=m.filter(x=>x.tipo==="marca").map(x=>({nombre:x.valor,imagen:x.imagen||"/placeholder.jpg"})),_=xU.filter(x=>m.some(E=>E.tipo==="usuario"&&E.valor===x)).map(x=>({nombre:x}));r(b),o(_)})()},[]),v.jsxs(v.Fragment,{children:[v.jsx(yU,{}),v.jsx(bU,{productos:n}),v.jsx(wU,{productos:n,usuarios:s}),v.jsx(EU,{marcas:t})]})};function TU({producto:n}){return v.jsx("div",{className:"wrap",children:v.jsx("div",{className:"breadcrumb list-inline py-4 py-2 md:px-0",children:v.jsxs("ul",{className:"flex justify-left md992:justify-center gap-[10px]",children:[v.jsx("li",{children:v.jsx("a",{href:"/nikos",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{href:"/nikos/productos",children:"Productos"})}),v.jsx("li",{children:v.jsx("a",{href:`/nikos/productos/${n.slug}`,children:v.jsx("span",{children:n.nombre})})})]})})})}function AU({producto:n,varianteIndex:e}){const[t,r]=D.useState(null),[s,o]=D.useState(null),[u,d]=D.useState(null),f=Array.isArray(n.imagenes)&&n.imagenes.length>0?n.imagenes:[Vl];D.useEffect(()=>{var m,b;if((b=(m=n.variantes)==null?void 0:m[e])!=null&&b.imagen&&f.includes(n.variantes[e].imagen)){d(n.variantes[e].imagen);const _=f.indexOf(n.variantes[e].imagen);s&&_>=0&&s.slideTo(_)}},[e,n,f,s]);const h=(m,b)=>{d(m),s&&s.slideTo(b)};return v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-3xl",children:[v.jsx("div",{className:"hidden sm:block w-20 h-[500px]",children:v.jsx(Vc,{onSwiper:r,direction:"vertical",spaceBetween:10,slidesPerView:5.5,freeMode:!0,watchSlidesProgress:!0,modules:[hS,dU],className:"h-full",children:f.map((m,b)=>v.jsx(Lc,{children:v.jsx("img",{src:m,onClick:()=>h(m,b),className:`object-cover w-full h-20 cursor-pointer rounded border 
                  ${u===m?"ring-2 ring-black":""}`,alt:`Miniatura ${b}`})},b))})}),v.jsx(Vc,{onSwiper:o,thumbs:{swiper:t&&!t.destroyed?t:null},spaceBetween:0,modules:[hS,GC],pagination:{clickable:!0},className:"w-full max-w-full md992:max-w-[500px] h-full md992:h-[500px] rounded-md overflow-hidden bg-white",onSlideChange:m=>d(f[m.activeIndex]),children:f.map((m,b)=>v.jsx(Lc,{children:v.jsx("img",{src:m,className:"object-contain w-full h-full",alt:`Imagen ${b}`})},b))})]})}function KC({isOpen:n,onClose:e,children:t}){return n?v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[v.jsx("div",{className:"absolute inset-0 bg-opacity-50 backdrop-blur-sm transition-opacity",onClick:e}),v.jsxs("div",{className:"relative z-10 bg-white p-6 rounded shadow-lg w-full max-w-md mx-4",children:[v.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-black text-xl",children:""}),t]})]}):null}function CU({producto:n,varianteIndex:e,setVarianteIndex:t}){var Y,P;const{agregarAlCarrito:r}=Tp(),[s,o]=D.useState(""),[u,d]=D.useState(1),[f,h]=D.useState(!1),[m,b]=D.useState(!1),[_,x]=D.useState(""),[E,A]=D.useState(""),[I,R]=D.useState(!1),T=window.location.href,M=()=>{navigator.clipboard.writeText(T),b(!0),setTimeout(()=>b(!1),2e3)},z=N=>{var U;const O=(U=N.variantes)==null?void 0:U[e];if(!s||!O){x("Selecciona talla e imagen");return}x(""),R(!0);const V={slug:N.slug,nombre:N.nombre,imagen:O.imagen,talla:s,color:O.color||"",cantidad:parseInt(u),precio:N.precioDescuento||N.precio};r(V),A("Producto aadido al carrito"),setTimeout(()=>{A(""),R(!1)},2e3)},j=(Y=n.variantes)==null?void 0:Y[e];return v.jsxs("div",{className:"summary",children:[v.jsxs("div",{className:"entry",children:[v.jsx("h1",{className:"title",children:n.nombre}),v.jsx("div",{className:"product-grow",children:v.jsxs("div",{className:"product-price",children:[v.jsxs("span",{className:"current",children:["s/.",n.precioDescuento]}),n.precioDescuento&&v.jsxs("div",{className:"wrap",children:[v.jsxs("span",{className:"before",children:["s/.",n.precio]}),v.jsxs("span",{className:"discount",children:["-",Math.round(100-n.precioDescuento/n.precio*100),"%"]})]})]})}),v.jsxs("div",{className:"product-color",children:[v.jsx("span",{children:"Variantes:"}),v.jsx("div",{className:"wrap flex gap-2 flex-wrap",children:(P=n.variantes)==null?void 0:P.map((N,O)=>v.jsx("img",{src:N.imagen,alt:`Variante ${O}`,onClick:()=>{t(O),o(""),x("")},className:`w-12 h-12 rounded object-cover border-2 cursor-pointer transition-all
                  ${O===e?"border-black ring-2 ring-offset-1":"border-transparent"}`},O))})]}),j&&v.jsxs("div",{className:"product-size mt-4 w-[350px] max-w-[350px]",children:[v.jsx("span",{children:"Tallas:"}),v.jsx("div",{className:"wrap",children:(Array.isArray(j==null?void 0:j.tallas)?[...j.tallas]:[]).sort((N,O)=>{const V=isNaN(N.talla)?N.talla:parseFloat(N.talla),U=isNaN(O.talla)?O.talla:parseFloat(O.talla);return V>U?1:-1}).map(({talla:N,stock:O})=>v.jsx("button",{onClick:()=>{O>0&&(o(N),x(""))},disabled:O===0,className:`px-3 py-1 border rounded mx-1 my-1 
                    ${O===0?"opacity-50 cursor-not-allowed bg-gray-200 text-gray-500":"cursor-pointer"} 
                    ${s===N?"selected":""}`,children:N},N))})]}),v.jsxs("div",{className:"product-action flex flex-col sm:flex-row gap-6 justify-left items-left md:items-center mt-2",children:[v.jsxs("div",{className:"qty flex flex-wrap",children:[v.jsx("button",{onClick:()=>d(N=>Math.max(1,N-1)),className:"cursor-pointer decrease h-[40px] w-[40px] bg-[#f1f1f1]",children:"-"}),v.jsx("input",{className:"w-[50px] border text-center",readOnly:!0,type:"number",value:u}),v.jsx("button",{onClick:()=>d(N=>N+1),className:"cursor-pointer increase h-[40px] w-[40px] bg-[#f1f1f1]",children:"+"})]}),v.jsx("div",{className:"addcart button mr-auto",children:v.jsx("button",{onClick:()=>z(n),type:"button",className:"cursor-pointer btn primary-btn min-w-[201px]",disabled:I,children:I?"Agregando...":"Aadir al carrito"})})]}),_&&v.jsx("p",{className:"text-sm text-red-600 m-0",children:_}),E&&v.jsx("p",{className:"text-sm text-green-600 m-0",children:E}),v.jsx("div",{className:"product-control list-inline mt-4",children:v.jsx("ul",{children:v.jsx("li",{children:v.jsxs("button",{onClick:()=>h(!0),className:"cursor-pointer flex items-center gap-1",children:[v.jsx("i",{className:"bx bx-share"}),v.jsx("span",{children:"Compartir Producto"})]})})})})]}),v.jsx(KC,{isOpen:f,onClose:()=>h(!1),children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Comparte este producto"}),v.jsx("input",{readOnly:!0,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm text-gray-700",value:T}),v.jsx("button",{onClick:M,className:"mt-4 w-full bg-black text-white py-2 rounded hover:bg-gray-800 transition",children:"Copiar enlace"}),m&&v.jsx("p",{className:"text-green-600 mt-2 text-sm",children:"Copiado!"})]})})]})}function RU({producto:n}){var r,s,o;const[e,t]=D.useState("description");return v.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[v.jsx("nav",{className:"border-b border-gray-300",children:v.jsxs("ul",{className:"flex flex-wrap gap-4",children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>t("description"),className:`pb-2 border-b-2 font-semibold transition-colors ${e==="description"?"border-black text-black":"border-transparent text-gray-500 hover:text-black"}`,children:"Detalle del producto"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>t("additional"),className:`pb-2 border-b-2 font-semibold transition-colors ${e==="additional"?"border-black text-black":"border-transparent text-gray-500 hover:text-black"}`,children:"Informacin adicional"})})]})}),v.jsxs("div",{className:"mt-6 text-gray-700 space-y-6",children:[e==="description"&&v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-bold",children:n.nombre}),v.jsx("p",{className:"text-base",children:n.descripcion}),v.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Marca:"})," ",n.marca]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Precio:"})," s/.",n.precio,n.precioDescuento&&v.jsxs("span",{className:"text-sm text-red-500 ml-2",children:["-",Math.round(100-n.precioDescuento/n.precio*100),"% OFF"]})]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Uso:"})," ",(r=n.uso)==null?void 0:r.join(", ")]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Tipo de calzado:"})," ",n.tipoCalzado]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Origen:"})," ",n.origen]})]})]}),e==="additional"&&v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-bold",children:"Informacin adicional"}),v.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Materiales:"})," ",(s=n.material)==null?void 0:s.join(", ")]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Etiquetas:"})," ",(o=n.etiquetas)==null?void 0:o.join(", ")]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Slug:"})," ",v.jsx("code",{children:n.slug})]})]})]})]})]})}const IU=()=>{const{slug:n}=u2(),[e,t]=D.useState(null),[r,s]=D.useState(!0),[o,u]=D.useState(0);return D.useEffect(()=>{(async()=>{try{const f=yn(mt,"productos"),h=nd(f,Tl("slug","==",n)),m=await Jn(h);if(m.empty)t(null);else{const b=m.docs[0];t({id:b.id,...b.data()})}}catch(f){console.error("Error al obtener el producto por slug:",f),t(null)}finally{s(!1)}})()},[n]),r?v.jsx("p",{className:"text-center mt-10",children:"Cargando producto..."}):e?v.jsxs("main",{className:"m-2",children:[v.jsx(TU,{producto:e}),v.jsx("div",{className:"dotgrid",children:v.jsxs("div",{className:"wrapper flex gap-[20px] flex-col md992:flex-row justify-center",children:[v.jsx(AU,{producto:e,varianteIndex:o}),v.jsx(CU,{producto:e,varianteIndex:o,setVarianteIndex:u})]})}),v.jsx(RU,{producto:e})]}):v.jsx("h2",{className:"text-center mt-10",children:"Producto no encontrado"})},pS=4,Za=({titulo:n,items:e,campo:t,valoresSeleccionados:r,toggleFiltro:s})=>{const[o,u]=D.useState(!0),[d,f]=D.useState(!1),h=d?e:e.slice(0,pS);return v.jsxs("div",{className:"pb-4",children:[v.jsxs("div",{className:"flex justify-between items-center cursor-pointer mb-2",onClick:()=>u(!o),children:[v.jsx("h3",{className:"font-semibold text-gray-800",children:n}),v.jsx("i",{className:`bx text-lg ${o?"bx-chevron-up":"bx-chevron-down"}`})]}),o&&v.jsxs("div",{className:"space-y-2 pl-1",children:[h.map(m=>v.jsxs("label",{className:"flex items-center text-sm text-gray-700",children:[v.jsx("input",{type:"checkbox",className:"mr-2 accent-blue-600",checked:r.includes(m),onChange:()=>s(t,m)}),m]},m)),e.length>pS&&v.jsx("button",{onClick:()=>f(!d),className:"text-blue-600 text-xs hover:underline mt-1",children:d?"Ver menos":"Ver ms"})]})]})};function mS({filters:n,disponibles:e,toggleFiltro:t,setFilters:r,onFiltrar:s}){return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"max-h-[75vh] overflow-y-auto pr-2 space-y-6 text-sm text-gray-800",children:[v.jsx(Za,{titulo:"Tipo de Calzado",items:e.tipo,campo:"tipo",valoresSeleccionados:n.tipo,toggleFiltro:t}),v.jsx(Za,{titulo:"Marca",items:e.marca,campo:"marca",valoresSeleccionados:n.marca,toggleFiltro:t}),v.jsx(Za,{titulo:"Usuario / Talla",items:e.usuario,campo:"usuario",valoresSeleccionados:n.usuario,toggleFiltro:t}),v.jsx(Za,{titulo:"Material",items:e.material,campo:"material",valoresSeleccionados:n.material,toggleFiltro:t}),v.jsx(Za,{titulo:"Uso",items:e.uso,campo:"uso",valoresSeleccionados:n.uso,toggleFiltro:t}),v.jsx(Za,{titulo:"Origen",items:e.origen,campo:"origen",valoresSeleccionados:n.origen,toggleFiltro:t}),v.jsx(Za,{titulo:"Colores",items:e.color,campo:"color",valoresSeleccionados:n.color,toggleFiltro:t}),v.jsxs("div",{className:"pb-4",children:[v.jsxs("h3",{className:"font-semibold mb-2 flex justify-between items-center",children:["Precio mximo: ",v.jsxs("span",{className:"text-blue-700",children:["S/. ",n.precioMax]})]}),v.jsx("input",{type:"range",min:"50",max:"500",step:"10",value:n.precioMax,onChange:o=>r({...n,precioMax:parseInt(o.target.value)}),className:"w-full accent-blue-600"})]})]}),v.jsx("div",{className:"button pt-4",children:v.jsx("button",{onClick:s,className:"btn primary-btn",children:"Filtrar"})})]})}function NU(){const[n,e]=D.useState({tipo:[],marca:[],usuario:[],material:[],uso:[],origen:[],color:[],precioMax:500}),[t,r]=D.useState({tipo:[],marca:[],usuario:[],material:[],uso:[],origen:[],color:[]}),[s,o]=D.useState([]),[u,d]=D.useState(!1),[f,h]=D.useState(!1),[m,b]=D.useState(6),[_,x]=D.useState(!0),E=tn(),A=()=>{h(!0),setTimeout(()=>{d(!1),h(!1)},400)},I=j=>{E(`/productos/${j.slug}`)},R=()=>{const j=yn(mt,"productos"),Y=[];return n.marca.length===1&&Y.push(Tl("marca","==",n.marca[0])),n.usuario.length===1&&Y.push(Tl("usuario","==",n.usuario[0])),n.precioMax<500&&Y.push(Tl("precio","<=",n.precioMax)),Y.length>0?nd(j,...Y):j},T=async()=>{try{x(!0);const j=R(),N=(await Jn(j)).docs.map(O=>({id:O.id,...O.data()})).filter(O=>{const V=n.tipo.length===0||n.tipo.some($=>{var re;return(re=O.tipoCalzado)==null?void 0:re.includes($)}),U=n.material.length===0||n.material.some($=>{var re;return(re=O.material)==null?void 0:re.includes($)}),B=n.uso.length===0||n.uso.some($=>{var re;return(re=O.uso)==null?void 0:re.includes($)}),k=n.origen.length===0||n.origen.includes(O.origen),ie=n.usuario.length===0||n.usuario.includes(O.usuario),oe=n.color.length===0||n.color.some($=>{var re;return(re=O.variantes)==null?void 0:re.some(he=>{var be;return((be=he.color)==null?void 0:be.toLowerCase())===$.toLowerCase()})});return console.log(oe),V&&U&&B&&k&&ie&&oe});o(N),b(6)}catch(j){console.error("Error al filtrar productos:",j)}finally{x(!1)}},M=async()=>{const Y=(await Jn(yn(mt,"filtros"))).docs.map(U=>U.data()),P={tipo:[],marca:[],usuario:[],material:[],uso:[],origen:[],color:[]};Y.forEach(U=>{const B=U.tipo.toLowerCase();P[B]&&!P[B].includes(U.valor)&&P[B].push(U.valor)});const O=(await Jn(yn(mt,"productos"))).docs.map(U=>U.data()),V=new Set;O.forEach(U=>{U.variantes&&Array.isArray(U.variantes)&&U.variantes.forEach(B=>{B.color&&V.add(B.color.trim().toLowerCase())})}),P.color=Array.from(V),r(P)};D.useEffect(()=>{M(),T()},[]);const z=(j,Y)=>{e(P=>{const O=P[j].includes(Y)?P[j].filter(V=>V!==Y):[...P[j],Y];return{...P,[j]:O}})};return v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 px-4 py-1",children:[v.jsx(Ab,{mostrarModalFiltros:u,animatingClose:f,cerrarModalConAnimacion:A,filters:n,disponibles:t,toggleFiltro:z,setFilters:e,children:v.jsx(mS,{filters:n,disponibles:t,toggleFiltro:z,setFilters:e,onFiltrar:T})}),v.jsx("aside",{className:"hidden md992:block w-full max-w-[250px]",children:v.jsx(mS,{filters:n,disponibles:t,toggleFiltro:z,setFilters:e,onFiltrar:T})}),v.jsx("main",{className:"flex-1",children:_?v.jsx("p",{className:"text-center mt-10",children:"Cargando productos..."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsxs("h1",{className:"text-md font-light",children:["Mostrando 1 - ",Math.min(m,s.length)," de"," ",s.length," productos"]}),v.jsx("button",{className:"md992:hidden btn border px-3 py-2",onClick:()=>d(!0),children:v.jsx("i",{className:"bx bx-filter"})})]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4",children:s.slice(0,m).map(j=>{var Y;return v.jsxs("div",{onClick:()=>I(j),className:"cursor-pointer bg-white transition duration-300 flex flex-col",children:[v.jsx("div",{className:"w-full aspect-square overflow-hidden",children:v.jsx("img",{src:((Y=j.imagenes)==null?void 0:Y[0])||Vl,alt:j.nombre,className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"p-2",children:[v.jsx("h2",{className:"text-base text-gray-900 leading-snug break-words mb-1",children:j.nombre}),v.jsx("div",{className:"text-sm text-gray-500 mb-2",children:j.marca}),v.jsxs("div",{className:"flex flex-wrap items-center space-x-2",children:[v.jsxs("span",{className:"font-semibold text-gray-800 mr-2",children:["s/.",j.precio]}),j.precioDescuento&&v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"text-sm text-gray-400 line-through",children:["s/.",j.precioDescuento]}),v.jsxs("span",{className:"text-sm text-green-500 font-semibold w-full",children:["-",Math.round(100-j.precioDescuento/j.precio*100),"%"]})]})]})]})]},j.id)})}),m<s.length&&v.jsx("div",{className:"text-center mt-6",children:v.jsx("button",{onClick:()=>b(m+6),className:"btn secondary-btn border px-4 py-2",children:"Ver ms"})})]})})]})}var id=n=>n.type==="checkbox",no=n=>n instanceof Date,qn=n=>n==null;const QC=n=>typeof n=="object";var Gt=n=>!qn(n)&&!Array.isArray(n)&&QC(n)&&!no(n),XC=n=>Gt(n)&&n.target?id(n.target)?n.target.checked:n.target.value:n,OU=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,WC=(n,e)=>n.has(OU(e)),MU=n=>{const e=n.constructor&&n.constructor.prototype;return Gt(e)&&e.hasOwnProperty("isPrototypeOf")},Ib=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function An(n){let e;const t=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(Ib&&(n instanceof Blob||r))&&(t||Gt(n)))if(e=t?[]:{},!t&&!MU(n))e=n;else for(const s in n)n.hasOwnProperty(s)&&(e[s]=An(n[s]));else return n;return e}var Ap=n=>/^\w*$/.test(n),$t=n=>n===void 0,Nb=n=>Array.isArray(n)?n.filter(Boolean):[],Ob=n=>Nb(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Se=(n,e,t)=>{if(!e||!Gt(n))return t;const r=(Ap(e)?[e]:Ob(e)).reduce((s,o)=>qn(s)?s:s[o],n);return $t(r)||r===n?$t(n[e])?t:n[e]:r},dr=n=>typeof n=="boolean",Tt=(n,e,t)=>{let r=-1;const s=Ap(e)?[e]:Ob(e),o=s.length,u=o-1;for(;++r<o;){const d=s[r];let f=t;if(r!==u){const h=n[d];f=Gt(h)||Array.isArray(h)?h:isNaN(+s[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;n[d]=f,n=n[d]}};const Vh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},as={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZC=Fe.createContext(null);ZC.displayName="HookFormContext";const Mb=()=>Fe.useContext(ZC);var JC=(n,e,t,r=!0)=>{const s={defaultValues:e._defaultValues};for(const o in n)Object.defineProperty(s,o,{get:()=>{const u=o;return e._proxyFormState[u]!==Hr.all&&(e._proxyFormState[u]=!r||Hr.all),t&&(t[u]=!0),n[u]}});return s};const Db=typeof window<"u"?D.useLayoutEffect:D.useEffect;function DU(n){const e=Mb(),{control:t=e.control,disabled:r,name:s,exact:o}=n||{},[u,d]=Fe.useState(t._formState),f=Fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Db(()=>t._subscribe({name:s,formState:f.current,exact:o,callback:h=>{!r&&d({...t._formState,...h})}}),[s,r,o]),Fe.useEffect(()=>{f.current.isValid&&t._setValid(!0)},[t]),Fe.useMemo(()=>JC(u,t,f.current,!1),[u,t])}var _i=n=>typeof n=="string",eR=(n,e,t,r,s)=>_i(n)?(r&&e.watch.add(n),Se(t,n,s)):Array.isArray(n)?n.map(o=>(r&&e.watch.add(o),Se(t,o))):(r&&(e.watchAll=!0),t);function PU(n){const e=Mb(),{control:t=e.control,name:r,defaultValue:s,disabled:o,exact:u}=n||{},d=Fe.useRef(s),[f,h]=Fe.useState(t._getWatch(r,d.current));return Db(()=>t._subscribe({name:r,formState:{values:!0},exact:u,callback:m=>!o&&h(eR(r,t._names,m.values||t._formValues,!1,d.current))}),[r,t,o,u]),Fe.useEffect(()=>t._removeUnmounted()),f}function kU(n){const e=Mb(),{name:t,disabled:r,control:s=e.control,shouldUnregister:o}=n,u=WC(s._names.array,t),d=PU({control:s,name:t,defaultValue:Se(s._formValues,t,Se(s._defaultValues,t,n.defaultValue)),exact:!0}),f=DU({control:s,name:t,exact:!0}),h=Fe.useRef(n),m=Fe.useRef(s.register(t,{...n.rules,value:d,...dr(n.disabled)?{disabled:n.disabled}:{}})),b=Fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Se(f.errors,t)},isDirty:{enumerable:!0,get:()=>!!Se(f.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!Se(f.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!Se(f.validatingFields,t)},error:{enumerable:!0,get:()=>Se(f.errors,t)}}),[f,t]),_=Fe.useCallback(I=>m.current.onChange({target:{value:XC(I),name:t},type:Vh.CHANGE}),[t]),x=Fe.useCallback(()=>m.current.onBlur({target:{value:Se(s._formValues,t),name:t},type:Vh.BLUR}),[t,s._formValues]),E=Fe.useCallback(I=>{const R=Se(s._fields,t);R&&I&&(R._f.ref={focus:()=>I.focus&&I.focus(),select:()=>I.select&&I.select(),setCustomValidity:T=>I.setCustomValidity(T),reportValidity:()=>I.reportValidity()})},[s._fields,t]),A=Fe.useMemo(()=>({name:t,value:d,...dr(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:_,onBlur:x,ref:E}),[t,r,f.disabled,_,x,E,d]);return Fe.useEffect(()=>{const I=s._options.shouldUnregister||o;s.register(t,{...h.current.rules,...dr(h.current.disabled)?{disabled:h.current.disabled}:{}});const R=(T,M)=>{const z=Se(s._fields,T);z&&z._f&&(z._f.mount=M)};if(R(t,!0),I){const T=An(Se(s._options.defaultValues,t));Tt(s._defaultValues,t,T),$t(Se(s._formValues,t))&&Tt(s._formValues,t,T)}return!u&&s.register(t),()=>{(u?I&&!s._state.action:I)?s.unregister(t):R(t,!1)}},[t,s,u,o]),Fe.useEffect(()=>{s._setDisabledField({disabled:r,name:t})},[r,t,s]),Fe.useMemo(()=>({field:A,formState:f,fieldState:b}),[A,f,b])}const VU=n=>n.render(kU(n));var LU=(n,e,t,r,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:s||!0}}:{},xc=n=>Array.isArray(n)?n:[n],gS=()=>{let n=[];return{get observers(){return n},next:s=>{for(const o of n)o.next&&o.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(o=>o!==s)}}),unsubscribe:()=>{n=[]}}},ey=n=>qn(n)||!QC(n);function ia(n,e){if(ey(n)||ey(e))return n===e;if(no(n)&&no(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const s of t){const o=n[s];if(!r.includes(s))return!1;if(s!=="ref"){const u=e[s];if(no(o)&&no(u)||Gt(o)&&Gt(u)||Array.isArray(o)&&Array.isArray(u)?!ia(o,u):o!==u)return!1}}return!0}var Xn=n=>Gt(n)&&!Object.keys(n).length,Pb=n=>n.type==="file",qr=n=>typeof n=="function",Lh=n=>{if(!Ib)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},tR=n=>n.type==="select-multiple",kb=n=>n.type==="radio",jU=n=>kb(n)||id(n),sv=n=>Lh(n)&&n.isConnected;function UU(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=$t(n)?r++:n[e[r++]];return n}function FU(n){for(const e in n)if(n.hasOwnProperty(e)&&!$t(n[e]))return!1;return!0}function ln(n,e){const t=Array.isArray(e)?e:Ap(e)?[e]:Ob(e),r=t.length===1?n:UU(n,t),s=t.length-1,o=t[s];return r&&delete r[o],s!==0&&(Gt(r)&&Xn(r)||Array.isArray(r)&&FU(r))&&ln(n,t.slice(0,-1)),n}var nR=n=>{for(const e in n)if(qr(n[e]))return!0;return!1};function jh(n,e={}){const t=Array.isArray(n);if(Gt(n)||t)for(const r in n)Array.isArray(n[r])||Gt(n[r])&&!nR(n[r])?(e[r]=Array.isArray(n[r])?[]:{},jh(n[r],e[r])):qn(n[r])||(e[r]=!0);return e}function rR(n,e,t){const r=Array.isArray(n);if(Gt(n)||r)for(const s in n)Array.isArray(n[s])||Gt(n[s])&&!nR(n[s])?$t(e)||ey(t[s])?t[s]=Array.isArray(n[s])?jh(n[s],[]):{...jh(n[s])}:rR(n[s],qn(e)?{}:e[s],t[s]):t[s]=!ia(n[s],e[s]);return t}var rc=(n,e)=>rR(n,e,jh(e));const vS={value:!1,isValid:!1},yS={value:!0,isValid:!0};var iR=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!$t(n[0].attributes.value)?$t(n[0].value)||n[0].value===""?yS:{value:n[0].value,isValid:!0}:yS:vS}return vS},sR=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>$t(n)?n:e?n===""?NaN:n&&+n:t&&_i(n)?new Date(n):r?r(n):n;const bS={isValid:!1,value:null};var aR=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,bS):bS;function _S(n){const e=n.ref;return Pb(e)?e.files:kb(e)?aR(n.refs).value:tR(e)?[...e.selectedOptions].map(({value:t})=>t):id(e)?iR(n.refs).value:sR($t(e.value)?n.ref.value:e.value,n)}var BU=(n,e,t,r)=>{const s={};for(const o of n){const u=Se(e,o);u&&Tt(s,o,u._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:r}},Uh=n=>n instanceof RegExp,ic=n=>$t(n)?n:Uh(n)?n.source:Gt(n)?Uh(n.value)?n.value.source:n.value:n,wS=n=>({isOnSubmit:!n||n===Hr.onSubmit,isOnBlur:n===Hr.onBlur,isOnChange:n===Hr.onChange,isOnAll:n===Hr.all,isOnTouch:n===Hr.onTouched});const ES="AsyncFunction";var zU=n=>!!n&&!!n.validate&&!!(qr(n.validate)&&n.validate.constructor.name===ES||Gt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===ES)),HU=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),xS=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Sc=(n,e,t,r)=>{for(const s of t||Object.keys(n)){const o=Se(n,s);if(o){const{_f:u,...d}=o;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],s)&&!r)return!0;if(u.ref&&e(u.ref,u.name)&&!r)return!0;if(Sc(d,e))break}else if(Gt(d)&&Sc(d,e))break}}};function SS(n,e,t){const r=Se(n,t);if(r||Ap(t))return{error:r,name:t};const s=t.split(".");for(;s.length;){const o=s.join("."),u=Se(e,o),d=Se(n,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};s.pop()}return{name:t}}var qU=(n,e,t,r)=>{t(n);const{name:s,...o}=n;return Xn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(u=>e[u]===(!r||Hr.all))},$U=(n,e,t)=>!n||!e||n===e||xc(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),GU=(n,e,t,r,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?r.isOnBlur:s.isOnBlur)?!n:(t?r.isOnChange:s.isOnChange)?n:!0,YU=(n,e)=>!Nb(Se(n,e)).length&&ln(n,e),KU=(n,e,t)=>{const r=xc(Se(n,t));return Tt(r,"root",e[t]),Tt(n,t,r),n},rh=n=>_i(n);function TS(n,e,t="validate"){if(rh(n)||Array.isArray(n)&&n.every(rh)||dr(n)&&!n)return{type:t,message:rh(n)?n:"",ref:e}}var dl=n=>Gt(n)&&!Uh(n)?n:{value:n,message:""},AS=async(n,e,t,r,s,o)=>{const{ref:u,refs:d,required:f,maxLength:h,minLength:m,min:b,max:_,pattern:x,validate:E,name:A,valueAsNumber:I,mount:R}=n._f,T=Se(t,A);if(!R||e.has(A))return{};const M=d?d[0]:u,z=B=>{s&&M.reportValidity&&(M.setCustomValidity(dr(B)?"":B||""),M.reportValidity())},j={},Y=kb(u),P=id(u),N=Y||P,O=(I||Pb(u))&&$t(u.value)&&$t(T)||Lh(u)&&u.value===""||T===""||Array.isArray(T)&&!T.length,V=LU.bind(null,A,r,j),U=(B,k,ie,oe=as.maxLength,$=as.minLength)=>{const re=B?k:ie;j[A]={type:B?oe:$,message:re,ref:u,...V(B?oe:$,re)}};if(o?!Array.isArray(T)||!T.length:f&&(!N&&(O||qn(T))||dr(T)&&!T||P&&!iR(d).isValid||Y&&!aR(d).isValid)){const{value:B,message:k}=rh(f)?{value:!!f,message:f}:dl(f);if(B&&(j[A]={type:as.required,message:k,ref:M,...V(as.required,k)},!r))return z(k),j}if(!O&&(!qn(b)||!qn(_))){let B,k;const ie=dl(_),oe=dl(b);if(!qn(T)&&!isNaN(T)){const $=u.valueAsNumber||T&&+T;qn(ie.value)||(B=$>ie.value),qn(oe.value)||(k=$<oe.value)}else{const $=u.valueAsDate||new Date(T),re=q=>new Date(new Date().toDateString()+" "+q),he=u.type=="time",be=u.type=="week";_i(ie.value)&&T&&(B=he?re(T)>re(ie.value):be?T>ie.value:$>new Date(ie.value)),_i(oe.value)&&T&&(k=he?re(T)<re(oe.value):be?T<oe.value:$<new Date(oe.value))}if((B||k)&&(U(!!B,ie.message,oe.message,as.max,as.min),!r))return z(j[A].message),j}if((h||m)&&!O&&(_i(T)||o&&Array.isArray(T))){const B=dl(h),k=dl(m),ie=!qn(B.value)&&T.length>+B.value,oe=!qn(k.value)&&T.length<+k.value;if((ie||oe)&&(U(ie,B.message,k.message),!r))return z(j[A].message),j}if(x&&!O&&_i(T)){const{value:B,message:k}=dl(x);if(Uh(B)&&!T.match(B)&&(j[A]={type:as.pattern,message:k,ref:u,...V(as.pattern,k)},!r))return z(k),j}if(E){if(qr(E)){const B=await E(T,t),k=TS(B,M);if(k&&(j[A]={...k,...V(as.validate,k.message)},!r))return z(k.message),j}else if(Gt(E)){let B={};for(const k in E){if(!Xn(B)&&!r)break;const ie=TS(await E[k](T,t),M,k);ie&&(B={...ie,...V(k,ie.message)},z(ie.message),r&&(j[A]=B))}if(!Xn(B)&&(j[A]={ref:M,...B},!r))return j}}return z(!0),j};const QU={mode:Hr.onSubmit,reValidateMode:Hr.onChange,shouldFocusError:!0};function XU(n={}){let e={...QU,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:qr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=Gt(e.defaultValues)||Gt(e.values)?An(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:An(s),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...m};const _={array:gS(),state:gS()},x=e.criteriaMode===Hr.all,E=G=>J=>{clearTimeout(h),h=setTimeout(G,J)},A=async G=>{if(!e.disabled&&(m.isValid||b.isValid||G)){const J=e.resolver?Xn((await P()).errors):await O(r,!0);J!==t.isValid&&_.state.next({isValid:J})}},I=(G,J)=>{!e.disabled&&(m.isValidating||m.validatingFields||b.isValidating||b.validatingFields)&&((G||Array.from(d.mount)).forEach(se=>{se&&(J?Tt(t.validatingFields,se,J):ln(t.validatingFields,se))}),_.state.next({validatingFields:t.validatingFields,isValidating:!Xn(t.validatingFields)}))},R=(G,J=[],se,ve,ye=!0,ge=!0)=>{if(ve&&se&&!e.disabled){if(u.action=!0,ge&&Array.isArray(Se(r,G))){const xe=se(Se(r,G),ve.argA,ve.argB);ye&&Tt(r,G,xe)}if(ge&&Array.isArray(Se(t.errors,G))){const xe=se(Se(t.errors,G),ve.argA,ve.argB);ye&&Tt(t.errors,G,xe),YU(t.errors,G)}if((m.touchedFields||b.touchedFields)&&ge&&Array.isArray(Se(t.touchedFields,G))){const xe=se(Se(t.touchedFields,G),ve.argA,ve.argB);ye&&Tt(t.touchedFields,G,xe)}(m.dirtyFields||b.dirtyFields)&&(t.dirtyFields=rc(s,o)),_.state.next({name:G,isDirty:U(G,J),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Tt(o,G,J)},T=(G,J)=>{Tt(t.errors,G,J),_.state.next({errors:t.errors})},M=G=>{t.errors=G,_.state.next({errors:t.errors,isValid:!1})},z=(G,J,se,ve)=>{const ye=Se(r,G);if(ye){const ge=Se(o,G,$t(se)?Se(s,G):se);$t(ge)||ve&&ve.defaultChecked||J?Tt(o,G,J?ge:_S(ye._f)):ie(G,ge),u.mount&&A()}},j=(G,J,se,ve,ye)=>{let ge=!1,xe=!1;const Ne={name:G};if(!e.disabled){if(!se||ve){(m.isDirty||b.isDirty)&&(xe=t.isDirty,t.isDirty=Ne.isDirty=U(),ge=xe!==Ne.isDirty);const Qe=ia(Se(s,G),J);xe=!!Se(t.dirtyFields,G),Qe?ln(t.dirtyFields,G):Tt(t.dirtyFields,G,!0),Ne.dirtyFields=t.dirtyFields,ge=ge||(m.dirtyFields||b.dirtyFields)&&xe!==!Qe}if(se){const Qe=Se(t.touchedFields,G);Qe||(Tt(t.touchedFields,G,se),Ne.touchedFields=t.touchedFields,ge=ge||(m.touchedFields||b.touchedFields)&&Qe!==se)}ge&&ye&&_.state.next(Ne)}return ge?Ne:{}},Y=(G,J,se,ve)=>{const ye=Se(t.errors,G),ge=(m.isValid||b.isValid)&&dr(J)&&t.isValid!==J;if(e.delayError&&se?(f=E(()=>T(G,se)),f(e.delayError)):(clearTimeout(h),f=null,se?Tt(t.errors,G,se):ln(t.errors,G)),(se?!ia(ye,se):ye)||!Xn(ve)||ge){const xe={...ve,...ge&&dr(J)?{isValid:J}:{},errors:t.errors,name:G};t={...t,...xe},_.state.next(xe)}},P=async G=>{I(G,!0);const J=await e.resolver(o,e.context,BU(G||d.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return I(G),J},N=async G=>{const{errors:J}=await P(G);if(G)for(const se of G){const ve=Se(J,se);ve?Tt(t.errors,se,ve):ln(t.errors,se)}else t.errors=J;return J},O=async(G,J,se={valid:!0})=>{for(const ve in G){const ye=G[ve];if(ye){const{_f:ge,...xe}=ye;if(ge){const Ne=d.array.has(ge.name),Qe=ye._f&&zU(ye._f);Qe&&m.validatingFields&&I([ve],!0);const vt=await AS(ye,d.disabled,o,x,e.shouldUseNativeValidation&&!J,Ne);if(Qe&&m.validatingFields&&I([ve]),vt[ge.name]&&(se.valid=!1,J))break;!J&&(Se(vt,ge.name)?Ne?KU(t.errors,vt,ge.name):Tt(t.errors,ge.name,vt[ge.name]):ln(t.errors,ge.name))}!Xn(xe)&&await O(xe,J,se)}}return se.valid},V=()=>{for(const G of d.unMount){const J=Se(r,G);J&&(J._f.refs?J._f.refs.every(se=>!sv(se)):!sv(J._f.ref))&&lt(G)}d.unMount=new Set},U=(G,J)=>!e.disabled&&(G&&J&&Tt(o,G,J),!ia(q(),s)),B=(G,J,se)=>eR(G,d,{...u.mount?o:$t(J)?s:_i(G)?{[G]:J}:J},se,J),k=G=>Nb(Se(u.mount?o:s,G,e.shouldUnregister?Se(s,G,[]):[])),ie=(G,J,se={})=>{const ve=Se(r,G);let ye=J;if(ve){const ge=ve._f;ge&&(!ge.disabled&&Tt(o,G,sR(J,ge)),ye=Lh(ge.ref)&&qn(J)?"":J,tR(ge.ref)?[...ge.ref.options].forEach(xe=>xe.selected=ye.includes(xe.value)):ge.refs?id(ge.ref)?ge.refs.forEach(xe=>{(!xe.defaultChecked||!xe.disabled)&&(Array.isArray(ye)?xe.checked=!!ye.find(Ne=>Ne===xe.value):xe.checked=ye===xe.value||!!ye)}):ge.refs.forEach(xe=>xe.checked=xe.value===ye):Pb(ge.ref)?ge.ref.value="":(ge.ref.value=ye,ge.ref.type||_.state.next({name:G,values:An(o)})))}(se.shouldDirty||se.shouldTouch)&&j(G,ye,se.shouldTouch,se.shouldDirty,!0),se.shouldValidate&&be(G)},oe=(G,J,se)=>{for(const ve in J){if(!J.hasOwnProperty(ve))return;const ye=J[ve],ge=G+"."+ve,xe=Se(r,ge);(d.array.has(G)||Gt(ye)||xe&&!xe._f)&&!no(ye)?oe(ge,ye,se):ie(ge,ye,se)}},$=(G,J,se={})=>{const ve=Se(r,G),ye=d.array.has(G),ge=An(J);Tt(o,G,ge),ye?(_.array.next({name:G,values:An(o)}),(m.isDirty||m.dirtyFields||b.isDirty||b.dirtyFields)&&se.shouldDirty&&_.state.next({name:G,dirtyFields:rc(s,o),isDirty:U(G,ge)})):ve&&!ve._f&&!qn(ge)?oe(G,ge,se):ie(G,ge,se),xS(G,d)&&_.state.next({...t}),_.state.next({name:u.mount?G:void 0,values:An(o)})},re=async G=>{u.mount=!0;const J=G.target;let se=J.name,ve=!0;const ye=Se(r,se),ge=Qe=>{ve=Number.isNaN(Qe)||no(Qe)&&isNaN(Qe.getTime())||ia(Qe,Se(o,se,Qe))},xe=wS(e.mode),Ne=wS(e.reValidateMode);if(ye){let Qe,vt;const Oi=J.type?_S(ye._f):XC(G),yr=G.type===Vh.BLUR||G.type===Vh.FOCUS_OUT,Mi=!HU(ye._f)&&!e.resolver&&!Se(t.errors,se)&&!ye._f.deps||GU(yr,Se(t.touchedFields,se),t.isSubmitted,Ne,xe),Vr=xS(se,d,yr);Tt(o,se,Oi),yr?(ye._f.onBlur&&ye._f.onBlur(G),f&&f(0)):ye._f.onChange&&ye._f.onChange(G);const Lr=j(se,Oi,yr),tr=!Xn(Lr)||Vr;if(!yr&&_.state.next({name:se,type:G.type,values:An(o)}),Mi)return(m.isValid||b.isValid)&&(e.mode==="onBlur"?yr&&A():yr||A()),tr&&_.state.next({name:se,...Vr?{}:Lr});if(!yr&&Vr&&_.state.next({...t}),e.resolver){const{errors:Di}=await P([se]);if(ge(Oi),ve){const Pi=SS(t.errors,r,se),xs=SS(Di,r,Pi.name||se);Qe=xs.error,se=xs.name,vt=Xn(Di)}}else I([se],!0),Qe=(await AS(ye,d.disabled,o,x,e.shouldUseNativeValidation))[se],I([se]),ge(Oi),ve&&(Qe?vt=!1:(m.isValid||b.isValid)&&(vt=await O(r,!0)));ve&&(ye._f.deps&&be(ye._f.deps),Y(se,vt,Qe,Lr))}},he=(G,J)=>{if(Se(t.errors,J)&&G.focus)return G.focus(),1},be=async(G,J={})=>{let se,ve;const ye=xc(G);if(e.resolver){const ge=await N($t(G)?G:ye);se=Xn(ge),ve=G?!ye.some(xe=>Se(ge,xe)):se}else G?(ve=(await Promise.all(ye.map(async ge=>{const xe=Se(r,ge);return await O(xe&&xe._f?{[ge]:xe}:xe)}))).every(Boolean),!(!ve&&!t.isValid)&&A()):ve=se=await O(r);return _.state.next({...!_i(G)||(m.isValid||b.isValid)&&se!==t.isValid?{}:{name:G},...e.resolver||!G?{isValid:se}:{},errors:t.errors}),J.shouldFocus&&!ve&&Sc(r,he,G?ye:d.mount),ve},q=G=>{const J={...u.mount?o:s};return $t(G)?J:_i(G)?Se(J,G):G.map(se=>Se(J,se))},le=(G,J)=>({invalid:!!Se((J||t).errors,G),isDirty:!!Se((J||t).dirtyFields,G),error:Se((J||t).errors,G),isValidating:!!Se(t.validatingFields,G),isTouched:!!Se((J||t).touchedFields,G)}),me=G=>{G&&xc(G).forEach(J=>ln(t.errors,J)),_.state.next({errors:G?t.errors:{}})},pe=(G,J,se)=>{const ve=(Se(r,G,{_f:{}})._f||{}).ref,ye=Se(t.errors,G)||{},{ref:ge,message:xe,type:Ne,...Qe}=ye;Tt(t.errors,G,{...Qe,...J,ref:ve}),_.state.next({name:G,errors:t.errors,isValid:!1}),se&&se.shouldFocus&&ve&&ve.focus&&ve.focus()},Te=(G,J)=>qr(G)?_.state.subscribe({next:se=>G(B(void 0,J),se)}):B(G,J,!0),ke=G=>_.state.subscribe({next:J=>{$U(G.name,J.name,G.exact)&&qU(J,G.formState||m,_n,G.reRenderRoot)&&G.callback({values:{...o},...t,...J})}}).unsubscribe,Ie=G=>(u.mount=!0,b={...b,...G.formState},ke({...G,formState:b})),lt=(G,J={})=>{for(const se of G?xc(G):d.mount)d.mount.delete(se),d.array.delete(se),J.keepValue||(ln(r,se),ln(o,se)),!J.keepError&&ln(t.errors,se),!J.keepDirty&&ln(t.dirtyFields,se),!J.keepTouched&&ln(t.touchedFields,se),!J.keepIsValidating&&ln(t.validatingFields,se),!e.shouldUnregister&&!J.keepDefaultValue&&ln(s,se);_.state.next({values:An(o)}),_.state.next({...t,...J.keepDirty?{isDirty:U()}:{}}),!J.keepIsValid&&A()},Ye=({disabled:G,name:J})=>{(dr(G)&&u.mount||G||d.disabled.has(J))&&(G?d.disabled.add(J):d.disabled.delete(J))},Ft=(G,J={})=>{let se=Se(r,G);const ve=dr(J.disabled)||dr(e.disabled);return Tt(r,G,{...se||{},_f:{...se&&se._f?se._f:{ref:{name:G}},name:G,mount:!0,...J}}),d.mount.add(G),se?Ye({disabled:dr(J.disabled)?J.disabled:e.disabled,name:G}):z(G,!0,J.value),{...ve?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:ic(J.min),max:ic(J.max),minLength:ic(J.minLength),maxLength:ic(J.maxLength),pattern:ic(J.pattern)}:{},name:G,onChange:re,onBlur:re,ref:ye=>{if(ye){Ft(G,J),se=Se(r,G);const ge=$t(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,xe=jU(ge),Ne=se._f.refs||[];if(xe?Ne.find(Qe=>Qe===ge):ge===se._f.ref)return;Tt(r,G,{_f:{...se._f,...xe?{refs:[...Ne.filter(sv),ge,...Array.isArray(Se(s,G))?[{}]:[]],ref:{type:ge.type,name:G}}:{ref:ge}}}),z(G,!1,void 0,ge)}else se=Se(r,G,{}),se._f&&(se._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(WC(d.array,G)&&u.action)&&d.unMount.add(G)}}},On=()=>e.shouldFocusError&&Sc(r,he,d.mount),we=G=>{dr(G)&&(_.state.next({disabled:G}),Sc(r,(J,se)=>{const ve=Se(r,se);ve&&(J.disabled=ve._f.disabled||G,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(ye=>{ye.disabled=ve._f.disabled||G}))},0,!1))},Ee=(G,J)=>async se=>{let ve;se&&(se.preventDefault&&se.preventDefault(),se.persist&&se.persist());let ye=An(o);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:ge,values:xe}=await P();t.errors=ge,ye=xe}else await O(r);if(d.disabled.size)for(const ge of d.disabled)Tt(ye,ge,void 0);if(ln(t.errors,"root"),Xn(t.errors)){_.state.next({errors:{}});try{await G(ye,se)}catch(ge){ve=ge}}else J&&await J({...t.errors},se),On(),setTimeout(On);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xn(t.errors)&&!ve,submitCount:t.submitCount+1,errors:t.errors}),ve)throw ve},Ge=(G,J={})=>{Se(r,G)&&($t(J.defaultValue)?$(G,An(Se(s,G))):($(G,J.defaultValue),Tt(s,G,An(J.defaultValue))),J.keepTouched||ln(t.touchedFields,G),J.keepDirty||(ln(t.dirtyFields,G),t.isDirty=J.defaultValue?U(G,An(Se(s,G))):U()),J.keepError||(ln(t.errors,G),m.isValid&&A()),_.state.next({...t}))},Ze=(G,J={})=>{const se=G?An(G):s,ve=An(se),ye=Xn(G),ge=ye?s:ve;if(J.keepDefaultValues||(s=se),!J.keepValues){if(J.keepDirtyValues){const xe=new Set([...d.mount,...Object.keys(rc(s,o))]);for(const Ne of Array.from(xe))Se(t.dirtyFields,Ne)?Tt(ge,Ne,Se(o,Ne)):$(Ne,Se(ge,Ne))}else{if(Ib&&$t(G))for(const xe of d.mount){const Ne=Se(r,xe);if(Ne&&Ne._f){const Qe=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(Lh(Qe)){const vt=Qe.closest("form");if(vt){vt.reset();break}}}}for(const xe of d.mount)$(xe,Se(ge,xe))}o=An(ge),_.array.next({values:{...ge}}),_.state.next({values:{...ge}})}d={mount:J.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!m.isValid||!!J.keepIsValid||!!J.keepDirtyValues,u.watch=!!e.shouldUnregister,_.state.next({submitCount:J.keepSubmitCount?t.submitCount:0,isDirty:ye?!1:J.keepDirty?t.isDirty:!!(J.keepDefaultValues&&!ia(G,s)),isSubmitted:J.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ye?{}:J.keepDirtyValues?J.keepDefaultValues&&o?rc(s,o):t.dirtyFields:J.keepDefaultValues&&G?rc(s,G):J.keepDirty?t.dirtyFields:{},touchedFields:J.keepTouched?t.touchedFields:{},errors:J.keepErrors?t.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Rt=(G,J)=>Ze(qr(G)?G(o):G,J),Ii=(G,J={})=>{const se=Se(r,G),ve=se&&se._f;if(ve){const ye=ve.refs?ve.refs[0]:ve.ref;ye.focus&&(ye.focus(),J.shouldSelect&&qr(ye.select)&&ye.select())}},_n=G=>{t={...t,...G}},Zr={control:{register:Ft,unregister:lt,getFieldState:le,handleSubmit:Ee,setError:pe,_subscribe:ke,_runSchema:P,_focusError:On,_getWatch:B,_getDirty:U,_setValid:A,_setFieldArray:R,_setDisabledField:Ye,_setErrors:M,_getFieldArray:k,_reset:Ze,_resetDefaultValues:()=>qr(e.defaultValues)&&e.defaultValues().then(G=>{Rt(G,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:we,_subjects:_,_proxyFormState:m,get _fields(){return r},get _formValues(){return o},get _state(){return u},set _state(G){u=G},get _defaultValues(){return s},get _names(){return d},set _names(G){d=G},get _formState(){return t},get _options(){return e},set _options(G){e={...e,...G}}},subscribe:Ie,trigger:be,register:Ft,handleSubmit:Ee,watch:Te,setValue:$,getValues:q,reset:Rt,resetField:Ge,clearErrors:me,unregister:lt,setError:pe,setFocus:Ii,getFieldState:le};return{...Zr,formControl:Zr}}function Vb(n={}){const e=Fe.useRef(void 0),t=Fe.useRef(void 0),[r,s]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:qr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:qr(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!qr(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:u,...d}=XU(n);e.current={...d,formState:r}}const o=e.current.control;return o._options=n,Db(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(d=>({...d,isReady:!0})),o._formState.isReady=!0,u},[o]),Fe.useEffect(()=>o._disableForm(n.disabled),[o,n.disabled]),Fe.useEffect(()=>{n.mode&&(o._options.mode=n.mode),n.reValidateMode&&(o._options.reValidateMode=n.reValidateMode)},[o,n.mode,n.reValidateMode]),Fe.useEffect(()=>{n.errors&&(o._setErrors(n.errors),o._focusError())},[o,n.errors]),Fe.useEffect(()=>{n.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,n.shouldUnregister]),Fe.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==r.isDirty&&o._subjects.state.next({isDirty:u})}},[o,r.isDirty]),Fe.useEffect(()=>{n.values&&!ia(n.values,t.current)?(o._reset(n.values,o._options.resetOptions),t.current=n.values,s(u=>({...u}))):o._resetDefaultValues()},[o,n.values]),Fe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=JC(r,o),e.current}function Or({name:n,label:e,register:t,rules:r={},type:s="text",error:o}){return v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{htmlFor:n,className:"text-sm font-medium text-gray-700",children:e}),v.jsx("input",{type:s,id:n,...t(n,r),className:`border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black ${o?"border-red-500":"border-gray-300"}`}),o&&v.jsx("span",{className:"text-xs text-red-500 mt-1",children:o.message})]})}function Fh({name:n,label:e,options:t=[],register:r,required:s=!1,error:o}){return v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{htmlFor:n,className:"text-sm font-medium text-gray-700",children:e}),v.jsxs("select",{id:n,...r(n,{required:s?"Este campo es obligatorio":!1}),className:`border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black ${o?"border-red-500":"border-gray-300"}`,children:[v.jsx("option",{value:"",children:"Seleccione una opcin"}),t.map((u,d)=>v.jsx("option",{value:u,children:u},d))]}),o&&v.jsx("span",{className:"text-xs text-red-500 mt-1",children:o.message})]})}const Bh={Lima:["Miraflores","San Isidro","Barranco","Surco","San Borja","La Molina","Lince","Jesus Mara","Pueblo Libre","San Miguel","Callao"],Arequipa:["Cercado","Yanahuara","Cayma","Jos Luis Bustamante y Rivero","Miraflores (Arequipa)"],Trujillo:["Trujillo Centro","El Porvenir","Florencia de Mora","La Esperanza"],Cusco:["Cusco Centro","San Sebastin","San Jernimo","Santiago"],Piura:["Piura Centro","Castilla","Veintisis de Octubre"]},WU=async()=>{const n=vr(mt,"config","ordenes"),e=await wp(n);if(e.exists()){const t=e.data().ultimoNumero||0;return await rd(n,{ultimoNumero:xj(1)}),t+1}else return await eC(n,{ultimoNumero:1}),1},ZU=(n,e,t,r)=>{const s=`${e.nombre} ${e.apellido}`,o=t.map(u=>` ${u.nombre} x${u.cantidad}  S/ ${u.precio*u.cantidad}`).join(`
`);return`Hola! se enva la orden N${String(n).padStart(4,"0")} de ${s}

 Productos:
${o}

 Total: S/. ${r}`},JU=n=>n.toLowerCase().normalize("NFD").replace(/[^\w\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-"),e9=async(n,e=null)=>{const t=JU(n);let r=t,s=1;for(;;){const o=nd(yn(mt,"productos"),Tl("slug","==",r));if(!(await Jn(o)).docs.find(f=>f.id!==e))break;r=`${t}-${s++}`}return r},t9=void 0;function n9(){const{carrito:n,vaciarCarrito:e}=Tp(),t=tn(),{register:r,handleSubmit:s,watch:o,reset:u,formState:{errors:d,isValid:f}}=Vb({mode:"onChange"}),[h,m]=D.useState(!1),[b,_]=D.useState(!1),x=Object.keys(Bh),E=o("ciudad")?Bh[o("ciudad")]:[];D.useEffect(()=>{const T=bn.currentUser;T&&(async()=>{const z=vr(mt,"usuarios",T.uid),j=await wp(z);if(j.exists()){const Y=j.data(),P=T.displayName||"",[N,O]=P.split(" ");u({nombre:N||"",apellido:O||"",telefono:Y.telefono||"",dni:Y.dni||"",direccion:Y.direccion||"",codigopostal:Y.codigopostal||"",ciudad:Y.ciudad||"",notas:Y.notas||""}),setTimeout(()=>{u(V=>({...V,distrito:Y.distrito||""}))},50)}})()},[u]);const A=async T=>{var M;if(_(!0),!f){console.warn("Formulario invlido. Revisa los campos."),_(!1);return}try{const z=await WU();await Ep(yn(mt,"ordenes"),{uid:((M=bn.currentUser)==null?void 0:M.uid)||"",numeroOrden:z,cliente:T,estado:"pendiente",carrito:n,total:R,creadoEn:Ej()});const j=ZU(z,T,n,R),P=`https://wa.me/${t9||"51944788568"}?text=${encodeURIComponent(j)}`;window.open(P,"_blank"),_(!1),m(!0)}catch(z){console.error("Error al registrar la orden:",z)}},I=()=>{e(),m(!1),u(),t("/")},R=n.reduce((T,M)=>T+M.precio*M.cantidad,0);return v.jsxs("div",{className:"p-4 max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("form",{onSubmit:s(A),className:"p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Informacin de Envo"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(Or,{label:"Nombre",name:"nombre",register:r,rules:{required:"El nombre es obligatorio",pattern:{value:/^[A-Za-z\s]+$/,message:"Solo se permiten letras"}},error:d.nombre}),v.jsx(Or,{label:"Apellido",name:"apellido",register:r,rules:{required:"El apellido es obligatorio",pattern:{value:/^[A-Za-z\s]+$/,message:"Solo se permiten letras"}},error:d.apellido}),v.jsx(Or,{label:"DNI",name:"dni",register:r,rules:{required:"El DNI es obligatorio",pattern:{value:/^[0-9]{8}$/,message:"Debe tener exactamente 8 dgitos"}},error:d.dni}),v.jsx(Or,{label:"Telfono",name:"telefono",register:r,rules:{required:"El telfono es obligatorio",pattern:{value:/^[0-9]+$/,message:"Solo se permiten nmeros"}},error:d.telefono}),v.jsx(Or,{label:"Direccin",name:"direccion",register:r,rules:{required:"La direccin es obligatoria"},error:d.direccion}),v.jsx(Or,{label:"Cdigo Postal",name:"codigopostal",register:r,rules:{required:"El cdigo postal es obligatorio",pattern:{value:/^[0-9]{1,6}$/,message:"Mximo 6 dgitos numricos"}},error:d.codigopostal}),v.jsx(Fh,{label:"Ciudad",name:"ciudad",options:x,register:r,error:d.ciudad,required:!0}),v.jsx(Fh,{label:"Distrito",name:"distrito",options:E,register:r,error:d.distrito,required:!0})]}),v.jsxs("div",{className:"mt-3",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales (opcional)"}),v.jsx("textarea",{...r("notas"),rows:4,className:"w-full border border-gray-300 rounded px-3 py-2 resize-none focus:outline-none focus:ring focus:border-blue-500",placeholder:"Ej. indicar si desea factura, punto de referencia, etc."})]}),v.jsx("div",{className:"pt-4",children:v.jsx("button",{type:"submit",disabled:!f||b,className:`w-full py-3 rounded transition ${f&&!b?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:b?"Enviando...":"Enviar compra"})})]}),v.jsxs("div",{className:"bg-gray-100 p-4 rounded shadow-md",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumen de compra"}),n.map((T,M)=>v.jsxs("div",{className:"flex items-center gap-4 mb-3 border-b pb-2",children:[v.jsx("img",{src:T.imagen||Vl,alt:T.nombre,className:"w-16 h-16 object-cover rounded"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold",children:T.nombre}),v.jsxs("div",{className:"text-sm text-gray-600 flex",children:["Talla: ",T.talla," | Color:",v.jsx("div",{className:"rounded-full h-[20px] w-[20px] border mx-1",style:{backgroundColor:T.color}})]}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",T.cantidad]}),v.jsxs("p",{className:"text-sm text-gray-800 font-medium",children:["S/ ",T.precio*T.cantidad]})]})]},M)),v.jsxs("div",{className:"mt-4 pt-4 text-right font-bold text-lg",children:["Total: S/ ",R.toFixed(2)]}),v.jsx("p",{className:"text-xs text-gray-600 mt-1 text-right",children:"* No incluye delivery"})]}),h&&v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full shadow-lg text-center",children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"Gracias por tu compra!"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Por favor no olvides enviar la orden por WhatsApp y uno de nuestros asesores se comunicar contigo para los siguientes pasos."}),v.jsx("button",{onClick:I,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Muchas gracias"})]})})]})}function r9(){const[n,e]=D.useState(""),[t,r]=D.useState(""),[s,o]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState(""),m=tn(),b=async _=>{_.preventDefault(),h("");try{const E=(await XD(bn,n,t)).user;if(await E.reload(),!E.emailVerified)return await bn.signOut(),h("Debes verificar tu correo antes de iniciar sesin.");const A=vr(mt,"usuarios",E.uid),I=await wp(A);if(!I.exists())return await bn.signOut(),h("Tu cuenta no tiene rol asignado. Contacta con soporte.");const T=I.data().rol;m(T==="admin"?"/admin/dashboard":"/")}catch(x){console.error(x),h("Correo o contrasea incorrectos")}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:b,className:"w-full max-w-md p-6 border border-gray-200 rounded-xl shadow space-y-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Iniciar sesin"}),f&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:f}),v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1 text-black",children:"Correo electrnico"}),v.jsx("input",{type:"email",placeholder:"ejemplo@correo.com",value:n,onChange:_=>e(_.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1 text-black",children:"Contrasea"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:s?"text":"password",placeholder:"Contrasea",value:t,onChange:_=>r(_.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),v.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-2.5 text-gray-600",children:s?v.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]})]}),v.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 my-2",children:[v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",checked:u,onChange:()=>d(!u),className:"form-checkbox border-gray-400"}),v.jsx("span",{children:"Recurdame"})]}),v.jsx("button",{type:"button",onClick:()=>m("/forgotPassword"),className:"text-black hover:underline",children:"Olvidaste tu contrasea?"})]})]}),v.jsx("button",{type:"submit",className:"w-full py-2 bg-black text-white rounded hover:bg-gray-800 transition",children:"Iniciar sesin"}),v.jsxs("p",{className:"text-center text-sm text-gray-700 my-1",children:["No tienes cuenta?"," ",v.jsx("button",{type:"button",onClick:()=>m("/register"),className:"text-black hover:underline",children:"Registrarme"})]}),v.jsx("p",{className:"text-center text-sm text-gray-700 my-1",children:v.jsx("button",{type:"button",onClick:()=>m("/"),className:"text-black hover:underline",children:"Volver a la pagina principal"})})]})})}function i9(){const[n,e]=D.useState({name:"",lastname:"",email:"",password:"",confirmPassword:""}),[t,r]=D.useState(""),[s,o]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState(!1),m=tn(),b=x=>{e({...n,[x.target.name]:x.target.value})},_=async x=>{if(x.preventDefault(),r(""),n.password!==n.confirmPassword)return r("Las contraseas no coinciden.");h(!0);try{const A=(await QD(bn,n.email,n.password)).user;await s1(A,{displayName:`${n.name} ${n.lastname}`}),await eC(vr(mt,"usuarios",A.uid),{uid:A.uid,email:A.email,rol:"cliente",mayorista:!1,nombre:n.name,apellido:n.lastname,creadoEn:new Date}),await WD(A),m("/confirmar")}catch(E){console.error(E),E.code==="auth/email-already-in-use"?r("Este correo ya est registrado."):r("No se pudo registrar el usuario.")}finally{h(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:_,className:"flex flex-col w-full max-w-md p-6 gap-2 border border-gray-200 rounded-xl shadow space-y-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Crear cuenta"}),t&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:t}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{name:"name",type:"text",placeholder:"Nombre",value:n.name,onChange:b,required:!0,className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),v.jsx("input",{name:"lastname",type:"text",placeholder:"Apellido",value:n.lastname,onChange:b,required:!0,className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),v.jsx("input",{name:"email",type:"email",placeholder:"Correo electrnico",value:n.email,onChange:b,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{name:"password",type:s?"text":"password",placeholder:"Contrasea",value:n.password,onChange:b,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),v.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-2.5 text-gray-600",children:s?v.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{name:"confirmPassword",type:u?"text":"password",placeholder:"Confirmar contrasea",value:n.confirmPassword,onChange:b,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),v.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-2.5 text-gray-600",children:u?v.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsx("button",{type:"submit",disabled:f,className:`w-full py-2 text-white rounded transition ${f?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:f?"Creando cuenta...":"Registrarme"}),v.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Ya tienes cuenta?"," ",v.jsx("a",{href:"/nikos/login",className:"text-black underline",children:"Inicia sesin"})]}),v.jsx("p",{className:"text-center text-sm text-gray-700 my-1",children:v.jsx("button",{type:"button",onClick:()=>m("/"),className:"text-black hover:underline",children:"Volver a la pagina principal"})})]})})}function s9(){const[n,e]=D.useState(""),[t,r]=D.useState(""),[s,o]=D.useState(!1),u=tn(),d=async f=>{f.preventDefault(),o(!0),r("");try{await GD(bn,n,{url:`${window.location.origin}/reset`,handleCodeInApp:!0}),r(" Se ha enviado un enlace para restablecer tu contrasea. Redirigiendo..."),setTimeout(()=>u("/login"),3e3)}catch(h){r(" Ocurri un error: "+h.message)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:d,className:"flex flex-col gap-2 w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-black text-center",children:"Recuperar Contrasea"}),t&&v.jsx("p",{className:`text-sm text-center ${t.startsWith("")?"text-red-500":"text-green-600"}`,children:t}),v.jsx("input",{type:"email",placeholder:"Correo electrnico",value:n,onChange:f=>e(f.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),v.jsx("button",{type:"submit",disabled:s,className:`w-full py-2 text-white rounded transition ${s?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:s?"Enviando...":"Enviar enlace"}),v.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Ya recordaste tu contrasea?"," ",v.jsx("button",{type:"button",onClick:()=>u("/login"),className:"text-black underline",children:"Inicia sesin"})]})]})})}function a9(){const[n]=vy(),[e,t]=D.useState(""),[r,s]=D.useState(""),[o,u]=D.useState(!1),[d,f]=D.useState(!1),[h,m]=D.useState(""),[b,_]=D.useState(!1),x=tn(),E=n.get("oobCode"),A=async R=>{if(R.preventDefault(),m(""),e!==r)return m("Las contraseas no coinciden.");_(!0);try{await YD(bn,E,e),m("Contrasea restablecida. Redirigiendo..."),setTimeout(()=>x("/login"),3e3)}catch(T){console.log(T),m("Error al cambiar la contrasea. Ya ha usado este enlace. Redirigiendo..."),setTimeout(()=>x("/login"),3e3)}};D.useEffect(()=>{E||m("Cdigo invlido.")},[E]);const I=h.toLowerCase().includes("error")||h.toLowerCase().includes("invlido")||h.toLowerCase().includes("coinciden")||h.toLowerCase().includes("enlace");return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:A,className:"flex flex-col gap-2 w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-black text-center",children:"Nueva Contrasea"}),h&&v.jsx("p",{className:`text-sm text-center ${I?"text-red-500":"text-green-600"}`,children:h}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:o?"text":"password",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Nueva contrasea",value:e,onChange:R=>t(R.target.value),required:!0}),v.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:o?v.jsx("i",{className:"bx  bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:d?"text":"password",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Confirmar contrasea",value:r,onChange:R=>s(R.target.value),required:!0}),v.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:d?v.jsx("i",{className:"bx  bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsx("button",{type:"submit",disabled:b,className:`w-full py-2 text-white rounded transition ${b?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:b?"Cambiando...":"Cambiar Contrasea"})]})})}function o9(){return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("div",{className:"w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Verifica tu correo"}),v.jsx("p",{className:"text-gray-700 text-center",children:"Te hemos enviado un correo con un enlace para verificar tu cuenta."})]})})}function l9(){const n=tn(),[e]=vy();return D.useEffect(()=>{const t=e.get("mode"),r=e.get("oobCode");console.log("mode",t),t==="verifyEmail"&&r?n(`/verify-email?oobCode=${r}`):t==="resetPassword"&&r&&n(`/reset?oobCode=${r}`)},[e,n]),null}function u9(){const[n]=vy(),e=tn(),[t,r]=D.useState("Verificando...");return D.useEffect(()=>{const s=n.get("oobCode");if(!s){r(" Cdigo invlido.");return}tp(bn,o=>{o!=null&&o.emailVerified?(r(" Tu correo ya est verificado. Redirigiendo..."),setTimeout(()=>e("/login"),3e3)):KD(bn,s).then(()=>{r(" Correo verificado exitosamente. Redirigiendo..."),setTimeout(()=>e("/login"),3e3)}).catch(u=>{u.code==="auth/invalid-action-code"?r(" Enlace verificado. Redirigiendo..."):r(" Ocurri un error inesperado.")})})},[n,e]),v.jsx("div",{className:"min-h-screen flex items-center justify-center text-black",children:v.jsx("p",{className:"text-lg",children:t})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function c9(n,e,t,r){function s(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function d(m){try{h(r.next(m))}catch(b){u(b)}}function f(m){try{h(r.throw(m))}catch(b){u(b)}}function h(m){m.done?o(m.value):s(m.value).then(d,f)}h((r=r.apply(n,[])).next())})}function d9(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(h){return function(m){return f([h,m])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,s=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(m){h=[6,m],s=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _l=function(){return _l=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},_l.apply(this,arguments)},oR=function(n){return{loading:n==null,value:n}},f9=function(){return function(n,e){switch(e.type){case"error":return _l(_l({},n),{error:e.error,loading:!1,value:void 0});case"reset":return oR(e.defaultValue);case"value":return _l(_l({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},h9=function(n){var e=n?n():void 0,t=D.useReducer(f9(),oR(e)),r=t[0],s=t[1],o=D.useCallback(function(){var f=n?n():void 0;s({type:"reset",defaultValue:f})},[n]),u=D.useCallback(function(f){s({type:"error",error:f})},[]),d=D.useCallback(function(f){s({type:"value",value:f})},[]);return D.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:d,value:r.value}},[r.error,r.loading,o,u,d,r.value])},p9=function(n,e){var t=h9(function(){return n.currentUser}),r=t.error,s=t.loading,o=t.setError,u=t.setValue,d=t.value;return D.useEffect(function(){var f=tp(n,function(h){return c9(void 0,void 0,void 0,function(){var m;return d9(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return b.sent(),[3,4];case 3:return m=b.sent(),o(m),[3,4];case 4:return u(h),[2]}})})},o);return function(){f()}},[n]),[d,s,r]};function CS({children:n}){const[e,t]=p9(bn);return t?v.jsx("div",{className:"text-center mt-10",children:"Cargando..."}):e?n:v.jsx(x2,{to:"/login"})}function m9(){const[n,e]=D.useState(null),[t,r]=D.useState(!0),[s,o]=D.useState(!1),[u,d]=D.useState(""),f=tn(),{register:h,handleSubmit:m,watch:b,reset:_,formState:{errors:x}}=Vb({mode:"onChange"}),E=b("ciudad"),A=Object.keys(Bh),I=E?Bh[E]:[];D.useEffect(()=>{const T=bn.onAuthStateChanged(async M=>{if(!M)f("/login");else{e(M);try{const z=vr(mt,"usuarios",M.uid),j=await wp(z),Y=M.displayName||"",[P,N]=Y.split(" ");if(j.exists()){const O=j.data();_({nombre:P||"",apellido:N||"",dni:O.dni||"",telefono:O.telefono||"",direccion:O.direccion||"",codigopostal:O.codigopostal||"",ciudad:O.ciudad||"",distrito:O.distrito||""})}else d("No se encontraron datos del usuario.")}catch(z){console.error("Error al obtener datos del usuario:",z),d("Ocurri un error al cargar tu perfil.")}finally{r(!1)}}});return()=>T()},[f,_]);const R=async T=>{if(o(!0),!n)return;d("");const M=`${T.nombre} ${T.apellido}`.trim();try{const z=vr(mt,"usuarios",n.uid);await rd(z,T),await s1(n,{displayName:M}),d("Datos actualizados correctamente."),setTimeout(()=>d(""),3e3),o(!1)}catch(z){console.error("Error al guardar:",z),o(!1),d("Error al guardar los cambios.")}};return t?v.jsx("div",{className:"text-center mt-10",children:"Cargando perfil..."}):v.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white rounded shadow mt-10",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Mi Perfil"}),u&&v.jsx("p",{className:"text-center text-sm text-blue-600 mb-4",children:u}),v.jsxs("form",{onSubmit:m(R),className:"p-6 space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(Or,{label:"Nombre",name:"nombre",register:h,rules:{required:"El nombre es obligatorio",pattern:{value:/^[A-Za-z\s]+$/,message:"Solo se permiten letras"}},error:x.nombre}),v.jsx(Or,{label:"Apellido",name:"apellido",register:h,rules:{required:"El apellido es obligatorio",pattern:{value:/^[A-Za-z\s]+$/,message:"Solo se permiten letras"}},error:x.apellido}),v.jsx(Or,{label:"DNI",name:"dni",register:h,rules:{required:"El DNI es obligatorio",pattern:{value:/^[0-9]{8}$/,message:"Debe tener exactamente 8 dgitos"}},error:x.dni}),v.jsx(Or,{label:"Telfono",name:"telefono",register:h,rules:{required:"El telfono es obligatorio",pattern:{value:/^[0-9]+$/,message:"Solo se permiten nmeros"}},error:x.telefono}),v.jsx(Or,{label:"Direccin",name:"direccion",register:h,rules:{required:"La direccin es obligatoria"},error:x.direccion}),v.jsx(Or,{label:"Cdigo Postal",name:"codigopostal",register:h,rules:{required:"El cdigo postal es obligatorio",pattern:{value:/^[0-9]{1,6}$/,message:"Mximo 6 dgitos numricos"}},error:x.codigopostal}),v.jsx(Fh,{label:"Ciudad",name:"ciudad",options:A,register:h,error:x.ciudad,required:!0}),v.jsx(Fh,{label:"Distrito",name:"distrito",options:I,register:h,error:x.distrito,required:!0})]}),v.jsx("button",{type:"submit",disabled:t||s,className:`w-full py-3 my-3 rounded transition ${!t&&!s?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s?"Guardando...":"Guardar informacin"})]})]})}function g9(){const[n,e]=D.useState([]),[t,r]=D.useState(!0),[s,o]=D.useState(1),[u,d]=D.useState(null),f=tn(),h=5;D.useEffect(()=>{const x=bn.currentUser;if(!x){f("/login");return}(async()=>{try{const A=nd(yn(mt,"ordenes"),Tl("uid","==",x.uid)),R=(await Jn(A)).docs.map(T=>({id:T.id,...T.data()}));e(R)}catch(A){console.error("Error al obtener las compras:",A)}finally{r(!1)}})()},[f]),D.useEffect(()=>{document.body.style.overflow=u?"hidden":"auto"},[u]);const m=(s-1)*h,b=n.slice(m,m+h),_=Math.ceil(n.length/h);return t?v.jsx("p",{className:"text-center mt-10",children:"Cargando tus compras..."}):n.length===0?v.jsx("p",{className:"text-center mt-10",children:"No tienes compras registradas."}):v.jsxs("div",{className:"max-w-5xl mx-auto mt-10 p-4",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Mis Compras"}),v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"min-w-full border",children:[v.jsx("thead",{className:"bg-gray-200",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Orden"}),v.jsx("th",{className:"py-2 px-4 border",children:"Fecha"}),v.jsx("th",{className:"py-2 px-4 border",children:"Total"}),v.jsx("th",{className:"py-2 px-4 border",children:"Detalles"})]})}),v.jsx("tbody",{children:b.map(x=>{var E;return v.jsxs("tr",{className:"border-t",children:[v.jsx("td",{className:"py-2 px-4 border",children:x.numeroOrden}),v.jsx("td",{className:"py-2 px-4 border",children:(E=x.creadoEn)==null?void 0:E.toDate().toLocaleDateString()}),v.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",x.total]}),v.jsx("td",{className:"py-2 px-4 border",children:v.jsx("button",{onClick:()=>d(x),className:"text-blue-600 hover:underline",children:"Ver productos"})})]},x.id)})})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4",children:[v.jsx("button",{className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",onClick:()=>o(x=>Math.max(x-1,1)),disabled:s===1,children:"Anterior"}),v.jsxs("span",{className:"text-sm text-gray-600",children:["Pgina ",s," de ",_]}),v.jsx("button",{className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",onClick:()=>o(x=>Math.min(x+1,_)),disabled:s===_,children:"Siguiente"})]})]}),u&&v.jsx("div",{className:"fixed inset-0 backdrop-blur-lg flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white max-w-3xl w-full rounded shadow-lg p-6 relative max-h-[80vh] overflow-y-auto",children:[v.jsx("button",{onClick:()=>d(null),className:"absolute top-3 right-4 text-gray-600 hover:text-black text-xl",children:""}),v.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Detalle de productos"}),v.jsxs("table",{className:"min-w-full border",children:[v.jsx("thead",{className:"bg-gray-100",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Producto"}),v.jsx("th",{className:"py-2 px-4 border",children:"Cantidad"}),v.jsx("th",{className:"py-2 px-4 border",children:"Color"}),v.jsx("th",{className:"py-2 px-4 border",children:"Talla"})]})}),v.jsx("tbody",{children:u.carrito.map((x,E)=>v.jsxs("tr",{className:"border-t",children:[v.jsx("td",{className:"py-2 px-4 border",children:x.nombre}),v.jsx("td",{className:"py-2 px-4 border",children:x.cantidad}),v.jsx("td",{className:"py-2 px-4 border",children:x.color?v.jsx("div",{className:"w-4 h-4 rounded-full mx-auto",style:{backgroundColor:x.color}}):"N/A"}),v.jsx("td",{className:"py-2 px-4 border",children:x.talla||"N/A"})]},E))})]})]})})]})}function v9(){const[n,e]=D.useState(!1),[t,r]=D.useState(null),s=tn();D.useEffect(()=>{const u=tp(bn,d=>{d?r(d):s("/login")});return()=>u()},[s]);const o=async()=>{await Oy(bn),s("/login")};return v.jsxs("div",{className:"flex h-screen bg-white text-black",children:[v.jsxs("aside",{className:`z-10 flex flex-col bg-black text-white p-4 ${n?"w-16":"w-64 absolute md:relative h-full"} transition-all duration-300`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[!n&&v.jsx("div",{className:"flex items-center justify-center font-[Anton] uppercase italic text-[40px]",children:"Nikos"}),v.jsx("button",{onClick:()=>e(!n),className:"text-white text-lg focus:outline-none",children:v.jsx("i",{className:"bx bx-menu"})})]}),v.jsxs("nav",{className:"flex-1 flex flex-col gap-4 text-sm",children:[v.jsxs(yl,{to:"/admin/dashboard",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-dashboard text-lg"}),!n&&"Dashboard"]}),v.jsxs(yl,{to:"/admin/filtros",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-menu-filter text-lg"}),!n&&"Filtros"]}),v.jsxs(yl,{to:"/admin/ventas",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-receipt text-lg"}),!n&&"Ventas"]}),v.jsxs(yl,{to:"/admin/productos",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-box text-lg"}),!n&&"Productos"]})]}),v.jsx("div",{className:"mt-auto",children:v.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-white hover:text-gray-300 text-lg",children:[v.jsx("i",{className:"bx bx-door-open text-lg"}),!n&&"Cerrar Sesin"]})})]}),v.jsxs("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-100",children:[v.jsx("header",{className:"flex justify-between items-center mb-6 border-b pb-2",children:v.jsxs("h1",{className:"text-lg font-bold whitespace-nowrap",children:["Hola ",(t==null?void 0:t.displayName)||"Admin"]})}),v.jsx(gT,{})]})]})}function y9(){return v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[v.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Total Ventas"}),v.jsx("p",{className:"text-2xl font-bold",children:"S/ 8,230"})]}),v.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[v.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Productos"}),v.jsx("p",{className:"text-2xl font-bold",children:"125"})]}),v.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[v.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Usuarios"}),v.jsx("p",{className:"text-2xl font-bold",children:"320"})]})]})}function mo(n){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(n)}function b9(n,e){if(mo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function lR(n){var e=b9(n,"string");return mo(e)=="symbol"?e:e+""}function pc(n,e,t){return(e=lR(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Ve(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RS(Object(t),!0).forEach(function(r){pc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function _9(n){if(Array.isArray(n))return n}function w9(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,u,d=[],f=!0,h=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(r=o.call(t)).done)&&(d.push(r.value),d.length!==e);f=!0);}catch(m){h=!0,s=m}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(h)throw s}}return d}}function ty(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function uR(n,e){if(n){if(typeof n=="string")return ty(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ty(n,e):void 0}}function E9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hs(n,e){return _9(n)||w9(n,e)||uR(n,e)||E9()}function x9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function Es(n,e){if(n==null)return{};var t,r,s=x9(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var S9=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function T9(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,s=r===void 0?!1:r,o=n.defaultValue,u=o===void 0?null:o,d=n.inputValue,f=n.menuIsOpen,h=n.onChange,m=n.onInputChange,b=n.onMenuClose,_=n.onMenuOpen,x=n.value,E=Es(n,S9),A=D.useState(d!==void 0?d:t),I=hs(A,2),R=I[0],T=I[1],M=D.useState(f!==void 0?f:s),z=hs(M,2),j=z[0],Y=z[1],P=D.useState(x!==void 0?x:u),N=hs(P,2),O=N[0],V=N[1],U=D.useCallback(function(he,be){typeof h=="function"&&h(he,be),V(he)},[h]),B=D.useCallback(function(he,be){var q;typeof m=="function"&&(q=m(he,be)),T(q!==void 0?q:he)},[m]),k=D.useCallback(function(){typeof _=="function"&&_(),Y(!0)},[_]),ie=D.useCallback(function(){typeof b=="function"&&b(),Y(!1)},[b]),oe=d!==void 0?d:R,$=f!==void 0?f:j,re=x!==void 0?x:O;return Ve(Ve({},E),{},{inputValue:oe,menuIsOpen:$,onChange:U,onInputChange:B,onMenuClose:ie,onMenuOpen:k,value:re})}function Ue(){return Ue=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ue.apply(null,arguments)}function A9(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function IS(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,lR(r.key),r)}}function C9(n,e,t){return e&&IS(n.prototype,e),t&&IS(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ny(n,e){return ny=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},ny(n,e)}function R9(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ny(n,e)}function zh(n){return zh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zh(n)}function cR(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cR=function(){return!!n})()}function I9(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function N9(n,e){if(e&&(mo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I9(n)}function O9(n){var e=cR();return function(){var t,r=zh(n);if(e){var s=zh(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return N9(this,t)}}function M9(n){if(Array.isArray(n))return ty(n)}function D9(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function P9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lb(n){return M9(n)||D9(n)||uR(n)||P9()}function k9(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function V9(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var L9=function(){function n(t){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(V9(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=k9(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n}(),kn="-ms-",Hh="-moz-",dt="-webkit-",dR="comm",jb="rule",Ub="decl",j9="@import",fR="@keyframes",U9="@layer",F9=Math.abs,Cp=String.fromCharCode,B9=Object.assign;function z9(n,e){return Rn(n,0)^45?(((e<<2^Rn(n,0))<<2^Rn(n,1))<<2^Rn(n,2))<<2^Rn(n,3):0}function hR(n){return n.trim()}function H9(n,e){return(n=e.exec(n))?n[0]:n}function ft(n,e,t){return n.replace(e,t)}function ry(n,e){return n.indexOf(e)}function Rn(n,e){return n.charCodeAt(e)|0}function jc(n,e,t){return n.slice(e,t)}function gi(n){return n.length}function Fb(n){return n.length}function Uf(n,e){return e.push(n),n}function q9(n,e){return n.map(e).join("")}var Rp=1,Ll=1,pR=0,er=0,Jt=0,Gl="";function Ip(n,e,t,r,s,o,u){return{value:n,root:e,parent:t,type:r,props:s,children:o,line:Rp,column:Ll,length:u,return:""}}function sc(n,e){return B9(Ip("",null,null,"",null,null,0),n,{length:-n.length},e)}function $9(){return Jt}function G9(){return Jt=er>0?Rn(Gl,--er):0,Ll--,Jt===10&&(Ll=1,Rp--),Jt}function gr(){return Jt=er<pR?Rn(Gl,er++):0,Ll++,Jt===10&&(Ll=1,Rp++),Jt}function Ai(){return Rn(Gl,er)}function ih(){return er}function sd(n,e){return jc(Gl,n,e)}function Uc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mR(n){return Rp=Ll=1,pR=gi(Gl=n),er=0,[]}function gR(n){return Gl="",n}function sh(n){return hR(sd(er-1,iy(n===91?n+2:n===40?n+1:n)))}function Y9(n){for(;(Jt=Ai())&&Jt<33;)gr();return Uc(n)>2||Uc(Jt)>3?"":" "}function K9(n,e){for(;--e&&gr()&&!(Jt<48||Jt>102||Jt>57&&Jt<65||Jt>70&&Jt<97););return sd(n,ih()+(e<6&&Ai()==32&&gr()==32))}function iy(n){for(;gr();)switch(Jt){case n:return er;case 34:case 39:n!==34&&n!==39&&iy(Jt);break;case 40:n===41&&iy(n);break;case 92:gr();break}return er}function Q9(n,e){for(;gr()&&n+Jt!==57;)if(n+Jt===84&&Ai()===47)break;return"/*"+sd(e,er-1)+"*"+Cp(n===47?n:gr())}function X9(n){for(;!Uc(Ai());)gr();return sd(n,er)}function W9(n){return gR(ah("",null,null,null,[""],n=mR(n),0,[0],n))}function ah(n,e,t,r,s,o,u,d,f){for(var h=0,m=0,b=u,_=0,x=0,E=0,A=1,I=1,R=1,T=0,M="",z=s,j=o,Y=r,P=M;I;)switch(E=T,T=gr()){case 40:if(E!=108&&Rn(P,b-1)==58){ry(P+=ft(sh(T),"&","&\f"),"&\f")!=-1&&(R=-1);break}case 34:case 39:case 91:P+=sh(T);break;case 9:case 10:case 13:case 32:P+=Y9(E);break;case 92:P+=K9(ih()-1,7);continue;case 47:switch(Ai()){case 42:case 47:Uf(Z9(Q9(gr(),ih()),e,t),f);break;default:P+="/"}break;case 123*A:d[h++]=gi(P)*R;case 125*A:case 59:case 0:switch(T){case 0:case 125:I=0;case 59+m:R==-1&&(P=ft(P,/\f/g,"")),x>0&&gi(P)-b&&Uf(x>32?OS(P+";",r,t,b-1):OS(ft(P," ","")+";",r,t,b-2),f);break;case 59:P+=";";default:if(Uf(Y=NS(P,e,t,h,m,s,d,M,z=[],j=[],b),o),T===123)if(m===0)ah(P,e,Y,Y,z,o,b,d,j);else switch(_===99&&Rn(P,3)===110?100:_){case 100:case 108:case 109:case 115:ah(n,Y,Y,r&&Uf(NS(n,Y,Y,0,0,s,d,M,s,z=[],b),j),s,j,b,d,r?z:j);break;default:ah(P,Y,Y,Y,[""],j,0,d,j)}}h=m=x=0,A=R=1,M=P="",b=u;break;case 58:b=1+gi(P),x=E;default:if(A<1){if(T==123)--A;else if(T==125&&A++==0&&G9()==125)continue}switch(P+=Cp(T),T*A){case 38:R=m>0?1:(P+="\f",-1);break;case 44:d[h++]=(gi(P)-1)*R,R=1;break;case 64:Ai()===45&&(P+=sh(gr())),_=Ai(),m=b=gi(M=P+=X9(ih())),T++;break;case 45:E===45&&gi(P)==2&&(A=0)}}return o}function NS(n,e,t,r,s,o,u,d,f,h,m){for(var b=s-1,_=s===0?o:[""],x=Fb(_),E=0,A=0,I=0;E<r;++E)for(var R=0,T=jc(n,b+1,b=F9(A=u[E])),M=n;R<x;++R)(M=hR(A>0?_[R]+" "+T:ft(T,/&\f/g,_[R])))&&(f[I++]=M);return Ip(n,e,t,s===0?jb:d,f,h,m)}function Z9(n,e,t){return Ip(n,e,t,dR,Cp($9()),jc(n,2,-2),0)}function OS(n,e,t,r){return Ip(n,e,t,Ub,jc(n,0,r),jc(n,r+1,-1),r)}function Cl(n,e){for(var t="",r=Fb(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function J9(n,e,t,r){switch(n.type){case U9:if(n.children.length)break;case j9:case Ub:return n.return=n.return||n.value;case dR:return"";case fR:return n.return=n.value+"{"+Cl(n.children,r)+"}";case jb:n.value=n.props.join(",")}return gi(t=Cl(n.children,r))?n.return=n.value+"{"+t+"}":""}function e5(n){var e=Fb(n);return function(t,r,s,o){for(var u="",d=0;d<e;d++)u+=n[d](t,r,s,o)||"";return u}}function t5(n){return function(e){e.root||(e=e.return)&&n(e)}}function n5(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var r5=function(e,t,r){for(var s=0,o=0;s=o,o=Ai(),s===38&&o===12&&(t[r]=1),!Uc(o);)gr();return sd(e,er)},i5=function(e,t){var r=-1,s=44;do switch(Uc(s)){case 0:s===38&&Ai()===12&&(t[r]=1),e[r]+=r5(er-1,t,r);break;case 2:e[r]+=sh(s);break;case 4:if(s===44){e[++r]=Ai()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Cp(s)}while(s=gr());return e},s5=function(e,t){return gR(i5(mR(e),t))},MS=new WeakMap,a5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!MS.get(r))&&!s){MS.set(e,!0);for(var o=[],u=s5(t,o),d=r.props,f=0,h=0;f<u.length;f++)for(var m=0;m<d.length;m++,h++)e.props[h]=o[f]?u[f].replace(/&\f/g,d[m]):d[m]+" "+u[f]}}},o5=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function vR(n,e){switch(z9(n,e)){case 5103:return dt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return dt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return dt+n+Hh+n+kn+n+n;case 6828:case 4268:return dt+n+kn+n+n;case 6165:return dt+n+kn+"flex-"+n+n;case 5187:return dt+n+ft(n,/(\w+).+(:[^]+)/,dt+"box-$1$2"+kn+"flex-$1$2")+n;case 5443:return dt+n+kn+"flex-item-"+ft(n,/flex-|-self/,"")+n;case 4675:return dt+n+kn+"flex-line-pack"+ft(n,/align-content|flex-|-self/,"")+n;case 5548:return dt+n+kn+ft(n,"shrink","negative")+n;case 5292:return dt+n+kn+ft(n,"basis","preferred-size")+n;case 6060:return dt+"box-"+ft(n,"-grow","")+dt+n+kn+ft(n,"grow","positive")+n;case 4554:return dt+ft(n,/([^-])(transform)/g,"$1"+dt+"$2")+n;case 6187:return ft(ft(ft(n,/(zoom-|grab)/,dt+"$1"),/(image-set)/,dt+"$1"),n,"")+n;case 5495:case 3959:return ft(n,/(image-set\([^]*)/,dt+"$1$`$1");case 4968:return ft(ft(n,/(.+:)(flex-)?(.*)/,dt+"box-pack:$3"+kn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+dt+n+n;case 4095:case 3583:case 4068:case 2532:return ft(n,/(.+)-inline(.+)/,dt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gi(n)-1-e>6)switch(Rn(n,e+1)){case 109:if(Rn(n,e+4)!==45)break;case 102:return ft(n,/(.+:)(.+)-([^]+)/,"$1"+dt+"$2-$3$1"+Hh+(Rn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~ry(n,"stretch")?vR(ft(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Rn(n,e+1)!==115)break;case 6444:switch(Rn(n,gi(n)-3-(~ry(n,"!important")&&10))){case 107:return ft(n,":",":"+dt)+n;case 101:return ft(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+dt+(Rn(n,14)===45?"inline-":"")+"box$3$1"+dt+"$2$3$1"+kn+"$2box$3")+n}break;case 5936:switch(Rn(n,e+11)){case 114:return dt+n+kn+ft(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return dt+n+kn+ft(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return dt+n+kn+ft(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return dt+n+kn+n+n}return n}var l5=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case Ub:e.return=vR(e.value,e.length);break;case fR:return Cl([sc(e,{value:ft(e.value,"@","@"+dt)})],s);case jb:if(e.length)return q9(e.props,function(o){switch(H9(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cl([sc(e,{props:[ft(o,/:(read-\w+)/,":"+Hh+"$1")]})],s);case"::placeholder":return Cl([sc(e,{props:[ft(o,/:(plac\w+)/,":"+dt+"input-$1")]}),sc(e,{props:[ft(o,/:(plac\w+)/,":"+Hh+"$1")]}),sc(e,{props:[ft(o,/:(plac\w+)/,kn+"input-$1")]})],s)}return""})}},u5=[l5],c5=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(A){var I=A.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(A),A.setAttribute("data-s",""))})}var s=e.stylisPlugins||u5,o={},u,d=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(A){for(var I=A.getAttribute("data-emotion").split(" "),R=1;R<I.length;R++)o[I[R]]=!0;d.push(A)});var f,h=[a5,o5];{var m,b=[J9,t5(function(A){m.insert(A)})],_=e5(h.concat(s,b)),x=function(I){return Cl(W9(I),_)};f=function(I,R,T,M){m=T,x(I?I+"{"+R.styles+"}":R.styles),M&&(E.inserted[R.name]=!0)}}var E={key:t,sheet:new L9({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return E.sheet.hydrate(d),E},av={exports:{}},pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS;function d5(){if(DS)return pt;DS=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,b=n?Symbol.for("react.suspense"):60113,_=n?Symbol.for("react.suspense_list"):60120,x=n?Symbol.for("react.memo"):60115,E=n?Symbol.for("react.lazy"):60116,A=n?Symbol.for("react.block"):60121,I=n?Symbol.for("react.fundamental"):60117,R=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function M(j){if(typeof j=="object"&&j!==null){var Y=j.$$typeof;switch(Y){case e:switch(j=j.type,j){case f:case h:case r:case o:case s:case b:return j;default:switch(j=j&&j.$$typeof,j){case d:case m:case E:case x:case u:return j;default:return Y}}case t:return Y}}}function z(j){return M(j)===h}return pt.AsyncMode=f,pt.ConcurrentMode=h,pt.ContextConsumer=d,pt.ContextProvider=u,pt.Element=e,pt.ForwardRef=m,pt.Fragment=r,pt.Lazy=E,pt.Memo=x,pt.Portal=t,pt.Profiler=o,pt.StrictMode=s,pt.Suspense=b,pt.isAsyncMode=function(j){return z(j)||M(j)===f},pt.isConcurrentMode=z,pt.isContextConsumer=function(j){return M(j)===d},pt.isContextProvider=function(j){return M(j)===u},pt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},pt.isForwardRef=function(j){return M(j)===m},pt.isFragment=function(j){return M(j)===r},pt.isLazy=function(j){return M(j)===E},pt.isMemo=function(j){return M(j)===x},pt.isPortal=function(j){return M(j)===t},pt.isProfiler=function(j){return M(j)===o},pt.isStrictMode=function(j){return M(j)===s},pt.isSuspense=function(j){return M(j)===b},pt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===r||j===h||j===o||j===s||j===b||j===_||typeof j=="object"&&j!==null&&(j.$$typeof===E||j.$$typeof===x||j.$$typeof===u||j.$$typeof===d||j.$$typeof===m||j.$$typeof===I||j.$$typeof===R||j.$$typeof===T||j.$$typeof===A)},pt.typeOf=M,pt}var PS;function f5(){return PS||(PS=1,av.exports=d5()),av.exports}var ov,kS;function h5(){if(kS)return ov;kS=1;var n=f5(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=r,o[n.Memo]=s;function u(E){return n.isMemo(E)?s:o[E.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,_=Object.prototype;function x(E,A,I){if(typeof A!="string"){if(_){var R=b(A);R&&R!==_&&x(E,R,I)}var T=f(A);h&&(T=T.concat(h(A)));for(var M=u(E),z=u(A),j=0;j<T.length;++j){var Y=T[j];if(!t[Y]&&!(I&&I[Y])&&!(z&&z[Y])&&!(M&&M[Y])){var P=m(A,Y);try{d(E,Y,P)}catch{}}}}return E}return ov=x,ov}h5();var p5=!0;function m5(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var yR=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||p5===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},g5=function(e,t,r){yR(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function v5(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var y5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},b5=/[A-Z]|^ms/g,_5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bR=function(e){return e.charCodeAt(1)===45},VS=function(e){return e!=null&&typeof e!="boolean"},lv=n5(function(n){return bR(n)?n:n.replace(b5,"-$&").toLowerCase()}),LS=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(_5,function(r,s,o){return vi={name:s,styles:o,next:vi},s})}return y5[e]!==1&&!bR(e)&&typeof t=="number"&&t!==0?t+"px":t};function Fc(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return vi={name:s.name,styles:s.styles,next:vi},s.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)vi={name:u.name,styles:u.styles,next:vi},u=u.next;var d=o.styles+";";return d}return w5(n,e,t)}case"function":{if(n!==void 0){var f=vi,h=t(n);return vi=f,Fc(n,e,h)}break}}var m=t;return m}function w5(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=Fc(n,e,t[s])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var d=u;VS(d)&&(r+=lv(o)+":"+LS(o,d)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var f=0;f<u.length;f++)VS(u[f])&&(r+=lv(o)+":"+LS(o,u[f])+";");else{var h=Fc(n,e,u);switch(o){case"animation":case"animationName":{r+=lv(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var jS=/label:\s*([^\s;{]+)\s*(;|$)/g,vi;function _R(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";vi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,s+=Fc(t,e,o);else{var u=o;s+=u[0]}for(var d=1;d<n.length;d++)if(s+=Fc(t,e,n[d]),r){var f=o;s+=f[d]}jS.lastIndex=0;for(var h="",m;(m=jS.exec(s))!==null;)h+="-"+m[1];var b=v5(s)+h;return{name:b,styles:s,next:vi}}var E5=function(e){return e()},x5=lE.useInsertionEffect?lE.useInsertionEffect:!1,S5=x5||E5,wR=D.createContext(typeof HTMLElement<"u"?c5({key:"css"}):null);wR.Provider;var T5=function(e){return D.forwardRef(function(t,r){var s=D.useContext(wR);return e(t,s,r)})},A5=D.createContext({}),Bb={}.hasOwnProperty,sy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",C5=function(e,t){var r={};for(var s in t)Bb.call(t,s)&&(r[s]=t[s]);return r[sy]=e,r},R5=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return yR(t,r,s),S5(function(){return g5(t,r,s)}),null},I5=T5(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=n[sy],o=[r],u="";typeof n.className=="string"?u=m5(e.registered,o,n.className):n.className!=null&&(u=n.className+" ");var d=_R(o,void 0,D.useContext(A5));u+=e.key+"-"+d.name;var f={};for(var h in n)Bb.call(n,h)&&h!=="css"&&h!==sy&&(f[h]=n[h]);return f.className=u,t&&(f.ref=t),D.createElement(D.Fragment,null,D.createElement(R5,{cache:e,serialized:d,isStringTag:typeof s=="string"}),D.createElement(s,f))}),N5=I5,Me=function(e,t){var r=arguments;if(t==null||!Bb.call(t,"css"))return D.createElement.apply(void 0,r);var s=r.length,o=new Array(s);o[0]=N5,o[1]=C5(e,t);for(var u=2;u<s;u++)o[u]=r[u];return D.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Me||(Me={}));function zb(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return _R(e)}function O5(){var n=zb.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function M5(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const D5=Math.min,P5=Math.max,qh=Math.round,Ff=Math.floor,$h=n=>({x:n,y:n});function k5(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Np(){return typeof window<"u"}function ER(n){return SR(n)?(n.nodeName||"").toLowerCase():"#document"}function _s(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function xR(n){var e;return(e=(SR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function SR(n){return Np()?n instanceof Node||n instanceof _s(n).Node:!1}function V5(n){return Np()?n instanceof Element||n instanceof _s(n).Element:!1}function Hb(n){return Np()?n instanceof HTMLElement||n instanceof _s(n).HTMLElement:!1}function US(n){return!Np()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof _s(n).ShadowRoot}function TR(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=qb(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function L5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function j5(n){return["html","body","#document"].includes(ER(n))}function qb(n){return _s(n).getComputedStyle(n)}function U5(n){if(ER(n)==="html")return n;const e=n.assignedSlot||n.parentNode||US(n)&&n.host||xR(n);return US(e)?e.host:e}function AR(n){const e=U5(n);return j5(e)?n.ownerDocument?n.ownerDocument.body:n.body:Hb(e)&&TR(e)?e:AR(e)}function Gh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=AR(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),u=_s(s);if(o){const d=ay(u);return e.concat(u,u.visualViewport||[],TR(s)?s:[],d&&t?Gh(d):[])}return e.concat(s,Gh(s,[],t))}function ay(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function F5(n){const e=qb(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Hb(n),o=s?n.offsetWidth:t,u=s?n.offsetHeight:r,d=qh(t)!==o||qh(r)!==u;return d&&(t=o,r=u),{width:t,height:r,$:d}}function $b(n){return V5(n)?n:n.contextElement}function FS(n){const e=$b(n);if(!Hb(e))return $h(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=F5(e);let u=(o?qh(t.width):t.width)/r,d=(o?qh(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const B5=$h(0);function z5(n){const e=_s(n);return!L5()||!e.visualViewport?B5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function H5(n,e,t){return!1}function BS(n,e,t,r){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),o=$b(n);let u=$h(1);e&&(u=FS(n));const d=H5()?z5(o):$h(0);let f=(s.left+d.x)/u.x,h=(s.top+d.y)/u.y,m=s.width/u.x,b=s.height/u.y;if(o){const _=_s(o),x=r;let E=_,A=ay(E);for(;A&&r&&x!==E;){const I=FS(A),R=A.getBoundingClientRect(),T=qb(A),M=R.left+(A.clientLeft+parseFloat(T.paddingLeft))*I.x,z=R.top+(A.clientTop+parseFloat(T.paddingTop))*I.y;f*=I.x,h*=I.y,m*=I.x,b*=I.y,f+=M,h+=z,E=_s(A),A=ay(E)}}return k5({width:m,height:b,x:f,y:h})}function CR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function q5(n,e){let t=null,r;const s=xR(n);function o(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=n.getBoundingClientRect(),{left:m,top:b,width:_,height:x}=h;if(d||e(),!_||!x)return;const E=Ff(b),A=Ff(s.clientWidth-(m+_)),I=Ff(s.clientHeight-(b+x)),R=Ff(m),M={rootMargin:-E+"px "+-A+"px "+-I+"px "+-R+"px",threshold:P5(0,D5(1,f))||1};let z=!0;function j(Y){const P=Y[0].intersectionRatio;if(P!==f){if(!z)return u();P?u(!1,P):r=setTimeout(()=>{u(!1,1e-7)},1e3)}P===1&&!CR(h,n.getBoundingClientRect())&&u(),z=!1}try{t=new IntersectionObserver(j,{...M,root:s.ownerDocument})}catch{t=new IntersectionObserver(j,M)}t.observe(n)}return u(!0),o}function $5(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=$b(n),m=s||o?[...h?Gh(h):[],...Gh(e)]:[];m.forEach(R=>{s&&R.addEventListener("scroll",t,{passive:!0}),o&&R.addEventListener("resize",t)});const b=h&&d?q5(h,t):null;let _=-1,x=null;u&&(x=new ResizeObserver(R=>{let[T]=R;T&&T.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var M;(M=x)==null||M.observe(e)})),t()}),h&&!f&&x.observe(h),x.observe(e));let E,A=f?BS(n):null;f&&I();function I(){const R=BS(n);A&&!CR(A,R)&&t(),A=R,E=requestAnimationFrame(I)}return t(),()=>{var R;m.forEach(T=>{s&&T.removeEventListener("scroll",t),o&&T.removeEventListener("resize",t)}),b==null||b(),(R=x)==null||R.disconnect(),x=null,f&&cancelAnimationFrame(E)}}var oy=D.useLayoutEffect,G5=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Yh=function(){};function Y5(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function K5(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];var o=[].concat(r);if(e&&n)for(var u in e)e.hasOwnProperty(u)&&e[u]&&o.push("".concat(Y5(n,u)));return o.filter(function(d){return d}).map(function(d){return String(d).trim()}).join(" ")}var zS=function(e){return rF(e)?e.filter(Boolean):mo(e)==="object"&&e!==null?[e]:[]},RR=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=Es(e,G5);return Ve({},t)},Lt=function(e,t,r){var s=e.cx,o=e.getStyles,u=e.getClassNames,d=e.className;return{css:o(t,e),className:s(r??{},u(t,e),d)}};function Op(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function Q5(n){return Op(n)?window.innerHeight:n.clientHeight}function IR(n){return Op(n)?window.pageYOffset:n.scrollTop}function Kh(n,e){if(Op(n)){window.scrollTo(0,e);return}n.scrollTop=e}function X5(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function W5(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function Bf(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Yh,s=IR(n),o=e-s,u=10,d=0;function f(){d+=u;var h=W5(d,s,o,t);Kh(n,h),d<t?window.requestAnimationFrame(f):r(n)}f()}function HS(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>t.bottom?Kh(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):r.top-s<t.top&&Kh(n,Math.max(e.offsetTop-s,0))}function Z5(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function qS(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function J5(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var NR=!1,eF={get passive(){return NR=!0}},zf=typeof window<"u"?window:{};zf.addEventListener&&zf.removeEventListener&&(zf.addEventListener("p",Yh,eF),zf.removeEventListener("p",Yh,!1));var tF=NR;function nF(n){return n!=null}function rF(n){return Array.isArray(n)}function Hf(n,e,t){return n?e:t}var iF=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];var o=Object.entries(e).filter(function(u){var d=hs(u,1),f=d[0];return!r.includes(f)});return o.reduce(function(u,d){var f=hs(d,2),h=f[0],m=f[1];return u[h]=m,u},{})},sF=["children","innerProps"],aF=["children","innerProps"];function oF(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,s=n.placement,o=n.shouldScroll,u=n.isFixedPosition,d=n.controlHeight,f=X5(t),h={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return h;var m=f.getBoundingClientRect(),b=m.height,_=t.getBoundingClientRect(),x=_.bottom,E=_.height,A=_.top,I=t.offsetParent.getBoundingClientRect(),R=I.top,T=u?window.innerHeight:Q5(f),M=IR(f),z=parseInt(getComputedStyle(t).marginBottom,10),j=parseInt(getComputedStyle(t).marginTop,10),Y=R-j,P=T-A,N=Y+M,O=b-M-A,V=x-T+M+z,U=M+A-j,B=160;switch(s){case"auto":case"bottom":if(P>=E)return{placement:"bottom",maxHeight:e};if(O>=E&&!u)return o&&Bf(f,V,B),{placement:"bottom",maxHeight:e};if(!u&&O>=r||u&&P>=r){o&&Bf(f,V,B);var k=u?P-z:O-z;return{placement:"bottom",maxHeight:k}}if(s==="auto"||u){var ie=e,oe=u?Y:N;return oe>=r&&(ie=Math.min(oe-z-d,e)),{placement:"top",maxHeight:ie}}if(s==="bottom")return o&&Kh(f,V),{placement:"bottom",maxHeight:e};break;case"top":if(Y>=E)return{placement:"top",maxHeight:e};if(N>=E&&!u)return o&&Bf(f,U,B),{placement:"top",maxHeight:e};if(!u&&N>=r||u&&Y>=r){var $=e;return(!u&&N>=r||u&&Y>=r)&&($=u?Y-j:N-j),o&&Bf(f,U,B),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return h}function lF(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var OR=function(e){return e==="auto"?"bottom":e},uF=function(e,t){var r,s=e.placement,o=e.theme,u=o.borderRadius,d=o.spacing,f=o.colors;return Ve((r={label:"menu"},pc(r,lF(s),"100%"),pc(r,"position","absolute"),pc(r,"width","100%"),pc(r,"zIndex",1),r),t?{}:{backgroundColor:f.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:d.menuGutter,marginTop:d.menuGutter})},MR=D.createContext(null),cF=function(e){var t=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,o=e.menuPlacement,u=e.menuPosition,d=e.menuShouldScrollIntoView,f=e.theme,h=D.useContext(MR)||{},m=h.setPortalPlacement,b=D.useRef(null),_=D.useState(s),x=hs(_,2),E=x[0],A=x[1],I=D.useState(null),R=hs(I,2),T=R[0],M=R[1],z=f.spacing.controlHeight;return oy(function(){var j=b.current;if(j){var Y=u==="fixed",P=d&&!Y,N=oF({maxHeight:s,menuEl:j,minHeight:r,placement:o,shouldScroll:P,isFixedPosition:Y,controlHeight:z});A(N.maxHeight),M(N.placement),m==null||m(N.placement)}},[s,o,u,d,r,m,z]),t({ref:b,placerProps:Ve(Ve({},e),{},{placement:T||OR(o),maxHeight:E})})},dF=function(e){var t=e.children,r=e.innerRef,s=e.innerProps;return Me("div",Ue({},Lt(e,"menu",{menu:!0}),{ref:r},s),t)},fF=dF,hF=function(e,t){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return Ve({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},pF=function(e){var t=e.children,r=e.innerProps,s=e.innerRef,o=e.isMulti;return Me("div",Ue({},Lt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:s},r),t)},DR=function(e,t){var r=e.theme,s=r.spacing.baseUnit,o=r.colors;return Ve({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},mF=DR,gF=DR,vF=function(e){var t=e.children,r=t===void 0?"No options":t,s=e.innerProps,o=Es(e,sF);return Me("div",Ue({},Lt(Ve(Ve({},o),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},yF=function(e){var t=e.children,r=t===void 0?"Loading...":t,s=e.innerProps,o=Es(e,aF);return Me("div",Ue({},Lt(Ve(Ve({},o),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},bF=function(e){var t=e.rect,r=e.offset,s=e.position;return{left:t.left,position:s,top:r,width:t.width,zIndex:1}},_F=function(e){var t=e.appendTo,r=e.children,s=e.controlElement,o=e.innerProps,u=e.menuPlacement,d=e.menuPosition,f=D.useRef(null),h=D.useRef(null),m=D.useState(OR(u)),b=hs(m,2),_=b[0],x=b[1],E=D.useMemo(function(){return{setPortalPlacement:x}},[]),A=D.useState(null),I=hs(A,2),R=I[0],T=I[1],M=D.useCallback(function(){if(s){var P=Z5(s),N=d==="fixed"?0:window.pageYOffset,O=P[_]+N;(O!==(R==null?void 0:R.offset)||P.left!==(R==null?void 0:R.rect.left)||P.width!==(R==null?void 0:R.rect.width))&&T({offset:O,rect:P})}},[s,d,_,R==null?void 0:R.offset,R==null?void 0:R.rect.left,R==null?void 0:R.rect.width]);oy(function(){M()},[M]);var z=D.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),s&&f.current&&(h.current=$5(s,f.current,M,{elementResize:"ResizeObserver"in window}))},[s,M]);oy(function(){z()},[z]);var j=D.useCallback(function(P){f.current=P,z()},[z]);if(!t&&d!=="fixed"||!R)return null;var Y=Me("div",Ue({ref:j},Lt(Ve(Ve({},e),{},{offset:R.offset,position:d,rect:R.rect}),"menuPortal",{"menu-portal":!0}),o),r);return Me(MR.Provider,{value:E},t?aO.createPortal(Y,t):Y)},wF=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},EF=function(e){var t=e.children,r=e.innerProps,s=e.isDisabled,o=e.isRtl;return Me("div",Ue({},Lt(e,"container",{"--is-disabled":s,"--is-rtl":o}),r),t)},xF=function(e,t){var r=e.theme.spacing,s=e.isMulti,o=e.hasValue,u=e.selectProps.controlShouldRenderValue;return Ve({alignItems:"center",display:s&&o&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},SF=function(e){var t=e.children,r=e.innerProps,s=e.isMulti,o=e.hasValue;return Me("div",Ue({},Lt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":o}),r),t)},TF=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},AF=function(e){var t=e.children,r=e.innerProps;return Me("div",Ue({},Lt(e,"indicatorsContainer",{indicators:!0}),r),t)},$S,CF=["size"],RF=["innerProps","isRtl","size"],IF={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},PR=function(e){var t=e.size,r=Es(e,CF);return Me("svg",Ue({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:IF},r))},Gb=function(e){return Me(PR,Ue({size:20},e),Me("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},kR=function(e){return Me(PR,Ue({size:20},e),Me("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},VR=function(e,t){var r=e.isFocused,s=e.theme,o=s.spacing.baseUnit,u=s.colors;return Ve({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?u.neutral60:u.neutral20,padding:o*2,":hover":{color:r?u.neutral80:u.neutral40}})},NF=VR,OF=function(e){var t=e.children,r=e.innerProps;return Me("div",Ue({},Lt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||Me(kR,null))},MF=VR,DF=function(e){var t=e.children,r=e.innerProps;return Me("div",Ue({},Lt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||Me(Gb,null))},PF=function(e,t){var r=e.isDisabled,s=e.theme,o=s.spacing.baseUnit,u=s.colors;return Ve({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:o*2,marginTop:o*2})},kF=function(e){var t=e.innerProps;return Me("span",Ue({},t,Lt(e,"indicatorSeparator",{"indicator-separator":!0})))},VF=O5($S||($S=M5([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),LF=function(e,t){var r=e.isFocused,s=e.size,o=e.theme,u=o.colors,d=o.spacing.baseUnit;return Ve({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?u.neutral60:u.neutral20,padding:d*2})},uv=function(e){var t=e.delay,r=e.offset;return Me("span",{css:zb({animation:"".concat(VF," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},jF=function(e){var t=e.innerProps,r=e.isRtl,s=e.size,o=s===void 0?4:s,u=Es(e,RF);return Me("div",Ue({},Lt(Ve(Ve({},u),{},{innerProps:t,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Me(uv,{delay:0,offset:r}),Me(uv,{delay:160,offset:!0}),Me(uv,{delay:320,offset:!r}))},UF=function(e,t){var r=e.isDisabled,s=e.isFocused,o=e.theme,u=o.colors,d=o.borderRadius,f=o.spacing;return Ve({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:s?u.primary:u.neutral20,borderRadius:d,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:s?u.primary:u.neutral30}})},FF=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,o=e.innerRef,u=e.innerProps,d=e.menuIsOpen;return Me("div",Ue({ref:o},Lt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":d}),u,{"aria-disabled":r||void 0}),t)},BF=FF,zF=["data"],HF=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},qF=function(e){var t=e.children,r=e.cx,s=e.getStyles,o=e.getClassNames,u=e.Heading,d=e.headingProps,f=e.innerProps,h=e.label,m=e.theme,b=e.selectProps;return Me("div",Ue({},Lt(e,"group",{group:!0}),f),Me(u,Ue({},d,{selectProps:b,theme:m,getStyles:s,getClassNames:o,cx:r}),h),Me("div",null,t))},$F=function(e,t){var r=e.theme,s=r.colors,o=r.spacing;return Ve({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},GF=function(e){var t=RR(e);t.data;var r=Es(t,zF);return Me("div",Ue({},Lt(e,"groupHeading",{"group-heading":!0}),r))},YF=qF,KF=["innerRef","isDisabled","isHidden","inputClassName"],QF=function(e,t){var r=e.isDisabled,s=e.value,o=e.theme,u=o.spacing,d=o.colors;return Ve(Ve({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},XF),t?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:d.neutral80})},LR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},XF={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ve({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},LR)},WF=function(e){return Ve({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},LR)},ZF=function(e){var t=e.cx,r=e.value,s=RR(e),o=s.innerRef,u=s.isDisabled,d=s.isHidden,f=s.inputClassName,h=Es(s,KF);return Me("div",Ue({},Lt(e,"input",{"input-container":!0}),{"data-value":r||""}),Me("input",Ue({className:t({input:!0},f),ref:o,style:WF(d),disabled:u},h)))},JF=ZF,eB=function(e,t){var r=e.theme,s=r.spacing,o=r.borderRadius,u=r.colors;return Ve({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:u.neutral10,borderRadius:o/2,margin:s.baseUnit/2})},tB=function(e,t){var r=e.theme,s=r.borderRadius,o=r.colors,u=e.cropWithEllipsis;return Ve({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},nB=function(e,t){var r=e.theme,s=r.spacing,o=r.borderRadius,u=r.colors,d=e.isFocused;return Ve({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:d?u.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},jR=function(e){var t=e.children,r=e.innerProps;return Me("div",r,t)},rB=jR,iB=jR;function sB(n){var e=n.children,t=n.innerProps;return Me("div",Ue({role:"button"},t),e||Me(Gb,{size:14}))}var aB=function(e){var t=e.children,r=e.components,s=e.data,o=e.innerProps,u=e.isDisabled,d=e.removeProps,f=e.selectProps,h=r.Container,m=r.Label,b=r.Remove;return Me(h,{data:s,innerProps:Ve(Ve({},Lt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),o),selectProps:f},Me(m,{data:s,innerProps:Ve({},Lt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},t),Me(b,{data:s,innerProps:Ve(Ve({},Lt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},d),selectProps:f}))},oB=aB,lB=function(e,t){var r=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.theme,d=u.spacing,f=u.colors;return Ve({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?f.primary:s?f.primary25:"transparent",color:r?f.neutral20:o?f.neutral0:"inherit",padding:"".concat(d.baseUnit*2,"px ").concat(d.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?f.primary:f.primary50}})},uB=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.innerRef,d=e.innerProps;return Me("div",Ue({},Lt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":o}),{ref:u,"aria-disabled":r},d),t)},cB=uB,dB=function(e,t){var r=e.theme,s=r.spacing,o=r.colors;return Ve({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},fB=function(e){var t=e.children,r=e.innerProps;return Me("div",Ue({},Lt(e,"placeholder",{placeholder:!0}),r),t)},hB=fB,pB=function(e,t){var r=e.isDisabled,s=e.theme,o=s.spacing,u=s.colors;return Ve({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?u.neutral40:u.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},mB=function(e){var t=e.children,r=e.isDisabled,s=e.innerProps;return Me("div",Ue({},Lt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),t)},gB=mB,vB={ClearIndicator:DF,Control:BF,DropdownIndicator:OF,DownChevron:kR,CrossIcon:Gb,Group:YF,GroupHeading:GF,IndicatorsContainer:AF,IndicatorSeparator:kF,Input:JF,LoadingIndicator:jF,Menu:fF,MenuList:pF,MenuPortal:_F,LoadingMessage:yF,NoOptionsMessage:vF,MultiValue:oB,MultiValueContainer:rB,MultiValueLabel:iB,MultiValueRemove:sB,Option:cB,Placeholder:hB,SelectContainer:EF,SingleValue:gB,ValueContainer:SF},yB=function(e){return Ve(Ve({},vB),e.components)},GS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function bB(n,e){return!!(n===e||GS(n)&&GS(e))}function _B(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!bB(n[t],e[t]))return!1;return!0}function wB(n,e){e===void 0&&(e=_B);var t=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var u=n.apply(this,s);return t={lastResult:u,lastArgs:s,lastThis:this},u}return r.clear=function(){t=null},r}var EB={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},xB=function(e){return Me("span",Ue({css:EB},e))},YS=xB,SB={guidance:function(e){var t=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,o=e.context,u=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,s=r===void 0?"":r,o=e.labels,u=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,s=e.options,o=e.label,u=o===void 0?"":o,d=e.selectValue,f=e.isDisabled,h=e.isSelected,m=e.isAppleDevice,b=function(A,I){return A&&A.length?"".concat(A.indexOf(I)+1," of ").concat(A.length):""};if(t==="value"&&d)return"value ".concat(u," focused, ").concat(b(d,r),".");if(t==="menu"&&m){var _=f?" disabled":"",x="".concat(h?" selected":"").concat(_);return"".concat(u).concat(x,", ").concat(b(s,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},TB=function(e){var t=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,o=e.focusableOptions,u=e.isFocused,d=e.selectValue,f=e.selectProps,h=e.id,m=e.isAppleDevice,b=f.ariaLiveMessages,_=f.getOptionLabel,x=f.inputValue,E=f.isMulti,A=f.isOptionDisabled,I=f.isSearchable,R=f.menuIsOpen,T=f.options,M=f.screenReaderStatus,z=f.tabSelectsValue,j=f.isLoading,Y=f["aria-label"],P=f["aria-live"],N=D.useMemo(function(){return Ve(Ve({},SB),b||{})},[b]),O=D.useMemo(function(){var oe="";if(t&&N.onChange){var $=t.option,re=t.options,he=t.removedValue,be=t.removedValues,q=t.value,le=function(Ye){return Array.isArray(Ye)?null:Ye},me=he||$||le(q),pe=me?_(me):"",Te=re||be||void 0,ke=Te?Te.map(_):[],Ie=Ve({isDisabled:me&&A(me,d),label:pe,labels:ke},t);oe=N.onChange(Ie)}return oe},[t,N,A,d,_]),V=D.useMemo(function(){var oe="",$=r||s,re=!!(r&&d&&d.includes(r));if($&&N.onFocus){var he={focused:$,label:_($),isDisabled:A($,d),isSelected:re,options:o,context:$===r?"menu":"value",selectValue:d,isAppleDevice:m};oe=N.onFocus(he)}return oe},[r,s,_,A,N,o,d,m]),U=D.useMemo(function(){var oe="";if(R&&T.length&&!j&&N.onFilter){var $=M({count:o.length});oe=N.onFilter({inputValue:x,resultsMessage:$})}return oe},[o,x,R,N,T,M,j]),B=(t==null?void 0:t.action)==="initial-input-focus",k=D.useMemo(function(){var oe="";if(N.guidance){var $=s?"value":R?"menu":"input";oe=N.guidance({"aria-label":Y,context:$,isDisabled:r&&A(r,d),isMulti:E,isSearchable:I,tabSelectsValue:z,isInitialFocus:B})}return oe},[Y,r,s,E,A,I,R,N,d,z,B]),ie=Me(D.Fragment,null,Me("span",{id:"aria-selection"},O),Me("span",{id:"aria-focused"},V),Me("span",{id:"aria-results"},U),Me("span",{id:"aria-guidance"},k));return Me(D.Fragment,null,Me(YS,{id:h},B&&ie),Me(YS,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!B&&ie))},AB=TB,ly=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],CB=new RegExp("["+ly.map(function(n){return n.letters}).join("")+"]","g"),UR={};for(var cv=0;cv<ly.length;cv++)for(var dv=ly[cv],fv=0;fv<dv.letters.length;fv++)UR[dv.letters[fv]]=dv.base;var FR=function(e){return e.replace(CB,function(t){return UR[t]})},RB=wB(FR),KS=function(e){return e.replace(/^\s+|\s+$/g,"")},IB=function(e){return"".concat(e.label," ").concat(e.value)},NB=function(e){return function(t,r){if(t.data.__isNew__)return!0;var s=Ve({ignoreCase:!0,ignoreAccents:!0,stringify:IB,trim:!0,matchFrom:"any"},e),o=s.ignoreCase,u=s.ignoreAccents,d=s.stringify,f=s.trim,h=s.matchFrom,m=f?KS(r):r,b=f?KS(d(t)):d(t);return o&&(m=m.toLowerCase(),b=b.toLowerCase()),u&&(m=RB(m),b=FR(b)),h==="start"?b.substr(0,m.length)===m:b.indexOf(m)>-1}},OB=["innerRef"];function MB(n){var e=n.innerRef,t=Es(n,OB),r=iF(t,"onExited","in","enter","exit","appear");return Me("input",Ue({ref:e},r,{css:zb({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var DB=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function PB(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,s=n.onTopArrive,o=n.onTopLeave,u=D.useRef(!1),d=D.useRef(!1),f=D.useRef(0),h=D.useRef(null),m=D.useCallback(function(I,R){if(h.current!==null){var T=h.current,M=T.scrollTop,z=T.scrollHeight,j=T.clientHeight,Y=h.current,P=R>0,N=z-j-M,O=!1;N>R&&u.current&&(r&&r(I),u.current=!1),P&&d.current&&(o&&o(I),d.current=!1),P&&R>N?(t&&!u.current&&t(I),Y.scrollTop=z,O=!0,u.current=!0):!P&&-R>M&&(s&&!d.current&&s(I),Y.scrollTop=0,O=!0,d.current=!0),O&&DB(I)}},[t,r,s,o]),b=D.useCallback(function(I){m(I,I.deltaY)},[m]),_=D.useCallback(function(I){f.current=I.changedTouches[0].clientY},[]),x=D.useCallback(function(I){var R=f.current-I.changedTouches[0].clientY;m(I,R)},[m]),E=D.useCallback(function(I){if(I){var R=tF?{passive:!1}:!1;I.addEventListener("wheel",b,R),I.addEventListener("touchstart",_,R),I.addEventListener("touchmove",x,R)}},[x,_,b]),A=D.useCallback(function(I){I&&(I.removeEventListener("wheel",b,!1),I.removeEventListener("touchstart",_,!1),I.removeEventListener("touchmove",x,!1))},[x,_,b]);return D.useEffect(function(){if(e){var I=h.current;return E(I),function(){A(I)}}},[e,E,A]),function(I){h.current=I}}var QS=["boxSizing","height","overflow","paddingRight","position"],XS={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function WS(n){n.cancelable&&n.preventDefault()}function ZS(n){n.stopPropagation()}function JS(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function eT(){return"ontouchstart"in window||navigator.maxTouchPoints}var tT=!!(typeof window<"u"&&window.document&&window.document.createElement),ac=0,fl={capture:!1,passive:!1};function kB(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,s=D.useRef({}),o=D.useRef(null),u=D.useCallback(function(f){if(tT){var h=document.body,m=h&&h.style;if(r&&QS.forEach(function(E){var A=m&&m[E];s.current[E]=A}),r&&ac<1){var b=parseInt(s.current.paddingRight,10)||0,_=document.body?document.body.clientWidth:0,x=window.innerWidth-_+b||0;Object.keys(XS).forEach(function(E){var A=XS[E];m&&(m[E]=A)}),m&&(m.paddingRight="".concat(x,"px"))}h&&eT()&&(h.addEventListener("touchmove",WS,fl),f&&(f.addEventListener("touchstart",JS,fl),f.addEventListener("touchmove",ZS,fl))),ac+=1}},[r]),d=D.useCallback(function(f){if(tT){var h=document.body,m=h&&h.style;ac=Math.max(ac-1,0),r&&ac<1&&QS.forEach(function(b){var _=s.current[b];m&&(m[b]=_)}),h&&eT()&&(h.removeEventListener("touchmove",WS,fl),f&&(f.removeEventListener("touchstart",JS,fl),f.removeEventListener("touchmove",ZS,fl)))}},[r]);return D.useEffect(function(){if(e){var f=o.current;return u(f),function(){d(f)}}},[e,u,d]),function(f){o.current=f}}var VB=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},LB={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function jB(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,s=r===void 0?!0:r,o=n.onBottomArrive,u=n.onBottomLeave,d=n.onTopArrive,f=n.onTopLeave,h=PB({isEnabled:s,onBottomArrive:o,onBottomLeave:u,onTopArrive:d,onTopLeave:f}),m=kB({isEnabled:t}),b=function(x){h(x),m(x)};return Me(D.Fragment,null,t&&Me("div",{onClick:VB,css:LB}),e(b))}var UB={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},FB=function(e){var t=e.name,r=e.onFocus;return Me("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:UB,value:"",onChange:function(){}})},BB=FB;function Yb(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function zB(){return Yb(/^iPhone/i)}function BR(){return Yb(/^Mac/i)}function HB(){return Yb(/^iPad/i)||BR()&&navigator.maxTouchPoints>1}function qB(){return zB()||HB()}function $B(){return BR()||qB()}var GB=function(e){return e.label},YB=function(e){return e.label},KB=function(e){return e.value},QB=function(e){return!!e.isDisabled},XB={clearIndicator:MF,container:wF,control:UF,dropdownIndicator:NF,group:HF,groupHeading:$F,indicatorsContainer:TF,indicatorSeparator:PF,input:QF,loadingIndicator:LF,loadingMessage:gF,menu:uF,menuList:hF,menuPortal:bF,multiValue:eB,multiValueLabel:tB,multiValueRemove:nB,noOptionsMessage:mF,option:lB,placeholder:dB,singleValue:pB,valueContainer:xF},WB={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},ZB=4,zR=4,JB=38,ez=zR*2,tz={baseUnit:zR,controlHeight:JB,menuGutter:ez},hv={borderRadius:ZB,colors:WB,spacing:tz},nz={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:qS(),captureMenuScroll:!qS(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:NB(),formatGroupLabel:GB,getOptionLabel:YB,getOptionValue:KB,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:QB,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!J5(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function nT(n,e,t,r){var s=$R(n,e,t),o=GR(n,e,t),u=qR(n,e),d=Qh(n,e);return{type:"option",data:e,isDisabled:s,isSelected:o,label:u,value:d,index:r}}function oh(n,e){return n.options.map(function(t,r){if("options"in t){var s=t.options.map(function(u,d){return nT(n,u,e,d)}).filter(function(u){return iT(n,u)});return s.length>0?{type:"group",data:t,options:s,index:r}:void 0}var o=nT(n,t,e,r);return iT(n,o)?o:void 0}).filter(nF)}function HR(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Lb(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function rT(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Lb(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function rz(n,e){return HR(oh(n,e))}function iT(n,e){var t=n.inputValue,r=t===void 0?"":t,s=e.data,o=e.isSelected,u=e.label,d=e.value;return(!KR(n)||!o)&&YR(n,{label:u,value:d,data:s},r)}function iz(n,e){var t=n.focusedValue,r=n.selectValue,s=r.indexOf(t);if(s>-1){var o=e.indexOf(t);if(o>-1)return t;if(s<e.length)return e[s]}return null}function sz(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var pv=function(e,t){var r,s=(r=e.find(function(o){return o.data===t}))===null||r===void 0?void 0:r.id;return s||null},qR=function(e,t){return e.getOptionLabel(t)},Qh=function(e,t){return e.getOptionValue(t)};function $R(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function GR(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=Qh(n,e);return t.some(function(s){return Qh(n,s)===r})}function YR(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var KR=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},az=1,QR=function(n){R9(t,n);var e=O9(t);function t(r){var s;if(A9(this,t),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=$B(),s.controlRef=null,s.getControlRef=function(f){s.controlRef=f},s.focusedOptionRef=null,s.getFocusedOptionRef=function(f){s.focusedOptionRef=f},s.menuListRef=null,s.getMenuListRef=function(f){s.menuListRef=f},s.inputRef=null,s.getInputRef=function(f){s.inputRef=f},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(f,h){var m=s.props,b=m.onChange,_=m.name;h.name=_,s.ariaOnChange(f,h),b(f,h)},s.setValue=function(f,h,m){var b=s.props,_=b.closeMenuOnSelect,x=b.isMulti,E=b.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:E}),_&&(s.setState({inputIsHiddenAfterUpdate:!x}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(f,{action:h,option:m})},s.selectOption=function(f){var h=s.props,m=h.blurInputOnSelect,b=h.isMulti,_=h.name,x=s.state.selectValue,E=b&&s.isOptionSelected(f,x),A=s.isOptionDisabled(f,x);if(E){var I=s.getOptionValue(f);s.setValue(x.filter(function(R){return s.getOptionValue(R)!==I}),"deselect-option",f)}else if(!A)b?s.setValue([].concat(Lb(x),[f]),"select-option",f):s.setValue(f,"select-option");else{s.ariaOnChange(f,{action:"select-option",option:f,name:_});return}m&&s.blurInput()},s.removeValue=function(f){var h=s.props.isMulti,m=s.state.selectValue,b=s.getOptionValue(f),_=m.filter(function(E){return s.getOptionValue(E)!==b}),x=Hf(h,_,_[0]||null);s.onChange(x,{action:"remove-value",removedValue:f}),s.focusInput()},s.clearValue=function(){var f=s.state.selectValue;s.onChange(Hf(s.props.isMulti,[],null),{action:"clear",removedValues:f})},s.popValue=function(){var f=s.props.isMulti,h=s.state.selectValue,m=h[h.length-1],b=h.slice(0,h.length-1),_=Hf(f,b,b[0]||null);m&&s.onChange(_,{action:"pop-value",removedValue:m})},s.getFocusedOptionId=function(f){return pv(s.state.focusableOptionsWithIds,f)},s.getFocusableOptionsWithIds=function(){return rT(oh(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];return K5.apply(void 0,[s.props.classNamePrefix].concat(h))},s.getOptionLabel=function(f){return qR(s.props,f)},s.getOptionValue=function(f){return Qh(s.props,f)},s.getStyles=function(f,h){var m=s.props.unstyled,b=XB[f](h,m);b.boxSizing="border-box";var _=s.props.styles[f];return _?_(b,h):b},s.getClassNames=function(f,h){var m,b;return(m=(b=s.props.classNames)[f])===null||m===void 0?void 0:m.call(b,h)},s.getElementId=function(f){return"".concat(s.state.instancePrefix,"-").concat(f)},s.getComponents=function(){return yB(s.props)},s.buildCategorizedOptions=function(){return oh(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return HR(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(f,h){s.setState({ariaSelection:Ve({value:f},h)})},s.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(f){s.blockOptionHover=!1},s.onControlMouseDown=function(f){if(!f.defaultPrevented){var h=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&s.onMenuClose():h&&s.openMenu("first"):(h&&(s.openAfterFocus=!0),s.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},s.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!s.props.isDisabled){var h=s.props,m=h.isMulti,b=h.menuIsOpen;s.focusInput(),b?(s.setState({inputIsHiddenAfterUpdate:!m}),s.onMenuClose()):s.openMenu("first"),f.preventDefault()}},s.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(s.clearValue(),f.preventDefault(),s.openAfterFocus=!1,f.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(f){typeof s.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&Op(f.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(f)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(f){var h=f.touches,m=h&&h.item(0);m&&(s.initialTouchX=m.clientX,s.initialTouchY=m.clientY,s.userIsDragging=!1)},s.onTouchMove=function(f){var h=f.touches,m=h&&h.item(0);if(m){var b=Math.abs(m.clientX-s.initialTouchX),_=Math.abs(m.clientY-s.initialTouchY),x=5;s.userIsDragging=b>x||_>x}},s.onTouchEnd=function(f){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(f.target)&&s.menuListRef&&!s.menuListRef.contains(f.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(f){s.userIsDragging||s.onControlMouseDown(f)},s.onClearIndicatorTouchEnd=function(f){s.userIsDragging||s.onClearIndicatorMouseDown(f)},s.onDropdownIndicatorTouchEnd=function(f){s.userIsDragging||s.onDropdownIndicatorMouseDown(f)},s.handleInputChange=function(f){var h=s.props.inputValue,m=f.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(m,{action:"input-change",prevInputValue:h}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(f){s.props.onFocus&&s.props.onFocus(f),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(f){var h=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(f),s.onInputChange("",{action:"input-blur",prevInputValue:h}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(f){if(!(s.blockOptionHover||s.state.focusedOption===f)){var h=s.getFocusableOptions(),m=h.indexOf(f);s.setState({focusedOption:f,focusedOptionId:m>-1?s.getFocusedOptionId(f):null})}},s.shouldHideSelectedOptions=function(){return KR(s.props)},s.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),s.focus()},s.onKeyDown=function(f){var h=s.props,m=h.isMulti,b=h.backspaceRemovesValue,_=h.escapeClearsValue,x=h.inputValue,E=h.isClearable,A=h.isDisabled,I=h.menuIsOpen,R=h.onKeyDown,T=h.tabSelectsValue,M=h.openMenuOnFocus,z=s.state,j=z.focusedOption,Y=z.focusedValue,P=z.selectValue;if(!A&&!(typeof R=="function"&&(R(f),f.defaultPrevented))){switch(s.blockOptionHover=!0,f.key){case"ArrowLeft":if(!m||x)return;s.focusValue("previous");break;case"ArrowRight":if(!m||x)return;s.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(Y)s.removeValue(Y);else{if(!b)return;m?s.popValue():E&&s.clearValue()}break;case"Tab":if(s.isComposing||f.shiftKey||!I||!T||!j||M&&s.isOptionSelected(j,P))return;s.selectOption(j);break;case"Enter":if(f.keyCode===229)break;if(I){if(!j||s.isComposing)return;s.selectOption(j);break}return;case"Escape":I?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:x}),s.onMenuClose()):E&&_&&s.clearValue();break;case" ":if(x)return;if(!I){s.openMenu("first");break}if(!j)return;s.selectOption(j);break;case"ArrowUp":I?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":I?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!I)return;s.focusOption("pageup");break;case"PageDown":if(!I)return;s.focusOption("pagedown");break;case"Home":if(!I)return;s.focusOption("first");break;case"End":if(!I)return;s.focusOption("last");break;default:return}f.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++az),s.state.selectValue=zS(r.value),r.menuIsOpen&&s.state.selectValue.length){var o=s.getFocusableOptionsWithIds(),u=s.buildFocusableOptions(),d=u.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=o,s.state.focusedOption=u[d],s.state.focusedOptionId=pv(o,u[d])}return s}return C9(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&HS(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var o=this.props,u=o.isDisabled,d=o.menuIsOpen,f=this.state.isFocused;(f&&!u&&s.isDisabled||f&&d&&!s.menuIsOpen)&&this.focusInput(),f&&u&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!u&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(HS(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,o){this.props.onInputChange(s,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var o=this,u=this.state,d=u.selectValue,f=u.isFocused,h=this.buildFocusableOptions(),m=s==="first"?0:h.length-1;if(!this.props.isMulti){var b=h.indexOf(d[0]);b>-1&&(m=b)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[m],focusedOptionId:this.getFocusedOptionId(h[m])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(s){var o=this.state,u=o.selectValue,d=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=u.indexOf(d);d||(f=-1);var h=u.length-1,m=-1;if(u.length){switch(s){case"previous":f===0?m=0:f===-1?m=h:m=f-1;break;case"next":f>-1&&f<h&&(m=f+1);break}this.setState({inputIsHidden:m!==-1,focusedValue:u[m]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,u=this.state.focusedOption,d=this.getFocusableOptions();if(d.length){var f=0,h=d.indexOf(u);u||(h=-1),s==="up"?f=h>0?h-1:d.length-1:s==="down"?f=(h+1)%d.length:s==="pageup"?(f=h-o,f<0&&(f=0)):s==="pagedown"?(f=h+o,f>d.length-1&&(f=d.length-1)):s==="last"&&(f=d.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:d[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(d[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(hv):Ve(Ve({},hv),this.props.theme):hv}},{key:"getCommonProps",value:function(){var s=this.clearValue,o=this.cx,u=this.getStyles,d=this.getClassNames,f=this.getValue,h=this.selectOption,m=this.setValue,b=this.props,_=b.isMulti,x=b.isRtl,E=b.options,A=this.hasValue();return{clearValue:s,cx:o,getStyles:u,getClassNames:d,getValue:f,hasValue:A,isMulti:_,isRtl:x,options:E,selectOption:h,selectProps:b,setValue:m,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,o=s.isClearable,u=s.isMulti;return o===void 0?u:o}},{key:"isOptionDisabled",value:function(s,o){return $R(this.props,s,o)}},{key:"isOptionSelected",value:function(s,o){return GR(this.props,s,o)}},{key:"filterOption",value:function(s,o){return YR(this.props,s,o)}},{key:"formatOptionLabel",value:function(s,o){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,d=this.state.selectValue;return this.props.formatOptionLabel(s,{context:o,inputValue:u,selectValue:d})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,o=s.isDisabled,u=s.isSearchable,d=s.inputId,f=s.inputValue,h=s.tabIndex,m=s.form,b=s.menuIsOpen,_=s.required,x=this.getComponents(),E=x.Input,A=this.state,I=A.inputIsHidden,R=A.ariaSelection,T=this.commonProps,M=d||this.getElementId("input"),z=Ve(Ve(Ve({"aria-autocomplete":"list","aria-expanded":b,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":_,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},b&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(R==null?void 0:R.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?D.createElement(E,Ue({},T,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:M,innerRef:this.getInputRef,isDisabled:o,isHidden:I,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:m,type:"text",value:f},z)):D.createElement(MB,Ue({id:M,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Yh,onFocus:this.onInputFocus,disabled:o,tabIndex:h,inputMode:"none",form:m,value:""},z))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,o=this.getComponents(),u=o.MultiValue,d=o.MultiValueContainer,f=o.MultiValueLabel,h=o.MultiValueRemove,m=o.SingleValue,b=o.Placeholder,_=this.commonProps,x=this.props,E=x.controlShouldRenderValue,A=x.isDisabled,I=x.isMulti,R=x.inputValue,T=x.placeholder,M=this.state,z=M.selectValue,j=M.focusedValue,Y=M.isFocused;if(!this.hasValue()||!E)return R?null:D.createElement(b,Ue({},_,{key:"placeholder",isDisabled:A,isFocused:Y,innerProps:{id:this.getElementId("placeholder")}}),T);if(I)return z.map(function(N,O){var V=N===j,U="".concat(s.getOptionLabel(N),"-").concat(s.getOptionValue(N));return D.createElement(u,Ue({},_,{components:{Container:d,Label:f,Remove:h},isFocused:V,isDisabled:A,key:U,index:O,removeProps:{onClick:function(){return s.removeValue(N)},onTouchEnd:function(){return s.removeValue(N)},onMouseDown:function(k){k.preventDefault()}},data:N}),s.formatOptionLabel(N,"value"))});if(R)return null;var P=z[0];return D.createElement(m,Ue({},_,{data:P,isDisabled:A}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),o=s.ClearIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,h=d.isLoading,m=this.state.isFocused;if(!this.isClearable()||!o||f||!this.hasValue()||h)return null;var b={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return D.createElement(o,Ue({},u,{innerProps:b,isFocused:m}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),o=s.LoadingIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,h=d.isLoading,m=this.state.isFocused;if(!o||!h)return null;var b={"aria-hidden":"true"};return D.createElement(o,Ue({},u,{innerProps:b,isDisabled:f,isFocused:m}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator,u=s.IndicatorSeparator;if(!o||!u)return null;var d=this.commonProps,f=this.props.isDisabled,h=this.state.isFocused;return D.createElement(u,Ue({},d,{isDisabled:f,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator;if(!o)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return D.createElement(o,Ue({},u,{innerProps:h,isDisabled:d,isFocused:f}))}},{key:"renderMenu",value:function(){var s=this,o=this.getComponents(),u=o.Group,d=o.GroupHeading,f=o.Menu,h=o.MenuList,m=o.MenuPortal,b=o.LoadingMessage,_=o.NoOptionsMessage,x=o.Option,E=this.commonProps,A=this.state.focusedOption,I=this.props,R=I.captureMenuScroll,T=I.inputValue,M=I.isLoading,z=I.loadingMessage,j=I.minMenuHeight,Y=I.maxMenuHeight,P=I.menuIsOpen,N=I.menuPlacement,O=I.menuPosition,V=I.menuPortalTarget,U=I.menuShouldBlockScroll,B=I.menuShouldScrollIntoView,k=I.noOptionsMessage,ie=I.onMenuScrollToTop,oe=I.onMenuScrollToBottom;if(!P)return null;var $=function(pe,Te){var ke=pe.type,Ie=pe.data,lt=pe.isDisabled,Ye=pe.isSelected,Ft=pe.label,On=pe.value,we=A===Ie,Ee=lt?void 0:function(){return s.onOptionHover(Ie)},Ge=lt?void 0:function(){return s.selectOption(Ie)},Ze="".concat(s.getElementId("option"),"-").concat(Te),Rt={id:Ze,onClick:Ge,onMouseMove:Ee,onMouseOver:Ee,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:Ye};return D.createElement(x,Ue({},E,{innerProps:Rt,data:Ie,isDisabled:lt,isSelected:Ye,key:Ze,label:Ft,type:ke,value:On,isFocused:we,innerRef:we?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(pe.data,"menu"))},re;if(this.hasOptions())re=this.getCategorizedOptions().map(function(me){if(me.type==="group"){var pe=me.data,Te=me.options,ke=me.index,Ie="".concat(s.getElementId("group"),"-").concat(ke),lt="".concat(Ie,"-heading");return D.createElement(u,Ue({},E,{key:Ie,data:pe,options:Te,Heading:d,headingProps:{id:lt,data:me.data},label:s.formatGroupLabel(me.data)}),me.options.map(function(Ye){return $(Ye,"".concat(ke,"-").concat(Ye.index))}))}else if(me.type==="option")return $(me,"".concat(me.index))});else if(M){var he=z({inputValue:T});if(he===null)return null;re=D.createElement(b,E,he)}else{var be=k({inputValue:T});if(be===null)return null;re=D.createElement(_,E,be)}var q={minMenuHeight:j,maxMenuHeight:Y,menuPlacement:N,menuPosition:O,menuShouldScrollIntoView:B},le=D.createElement(cF,Ue({},E,q),function(me){var pe=me.ref,Te=me.placerProps,ke=Te.placement,Ie=Te.maxHeight;return D.createElement(f,Ue({},E,q,{innerRef:pe,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:M,placement:ke}),D.createElement(jB,{captureEnabled:R,onTopArrive:ie,onBottomArrive:oe,lockEnabled:U},function(lt){return D.createElement(h,Ue({},E,{innerRef:function(Ft){s.getMenuListRef(Ft),lt(Ft)},innerProps:{role:"listbox","aria-multiselectable":E.isMulti,id:s.getElementId("listbox")},isLoading:M,maxHeight:Ie,focusedOption:A}),re)}))});return V||O==="fixed"?D.createElement(m,Ue({},E,{appendTo:V,controlElement:this.controlRef,menuPlacement:N,menuPosition:O}),le):le}},{key:"renderFormField",value:function(){var s=this,o=this.props,u=o.delimiter,d=o.isDisabled,f=o.isMulti,h=o.name,m=o.required,b=this.state.selectValue;if(m&&!this.hasValue()&&!d)return D.createElement(BB,{name:h,onFocus:this.onValueInputFocus});if(!(!h||d))if(f)if(u){var _=b.map(function(A){return s.getOptionValue(A)}).join(u);return D.createElement("input",{name:h,type:"hidden",value:_})}else{var x=b.length>0?b.map(function(A,I){return D.createElement("input",{key:"i-".concat(I),name:h,type:"hidden",value:s.getOptionValue(A)})}):D.createElement("input",{name:h,type:"hidden",value:""});return D.createElement("div",null,x)}else{var E=b[0]?this.getOptionValue(b[0]):"";return D.createElement("input",{name:h,type:"hidden",value:E})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,o=this.state,u=o.ariaSelection,d=o.focusedOption,f=o.focusedValue,h=o.isFocused,m=o.selectValue,b=this.getFocusableOptions();return D.createElement(AB,Ue({},s,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:d,focusedValue:f,isFocused:h,selectValue:m,focusableOptions:b,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),o=s.Control,u=s.IndicatorsContainer,d=s.SelectContainer,f=s.ValueContainer,h=this.props,m=h.className,b=h.id,_=h.isDisabled,x=h.menuIsOpen,E=this.state.isFocused,A=this.commonProps=this.getCommonProps();return D.createElement(d,Ue({},A,{className:m,innerProps:{id:b,onKeyDown:this.onKeyDown},isDisabled:_,isFocused:E}),this.renderLiveRegion(),D.createElement(o,Ue({},A,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:_,isFocused:E,menuIsOpen:x}),D.createElement(f,Ue({},A,{isDisabled:_}),this.renderPlaceholderOrValue(),this.renderInput()),D.createElement(u,Ue({},A,{isDisabled:_}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,o){var u=o.prevProps,d=o.clearFocusValueOnUpdate,f=o.inputIsHiddenAfterUpdate,h=o.ariaSelection,m=o.isFocused,b=o.prevWasFocused,_=o.instancePrefix,x=s.options,E=s.value,A=s.menuIsOpen,I=s.inputValue,R=s.isMulti,T=zS(E),M={};if(u&&(E!==u.value||x!==u.options||A!==u.menuIsOpen||I!==u.inputValue)){var z=A?rz(s,T):[],j=A?rT(oh(s,T),"".concat(_,"-option")):[],Y=d?iz(o,T):null,P=sz(o,z),N=pv(j,P);M={selectValue:T,focusedOption:P,focusedOptionId:N,focusableOptionsWithIds:j,focusedValue:Y,clearFocusValueOnUpdate:!1}}var O=f!=null&&s!==u?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},V=h,U=m&&b;return m&&!U&&(V={value:Hf(R,T,T[0]||null),options:T,action:"initial-input-focus"},U=!b),(h==null?void 0:h.action)==="initial-input-focus"&&(V=null),Ve(Ve(Ve({},M),O),{},{prevProps:s,ariaSelection:V,prevWasFocused:U})}}]),t}(D.Component);QR.defaultProps=nz;var oz=D.forwardRef(function(n,e){var t=T9(n);return D.createElement(QR,Ue({ref:e},t))}),lz=oz;function hl({name:n,label:e,control:t,options:r,errors:s,isMulti:o=!1,rules:u={}}){var d;return v.jsxs("div",{className:"mb-4",children:[e&&v.jsx("label",{className:"block text-sm font-medium mb-1",children:e}),v.jsx(VU,{name:n,control:t,rules:u,render:({field:f})=>v.jsx(lz,{...f,isMulti:o,options:r,placeholder:e,classNamePrefix:"react-select"})}),(s==null?void 0:s[n])&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:(d=s[n])==null?void 0:d.message})]})}function uz({isOpen:n,onClose:e,editarProducto:t,disponibles:r}){const s=we=>we.map(Ee=>({value:Ee.valor,label:Ee.valor,raw:Ee})),o=we=>Array.isArray(we)?we.map(Ee=>typeof Ee=="object"?{value:Ee.valor||Ee,label:Ee.valor||Ee,raw:Ee}:{value:Ee,label:Ee}):[],u=we=>we&&typeof we=="object"?{value:we.valor,label:we.valor,raw:we}:we?{value:we,label:we}:null,d=s(r.uso||[]),f=s(r.tipo||[]),h=s(r.material||[]),m=s(r.origen||[]),b=s(r.marca||[]),_=s(r.usuario||[]),[x,E]=D.useState([]),[A,I]=D.useState([]),[R,T]=D.useState(!1),[M,z]=D.useState([]),[j,Y]=D.useState(""),[P,N]=D.useState([]),[O,V]=D.useState(null),[U,B]=D.useState(null),{register:k,handleSubmit:ie,control:oe,reset:$,watch:re,formState:{errors:he}}=Vb();D.useEffect(()=>{if(n){if(t){$({...t,tipoCalzado:u(t.tipoCalzado),material:o(t.material),uso:o(t.uso),origen:u(t.origen),marca:u(t.marca),usuario:u(t.usuario)});const we=(t.variantes||[]).map(Ee=>({...Ee,imagenLocal:Ee.imagen||"",color:Ee.color||"",codigoColor:Ee.codigoColor||"",tallas:Array.isArray(Ee.tallas)?Ee.tallas:[]}));I(t.imagenes||[]),z(we),N(t.etiquetas||[])}else $({nombre:"",descripcion:"",precio:"",precioDescuento:"",precioMayorista:"",tipoCalzado:null,material:[],uso:[],origen:null,marca:null,usuario:null}),I([]),z([]),N([]);E([])}},[n,t,$]);const be=re("usuario");D.useEffect(()=>{var we;if(be!=null&&be.raw)B(be.raw);else if(be!=null&&be.value){const Ee=(we=r.usuario)==null?void 0:we.find(Ge=>Ge.valor===be.value);Ee&&B(Ee)}},[be]);const q=we=>{const Ee=we.target.files[0];if(Ee&&A.length<9){const Ge=URL.createObjectURL(Ee);E([...x,Ee]),I([...A,Ge]);const Ze=Array.isArray(U==null?void 0:U.tallas)?U.tallas.map(Rt=>({talla:Rt,stock:0})):[];z(Rt=>[...Rt,{imagenLocal:Ge,imagen:"",color:"",codigoColor:"",tallas:Ze}])}we.target.value=""},le=we=>{z(Ee=>Ee.filter((Ge,Ze)=>Ze!==we)),I(Ee=>Ee.filter((Ge,Ze)=>Ze!==we)),E(Ee=>Ee.filter((Ge,Ze)=>Ze!==we))},me=(we,Ee,Ge)=>{const Ze=[...M];Ze[we][Ee]=Ge,z(Ze)},pe=we=>{const Ee=[...M];Ee[we].tallas.push({talla:"",stock:0}),z(Ee)},Te=(we,Ee,Ge,Ze)=>{const Rt=[...M];Rt[we].tallas[Ee][Ge]=Ze,z(Rt)},ke=(we,Ee)=>{const Ge=[...M];Ge[we].tallas.splice(Ee,1),z(Ge)},Ie=async we=>{const Ee="https://api.cloudinary.com/v1_1/ddebdvfcg/upload",Ge=new FormData;return Ge.append("file",we),Ge.append("upload_preset","nikosperu_preset"),(await(await fetch(Ee,{method:"POST",body:Ge})).json()).secure_url},lt=()=>{if(M.length===0)return V("Debes agregar al menos una variante."),!1;for(const we of M)if(!Array.isArray(we.tallas)||we.tallas.length===0)return V("Cada variante debe tener al menos una talla."),!1;return V(null),!0},Ye=async we=>{var Ee,Ge,Ze,Rt,Ii,_n;if(lt()){T(!0);try{const Ni=await Promise.all(x.map(Ie)),Zr=await e9(we.nombre,t==null?void 0:t.id),G=[...A];Ni.forEach((ve,ye)=>{const ge=A.length-Ni.length+ye;G[ge]=ve});const J=M.map((ve,ye)=>({color:ve.color||"",codigoColor:ve.codigoColor||"",tallas:ve.tallas||[],imagen:G[ye]||""})),se={...we,slug:Zr,precio:parseFloat(we.precio),precioDescuento:parseFloat(we.precioDescuento),precioMayorista:parseFloat(we.precioMayorista),imagenes:G,variantes:J,etiquetas:P,marca:((Ee=we.marca)==null?void 0:Ee.value)||"",usuario:((Ge=we.usuario)==null?void 0:Ge.value)||"",tipoCalzado:((Ze=we.tipoCalzado)==null?void 0:Ze.value)||"",material:(Rt=we.material)==null?void 0:Rt.map(ve=>ve.value),uso:(Ii=we.uso)==null?void 0:Ii.map(ve=>ve.value),origen:((_n=we.origen)==null?void 0:_n.value)||"",actualizadoEn:new Date};if(t){const ve=vr(mt,"productos",t.id);await rd(ve,se)}else se.creadoEn=new Date,await Ep(yn(mt,"productos"),se);e()}catch(Ni){console.error("Error al guardar producto:",Ni)}finally{T(!1)}}};if(!n)return null;const Ft=()=>{j.trim()&&(N([...P,j.trim()]),Y(""))},On=we=>{N(P.filter((Ee,Ge)=>Ge!==we))};return v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[v.jsx("div",{className:"absolute inset-0 bg-opacity-50 backdrop-blur-sm transition-opacity"}),v.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-lg p-6 shadow relative max-h-[90vh] flex flex-col",children:[v.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[t?"Editar":"Nuevo"," Producto"]}),v.jsxs("form",{onSubmit:ie(Ye),id:"form-producto",className:"space-y-4 flex-1 overflow-y-auto pr-1",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Nombre"}),v.jsx("input",{...k("nombre",{required:"Nombre requerido"}),className:"w-full border px-3 py-2 rounded"}),he.nombre&&v.jsx("p",{className:"text-red-500 text-sm",children:he.nombre.message})]}),v.jsx(hl,{name:"marca",label:"Marca",control:oe,options:b,errors:he,rules:{required:"La marca es requerida"}}),v.jsx(hl,{name:"usuario",label:"Usuario",control:oe,options:_,errors:he,rules:{required:"Debe seleccionar al usuario"}}),v.jsx(hl,{name:"tipoCalzado",label:"Tipo de calzado",control:oe,options:f,errors:he,rules:{required:"Debe seleccionar el tipo de calzado"}}),v.jsx(hl,{name:"material",label:"Material",control:oe,options:h,errors:he,isMulti:!0,rules:{required:"Debe seleccionar al menos un material"}}),v.jsx(hl,{name:"uso",label:"Usos",control:oe,options:d,errors:he,isMulti:!0,rules:{required:"Debe seleccionar al menos un uso"}}),v.jsx(hl,{name:"origen",label:"Origen",control:oe,options:m,errors:he,rules:{required:"Debe seleccionar el origen"}})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Precio original"}),v.jsx("input",{type:"number",...k("precio",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),he.precio&&v.jsx("p",{className:"text-red-500 text-sm",children:he.precio.message})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Precio Mayorista"}),v.jsx("input",{type:"number",...k("precioMayorista",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),he.precioMayorista&&v.jsx("p",{className:"text-red-500 text-sm",children:he.precioMayorista.message})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Precio con descuento"}),v.jsx("input",{type:"number",...k("precioDescuento",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),he.precioDescuento&&v.jsx("p",{className:"text-red-500 text-sm",children:he.precioDescuento.message})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Descripcion"}),v.jsx("textarea",{...k("descripcion"),rows:3,className:"w-full border px-3 py-2 rounded",placeholder:"Descripcin"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Etiquetas"}),v.jsx("input",{value:j,onChange:we=>Y(we.target.value),onKeyDown:we=>we.key==="Enter"&&(we.preventDefault(),Ft()),placeholder:"Agregar etiqueta",className:"border px-2 py-1 rounded w-full"}),v.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:P.map((we,Ee)=>v.jsxs("span",{className:"bg-gray-200 px-3 py-1 rounded-full flex items-center gap-2",children:[we,v.jsx("button",{type:"button",onClick:()=>On(Ee),className:"text-red-500",children:""})]},Ee))})]}),v.jsx("label",{className:"block text-sm font-medium mt-2",children:"Imgenes (max. 9)"}),v.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 mt-2",children:[A.map((we,Ee)=>v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:we,className:"w-full h-20 object-cover rounded border"}),v.jsx("button",{type:"button",onClick:()=>{const Ge=[...A],Ze=[...x];Ge.splice(Ee,1),Ze.splice(Ee,1),I(Ge),E(Ze),le(Ee)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:""})]},Ee)),A.length<9&&v.jsxs("label",{className:"border-2 border-dashed w-full h-20 flex items-center justify-center rounded cursor-pointer",children:[v.jsx("span",{className:"text-gray-500",children:"+"}),v.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:q})]})]}),v.jsxs("div",{className:"my-2",children:[v.jsx("h3",{className:"text-md font-semibold mb-2",children:"Variantes por imagen y talla"}),O&&v.jsx("p",{className:"text-red-500 text-sm mb-2",children:O}),M.map((we,Ee)=>v.jsxs("div",{className:"border p-3 rounded mb-3",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("img",{src:we.imagenLocal||we.imagen,className:"w-12 h-12 object-cover rounded border"}),v.jsx("input",{value:we.color,onChange:Ge=>me(Ee,"color",Ge.target.value),placeholder:"Color",className:"flex-1 border px-2 py-1 rounded"}),v.jsx("button",{type:"button",onClick:()=>le(Ee),className:"text-red-500 ml-auto",children:"Eliminar"})]}),we.tallas.map((Ge,Ze)=>v.jsxs("div",{className:"flex gap-2 mb-1",children:[v.jsx("input",{value:Ge.talla,onChange:Rt=>Te(Ee,Ze,"talla",Rt.target.value),placeholder:"Talla",className:"border px-2 py-1 rounded w-24"}),v.jsx("input",{type:"number",value:Ge.stock,onChange:Rt=>Te(Ee,Ze,"stock",parseInt(Rt.target.value)),placeholder:"Stock",className:"border px-2 py-1 rounded w-24"}),v.jsx("button",{type:"button",onClick:()=>ke(Ee,Ze),className:"text-sm text-red-500",children:"Quitar"})]},Ze)),v.jsx("button",{type:"button",onClick:()=>pe(Ee),className:"text-blue-500 text-sm",children:"+ Agregar talla"})]},Ee))]})]}),v.jsxs("div",{className:"sticky bottom-0 left-0 bg-white pt-4 mt-4 pb-2 border-t border-gray-200 flex justify-end gap-2 z-10",children:[v.jsx("button",{type:"submit",form:"form-producto",disabled:R,className:`px-4 py-2 bg-black text-white rounded hover:bg-gray-800 ${R?"opacity-50 cursor-not-allowed":""}`,children:R?"Guardando...":"Guardar Producto"}),v.jsx("button",{type:"button",onClick:e,disabled:R,className:`px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 ${R?"opacity-50 cursor-not-allowed":""}`,children:"Cancelar"})]})]})]})}function cz(){const[n,e]=D.useState([]),[t,r]=D.useState(""),[s,o]=D.useState("recientes"),[u,d]=D.useState(1),f=6,[h,m]=D.useState(!1),[b,_]=D.useState(null),[x,E]=D.useState(!1),[A,I]=D.useState({}),R=()=>{_(null),setTimeout(()=>{m(!0)},0)},T=V=>{_(V),m(!0)},M=V=>{_(V),E(!0)},z=async()=>{b&&(await vb(vr(mt,"productos",b.id)),e(V=>V.filter(U=>U.id!==b.id)),E(!1))};D.useEffect(()=>{(async()=>{const B=(await Jn(yn(mt,"productos"))).docs.map(k=>({id:k.id,...k.data()}));e(B)})()},[h]),D.useEffect(()=>{(async()=>{const k=(await Jn(yn(mt,"filtros"))).docs.map(ie=>({...ie.data()})).reduce((ie,oe)=>{const $=oe.tipo;return ie[$]||(ie[$]=[]),ie[$].some(re=>re.valor===oe.valor)||ie[$].push(oe),ie},{});I(k)})()},[]);const Y=(()=>{let V=n.filter(U=>U.nombre.toLowerCase().includes(t.toLowerCase()));return s==="recientes"?V.sort((U,B)=>{var k,ie;return((k=B.creadoEn)==null?void 0:k.seconds)-((ie=U.creadoEn)==null?void 0:ie.seconds)}):V.sort((U,B)=>{var k,ie;return((k=U.creadoEn)==null?void 0:k.seconds)-((ie=B.creadoEn)==null?void 0:ie.seconds)}),V})(),P=Math.ceil(Y.length/f),N=(u-1)*f,O=Y.slice(N,N+f);return v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Gestin de Productos"}),v.jsx("button",{onClick:R,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"+ Nuevo Producto"})]}),v.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[v.jsx("input",{type:"text",placeholder:"Buscar por nombre",value:t,onChange:V=>r(V.target.value),className:"px-3 py-2 border border-gray-300 rounded w-full md:w-64"}),v.jsxs("select",{value:s,onChange:V=>o(V.target.value),className:"px-3 py-2 border border-gray-300 rounded",children:[v.jsx("option",{value:"recientes",children:"Ms recientes"}),v.jsx("option",{value:"antiguos",children:"Ms antiguos"})]})]}),v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"min-w-full border text-sm",children:[v.jsx("thead",{className:"bg-gray-100 text-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Nombre"}),v.jsx("th",{className:"py-2 px-4 border",children:"Precio"}),v.jsx("th",{className:"py-2 px-4 border",children:"Precio Mayorista"}),v.jsx("th",{className:"py-2 px-4 border",children:"Marca"}),v.jsx("th",{className:"py-2 px-4 border",children:"Material"}),v.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),v.jsx("tbody",{children:O.map(V=>{var U;return v.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[v.jsx("td",{className:"py-2 px-4 border",children:V.nombre}),v.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",V.precio]}),v.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",V.precioMayorista]}),v.jsx("td",{className:"py-2 px-4 border",children:typeof V.marca=="object"?(U=V.marca)==null?void 0:U.valor:V.marca}),v.jsx("td",{className:"py-2 px-4 border",children:(V.material||[]).join(", ")}),v.jsxs("td",{className:"py-2 px-4 flex justify-center gap-2 text-center space-x-2",children:[v.jsx("button",{onClick:()=>T(V),className:"p-2 text-blue-600 hover:underline",children:v.jsx("i",{className:"bx bx-pencil"})}),v.jsx("button",{onClick:()=>M(V),className:"p-2 text-red-600 hover:underline",children:v.jsx("i",{className:"bx bx-trash"})})]})]},V.id)})})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[v.jsx("button",{onClick:()=>d(V=>Math.max(V-1,1)),disabled:u===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),v.jsxs("span",{className:"text-gray-600",children:["Pgina ",u," de ",P]}),v.jsx("button",{onClick:()=>d(V=>Math.min(V+1,P)),disabled:u===P,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),v.jsx(uz,{isOpen:h,onClose:()=>m(!1),editarProducto:b,disponibles:A}),v.jsx(KC,{isOpen:x,onClose:()=>E(!1),children:v.jsxs("div",{className:"w-full max-w-md relative",children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Eliminar producto"}),v.jsxs("p",{className:"mb-4",children:['Ests seguro que deseas eliminar el producto "',(b==null?void 0:b.nombre)||"",'"?']}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>E(!1),className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"No, cancelar"}),v.jsx("button",{onClick:z,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"S, eliminar"})]})]})})]})}function dz(){const[n,e]=D.useState([]),[t,r]=D.useState({valor:"",tipo:""}),[s,o]=D.useState(null),[u,d]=D.useState(null),[f,h]=D.useState(!1),[m,b]=D.useState(""),[_,x]=D.useState(""),[E,A]=D.useState(!1),[I,R]=D.useState(1),T=6,M="https://api.cloudinary.com/v1_1/ddebdvfcg/upload",z=async()=>{const ie=(await Jn(yn(mt,"filtros"))).docs.map(oe=>({id:oe.id,...oe.data()}));e(ie)};D.useEffect(()=>{z()},[]);const j=async k=>{const ie=new FormData;return ie.append("file",k),ie.append("upload_preset","nikosperu_preset"),(await(await fetch(M,{method:"POST",body:ie})).json()).secure_url},Y=async()=>{var oe;if(!t.valor||!t.tipo)return;h(!0);let k=null;t.tipo.toLowerCase()==="marca"&&(s&&(k=await j(s)),!s&&(u==null?void 0:u.imagen)===null&&(k=null));const ie={valor:t.valor,tipo:t.tipo.toLowerCase(),...k!==null?{imagen:k}:{}};t.tipo.toLowerCase()==="usuario"&&(ie.tallas=((oe=t.tallas)==null?void 0:oe.filter($=>$.trim()!==""))||[]),u?await rd(vr(mt,"filtros",u.id),ie):await Ep(yn(mt,"filtros"),ie),r({valor:"",tipo:"",tallas:[]}),o(null),d(null),A(!1),h(!1),z()},P=k=>{r({valor:k.valor,tipo:k.tipo,tallas:k.tallas||[]}),d(k),o(null),A(!0)},N=async k=>{confirm("Ests seguro de eliminar este filtro?")&&(await vb(vr(mt,"filtros",k)),z())},O=n.filter(k=>{const ie=k.valor.toLowerCase().includes(m.toLowerCase()),oe=_?k.tipo===_:!0;return ie&&oe}),V=Math.ceil(O.length/T),U=(I-1)*T,B=O.slice(U,U+T);return v.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestin de Categoras"}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[v.jsx("input",{type:"text",placeholder:"Buscar por valor",value:m,onChange:k=>{b(k.target.value),R(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/2 shadow-sm"}),v.jsxs("select",{value:_,onChange:k=>{x(k.target.value),R(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/4 shadow-sm",children:[v.jsx("option",{value:"",children:"Todos los tipos"}),v.jsx("option",{value:"usuario",children:"Usuario"}),v.jsx("option",{value:"origen",children:"Origen"}),v.jsx("option",{value:"uso",children:"Uso"}),v.jsx("option",{value:"marca",children:"Marca"}),v.jsx("option",{value:"material",children:"Material"}),v.jsx("option",{value:"tipo",children:"Tipo"})]}),v.jsx("button",{onClick:()=>{r({valor:"",tipo:""}),d(null),A(!0)},className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition w-full md:w-auto",children:"+ Nuevo Filtro"})]}),v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"min-w-full text-sm border",children:[v.jsx("thead",{className:"bg-gray-100 text-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Valor"}),v.jsx("th",{className:"py-2 px-4 border",children:"Tipo"}),v.jsx("th",{className:"py-2 px-4 border",children:"Imagen"}),v.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),v.jsx("tbody",{children:B.map(k=>v.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[v.jsx("td",{className:"py-2 px-4 border",children:k.valor}),v.jsx("td",{className:"py-2 px-4 border",children:k.tipo}),v.jsx("td",{className:"py-2 px-4 border text-center",children:k.imagen?v.jsx("img",{src:k.imagen,alt:k.valor,className:"w-16 h-10 object-contain rounded border mx-auto"}):""}),v.jsxs("td",{className:"py-2 px-4 flex justify-center gap-2 text-center space-x-2",children:[v.jsx("button",{onClick:()=>P(k),className:"p-2 text-blue-600 hover:underline",children:v.jsx("i",{className:"bx bx-pencil"})}),v.jsx("button",{onClick:()=>N(k.id),className:"p-2 text-red-600 hover:underline",children:v.jsx("i",{className:"bx bx-trash"})})]})]},k.id))})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[v.jsx("button",{onClick:()=>R(k=>Math.max(k-1,1)),disabled:I===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),v.jsxs("span",{className:"text-gray-600",children:["Pgina ",I," de ",V]}),v.jsx("button",{onClick:()=>R(k=>Math.min(k+1,V)),disabled:I===V,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),E&&v.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 backdrop-blur-sm bg-opacity-40 flex items-center justify-center",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg p-6 relative",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:u?"Editar filtro":"Nuevo filtro"}),v.jsxs("div",{className:"flex flex-col space-y-4 gap-3",children:[v.jsx("input",{type:"text",placeholder:"Valor (ej. Hombre, Casual, Nike)",value:t.valor,onChange:k=>r({...t,valor:k.target.value}),className:"w-full px-3 py-2 border rounded shadow-sm"}),v.jsxs("select",{value:t.tipo,onChange:k=>{r({...t,tipo:k.target.value}),o(null)},className:"w-full px-3 py-2 border rounded shadow-sm",children:[v.jsx("option",{value:"",children:"Tipo de filtro"}),v.jsx("option",{value:"usuario",children:"Usuario"}),v.jsx("option",{value:"origen",children:"Origen"}),v.jsx("option",{value:"uso",children:"Uso"}),v.jsx("option",{value:"marca",children:"Marca"}),v.jsx("option",{value:"material",children:"Material"}),v.jsx("option",{value:"tipo",children:"Tipo"})]}),t.tipo==="usuario"&&v.jsxs("div",{children:[v.jsx("label",{className:"font-medium text-sm mb-2",children:"Tallas asociadas"}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(t.tallas||[]).map((k,ie)=>v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("input",{type:"text",autoFocus:!0,value:k,onChange:oe=>{const $=[...t.tallas];$[ie]=oe.target.value,r({...t,tallas:$})},className:"w-16 px-2 py-1 border rounded text-sm"}),v.jsx("button",{type:"button",onClick:()=>{const oe=t.tallas.filter(($,re)=>re!==ie);r({...t,tallas:oe})},className:"text-red-500 text-sm hover:underline",children:""})]},ie))}),v.jsx("button",{type:"button",onClick:()=>r({...t,tallas:[...t.tallas||[],""]}),className:"text-blue-600 text-sm hover:underline",children:"+ Agregar talla"})]}),t.tipo==="marca"&&v.jsx("div",{className:"flex flex-col items-start gap-2",children:s?v.jsxs("div",{className:"relative w-32 h-20 border rounded overflow-hidden",children:[v.jsx("img",{src:URL.createObjectURL(s),alt:"Vista previa",className:"object-contain w-full h-full"}),v.jsx("button",{onClick:()=>o(null),className:"absolute top-0 right-0 bg-black/60 text-white text-xs px-1 rounded-bl hover:bg-red-600",children:""})]}):u!=null&&u.imagen?v.jsxs("div",{className:"relative w-32 h-20 border rounded overflow-hidden",children:[v.jsx("img",{src:u.imagen,alt:"Imagen actual",className:"object-contain w-full h-full"}),v.jsx("button",{onClick:()=>d({...u,imagen:null}),className:"absolute top-0 right-0 bg-black/60 text-white text-xs px-1 rounded-bl hover:bg-red-600",children:""})]}):v.jsx("input",{type:"file",accept:"image/*",onChange:k=>{const ie=k.target.files[0];ie&&o(ie),k.target.value=""},className:"w-full px-3 py-2 border rounded shadow-sm"})})]}),v.jsxs("div",{className:"flex justify-end mt-6 space-x-2 gap-3",children:[v.jsx("button",{onClick:()=>A(!1),className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100",children:"Cancelar"}),v.jsx("button",{onClick:Y,disabled:f,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:f?"Subiendo...":u?"Actualizar":"Guardar"})]})]})})]})}function fz(){const[n,e]=D.useState([]),[t,r]=D.useState({valor:"",tipo:""}),[s,o]=D.useState(null),[u,d]=D.useState(null),[f,h]=D.useState(!1),m=async()=>{const A=(await Jn(yn(mt,"filtros"))).docs.map(I=>({id:I.id,...I.data()}));e(A)};D.useEffect(()=>{m()},[]);const b=async()=>{if(!t.valor||!t.tipo)return;let E=null;if(t.tipo.toLowerCase()==="marca"&&s){h(!0);const I=yC(),R=D4(I,`filtros/marcas/${Date.now()}_${s.name}`);await O4(R,s),E=await M4(R),h(!1)}const A={valor:t.valor,tipo:t.tipo.toLowerCase(),...E&&{imagen:E}};u?await rd(vr(mt,"filtros",u.id),A):await Ep(yn(mt,"filtros"),A),r({valor:"",tipo:""}),o(null),d(null),m()},_=E=>{r({valor:E.valor,tipo:E.tipo}),d(E),o(null)},x=async E=>{confirm("Ests seguro de eliminar este filtro?")&&(await vb(vr(mt,"filtros",E)),m())};return v.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Gestin de Filtros"}),v.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Valor (ej. Hombre, Casual, Nike)",value:t.valor,onChange:E=>r({...t,valor:E.target.value}),className:"px-3 py-2 border rounded"}),v.jsxs("select",{value:t.tipo,onChange:E=>r({...t,tipo:E.target.value}),className:"px-3 py-2 border rounded",children:[v.jsx("option",{value:"",children:"Tipo de filtro"}),v.jsx("option",{value:"usuario",children:"Usuario"}),v.jsx("option",{value:"origen",children:"Origen"}),v.jsx("option",{value:"uso",children:"Uso"}),v.jsx("option",{value:"marca",children:"Marca"}),v.jsx("option",{value:"material",children:"Material"}),v.jsx("option",{value:"tipo",children:"Tipo"})]}),t.tipo==="marca"&&v.jsx("input",{type:"file",onChange:E=>o(E.target.files[0]),className:"block border rounded px-3 py-2"})]}),v.jsx("button",{onClick:b,disabled:f,className:"mb-6 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:u?"Actualizar filtro":"Guardar filtro"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full table-auto border border-gray-200",children:[v.jsx("thead",{className:"bg-gray-100",children:v.jsxs("tr",{children:[v.jsx("th",{className:"border px-4 py-2",children:"Valor"}),v.jsx("th",{className:"border px-4 py-2",children:"Tipo"}),v.jsx("th",{className:"border px-4 py-2",children:"Imagen"}),v.jsx("th",{className:"border px-4 py-2",children:"Acciones"})]})}),v.jsx("tbody",{children:n.map(E=>v.jsxs("tr",{className:"text-center",children:[v.jsx("td",{className:"border px-4 py-2",children:E.valor}),v.jsx("td",{className:"border px-4 py-2 capitalize",children:E.tipo}),v.jsx("td",{className:"border px-4 py-2",children:E.imagen?v.jsx("img",{src:E.imagen,alt:E.valor,className:"w-16 h-10 object-contain mx-auto"}):""}),v.jsxs("td",{className:"border px-4 py-2 space-x-2",children:[v.jsx("button",{onClick:()=>_(E),className:"text-blue-600 hover:underline",children:"Editar"}),v.jsx("button",{onClick:()=>x(E.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},E.id))})]})})]})}function hz(){return v.jsx("div",{className:"relative",style:{minHeight:"100dvh"},children:v.jsxs(T2,{children:[v.jsx(Wt,{path:"/redirect",element:v.jsx(l9,{})}),v.jsx(Wt,{path:"/login",element:v.jsx(r9,{})}),v.jsx(Wt,{path:"/register",element:v.jsx(i9,{})}),v.jsx(Wt,{path:"/forgotPassword",element:v.jsx(s9,{})}),v.jsx(Wt,{path:"/reset",element:v.jsx(a9,{})}),v.jsx(Wt,{path:"/verify-email",element:v.jsx(u9,{})}),v.jsx(Wt,{path:"/confirmar",element:v.jsx(o9,{})}),v.jsxs(Wt,{path:"/*",element:v.jsx(k3,{}),children:[v.jsx(Wt,{index:!0,element:v.jsx(SU,{})}),v.jsx(Wt,{path:"productos",element:v.jsx(NU,{})}),v.jsx(Wt,{path:"productos/:slug",element:v.jsx(IU,{})}),v.jsx(Wt,{path:"checkout",element:v.jsx(n9,{})}),v.jsx(Wt,{path:"mi-perfil",element:v.jsx(CS,{children:v.jsx(m9,{})})}),v.jsx(Wt,{path:"mis-compras",element:v.jsx(CS,{children:v.jsx(g9,{})})})]}),v.jsxs(Wt,{path:"/admin",element:v.jsx(v9,{}),children:[v.jsx(Wt,{path:"dashboard",element:v.jsx(y9,{})}),v.jsx(Wt,{path:"productos",element:v.jsx(cz,{})}),v.jsx(Wt,{path:"filtros",element:v.jsx(dz,{})}),v.jsx(Wt,{path:"ventas",element:v.jsx(fz,{})})]})]})})}NN.createRoot(document.getElementById("root")).render(v.jsx(Fe.StrictMode,{children:v.jsx(X2,{basename:"/nikos",children:v.jsx(F4,{children:v.jsx(B4,{children:v.jsx(hz,{})})})})}));
