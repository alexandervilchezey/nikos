function AN(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function uT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ig={exports:{}},Wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw;function CN(){if(lw)return Wu;lw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Wu.Fragment=e,Wu.jsx=t,Wu.jsxs=t,Wu}var uw;function RN(){return uw||(uw=1,Ig.exports=CN()),Ig.exports}var v=RN(),Ng={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cw;function IN(){if(cw)return $e;cw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function _(H){return H===null||typeof H!="object"?null:(H=b&&H[b]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,C={};function I(H,ne,le){this.props=H,this.context=ne,this.refs=C,this.updater=le||x}I.prototype.isReactComponent={},I.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},I.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function T(){}T.prototype=I.prototype;function S(H,ne,le){this.props=H,this.context=ne,this.refs=C,this.updater=le||x}var N=S.prototype=new T;N.constructor=S,w(N,I.prototype),N.isPureReactComponent=!0;var z=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},K=Object.prototype.hasOwnProperty;function P(H,ne,le,ue,xe,De){return le=De.ref,{$$typeof:n,type:H,key:ne,ref:le!==void 0?le:null,props:De}}function O(H,ne){return P(H.type,ne,void 0,void 0,void 0,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function L(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(le){return ne[le]})}var B=/\/+/g;function F(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):ne.toString(36)}function U(){}function pe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(U,U):(H.status="pending",H.then(function(ne){H.status==="pending"&&(H.status="fulfilled",H.value=ne)},function(ne){H.status==="pending"&&(H.status="rejected",H.reason=ne)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ge(H,ne,le,ue,xe){var De=typeof H;(De==="undefined"||De==="boolean")&&(H=null);var Ae=!1;if(H===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(H.$$typeof){case n:case e:Ae=!0;break;case m:return Ae=H._init,ge(Ae(H._payload),ne,le,ue,xe)}}if(Ae)return xe=xe(H),Ae=ue===""?"."+F(H,0):ue,z(xe)?(le="",Ae!=null&&(le=Ae.replace(B,"$&/")+"/"),ge(xe,ne,le,"",function(bt){return bt})):xe!=null&&(M(xe)&&(xe=O(xe,le+(xe.key==null||H&&H.key===xe.key?"":(""+xe.key).replace(B,"$&/")+"/")+Ae)),ne.push(xe)),1;Ae=0;var it=ue===""?".":ue+":";if(z(H))for(var qe=0;qe<H.length;qe++)ue=H[qe],De=it+F(ue,qe),Ae+=ge(ue,ne,le,De,xe);else if(qe=_(H),typeof qe=="function")for(H=qe.call(H),qe=0;!(ue=H.next()).done;)ue=ue.value,De=it+F(ue,qe++),Ae+=ge(ue,ne,le,De,xe);else if(De==="object"){if(typeof H.then=="function")return ge(pe(H),ne,le,ue,xe);throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function G(H,ne,le){if(H==null)return H;var ue=[],xe=0;return ge(H,ue,"","",function(De){return ne.call(le,De,xe++)}),ue}function oe(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(le){(H._status===0||H._status===-1)&&(H._status=1,H._result=le)},function(le){(H._status===0||H._status===-1)&&(H._status=2,H._result=le)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var me=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)};function ie(){}return $e.Children={map:G,forEach:function(H,ne,le){G(H,function(){ne.apply(this,arguments)},le)},count:function(H){var ne=0;return G(H,function(){ne++}),ne},toArray:function(H){return G(H,function(ne){return ne})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},$e.Component=I,$e.Fragment=t,$e.Profiler=s,$e.PureComponent=S,$e.StrictMode=r,$e.Suspense=f,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,$e.__COMPILER_RUNTIME={__proto__:null,c:function(H){return V.H.useMemoCache(H)}},$e.cache=function(H){return function(){return H.apply(null,arguments)}},$e.cloneElement=function(H,ne,le){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ue=w({},H.props),xe=H.key,De=void 0;if(ne!=null)for(Ae in ne.ref!==void 0&&(De=void 0),ne.key!==void 0&&(xe=""+ne.key),ne)!K.call(ne,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ne.ref===void 0||(ue[Ae]=ne[Ae]);var Ae=arguments.length-2;if(Ae===1)ue.children=le;else if(1<Ae){for(var it=Array(Ae),qe=0;qe<Ae;qe++)it[qe]=arguments[qe+2];ue.children=it}return P(H.type,xe,void 0,void 0,De,ue)},$e.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},$e.createElement=function(H,ne,le){var ue,xe={},De=null;if(ne!=null)for(ue in ne.key!==void 0&&(De=""+ne.key),ne)K.call(ne,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(xe[ue]=ne[ue]);var Ae=arguments.length-2;if(Ae===1)xe.children=le;else if(1<Ae){for(var it=Array(Ae),qe=0;qe<Ae;qe++)it[qe]=arguments[qe+2];xe.children=it}if(H&&H.defaultProps)for(ue in Ae=H.defaultProps,Ae)xe[ue]===void 0&&(xe[ue]=Ae[ue]);return P(H,De,void 0,void 0,null,xe)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(H){return{$$typeof:d,render:H}},$e.isValidElement=M,$e.lazy=function(H){return{$$typeof:m,_payload:{_status:-1,_result:H},_init:oe}},$e.memo=function(H,ne){return{$$typeof:h,type:H,compare:ne===void 0?null:ne}},$e.startTransition=function(H){var ne=V.T,le={};V.T=le;try{var ue=H(),xe=V.S;xe!==null&&xe(le,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ie,me)}catch(De){me(De)}finally{V.T=ne}},$e.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},$e.use=function(H){return V.H.use(H)},$e.useActionState=function(H,ne,le){return V.H.useActionState(H,ne,le)},$e.useCallback=function(H,ne){return V.H.useCallback(H,ne)},$e.useContext=function(H){return V.H.useContext(H)},$e.useDebugValue=function(){},$e.useDeferredValue=function(H,ne){return V.H.useDeferredValue(H,ne)},$e.useEffect=function(H,ne,le){var ue=V.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ue.useEffect(H,ne)},$e.useId=function(){return V.H.useId()},$e.useImperativeHandle=function(H,ne,le){return V.H.useImperativeHandle(H,ne,le)},$e.useInsertionEffect=function(H,ne){return V.H.useInsertionEffect(H,ne)},$e.useLayoutEffect=function(H,ne){return V.H.useLayoutEffect(H,ne)},$e.useMemo=function(H,ne){return V.H.useMemo(H,ne)},$e.useOptimistic=function(H,ne){return V.H.useOptimistic(H,ne)},$e.useReducer=function(H,ne,le){return V.H.useReducer(H,ne,le)},$e.useRef=function(H){return V.H.useRef(H)},$e.useState=function(H){return V.H.useState(H)},$e.useSyncExternalStore=function(H,ne,le){return V.H.useSyncExternalStore(H,ne,le)},$e.useTransition=function(){return V.H.useTransition()},$e.version="19.1.0",$e}var dw;function hy(){return dw||(dw=1,Ng.exports=IN()),Ng.exports}var D=hy();const je=uT(D),fw=AN({__proto__:null,default:je},[D]);var Og={exports:{}},Zu={},Mg={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hw;function NN(){return hw||(hw=1,function(n){function e(G,oe){var me=G.length;G.push(oe);e:for(;0<me;){var ie=me-1>>>1,H=G[ie];if(0<s(H,oe))G[ie]=oe,G[me]=H,me=ie;else break e}}function t(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var oe=G[0],me=G.pop();if(me!==oe){G[0]=me;e:for(var ie=0,H=G.length,ne=H>>>1;ie<ne;){var le=2*(ie+1)-1,ue=G[le],xe=le+1,De=G[xe];if(0>s(ue,me))xe<H&&0>s(De,ue)?(G[ie]=De,G[xe]=me,ie=xe):(G[ie]=ue,G[le]=me,ie=le);else if(xe<H&&0>s(De,me))G[ie]=De,G[xe]=me,ie=xe;else break e}}return oe}function s(G,oe){var me=G.sortIndex-oe.sortIndex;return me!==0?me:G.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],h=[],m=1,b=null,_=3,x=!1,w=!1,C=!1,I=!1,T=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function z(G){for(var oe=t(h);oe!==null;){if(oe.callback===null)r(h);else if(oe.startTime<=G)r(h),oe.sortIndex=oe.expirationTime,e(f,oe);else break;oe=t(h)}}function V(G){if(C=!1,z(G),!w)if(t(f)!==null)w=!0,K||(K=!0,F());else{var oe=t(h);oe!==null&&ge(V,oe.startTime-G)}}var K=!1,P=-1,O=5,M=-1;function L(){return I?!0:!(n.unstable_now()-M<O)}function B(){if(I=!1,K){var G=n.unstable_now();M=G;var oe=!0;try{e:{w=!1,C&&(C=!1,S(P),P=-1),x=!0;var me=_;try{t:{for(z(G),b=t(f);b!==null&&!(b.expirationTime>G&&L());){var ie=b.callback;if(typeof ie=="function"){b.callback=null,_=b.priorityLevel;var H=ie(b.expirationTime<=G);if(G=n.unstable_now(),typeof H=="function"){b.callback=H,z(G),oe=!0;break t}b===t(f)&&r(f),z(G)}else r(f);b=t(f)}if(b!==null)oe=!0;else{var ne=t(h);ne!==null&&ge(V,ne.startTime-G),oe=!1}}break e}finally{b=null,_=me,x=!1}oe=void 0}}finally{oe?F():K=!1}}}var F;if(typeof N=="function")F=function(){N(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,pe=U.port2;U.port1.onmessage=B,F=function(){pe.postMessage(null)}}else F=function(){T(B,0)};function ge(G,oe){P=T(function(){G(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(G){switch(_){case 1:case 2:case 3:var oe=3;break;default:oe=_}var me=_;_=oe;try{return G()}finally{_=me}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=_;_=G;try{return oe()}finally{_=me}},n.unstable_scheduleCallback=function(G,oe,me){var ie=n.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ie+me:ie):me=ie,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=me+H,G={id:m++,callback:oe,priorityLevel:G,startTime:me,expirationTime:H,sortIndex:-1},me>ie?(G.sortIndex=me,e(h,G),t(f)===null&&G===t(h)&&(C?(S(P),P=-1):C=!0,ge(V,me-ie))):(G.sortIndex=H,e(f,G),w||x||(w=!0,K||(K=!0,F()))),G},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(G){var oe=_;return function(){var me=_;_=oe;try{return G.apply(this,arguments)}finally{_=me}}}}(Dg)),Dg}var pw;function ON(){return pw||(pw=1,Mg.exports=NN()),Mg.exports}var Pg={exports:{}},Tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function MN(){if(mw)return Tn;mw=1;var n=hy();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,h,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:f,containerInfo:h,implementation:m}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Tn.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(f,h,null,m)},Tn.flushSync=function(f){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=h,r.p=m,r.d.f()}},Tn.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(f,h))},Tn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Tn.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,b=d(m,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:x}):m==="script"&&r.d.X(f,{crossOrigin:b,integrity:_,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Tn.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=d(h.as,h.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(f)},Tn.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,b=d(m,h.crossOrigin);r.d.L(f,m,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Tn.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=d(h.as,h.crossOrigin);r.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(f)},Tn.requestFormReset=function(f){r.d.r(f)},Tn.unstable_batchedUpdates=function(f,h){return f(h)},Tn.useFormState=function(f,h,m){return u.H.useFormState(f,h,m)},Tn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Tn.version="19.1.0",Tn}var gw;function cT(){if(gw)return Pg.exports;gw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pg.exports=MN(),Pg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function DN(){if(vw)return Zu;vw=1;var n=ON(),e=hy(),t=cT();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return d(g),i;if(y===c)return d(g),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=y;else{for(var R=!1,k=g.child;k;){if(k===l){R=!0,l=g,c=y;break}if(k===c){R=!0,c=g,l=y;break}k=k.sibling}if(!R){for(k=y.child;k;){if(k===l){R=!0,l=y,c=g;break}if(k===c){R=!0,c=y,l=g;break}k=k.sibling}if(!R)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function h(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=h(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),N=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=B&&i[B]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function pe(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case V:return"Suspense";case K:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case N:return(i.displayName||"Context")+".Provider";case S:return(i._context.displayName||"Context")+".Consumer";case z:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:pe(i.type)||"Memo";case O:a=i._payload,i=i._init;try{return pe(i(a))}catch{}}return null}var ge=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ie=[],H=-1;function ne(i){return{current:i}}function le(i){0>H||(i.current=ie[H],ie[H]=null,H--)}function ue(i,a){H++,ie[H]=i.current,i.current=a}var xe=ne(null),De=ne(null),Ae=ne(null),it=ne(null);function qe(i,a){switch(ue(Ae,a),ue(De,i),ue(xe,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?VE(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=VE(a),i=LE(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}le(xe),ue(xe,i)}function bt(){le(xe),le(De),le(Ae)}function Bn(i){i.memoizedState!==null&&ue(it,i);var a=xe.current,l=LE(a,i.type);a!==l&&(ue(De,i),ue(xe,l))}function Fn(i){De.current===i&&(le(xe),le(De)),it.current===i&&(le(it),Gu._currentValue=me)}var Xn=Object.prototype.hasOwnProperty,Dr=n.unstable_scheduleCallback,Wn=n.unstable_cancelCallback,Wr=n.unstable_shouldYield,bo=n.unstable_requestPaint,zn=n.unstable_now,sd=n.unstable_getCurrentPriorityLevel,_s=n.unstable_ImmediatePriority,$=n.unstable_UserBlockingPriority,J=n.unstable_NormalPriority,se=n.unstable_LowPriority,Ee=n.unstable_IdlePriority,be=n.log,ve=n.unstable_setDisableYieldValue,_e=null,Re=null;function Ge(i){if(typeof be=="function"&&ve(i),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(_e,i)}catch{}}var ft=Math.clz32?Math.clz32:Ii,Ri=Math.log,mr=Math.LN2;function Ii(i){return i>>>=0,i===0?32:31-(Ri(i)/mr|0)|0}var Pr=256,kr=4194304;function Zn(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Ni(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var g=0,y=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var k=c&134217727;return k!==0?(c=k&~y,c!==0?g=Zn(c):(R&=k,R!==0?g=Zn(R):l||(l=k&~i,l!==0&&(g=Zn(l))))):(k=c&~y,k!==0?g=Zn(k):R!==0?g=Zn(R):l||(l=c&~i,l!==0&&(g=Zn(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function Oi(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Es(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var i=Pr;return Pr<<=1,(Pr&4194048)===0&&(Pr=256),i}function Kl(){var i=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),i}function Mi(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Di(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ql(i,a,l,c,g,y){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var k=i.entanglements,q=i.expirationTimes,Z=i.hiddenUpdates;for(l=R&~l;0<l;){var ae=31-ft(l),de=1<<ae;k[ae]=0,q[ae]=-1;var ee=Z[ae];if(ee!==null)for(Z[ae]=null,ae=0;ae<ee.length;ae++){var te=ee[ae];te!==null&&(te.lane&=-536870913)}l&=~de}c!==0&&Zr(i,c,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(R&~a))}function Zr(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-ft(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Xl(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-ft(l),g=1<<c;g&a|i[c]&a&&(i[c]|=a),l&=~g}}function ws(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _o(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xs(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:nw(i.type))}function ad(i,a){var l=oe.p;try{return oe.p=i,a()}finally{oe.p=l}}var At=Math.random().toString(36).slice(2),Wt="__reactFiber$"+At,zt="__reactProps$"+At,gr="__reactContainer$"+At,Wl="__reactEvents$"+At,Mp="__reactListeners$"+At,Ss="__reactHandles$"+At,od="__reactResources$"+At,Ea="__reactMarker$"+At;function Ts(i){delete i[Wt],delete i[zt],delete i[Wl],delete i[Mp],delete i[Ss]}function Pi(i){var a=i[Wt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[gr]||l[Wt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=FE(i);i!==null;){if(l=i[Wt])return l;i=FE(i)}return a}i=l,l=i.parentNode}return null}function Jr(i){if(i=i[Wt]||i[gr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function ei(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function On(i){var a=i[od];return a||(a=i[od]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Vt(i){i[Ea]=!0}var Zl=new Set,Eo={};function Vr(i,a){ki(i,a),ki(i+"Capture",a)}function ki(i,a){for(Eo[i]=a,i=0;i<a.length;i++)Zl.add(a[i])}var ld=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ud={},wa={};function cd(i){return Xn.call(wa,i)?!0:Xn.call(ud,i)?!1:ld.test(i)?wa[i]=!0:(ud[i]=!0,!1)}function As(i,a,l){if(cd(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function ti(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function pn(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var xa,dd;function Vi(i){if(xa===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);xa=a&&a[1]||"",dd=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+i+dd}var wo=!1;function xo(i,a){if(!i||wo)return"";wo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(te){var ee=te}Reflect.construct(i,[],de)}else{try{de.call()}catch(te){ee=te}i.call(de.prototype)}}else{try{throw Error()}catch(te){ee=te}(de=i())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(te){if(te&&ee&&typeof te.stack=="string")return[te.stack,ee.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),R=y[0],k=y[1];if(R&&k){var q=R.split(`
`),Z=k.split(`
`);for(g=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(c===q.length||g===Z.length)for(c=q.length-1,g=Z.length-1;1<=c&&0<=g&&q[c]!==Z[g];)g--;for(;1<=c&&0<=g;c--,g--)if(q[c]!==Z[g]){if(c!==1||g!==1)do if(c--,g--,0>g||q[c]!==Z[g]){var ae=`
`+q[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=g);break}}}finally{wo=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?Vi(l):""}function Jl(i){switch(i.tag){case 26:case 27:case 5:return Vi(i.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return xo(i.type,!1);case 11:return xo(i.type.render,!1);case 1:return xo(i.type,!0);case 31:return Vi("Activity");default:return""}}function So(i){try{var a="";do a+=Jl(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function eu(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Dp(i){var a=eu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(R){c=""+R,y.call(this,R)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function To(i){i._valueTracker||(i._valueTracker=Dp(i))}function tu(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=eu(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Sa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Pp=/[\n"\\]/g;function Ht(i){return i.replace(Pp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Jn(i,a,l,c,g,y,R,k){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),a!=null?R==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Mn(a)):i.value!==""+Mn(a)&&(i.value=""+Mn(a)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),a!=null?Cs(i,R,Mn(a)):l!=null?Cs(i,R,Mn(l)):c!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+Mn(k):i.removeAttribute("name")}function Ta(i,a,l,c,g,y,R,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Mn(l):"",a=a!=null?""+Mn(a):l,k||a===i.value||(i.value=a),i.defaultValue=a}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=k?i.checked:!!c,i.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function Cs(i,a,l){a==="number"&&Sa(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Li(i,a,l,c){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Mn(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function mt(i,a,l){if(a!=null&&(a=""+Mn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Mn(l):""}function Aa(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ge(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Mn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function vr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||Ca.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function nu(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in a)c=a[g],a.hasOwnProperty(g)&&l[g]!==c&&fd(i,g,c)}else for(var y in a)a.hasOwnProperty(y)&&fd(i,y,a[y])}function ru(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(i){return Vp.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var ji=null;function yr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ui=null,Bi=null;function iu(i){var a=Jr(i);if(a&&(i=a.stateNode)){var l=i[zt]||null;e:switch(i=a.stateNode,a.type){case"input":if(Jn(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Ht(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var g=c[zt]||null;if(!g)throw Error(r(90));Jn(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&tu(c)}break e;case"textarea":mt(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Li(i,!!l.multiple,a,!1)}}}var ni=!1;function hd(i,a,l){if(ni)return i(a,l);ni=!0;try{var c=i(a);return c}finally{if(ni=!1,(Ui!==null||Bi!==null)&&(of(),Ui&&(a=Ui,i=Bi,Bi=Ui=null,iu(a),i)))for(a=0;a<i.length;a++)iu(i[a])}}function Ra(i,a){var l=i.stateNode;if(l===null)return null;var c=l[zt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Lr)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){br=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{br=!1}var ri=null,Rs=null,Fi=null;function su(){if(Fi)return Fi;var i,a=Rs,l=a.length,c,g="value"in ri?ri.value:ri.textContent,y=g.length;for(i=0;i<l&&a[i]===g[i];i++);var R=l-i;for(c=1;c<=R&&a[l-c]===g[y-c];c++);return Fi=g.slice(i,1<c?1-c:void 0)}function ii(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function si(){return!0}function au(){return!1}function an(i){function a(l,c,g,y,R){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(l=i[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?si:au,this.isPropagationStopped=au,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),a}var ut={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=an(ut),Na=m({},ut,{view:0,detail:0}),pd=an(Na),Ro,Io,ai,Oa=m({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pa,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ai&&(ai&&i.type==="mousemove"?(Ro=i.screenX-ai.screenX,Io=i.screenY-ai.screenY):Io=Ro=0,ai=i),Ro)},movementY:function(i){return"movementY"in i?i.movementY:Io}}),_r=an(Oa),md=m({},Oa,{dataTransfer:0}),Lp=an(md),Ma=m({},Na,{relatedTarget:0}),No=an(Ma),ou=m({},ut,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=an(ou),gd=m({},ut,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Mo=an(gd),jp=m({},ut,{data:0}),lu=an(jp),Da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=yd[i])?!!a[i]:!1}function Pa(){return uu}var bd=m({},Na,{key:function(i){if(i.key){var a=Da[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ii(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?vd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pa,charCode:function(i){return i.type==="keypress"?ii(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ii(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Do=an(bd),_d=m({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cu=an(_d),zi=m({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pa}),Ed=an(zi),wd=m({},ut,{propertyName:0,elapsedTime:0,pseudoElement:0}),xd=an(wd),Sd=m({},Oa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=an(Sd),Dn=m({},ut,{newState:0,oldState:0}),Td=an(Dn),Ad=[9,13,27,32],oi=Lr&&"CompositionEvent"in window,p=null;Lr&&"documentMode"in document&&(p=document.documentMode);var E=Lr&&"TextEvent"in window&&!p,A=Lr&&(!oi||p&&8<p&&11>=p),j=" ",X=!1;function re(i,a){switch(i){case"keyup":return Ad.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var et=!1;function Zt(i,a){switch(i){case"compositionend":return ye(a);case"keypress":return a.which!==32?null:(X=!0,j);case"textInput":return i=a.data,i===j&&X?null:i;default:return null}}function tt(i,a){if(et)return i==="compositionend"||!oi&&re(i,a)?(i=su(),Fi=Rs=ri=null,et=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return A&&a.locale!=="ko"?null:a.data;default:return null}}var on={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jt(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!on[i.type]:a==="textarea"}function Hi(i,a,l,c){Ui?Bi?Bi.push(c):Bi=[c]:Ui=c,a=hf(a,"onChange"),0<a.length&&(l=new Co("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var mn=null,li=null;function du(i){OE(i,0)}function Cd(i){var a=ei(i);if(tu(a))return i}function Z0(i,a){if(i==="change")return a}var J0=!1;if(Lr){var Up;if(Lr){var Bp="oninput"in document;if(!Bp){var eb=document.createElement("div");eb.setAttribute("oninput","return;"),Bp=typeof eb.oninput=="function"}Up=Bp}else Up=!1;J0=Up&&(!document.documentMode||9<document.documentMode)}function tb(){mn&&(mn.detachEvent("onpropertychange",nb),li=mn=null)}function nb(i){if(i.propertyName==="value"&&Cd(li)){var a=[];Hi(a,li,i,yr(i)),hd(du,a)}}function nI(i,a,l){i==="focusin"?(tb(),mn=a,li=l,mn.attachEvent("onpropertychange",nb)):i==="focusout"&&tb()}function rI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Cd(li)}function iI(i,a){if(i==="click")return Cd(a)}function sI(i,a){if(i==="input"||i==="change")return Cd(a)}function aI(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var er=typeof Object.is=="function"?Object.is:aI;function fu(i,a){if(er(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!Xn.call(a,g)||!er(i[g],a[g]))return!1}return!0}function rb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ib(i,a){var l=rb(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=rb(l)}}function sb(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?sb(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function ab(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Sa(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Sa(i.document)}return a}function Fp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var oI=Lr&&"documentMode"in document&&11>=document.documentMode,ko=null,zp=null,hu=null,Hp=!1;function ob(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hp||ko==null||ko!==Sa(c)||(c=ko,"selectionStart"in c&&Fp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),hu&&fu(hu,c)||(hu=c,c=hf(zp,"onSelect"),0<c.length&&(a=new Co("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=ko)))}function ka(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Vo={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},qp={},lb={};Lr&&(lb=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Va(i){if(qp[i])return qp[i];if(!Vo[i])return i;var a=Vo[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in lb)return qp[i]=a[l];return i}var ub=Va("animationend"),cb=Va("animationiteration"),db=Va("animationstart"),lI=Va("transitionrun"),uI=Va("transitionstart"),cI=Va("transitioncancel"),fb=Va("transitionend"),hb=new Map,$p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$p.push("scrollEnd");function jr(i,a){hb.set(i,a),Vr(a,[i])}var pb=new WeakMap;function Er(i,a){if(typeof i=="object"&&i!==null){var l=pb.get(i);return l!==void 0?l:(a={value:i,source:a,stack:So(a)},pb.set(i,a),a)}return{value:i,source:a,stack:So(a)}}var wr=[],Lo=0,Gp=0;function Rd(){for(var i=Lo,a=Gp=Lo=0;a<i;){var l=wr[a];wr[a++]=null;var c=wr[a];wr[a++]=null;var g=wr[a];wr[a++]=null;var y=wr[a];if(wr[a++]=null,c!==null&&g!==null){var R=c.pending;R===null?g.next=g:(g.next=R.next,R.next=g),c.pending=g}y!==0&&mb(l,g,y)}}function Id(i,a,l,c){wr[Lo++]=i,wr[Lo++]=a,wr[Lo++]=l,wr[Lo++]=c,Gp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Yp(i,a,l,c){return Id(i,a,l,c),Nd(i)}function jo(i,a){return Id(i,null,null,a),Nd(i)}function mb(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&a!==null&&(g=31-ft(l),i=y.hiddenUpdates,c=i[g],c===null?i[g]=[a]:c.push(a),a.lane=l|536870912),y):null}function Nd(i){if(50<ju)throw ju=0,Jm=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Uo={};function dI(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(i,a,l,c){return new dI(i,a,l,c)}function Kp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qi(i,a){var l=i.alternate;return l===null?(l=tr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function gb(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Od(i,a,l,c,g,y){var R=0;if(c=i,typeof i=="function")Kp(i)&&(R=1);else if(typeof i=="string")R=hN(i,l,xe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=tr(31,l,a,g),i.elementType=M,i.lanes=y,i;case w:return La(l.children,g,y,a);case C:R=8,g|=24;break;case I:return i=tr(12,l,a,g|2),i.elementType=I,i.lanes=y,i;case V:return i=tr(13,l,a,g),i.elementType=V,i.lanes=y,i;case K:return i=tr(19,l,a,g),i.elementType=K,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case T:case N:R=10;break e;case S:R=9;break e;case z:R=11;break e;case P:R=14;break e;case O:R=16,c=null;break e}R=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=tr(R,l,a,g),a.elementType=i,a.type=c,a.lanes=y,a}function La(i,a,l,c){return i=tr(7,i,c,a),i.lanes=l,i}function Qp(i,a,l){return i=tr(6,i,null,a),i.lanes=l,i}function Xp(i,a,l){return a=tr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Bo=[],Fo=0,Md=null,Dd=0,xr=[],Sr=0,ja=null,$i=1,Gi="";function Ua(i,a){Bo[Fo++]=Dd,Bo[Fo++]=Md,Md=i,Dd=a}function vb(i,a,l){xr[Sr++]=$i,xr[Sr++]=Gi,xr[Sr++]=ja,ja=i;var c=$i;i=Gi;var g=32-ft(c)-1;c&=~(1<<g),l+=1;var y=32-ft(a)+g;if(30<y){var R=g-g%5;y=(c&(1<<R)-1).toString(32),c>>=R,g-=R,$i=1<<32-ft(a)+g|l<<g|c,Gi=y+i}else $i=1<<y|l<<g|c,Gi=i}function Wp(i){i.return!==null&&(Ua(i,1),vb(i,1,0))}function Zp(i){for(;i===Md;)Md=Bo[--Fo],Bo[Fo]=null,Dd=Bo[--Fo],Bo[Fo]=null;for(;i===ja;)ja=xr[--Sr],xr[Sr]=null,Gi=xr[--Sr],xr[Sr]=null,$i=xr[--Sr],xr[Sr]=null}var Pn=null,Ot=null,at=!1,Ba=null,ui=!1,Jp=Error(r(519));function Fa(i){var a=Error(r(418,""));throw gu(Er(a,i)),Jp}function yb(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[Wt]=i,a[zt]=c,l){case"dialog":We("cancel",a),We("close",a);break;case"iframe":case"object":case"embed":We("load",a);break;case"video":case"audio":for(l=0;l<Bu.length;l++)We(Bu[l],a);break;case"source":We("error",a);break;case"img":case"image":case"link":We("error",a),We("load",a);break;case"details":We("toggle",a);break;case"input":We("invalid",a),Ta(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),To(a);break;case"select":We("invalid",a);break;case"textarea":We("invalid",a),Aa(a,c.value,c.defaultValue,c.children),To(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||kE(a.textContent,l)?(c.popover!=null&&(We("beforetoggle",a),We("toggle",a)),c.onScroll!=null&&We("scroll",a),c.onScrollEnd!=null&&We("scrollend",a),c.onClick!=null&&(a.onclick=pf),a=!0):a=!1,a||Fa(i)}function bb(i){for(Pn=i.return;Pn;)switch(Pn.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:Pn=Pn.return}}function pu(i){if(i!==Pn)return!1;if(!at)return bb(i),at=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||mg(i.type,i.memoizedProps)),l=!l),l&&Ot&&Fa(i),bb(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Ot=Br(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Ot=null}}else a===27?(a=Ot,qs(i.type)?(i=bg,bg=null,Ot=i):Ot=a):Ot=Pn?Br(i.stateNode.nextSibling):null;return!0}function mu(){Ot=Pn=null,at=!1}function _b(){var i=Ba;return i!==null&&($n===null?$n=i:$n.push.apply($n,i),Ba=null),i}function gu(i){Ba===null?Ba=[i]:Ba.push(i)}var em=ne(null),za=null,Yi=null;function Is(i,a,l){ue(em,a._currentValue),a._currentValue=l}function Ki(i){i._currentValue=em.current,le(em)}function tm(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function nm(i,a,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var R=g.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=g;for(var q=0;q<a.length;q++)if(k.context===a[q]){y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),tm(y.return,l,i),c||(R=null);break e}y=k.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(r(341));R.lanes|=l,y=R.alternate,y!==null&&(y.lanes|=l),tm(R,l,i),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===i){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function vu(i,a,l,c){i=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var k=g.type;er(g.pendingProps.value,R.value)||(i!==null?i.push(k):i=[k])}}else if(g===it.current){if(R=g.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(Gu):i=[Gu])}g=g.return}i!==null&&nm(a,i,l,c),a.flags|=262144}function Pd(i){for(i=i.firstContext;i!==null;){if(!er(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ha(i){za=i,Yi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Sn(i){return Eb(za,i)}function kd(i,a){return za===null&&Ha(i),Eb(i,a)}function Eb(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Yi===null){if(i===null)throw Error(r(308));Yi=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Yi=Yi.next=a;return l}var fI=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},hI=n.unstable_scheduleCallback,pI=n.unstable_NormalPriority,en={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new fI,data:new Map,refCount:0}}function yu(i){i.refCount--,i.refCount===0&&hI(pI,function(){i.controller.abort()})}var bu=null,im=0,zo=0,Ho=null;function mI(i,a){if(bu===null){var l=bu=[];im=0,zo=ag(),Ho={status:"pending",value:void 0,then:function(c){l.push(c)}}}return im++,a.then(wb,wb),a}function wb(){if(--im===0&&bu!==null){Ho!==null&&(Ho.status="fulfilled");var i=bu;bu=null,zo=0,Ho=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function gI(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var xb=G.S;G.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&mI(i,a),xb!==null&&xb(i,a)};var qa=ne(null);function sm(){var i=qa.current;return i!==null?i:xt.pooledCache}function Vd(i,a){a===null?ue(qa,qa.current):ue(qa,a.pool)}function Sb(){var i=sm();return i===null?null:{parent:en._currentValue,pool:i}}var _u=Error(r(460)),Tb=Error(r(474)),Ld=Error(r(542)),am={then:function(){}};function Ab(i){return i=i.status,i==="fulfilled"||i==="rejected"}function jd(){}function Cb(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(jd,jd),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Ib(i),i;default:if(typeof a.status=="string")a.then(jd,jd);else{if(i=xt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=c}},function(c){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Ib(i),i}throw Eu=a,_u}}var Eu=null;function Rb(){if(Eu===null)throw Error(r(459));var i=Eu;return Eu=null,i}function Ib(i){if(i===_u||i===Ld)throw Error(r(483))}var Ns=!1;function om(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lm(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Os(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ms(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(ht&2)!==0){var g=c.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),c.pending=a,a=Nd(i),mb(i,null,l),a}return Id(i,c,a,l),Nd(i)}function wu(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Xl(i,l)}}function um(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=R:y=y.next=R,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var cm=!1;function xu(){if(cm){var i=Ho;if(i!==null)throw i}}function Su(i,a,l,c){cm=!1;var g=i.updateQueue;Ns=!1;var y=g.firstBaseUpdate,R=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var q=k,Z=q.next;q.next=null,R===null?y=Z:R.next=Z,R=q;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,k=ae.lastBaseUpdate,k!==R&&(k===null?ae.firstBaseUpdate=Z:k.next=Z,ae.lastBaseUpdate=q))}if(y!==null){var de=g.baseState;R=0,ae=Z=q=null,k=y;do{var ee=k.lane&-536870913,te=ee!==k.lane;if(te?(nt&ee)===ee:(c&ee)===ee){ee!==0&&ee===zo&&(cm=!0),ae!==null&&(ae=ae.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Be=i,ke=k;ee=a;var yt=l;switch(ke.tag){case 1:if(Be=ke.payload,typeof Be=="function"){de=Be.call(yt,de,ee);break e}de=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=ke.payload,ee=typeof Be=="function"?Be.call(yt,de,ee):Be,ee==null)break e;de=m({},de,ee);break e;case 2:Ns=!0}}ee=k.callback,ee!==null&&(i.flags|=64,te&&(i.flags|=8192),te=g.callbacks,te===null?g.callbacks=[ee]:te.push(ee))}else te={lane:ee,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ae===null?(Z=ae=te,q=de):ae=ae.next=te,R|=ee;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;te=k,k=te.next,te.next=null,g.lastBaseUpdate=te,g.shared.pending=null}}while(!0);ae===null&&(q=de),g.baseState=q,g.firstBaseUpdate=Z,g.lastBaseUpdate=ae,y===null&&(g.shared.lanes=0),Bs|=R,i.lanes=R,i.memoizedState=de}}function Nb(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function Ob(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)Nb(l[i],a)}var qo=ne(null),Ud=ne(0);function Mb(i,a){i=ts,ue(Ud,i),ue(qo,a),ts=i|a.baseLanes}function dm(){ue(Ud,ts),ue(qo,qo.current)}function fm(){ts=Ud.current,le(qo),le(Ud)}var Ds=0,Ye=null,gt=null,qt=null,Bd=!1,$o=!1,$a=!1,Fd=0,Tu=0,Go=null,vI=0;function Lt(){throw Error(r(321))}function hm(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!er(i[l],a[l]))return!1;return!0}function pm(i,a,l,c,g,y){return Ds=y,Ye=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,G.H=i===null||i.memoizedState===null?m_:g_,$a=!1,y=l(c,g),$a=!1,$o&&(y=Pb(a,l,c,g)),Db(i),y}function Db(i){G.H=Yd;var a=gt!==null&&gt.next!==null;if(Ds=0,qt=gt=Ye=null,Bd=!1,Tu=0,Go=null,a)throw Error(r(300));i===null||ln||(i=i.dependencies,i!==null&&Pd(i)&&(ln=!0))}function Pb(i,a,l,c){Ye=i;var g=0;do{if($o&&(Go=null),Tu=0,$o=!1,25<=g)throw Error(r(301));if(g+=1,qt=gt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}G.H=SI,y=a(l,c)}while($o);return y}function yI(){var i=G.H,a=i.useState()[0];return a=typeof a.then=="function"?Au(a):a,i=i.useState()[0],(gt!==null?gt.memoizedState:null)!==i&&(Ye.flags|=1024),a}function mm(){var i=Fd!==0;return Fd=0,i}function gm(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function vm(i){if(Bd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}Bd=!1}Ds=0,qt=gt=Ye=null,$o=!1,Tu=Fd=0,Go=null}function Hn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Ye.memoizedState=qt=i:qt=qt.next=i,qt}function $t(){if(gt===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=gt.next;var a=qt===null?Ye.memoizedState:qt.next;if(a!==null)qt=a,gt=i;else{if(i===null)throw Ye.alternate===null?Error(r(467)):Error(r(310));gt=i,i={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},qt===null?Ye.memoizedState=qt=i:qt=qt.next=i}return qt}function ym(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Au(i){var a=Tu;return Tu+=1,Go===null&&(Go=[]),i=Cb(Go,i,a),a=Ye,(qt===null?a.memoizedState:qt.next)===null&&(a=a.alternate,G.H=a===null||a.memoizedState===null?m_:g_),i}function zd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Au(i);if(i.$$typeof===N)return Sn(i)}throw Error(r(438,String(i)))}function bm(i){var a=null,l=Ye.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ye.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=ym(),Ye.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=L;return a.index++,l}function Qi(i,a){return typeof a=="function"?a(i):a}function Hd(i){var a=$t();return _m(a,gt,i)}function _m(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=i.baseQueue,y=c.pending;if(y!==null){if(g!==null){var R=g.next;g.next=y.next,y.next=R}a.baseQueue=g=y,c.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{a=g.next;var k=R=null,q=null,Z=a,ae=!1;do{var de=Z.lane&-536870913;if(de!==Z.lane?(nt&de)===de:(Ds&de)===de){var ee=Z.revertLane;if(ee===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),de===zo&&(ae=!0);else if((Ds&ee)===ee){Z=Z.next,ee===zo&&(ae=!0);continue}else de={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(k=q=de,R=y):q=q.next=de,Ye.lanes|=ee,Bs|=ee;de=Z.action,$a&&l(y,de),y=Z.hasEagerState?Z.eagerState:l(y,de)}else ee={lane:de,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(k=q=ee,R=y):q=q.next=ee,Ye.lanes|=de,Bs|=de;Z=Z.next}while(Z!==null&&Z!==a);if(q===null?R=y:q.next=k,!er(y,i.memoizedState)&&(ln=!0,ae&&(l=Ho,l!==null)))throw l;i.memoizedState=y,i.baseState=R,i.baseQueue=q,c.lastRenderedState=y}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Em(i){var a=$t(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var R=g=g.next;do y=i(y,R.action),R=R.next;while(R!==g);er(y,a.memoizedState)||(ln=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function kb(i,a,l){var c=Ye,g=$t(),y=at;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var R=!er((gt||g).memoizedState,l);R&&(g.memoizedState=l,ln=!0),g=g.queue;var k=jb.bind(null,c,g,i);if(Cu(2048,8,k,[i]),g.getSnapshot!==a||R||qt!==null&&qt.memoizedState.tag&1){if(c.flags|=2048,Yo(9,qd(),Lb.bind(null,c,g,l,a),null),xt===null)throw Error(r(349));y||(Ds&124)!==0||Vb(c,a,l)}return l}function Vb(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Ye.updateQueue,a===null?(a=ym(),Ye.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function Lb(i,a,l,c){a.value=l,a.getSnapshot=c,Ub(a)&&Bb(i)}function jb(i,a,l){return l(function(){Ub(a)&&Bb(i)})}function Ub(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!er(i,l)}catch{return!0}}function Bb(i){var a=jo(i,2);a!==null&&ar(a,i,2)}function wm(i){var a=Hn();if(typeof i=="function"){var l=i;if(i=l(),$a){Ge(!0);try{l()}finally{Ge(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:i},a}function Fb(i,a,l,c){return i.baseState=l,_m(i,gt,typeof c=="function"?c:Qi)}function bI(i,a,l,c,g){if(Gd(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};G.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,zb(a,y)):(y.next=l.next,a.pending=l.next=y)}}function zb(i,a){var l=a.action,c=a.payload,g=i.state;if(a.isTransition){var y=G.T,R={};G.T=R;try{var k=l(g,c),q=G.S;q!==null&&q(R,k),Hb(i,a,k)}catch(Z){xm(i,a,Z)}finally{G.T=y}}else try{y=l(g,c),Hb(i,a,y)}catch(Z){xm(i,a,Z)}}function Hb(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){qb(i,a,c)},function(c){return xm(i,a,c)}):qb(i,a,l)}function qb(i,a,l){a.status="fulfilled",a.value=l,$b(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,zb(i,l)))}function xm(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,$b(a),a=a.next;while(a!==c)}i.action=null}function $b(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Gb(i,a){return a}function Yb(i,a){if(at){var l=xt.formState;if(l!==null){e:{var c=Ye;if(at){if(Ot){t:{for(var g=Ot,y=ui;g.nodeType!==8;){if(!y){g=null;break t}if(g=Br(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Ot=Br(g.nextSibling),c=g.data==="F!";break e}}Fa(c)}c=!1}c&&(a=l[0])}}return l=Hn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gb,lastRenderedState:a},l.queue=c,l=f_.bind(null,Ye,c),c.dispatch=l,c=wm(!1),y=Rm.bind(null,Ye,!1,c.queue),c=Hn(),g={state:a,dispatch:null,action:i,pending:null},c.queue=g,l=bI.bind(null,Ye,g,y,l),g.dispatch=l,c.memoizedState=i,[a,l,!1]}function Kb(i){var a=$t();return Qb(a,gt,i)}function Qb(i,a,l){if(a=_m(i,a,Gb)[0],i=Hd(Qi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Au(a)}catch(R){throw R===_u?Ld:R}else c=a;a=$t();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(Ye.flags|=2048,Yo(9,qd(),_I.bind(null,g,l),null)),[c,y,i]}function _I(i,a){i.action=a}function Xb(i){var a=$t(),l=gt;if(l!==null)return Qb(a,l,i);$t(),a=a.memoizedState,l=$t();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function Yo(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Ye.updateQueue,a===null&&(a=ym(),Ye.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function qd(){return{destroy:void 0,resource:void 0}}function Wb(){return $t().memoizedState}function $d(i,a,l,c){var g=Hn();c=c===void 0?null:c,Ye.flags|=i,g.memoizedState=Yo(1|a,qd(),l,c)}function Cu(i,a,l,c){var g=$t();c=c===void 0?null:c;var y=g.memoizedState.inst;gt!==null&&c!==null&&hm(c,gt.memoizedState.deps)?g.memoizedState=Yo(a,y,l,c):(Ye.flags|=i,g.memoizedState=Yo(1|a,y,l,c))}function Zb(i,a){$d(8390656,8,i,a)}function Jb(i,a){Cu(2048,8,i,a)}function e_(i,a){return Cu(4,2,i,a)}function t_(i,a){return Cu(4,4,i,a)}function n_(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function r_(i,a,l){l=l!=null?l.concat([i]):null,Cu(4,4,n_.bind(null,a,i),l)}function Sm(){}function i_(i,a){var l=$t();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&hm(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function s_(i,a){var l=$t();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&hm(a,c[1]))return c[0];if(c=i(),$a){Ge(!0);try{i()}finally{Ge(!1)}}return l.memoizedState=[c,a],c}function Tm(i,a,l){return l===void 0||(Ds&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=lE(),Ye.lanes|=i,Bs|=i,l)}function a_(i,a,l,c){return er(l,a)?l:qo.current!==null?(i=Tm(i,l,c),er(i,a)||(ln=!0),i):(Ds&42)===0?(ln=!0,i.memoizedState=l):(i=lE(),Ye.lanes|=i,Bs|=i,a)}function o_(i,a,l,c,g){var y=oe.p;oe.p=y!==0&&8>y?y:8;var R=G.T,k={};G.T=k,Rm(i,!1,a,l);try{var q=g(),Z=G.S;if(Z!==null&&Z(k,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ae=gI(q,c);Ru(i,a,ae,sr(i))}else Ru(i,a,c,sr(i))}catch(de){Ru(i,a,{then:function(){},status:"rejected",reason:de},sr())}finally{oe.p=y,G.T=R}}function EI(){}function Am(i,a,l,c){if(i.tag!==5)throw Error(r(476));var g=l_(i).queue;o_(i,g,a,me,l===null?EI:function(){return u_(i),l(c)})}function l_(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:me},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function u_(i){var a=l_(i).next.queue;Ru(i,a,{},sr())}function Cm(){return Sn(Gu)}function c_(){return $t().memoizedState}function d_(){return $t().memoizedState}function wI(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=sr();i=Os(l);var c=Ms(a,i,l);c!==null&&(ar(c,a,l),wu(c,a,l)),a={cache:rm()},i.payload=a;return}a=a.return}}function xI(i,a,l){var c=sr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Gd(i)?h_(a,l):(l=Yp(i,a,l,c),l!==null&&(ar(l,i,c),p_(l,a,c)))}function f_(i,a,l){var c=sr();Ru(i,a,l,c)}function Ru(i,a,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Gd(i))h_(a,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var R=a.lastRenderedState,k=y(R,l);if(g.hasEagerState=!0,g.eagerState=k,er(k,R))return Id(i,a,g,0),xt===null&&Rd(),!1}catch{}finally{}if(l=Yp(i,a,g,c),l!==null)return ar(l,i,c),p_(l,a,c),!0}return!1}function Rm(i,a,l,c){if(c={lane:2,revertLane:ag(),action:c,hasEagerState:!1,eagerState:null,next:null},Gd(i)){if(a)throw Error(r(479))}else a=Yp(i,l,c,2),a!==null&&ar(a,i,2)}function Gd(i){var a=i.alternate;return i===Ye||a!==null&&a===Ye}function h_(i,a){$o=Bd=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function p_(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Xl(i,l)}}var Yd={readContext:Sn,use:zd,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},m_={readContext:Sn,use:zd,useCallback:function(i,a){return Hn().memoizedState=[i,a===void 0?null:a],i},useContext:Sn,useEffect:Zb,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,$d(4194308,4,n_.bind(null,a,i),l)},useLayoutEffect:function(i,a){return $d(4194308,4,i,a)},useInsertionEffect:function(i,a){$d(4,2,i,a)},useMemo:function(i,a){var l=Hn();a=a===void 0?null:a;var c=i();if($a){Ge(!0);try{i()}finally{Ge(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Hn();if(l!==void 0){var g=l(a);if($a){Ge(!0);try{l(a)}finally{Ge(!1)}}}else g=a;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=xI.bind(null,Ye,i),[c.memoizedState,i]},useRef:function(i){var a=Hn();return i={current:i},a.memoizedState=i},useState:function(i){i=wm(i);var a=i.queue,l=f_.bind(null,Ye,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Sm,useDeferredValue:function(i,a){var l=Hn();return Tm(l,i,a)},useTransition:function(){var i=wm(!1);return i=o_.bind(null,Ye,i.queue,!0,!1),Hn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Ye,g=Hn();if(at){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),xt===null)throw Error(r(349));(nt&124)!==0||Vb(c,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,Zb(jb.bind(null,c,y,i),[i]),c.flags|=2048,Yo(9,qd(),Lb.bind(null,c,y,l,a),null),l},useId:function(){var i=Hn(),a=xt.identifierPrefix;if(at){var l=Gi,c=$i;l=(c&~(1<<32-ft(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=Fd++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=vI++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:Cm,useFormState:Yb,useActionState:Yb,useOptimistic:function(i){var a=Hn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Rm.bind(null,Ye,!0,l),l.dispatch=a,[i,a]},useMemoCache:bm,useCacheRefresh:function(){return Hn().memoizedState=wI.bind(null,Ye)}},g_={readContext:Sn,use:zd,useCallback:i_,useContext:Sn,useEffect:Jb,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:Hd,useRef:Wb,useState:function(){return Hd(Qi)},useDebugValue:Sm,useDeferredValue:function(i,a){var l=$t();return a_(l,gt.memoizedState,i,a)},useTransition:function(){var i=Hd(Qi)[0],a=$t().memoizedState;return[typeof i=="boolean"?i:Au(i),a]},useSyncExternalStore:kb,useId:c_,useHostTransitionStatus:Cm,useFormState:Kb,useActionState:Kb,useOptimistic:function(i,a){var l=$t();return Fb(l,gt,i,a)},useMemoCache:bm,useCacheRefresh:d_},SI={readContext:Sn,use:zd,useCallback:i_,useContext:Sn,useEffect:Jb,useImperativeHandle:r_,useInsertionEffect:e_,useLayoutEffect:t_,useMemo:s_,useReducer:Em,useRef:Wb,useState:function(){return Em(Qi)},useDebugValue:Sm,useDeferredValue:function(i,a){var l=$t();return gt===null?Tm(l,i,a):a_(l,gt.memoizedState,i,a)},useTransition:function(){var i=Em(Qi)[0],a=$t().memoizedState;return[typeof i=="boolean"?i:Au(i),a]},useSyncExternalStore:kb,useId:c_,useHostTransitionStatus:Cm,useFormState:Xb,useActionState:Xb,useOptimistic:function(i,a){var l=$t();return gt!==null?Fb(l,gt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:bm,useCacheRefresh:d_},Ko=null,Iu=0;function Kd(i){var a=Iu;return Iu+=1,Ko===null&&(Ko=[]),Cb(Ko,i,a)}function Nu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function Qd(i,a){throw a.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function v_(i){var a=i._init;return a(i._payload)}function y_(i){function a(Q,Y){if(i){var W=Q.deletions;W===null?(Q.deletions=[Y],Q.flags|=16):W.push(Y)}}function l(Q,Y){if(!i)return null;for(;Y!==null;)a(Q,Y),Y=Y.sibling;return null}function c(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function g(Q,Y){return Q=qi(Q,Y),Q.index=0,Q.sibling=null,Q}function y(Q,Y,W){return Q.index=W,i?(W=Q.alternate,W!==null?(W=W.index,W<Y?(Q.flags|=67108866,Y):W):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function R(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function k(Q,Y,W,ce){return Y===null||Y.tag!==6?(Y=Qp(W,Q.mode,ce),Y.return=Q,Y):(Y=g(Y,W),Y.return=Q,Y)}function q(Q,Y,W,ce){var Ce=W.type;return Ce===w?ae(Q,Y,W.props.children,ce,W.key):Y!==null&&(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===O&&v_(Ce)===Y.type)?(Y=g(Y,W.props),Nu(Y,W),Y.return=Q,Y):(Y=Od(W.type,W.key,W.props,null,Q.mode,ce),Nu(Y,W),Y.return=Q,Y)}function Z(Q,Y,W,ce){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==W.containerInfo||Y.stateNode.implementation!==W.implementation?(Y=Xp(W,Q.mode,ce),Y.return=Q,Y):(Y=g(Y,W.children||[]),Y.return=Q,Y)}function ae(Q,Y,W,ce,Ce){return Y===null||Y.tag!==7?(Y=La(W,Q.mode,ce,Ce),Y.return=Q,Y):(Y=g(Y,W),Y.return=Q,Y)}function de(Q,Y,W){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=Qp(""+Y,Q.mode,W),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case _:return W=Od(Y.type,Y.key,Y.props,null,Q.mode,W),Nu(W,Y),W.return=Q,W;case x:return Y=Xp(Y,Q.mode,W),Y.return=Q,Y;case O:var ce=Y._init;return Y=ce(Y._payload),de(Q,Y,W)}if(ge(Y)||F(Y))return Y=La(Y,Q.mode,W,null),Y.return=Q,Y;if(typeof Y.then=="function")return de(Q,Kd(Y),W);if(Y.$$typeof===N)return de(Q,kd(Q,Y),W);Qd(Q,Y)}return null}function ee(Q,Y,W,ce){var Ce=Y!==null?Y.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Ce!==null?null:k(Q,Y,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return W.key===Ce?q(Q,Y,W,ce):null;case x:return W.key===Ce?Z(Q,Y,W,ce):null;case O:return Ce=W._init,W=Ce(W._payload),ee(Q,Y,W,ce)}if(ge(W)||F(W))return Ce!==null?null:ae(Q,Y,W,ce,null);if(typeof W.then=="function")return ee(Q,Y,Kd(W),ce);if(W.$$typeof===N)return ee(Q,Y,kd(Q,W),ce);Qd(Q,W)}return null}function te(Q,Y,W,ce,Ce){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Q=Q.get(W)||null,k(Y,Q,""+ce,Ce);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case _:return Q=Q.get(ce.key===null?W:ce.key)||null,q(Y,Q,ce,Ce);case x:return Q=Q.get(ce.key===null?W:ce.key)||null,Z(Y,Q,ce,Ce);case O:var Qe=ce._init;return ce=Qe(ce._payload),te(Q,Y,W,ce,Ce)}if(ge(ce)||F(ce))return Q=Q.get(W)||null,ae(Y,Q,ce,Ce,null);if(typeof ce.then=="function")return te(Q,Y,W,Kd(ce),Ce);if(ce.$$typeof===N)return te(Q,Y,W,kd(Y,ce),Ce);Qd(Y,ce)}return null}function Be(Q,Y,W,ce){for(var Ce=null,Qe=null,Ie=Y,Ve=Y=0,cn=null;Ie!==null&&Ve<W.length;Ve++){Ie.index>Ve?(cn=Ie,Ie=null):cn=Ie.sibling;var st=ee(Q,Ie,W[Ve],ce);if(st===null){Ie===null&&(Ie=cn);break}i&&Ie&&st.alternate===null&&a(Q,Ie),Y=y(st,Y,Ve),Qe===null?Ce=st:Qe.sibling=st,Qe=st,Ie=cn}if(Ve===W.length)return l(Q,Ie),at&&Ua(Q,Ve),Ce;if(Ie===null){for(;Ve<W.length;Ve++)Ie=de(Q,W[Ve],ce),Ie!==null&&(Y=y(Ie,Y,Ve),Qe===null?Ce=Ie:Qe.sibling=Ie,Qe=Ie);return at&&Ua(Q,Ve),Ce}for(Ie=c(Ie);Ve<W.length;Ve++)cn=te(Ie,Q,Ve,W[Ve],ce),cn!==null&&(i&&cn.alternate!==null&&Ie.delete(cn.key===null?Ve:cn.key),Y=y(cn,Y,Ve),Qe===null?Ce=cn:Qe.sibling=cn,Qe=cn);return i&&Ie.forEach(function(Qs){return a(Q,Qs)}),at&&Ua(Q,Ve),Ce}function ke(Q,Y,W,ce){if(W==null)throw Error(r(151));for(var Ce=null,Qe=null,Ie=Y,Ve=Y=0,cn=null,st=W.next();Ie!==null&&!st.done;Ve++,st=W.next()){Ie.index>Ve?(cn=Ie,Ie=null):cn=Ie.sibling;var Qs=ee(Q,Ie,st.value,ce);if(Qs===null){Ie===null&&(Ie=cn);break}i&&Ie&&Qs.alternate===null&&a(Q,Ie),Y=y(Qs,Y,Ve),Qe===null?Ce=Qs:Qe.sibling=Qs,Qe=Qs,Ie=cn}if(st.done)return l(Q,Ie),at&&Ua(Q,Ve),Ce;if(Ie===null){for(;!st.done;Ve++,st=W.next())st=de(Q,st.value,ce),st!==null&&(Y=y(st,Y,Ve),Qe===null?Ce=st:Qe.sibling=st,Qe=st);return at&&Ua(Q,Ve),Ce}for(Ie=c(Ie);!st.done;Ve++,st=W.next())st=te(Ie,Q,Ve,st.value,ce),st!==null&&(i&&st.alternate!==null&&Ie.delete(st.key===null?Ve:st.key),Y=y(st,Y,Ve),Qe===null?Ce=st:Qe.sibling=st,Qe=st);return i&&Ie.forEach(function(TN){return a(Q,TN)}),at&&Ua(Q,Ve),Ce}function yt(Q,Y,W,ce){if(typeof W=="object"&&W!==null&&W.type===w&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case _:e:{for(var Ce=W.key;Y!==null;){if(Y.key===Ce){if(Ce=W.type,Ce===w){if(Y.tag===7){l(Q,Y.sibling),ce=g(Y,W.props.children),ce.return=Q,Q=ce;break e}}else if(Y.elementType===Ce||typeof Ce=="object"&&Ce!==null&&Ce.$$typeof===O&&v_(Ce)===Y.type){l(Q,Y.sibling),ce=g(Y,W.props),Nu(ce,W),ce.return=Q,Q=ce;break e}l(Q,Y);break}else a(Q,Y);Y=Y.sibling}W.type===w?(ce=La(W.props.children,Q.mode,ce,W.key),ce.return=Q,Q=ce):(ce=Od(W.type,W.key,W.props,null,Q.mode,ce),Nu(ce,W),ce.return=Q,Q=ce)}return R(Q);case x:e:{for(Ce=W.key;Y!==null;){if(Y.key===Ce)if(Y.tag===4&&Y.stateNode.containerInfo===W.containerInfo&&Y.stateNode.implementation===W.implementation){l(Q,Y.sibling),ce=g(Y,W.children||[]),ce.return=Q,Q=ce;break e}else{l(Q,Y);break}else a(Q,Y);Y=Y.sibling}ce=Xp(W,Q.mode,ce),ce.return=Q,Q=ce}return R(Q);case O:return Ce=W._init,W=Ce(W._payload),yt(Q,Y,W,ce)}if(ge(W))return Be(Q,Y,W,ce);if(F(W)){if(Ce=F(W),typeof Ce!="function")throw Error(r(150));return W=Ce.call(W),ke(Q,Y,W,ce)}if(typeof W.then=="function")return yt(Q,Y,Kd(W),ce);if(W.$$typeof===N)return yt(Q,Y,kd(Q,W),ce);Qd(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,Y!==null&&Y.tag===6?(l(Q,Y.sibling),ce=g(Y,W),ce.return=Q,Q=ce):(l(Q,Y),ce=Qp(W,Q.mode,ce),ce.return=Q,Q=ce),R(Q)):l(Q,Y)}return function(Q,Y,W,ce){try{Iu=0;var Ce=yt(Q,Y,W,ce);return Ko=null,Ce}catch(Ie){if(Ie===_u||Ie===Ld)throw Ie;var Qe=tr(29,Ie,null,Q.mode);return Qe.lanes=ce,Qe.return=Q,Qe}finally{}}}var Qo=y_(!0),b_=y_(!1),Tr=ne(null),ci=null;function Ps(i){var a=i.alternate;ue(tn,tn.current&1),ue(Tr,i),ci===null&&(a===null||qo.current!==null||a.memoizedState!==null)&&(ci=i)}function __(i){if(i.tag===22){if(ue(tn,tn.current),ue(Tr,i),ci===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(ci=i)}}else ks()}function ks(){ue(tn,tn.current),ue(Tr,Tr.current)}function Xi(i){le(Tr),ci===i&&(ci=null),le(tn)}var tn=ne(0);function Xd(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||yg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Im(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:m({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Nm={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=sr(),g=Os(c);g.payload=a,l!=null&&(g.callback=l),a=Ms(i,g,c),a!==null&&(ar(a,i,c),wu(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=sr(),g=Os(c);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Ms(i,g,c),a!==null&&(ar(a,i,c),wu(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=sr(),c=Os(l);c.tag=2,a!=null&&(c.callback=a),a=Ms(i,c,l),a!==null&&(ar(a,i,l),wu(a,i,l))}};function E_(i,a,l,c,g,y,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,R):a.prototype&&a.prototype.isPureReactComponent?!fu(l,c)||!fu(g,y):!0}function w_(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Nm.enqueueReplaceState(a,a.state,null)}function Ga(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=m({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Wd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function x_(i){Wd(i)}function S_(i){console.error(i)}function T_(i){Wd(i)}function Zd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function A_(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Om(i,a,l){return l=Os(l),l.tag=3,l.payload={element:null},l.callback=function(){Zd(i,a)},l}function C_(i){return i=Os(i),i.tag=3,i}function R_(i,a,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;i.payload=function(){return g(y)},i.callback=function(){A_(a,l,c)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){A_(a,l,c),typeof g!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function TI(i,a,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&vu(a,l,g,!0),l=Tr.current,l!==null){switch(l.tag){case 13:return ci===null?tg():l.alternate===null&&Mt===0&&(Mt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===am?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),rg(i,c,g)),!1;case 22:return l.flags|=65536,c===am?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),rg(i,c,g)),!1}throw Error(r(435,l.tag))}return rg(i,c,g),tg(),!1}if(at)return a=Tr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,c!==Jp&&(i=Error(r(422),{cause:c}),gu(Er(i,l)))):(c!==Jp&&(a=Error(r(423),{cause:c}),gu(Er(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=Er(c,l),g=Om(i.stateNode,c,g),um(i,g),Mt!==4&&(Mt=2)),!1;var y=Error(r(520),{cause:c});if(y=Er(y,l),Lu===null?Lu=[y]:Lu.push(y),Mt!==4&&(Mt=2),a===null)return!0;c=Er(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Om(l.stateNode,c,i),um(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Fs===null||!Fs.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=C_(g),R_(g,i,l,c),um(l,g),!1}l=l.return}while(l!==null);return!1}var I_=Error(r(461)),ln=!1;function gn(i,a,l,c){a.child=i===null?b_(a,null,l,c):Qo(a,i.child,l,c)}function N_(i,a,l,c,g){l=l.render;var y=a.ref;if("ref"in c){var R={};for(var k in c)k!=="ref"&&(R[k]=c[k])}else R=c;return Ha(a),c=pm(i,a,l,R,y,g),k=mm(),i!==null&&!ln?(gm(i,a,g),Wi(i,a,g)):(at&&k&&Wp(a),a.flags|=1,gn(i,a,c,g),a.child)}function O_(i,a,l,c,g){if(i===null){var y=l.type;return typeof y=="function"&&!Kp(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,M_(i,a,y,c,g)):(i=Od(l.type,null,c,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!Um(i,g)){var R=y.memoizedProps;if(l=l.compare,l=l!==null?l:fu,l(R,c)&&i.ref===a.ref)return Wi(i,a,g)}return a.flags|=1,i=qi(y,c),i.ref=a.ref,i.return=a,a.child=i}function M_(i,a,l,c,g){if(i!==null){var y=i.memoizedProps;if(fu(y,c)&&i.ref===a.ref)if(ln=!1,a.pendingProps=c=y,Um(i,g))(i.flags&131072)!==0&&(ln=!0);else return a.lanes=i.lanes,Wi(i,a,g)}return Mm(i,a,l,c,g)}function D_(i,a,l){var c=a.pendingProps,g=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(g=a.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return P_(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Vd(a,y!==null?y.cachePool:null),y!==null?Mb(a,y):dm(),__(a);else return a.lanes=a.childLanes=536870912,P_(i,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Vd(a,y.cachePool),Mb(a,y),ks(),a.memoizedState=null):(i!==null&&Vd(a,null),dm(),ks());return gn(i,a,g,l),a.child}function P_(i,a,l,c){var g=sm();return g=g===null?null:{parent:en._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&Vd(a,null),dm(),__(a),i!==null&&vu(i,a,c,!0),null}function Jd(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Mm(i,a,l,c,g){return Ha(a),l=pm(i,a,l,c,void 0,g),c=mm(),i!==null&&!ln?(gm(i,a,g),Wi(i,a,g)):(at&&c&&Wp(a),a.flags|=1,gn(i,a,l,g),a.child)}function k_(i,a,l,c,g,y){return Ha(a),a.updateQueue=null,l=Pb(a,c,l,g),Db(i),c=mm(),i!==null&&!ln?(gm(i,a,y),Wi(i,a,y)):(at&&c&&Wp(a),a.flags|=1,gn(i,a,l,y),a.child)}function V_(i,a,l,c,g){if(Ha(a),a.stateNode===null){var y=Uo,R=l.contextType;typeof R=="object"&&R!==null&&(y=Sn(R)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Nm,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},om(a),R=l.contextType,y.context=typeof R=="object"&&R!==null?Sn(R):Uo,y.state=a.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Im(a,l,R,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&Nm.enqueueReplaceState(y,y.state,null),Su(a,c,y,g),xu(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){y=a.stateNode;var k=a.memoizedProps,q=Ga(l,k);y.props=q;var Z=y.context,ae=l.contextType;R=Uo,typeof ae=="object"&&ae!==null&&(R=Sn(ae));var de=l.getDerivedStateFromProps;ae=typeof de=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||Z!==R)&&w_(a,y,c,R),Ns=!1;var ee=a.memoizedState;y.state=ee,Su(a,c,y,g),xu(),Z=a.memoizedState,k||ee!==Z||Ns?(typeof de=="function"&&(Im(a,l,de,c),Z=a.memoizedState),(q=Ns||E_(a,l,q,c,ee,Z,R))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Z),y.props=c,y.state=Z,y.context=R,c=q):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,lm(i,a),R=a.memoizedProps,ae=Ga(l,R),y.props=ae,de=a.pendingProps,ee=y.context,Z=l.contextType,q=Uo,typeof Z=="object"&&Z!==null&&(q=Sn(Z)),k=l.getDerivedStateFromProps,(Z=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==de||ee!==q)&&w_(a,y,c,q),Ns=!1,ee=a.memoizedState,y.state=ee,Su(a,c,y,g),xu();var te=a.memoizedState;R!==de||ee!==te||Ns||i!==null&&i.dependencies!==null&&Pd(i.dependencies)?(typeof k=="function"&&(Im(a,l,k,c),te=a.memoizedState),(ae=Ns||E_(a,l,ae,c,ee,te,q)||i!==null&&i.dependencies!==null&&Pd(i.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,te,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,te,q)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&ee===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ee===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=te),y.props=c,y.state=te,y.context=q,c=ae):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&ee===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ee===i.memoizedState||(a.flags|=1024),c=!1)}return y=c,Jd(i,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&c?(a.child=Qo(a,i.child,null,g),a.child=Qo(a,null,l,g)):gn(i,a,l,g),a.memoizedState=y.state,i=a.child):i=Wi(i,a,g),i}function L_(i,a,l,c){return mu(),a.flags|=256,gn(i,a,l,c),a.child}var Dm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pm(i){return{baseLanes:i,cachePool:Sb()}}function km(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Ar),i}function j_(i,a,l){var c=a.pendingProps,g=!1,y=(a.flags&128)!==0,R;if((R=y)||(R=i!==null&&i.memoizedState===null?!1:(tn.current&2)!==0),R&&(g=!0,a.flags&=-129),R=(a.flags&32)!==0,a.flags&=-33,i===null){if(at){if(g?Ps(a):ks(),at){var k=Ot,q;if(q=k){e:{for(q=k,k=ui;q.nodeType!==8;){if(!k){k=null;break e}if(q=Br(q.nextSibling),q===null){k=null;break e}}k=q}k!==null?(a.memoizedState={dehydrated:k,treeContext:ja!==null?{id:$i,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},q=tr(18,null,null,0),q.stateNode=k,q.return=a,a.child=q,Pn=a,Ot=null,q=!0):q=!1}q||Fa(a)}if(k=a.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return yg(k)?a.lanes=32:a.lanes=536870912,null;Xi(a)}return k=c.children,c=c.fallback,g?(ks(),g=a.mode,k=ef({mode:"hidden",children:k},g),c=La(c,g,l,null),k.return=a,c.return=a,k.sibling=c,a.child=k,g=a.child,g.memoizedState=Pm(l),g.childLanes=km(i,R,l),a.memoizedState=Dm,c):(Ps(a),Vm(a,k))}if(q=i.memoizedState,q!==null&&(k=q.dehydrated,k!==null)){if(y)a.flags&256?(Ps(a),a.flags&=-257,a=Lm(i,a,l)):a.memoizedState!==null?(ks(),a.child=i.child,a.flags|=128,a=null):(ks(),g=c.fallback,k=a.mode,c=ef({mode:"visible",children:c.children},k),g=La(g,k,l,null),g.flags|=2,c.return=a,g.return=a,c.sibling=g,a.child=c,Qo(a,i.child,null,l),c=a.child,c.memoizedState=Pm(l),c.childLanes=km(i,R,l),a.memoizedState=Dm,a=g);else if(Ps(a),yg(k)){if(R=k.nextSibling&&k.nextSibling.dataset,R)var Z=R.dgst;R=Z,c=Error(r(419)),c.stack="",c.digest=R,gu({value:c,source:null,stack:null}),a=Lm(i,a,l)}else if(ln||vu(i,a,l,!1),R=(l&i.childLanes)!==0,ln||R){if(R=xt,R!==null&&(c=l&-l,c=(c&42)!==0?1:ws(c),c=(c&(R.suspendedLanes|l))!==0?0:c,c!==0&&c!==q.retryLane))throw q.retryLane=c,jo(i,c),ar(R,i,c),I_;k.data==="$?"||tg(),a=Lm(i,a,l)}else k.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=q.treeContext,Ot=Br(k.nextSibling),Pn=a,at=!0,Ba=null,ui=!1,i!==null&&(xr[Sr++]=$i,xr[Sr++]=Gi,xr[Sr++]=ja,$i=i.id,Gi=i.overflow,ja=a),a=Vm(a,c.children),a.flags|=4096);return a}return g?(ks(),g=c.fallback,k=a.mode,q=i.child,Z=q.sibling,c=qi(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,Z!==null?g=qi(Z,g):(g=La(g,k,l,null),g.flags|=2),g.return=a,c.return=a,c.sibling=g,a.child=c,c=g,g=a.child,k=i.child.memoizedState,k===null?k=Pm(l):(q=k.cachePool,q!==null?(Z=en._currentValue,q=q.parent!==Z?{parent:Z,pool:Z}:q):q=Sb(),k={baseLanes:k.baseLanes|l,cachePool:q}),g.memoizedState=k,g.childLanes=km(i,R,l),a.memoizedState=Dm,c):(Ps(a),l=i.child,i=l.sibling,l=qi(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(R=a.deletions,R===null?(a.deletions=[i],a.flags|=16):R.push(i)),a.child=l,a.memoizedState=null,l)}function Vm(i,a){return a=ef({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function ef(i,a){return i=tr(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Lm(i,a,l){return Qo(a,i.child,null,l),i=Vm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function U_(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),tm(i.return,a,l)}function jm(i,a,l,c,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=g)}function B_(i,a,l){var c=a.pendingProps,g=c.revealOrder,y=c.tail;if(gn(i,a,c.children,l),c=tn.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&U_(i,l,a);else if(i.tag===19)U_(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(ue(tn,c),g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&Xd(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),jm(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&Xd(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}jm(a,!0,l,null,y);break;case"together":jm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Wi(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),Bs|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(vu(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=qi(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=qi(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Um(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Pd(i)))}function AI(i,a,l){switch(a.tag){case 3:qe(a,a.stateNode.containerInfo),Is(a,en,i.memoizedState.cache),mu();break;case 27:case 5:Bn(a);break;case 4:qe(a,a.stateNode.containerInfo);break;case 10:Is(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Ps(a),a.flags|=128,null):(l&a.child.childLanes)!==0?j_(i,a,l):(Ps(a),i=Wi(i,a,l),i!==null?i.sibling:null);Ps(a);break;case 19:var g=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(vu(i,a,l,!1),c=(l&a.childLanes)!==0),g){if(c)return B_(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(tn,tn.current),c)break;return null;case 22:case 23:return a.lanes=0,D_(i,a,l);case 24:Is(a,en,i.memoizedState.cache)}return Wi(i,a,l)}function F_(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)ln=!0;else{if(!Um(i,l)&&(a.flags&128)===0)return ln=!1,AI(i,a,l);ln=(i.flags&131072)!==0}else ln=!1,at&&(a.flags&1048576)!==0&&vb(a,Dd,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,g=c._init;if(c=g(c._payload),a.type=c,typeof c=="function")Kp(c)?(i=Ga(c,i),a.tag=1,a=V_(null,a,c,i,l)):(a.tag=0,a=Mm(null,a,c,i,l));else{if(c!=null){if(g=c.$$typeof,g===z){a.tag=11,a=N_(null,a,c,i,l);break e}else if(g===P){a.tag=14,a=O_(null,a,c,i,l);break e}}throw a=pe(c)||c,Error(r(306,a,""))}}return a;case 0:return Mm(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,g=Ga(c,a.pendingProps),V_(i,a,c,g,l);case 3:e:{if(qe(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;g=y.element,lm(i,a),Su(a,c,null,l);var R=a.memoizedState;if(c=R.cache,Is(a,en,c),c!==y.cache&&nm(a,[en],l,!0),xu(),c=R.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=L_(i,a,c,l);break e}else if(c!==g){g=Er(Error(r(424)),a),gu(g),a=L_(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Ot=Br(i.firstChild),Pn=a,at=!0,Ba=null,ui=!0,l=b_(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(mu(),c===g){a=Wi(i,a,l);break e}gn(i,a,c,l)}a=a.child}return a;case 26:return Jd(i,a),i===null?(l=$E(a.type,null,a.pendingProps,null))?a.memoizedState=l:at||(l=a.type,i=a.pendingProps,c=mf(Ae.current).createElement(l),c[Wt]=a,c[zt]=i,yn(c,l,i),Vt(c),a.stateNode=c):a.memoizedState=$E(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Bn(a),i===null&&at&&(c=a.stateNode=zE(a.type,a.pendingProps,Ae.current),Pn=a,ui=!0,g=Ot,qs(a.type)?(bg=g,Ot=Br(c.firstChild)):Ot=g),gn(i,a,a.pendingProps.children,l),Jd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&at&&((g=c=Ot)&&(c=eN(c,a.type,a.pendingProps,ui),c!==null?(a.stateNode=c,Pn=a,Ot=Br(c.firstChild),ui=!1,g=!0):g=!1),g||Fa(a)),Bn(a),g=a.type,y=a.pendingProps,R=i!==null?i.memoizedProps:null,c=y.children,mg(g,y)?c=null:R!==null&&mg(g,R)&&(a.flags|=32),a.memoizedState!==null&&(g=pm(i,a,yI,null,null,l),Gu._currentValue=g),Jd(i,a),gn(i,a,c,l),a.child;case 6:return i===null&&at&&((i=l=Ot)&&(l=tN(l,a.pendingProps,ui),l!==null?(a.stateNode=l,Pn=a,Ot=null,i=!0):i=!1),i||Fa(a)),null;case 13:return j_(i,a,l);case 4:return qe(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Qo(a,null,c,l):gn(i,a,c,l),a.child;case 11:return N_(i,a,a.type,a.pendingProps,l);case 7:return gn(i,a,a.pendingProps,l),a.child;case 8:return gn(i,a,a.pendingProps.children,l),a.child;case 12:return gn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Is(a,a.type,c.value),gn(i,a,c.children,l),a.child;case 9:return g=a.type._context,c=a.pendingProps.children,Ha(a),g=Sn(g),c=c(g),a.flags|=1,gn(i,a,c,l),a.child;case 14:return O_(i,a,a.type,a.pendingProps,l);case 15:return M_(i,a,a.type,a.pendingProps,l);case 19:return B_(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=ef(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=qi(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return D_(i,a,l);case 24:return Ha(a),c=Sn(en),i===null?(g=sm(),g===null&&(g=xt,y=rm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:c,cache:g},om(a),Is(a,en,g)):((i.lanes&l)!==0&&(lm(i,a),Su(a,null,null,l),xu()),g=i.memoizedState,y=a.memoizedState,g.parent!==c?(g={parent:c,cache:c},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Is(a,en,c)):(c=y.cache,Is(a,en,c),c!==g.cache&&nm(a,[en],l,!0))),gn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Zi(i){i.flags|=4}function z_(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!XE(a)){if(a=Tr.current,a!==null&&((nt&4194048)===nt?ci!==null:(nt&62914560)!==nt&&(nt&536870912)===0||a!==ci))throw Eu=am,Tb;i.flags|=8192}}function tf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Kl():536870912,i.lanes|=a,Jo|=a)}function Ou(i,a){if(!at)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function It(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function CI(i,a,l){var c=a.pendingProps;switch(Zp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(a),null;case 1:return It(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ki(en),bt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(pu(a)?Zi(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_b())),It(a),null;case 26:return l=a.memoizedState,i===null?(Zi(a),l!==null?(It(a),z_(a,l)):(It(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Zi(a),It(a),z_(a,l)):(It(a),a.flags&=-16777217):(i.memoizedProps!==c&&Zi(a),It(a),a.flags&=-16777217),null;case 27:Fn(a),l=Ae.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Zi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return It(a),null}i=xe.current,pu(a)?yb(a):(i=zE(g,c,l),a.stateNode=i,Zi(a))}return It(a),null;case 5:if(Fn(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Zi(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return It(a),null}if(i=xe.current,pu(a))yb(a);else{switch(g=mf(Ae.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}i[Wt]=a,i[zt]=c;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(yn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Zi(a)}}return It(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Zi(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ae.current,pu(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,g=Pn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[Wt]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||kE(i.nodeValue,l)),i||Fa(a)}else i=mf(i).createTextNode(c),i[Wt]=a,a.stateNode=i}return It(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=pu(a),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Wt]=a}else mu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;It(a),g=!1}else g=_b(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Xi(a),a):(Xi(a),null)}if(Xi(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),tf(a,a.updateQueue),It(a),null;case 4:return bt(),i===null&&cg(a.stateNode.containerInfo),It(a),null;case 10:return Ki(a.type),It(a),null;case 19:if(le(tn),g=a.memoizedState,g===null)return It(a),null;if(c=(a.flags&128)!==0,y=g.rendering,y===null)if(c)Ou(g,!1);else{if(Mt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=Xd(i),y!==null){for(a.flags|=128,Ou(g,!1),i=y.updateQueue,a.updateQueue=i,tf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)gb(l,i),l=l.sibling;return ue(tn,tn.current&1|2),a.child}i=i.sibling}g.tail!==null&&zn()>sf&&(a.flags|=128,c=!0,Ou(g,!1),a.lanes=4194304)}else{if(!c)if(i=Xd(y),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,tf(a,i),Ou(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!at)return It(a),null}else 2*zn()-g.renderingStartTime>sf&&l!==536870912&&(a.flags|=128,c=!0,Ou(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(i=g.last,i!==null?i.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=zn(),a.sibling=null,i=tn.current,ue(tn,c?i&1|2:i&1),a):(It(a),null);case 22:case 23:return Xi(a),fm(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(It(a),a.subtreeFlags&6&&(a.flags|=8192)):It(a),l=a.updateQueue,l!==null&&tf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&le(qa),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Ki(en),It(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function RI(i,a){switch(Zp(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ki(en),bt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Fn(a),null;case 13:if(Xi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));mu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return le(tn),null;case 4:return bt(),null;case 10:return Ki(a.type),null;case 22:case 23:return Xi(a),fm(),i!==null&&le(qa),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Ki(en),null;case 25:return null;default:return null}}function H_(i,a){switch(Zp(a),a.tag){case 3:Ki(en),bt();break;case 26:case 27:case 5:Fn(a);break;case 4:bt();break;case 13:Xi(a);break;case 19:le(tn);break;case 10:Ki(a.type);break;case 22:case 23:Xi(a),fm(),i!==null&&le(qa);break;case 24:Ki(en)}}function Mu(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var y=l.create,R=l.inst;c=y(),R.destroy=c}l=l.next}while(l!==g)}}catch(k){_t(a,a.return,k)}}function Vs(i,a,l){try{var c=a.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&i)===i){var R=c.inst,k=R.destroy;if(k!==void 0){R.destroy=void 0,g=a;var q=l,Z=k;try{Z()}catch(ae){_t(g,q,ae)}}}c=c.next}while(c!==y)}}catch(ae){_t(a,a.return,ae)}}function q_(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{Ob(a,l)}catch(c){_t(i,i.return,c)}}}function $_(i,a,l){l.props=Ga(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){_t(i,a,c)}}function Du(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(g){_t(i,a,g)}}function di(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){_t(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){_t(i,a,g)}else l.current=null}function G_(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){_t(i,i.return,g)}}function Bm(i,a,l){try{var c=i.stateNode;QI(c,i.type,l,a),c[zt]=a}catch(g){_t(i,i.return,g)}}function Y_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&qs(i.type)||i.tag===4}function Fm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Y_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&qs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zm(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=pf));else if(c!==4&&(c===27&&qs(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(zm(i,a,l),i=i.sibling;i!==null;)zm(i,a,l),i=i.sibling}function nf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&qs(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(nf(i,a,l),i=i.sibling;i!==null;)nf(i,a,l),i=i.sibling}function K_(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);yn(a,c,l),a[Wt]=i,a[zt]=l}catch(y){_t(i,i.return,y)}}var Ji=!1,jt=!1,Hm=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,un=null;function II(i,a){if(i=i.containerInfo,hg=Ef,i=ab(i),Fp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var R=0,k=-1,q=-1,Z=0,ae=0,de=i,ee=null;t:for(;;){for(var te;de!==l||g!==0&&de.nodeType!==3||(k=R+g),de!==y||c!==0&&de.nodeType!==3||(q=R+c),de.nodeType===3&&(R+=de.nodeValue.length),(te=de.firstChild)!==null;)ee=de,de=te;for(;;){if(de===i)break t;if(ee===l&&++Z===g&&(k=R),ee===y&&++ae===c&&(q=R),(te=de.nextSibling)!==null)break;de=ee,ee=de.parentNode}de=te}l=k===-1||q===-1?null:{start:k,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(pg={focusedElem:i,selectionRange:l},Ef=!1,un=a;un!==null;)if(a=un,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,un=i;else for(;un!==null;){switch(a=un,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Be=Ga(l.type,g,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Be,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(ke){_t(l,l.return,ke)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)vg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,un=i;break}un=a.return}}function X_(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ls(i,l),c&4&&Mu(5,l);break;case 1:if(Ls(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(R){_t(l,l.return,R)}else{var g=Ga(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(R){_t(l,l.return,R)}}c&64&&q_(l),c&512&&Du(l,l.return);break;case 3:if(Ls(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Ob(i,a)}catch(R){_t(l,l.return,R)}}break;case 27:a===null&&c&4&&K_(l);case 26:case 5:Ls(i,l),a===null&&c&4&&G_(l),c&512&&Du(l,l.return);break;case 12:Ls(i,l);break;case 13:Ls(i,l),c&4&&J_(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=jI.bind(null,l),nN(i,l))));break;case 22:if(c=l.memoizedState!==null||Ji,!c){a=a!==null&&a.memoizedState!==null||jt,g=Ji;var y=jt;Ji=c,(jt=a)&&!y?js(i,l,(l.subtreeFlags&8772)!==0):Ls(i,l),Ji=g,jt=y}break;case 30:break;default:Ls(i,l)}}function W_(i){var a=i.alternate;a!==null&&(i.alternate=null,W_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Ts(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ct=null,qn=!1;function es(i,a,l){for(l=l.child;l!==null;)Z_(i,a,l),l=l.sibling}function Z_(i,a,l){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(_e,l)}catch{}switch(l.tag){case 26:jt||di(l,a),es(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:jt||di(l,a);var c=Ct,g=qn;qs(l.type)&&(Ct=l.stateNode,qn=!1),es(i,a,l),zu(l.stateNode),Ct=c,qn=g;break;case 5:jt||di(l,a);case 6:if(c=Ct,g=qn,Ct=null,es(i,a,l),Ct=c,qn=g,Ct!==null)if(qn)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(l.stateNode)}catch(y){_t(l,a,y)}else try{Ct.removeChild(l.stateNode)}catch(y){_t(l,a,y)}break;case 18:Ct!==null&&(qn?(i=Ct,BE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Xu(i)):BE(Ct,l.stateNode));break;case 4:c=Ct,g=qn,Ct=l.stateNode.containerInfo,qn=!0,es(i,a,l),Ct=c,qn=g;break;case 0:case 11:case 14:case 15:jt||Vs(2,l,a),jt||Vs(4,l,a),es(i,a,l);break;case 1:jt||(di(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&$_(l,a,c)),es(i,a,l);break;case 21:es(i,a,l);break;case 22:jt=(c=jt)||l.memoizedState!==null,es(i,a,l),jt=c;break;default:es(i,a,l)}}function J_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Xu(i)}catch(l){_t(a,a.return,l)}}function NI(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new Q_),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new Q_),a;default:throw Error(r(435,i.tag))}}function qm(i,a){var l=NI(i);a.forEach(function(c){var g=UI.bind(null,i,c);l.has(c)||(l.add(c),c.then(g,g))})}function nr(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],y=i,R=a,k=R;e:for(;k!==null;){switch(k.tag){case 27:if(qs(k.type)){Ct=k.stateNode,qn=!1;break e}break;case 5:Ct=k.stateNode,qn=!1;break e;case 3:case 4:Ct=k.stateNode.containerInfo,qn=!0;break e}k=k.return}if(Ct===null)throw Error(r(160));Z_(y,R,g),Ct=null,qn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)eE(a,i),a=a.sibling}var Ur=null;function eE(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:nr(a,i),rr(i),c&4&&(Vs(3,i,i.return),Mu(3,i),Vs(5,i,i.return));break;case 1:nr(a,i),rr(i),c&512&&(jt||l===null||di(l,l.return)),c&64&&Ji&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=Ur;if(nr(a,i),rr(i),c&512&&(jt||l===null||di(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Ea]||y[Wt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),yn(y,c,l),y[Wt]=i,Vt(y),c=y;break e;case"link":var R=KE("link","href",g).get(c+(l.href||""));if(R){for(var k=0;k<R.length;k++)if(y=R[k],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(k,1);break t}}y=g.createElement(c),yn(y,c,l),g.head.appendChild(y);break;case"meta":if(R=KE("meta","content",g).get(c+(l.content||""))){for(k=0;k<R.length;k++)if(y=R[k],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(k,1);break t}}y=g.createElement(c),yn(y,c,l),g.head.appendChild(y);break;default:throw Error(r(468,c))}y[Wt]=i,Vt(y),c=y}i.stateNode=c}else QE(g,i.type,i.stateNode);else i.stateNode=YE(g,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?QE(g,i.type,i.stateNode):YE(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Bm(i,i.memoizedProps,l.memoizedProps)}break;case 27:nr(a,i),rr(i),c&512&&(jt||l===null||di(l,l.return)),l!==null&&c&4&&Bm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(nr(a,i),rr(i),c&512&&(jt||l===null||di(l,l.return)),i.flags&32){g=i.stateNode;try{vr(g,"")}catch(te){_t(i,i.return,te)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,Bm(i,g,l!==null?l.memoizedProps:g)),c&1024&&(Hm=!0);break;case 6:if(nr(a,i),rr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(te){_t(i,i.return,te)}}break;case 3:if(yf=null,g=Ur,Ur=gf(a.containerInfo),nr(a,i),Ur=g,rr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Xu(a.containerInfo)}catch(te){_t(i,i.return,te)}Hm&&(Hm=!1,tE(i));break;case 4:c=Ur,Ur=gf(i.stateNode.containerInfo),nr(a,i),rr(i),Ur=c;break;case 12:nr(a,i),rr(i);break;case 13:nr(a,i),rr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Xm=zn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qm(i,c)));break;case 22:g=i.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,Z=Ji,ae=jt;if(Ji=Z||g,jt=ae||q,nr(a,i),jt=ae,Ji=Z,rr(i),c&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||q||Ji||jt||Ya(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){q=l=a;try{if(y=q.stateNode,g)R=y.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{k=q.stateNode;var de=q.memoizedProps.style,ee=de!=null&&de.hasOwnProperty("display")?de.display:null;k.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(te){_t(q,q.return,te)}}}else if(a.tag===6){if(l===null){q=a;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(te){_t(q,q.return,te)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,qm(i,l))));break;case 19:nr(a,i),rr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,qm(i,c)));break;case 30:break;case 21:break;default:nr(a,i),rr(i)}}function rr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(Y_(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=Fm(i);nf(i,y,g);break;case 5:var R=l.stateNode;l.flags&32&&(vr(R,""),l.flags&=-33);var k=Fm(i);nf(i,k,R);break;case 3:case 4:var q=l.stateNode.containerInfo,Z=Fm(i);zm(i,Z,q);break;default:throw Error(r(161))}}catch(ae){_t(i,i.return,ae)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function tE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;tE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ls(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)X_(i,a.alternate,a),a=a.sibling}function Ya(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:Vs(4,a,a.return),Ya(a);break;case 1:di(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&$_(a,a.return,l),Ya(a);break;case 27:zu(a.stateNode);case 26:case 5:di(a,a.return),Ya(a);break;case 22:a.memoizedState===null&&Ya(a);break;case 30:Ya(a);break;default:Ya(a)}i=i.sibling}}function js(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,g=i,y=a,R=y.flags;switch(y.tag){case 0:case 11:case 15:js(g,y,l),Mu(4,y);break;case 1:if(js(g,y,l),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){_t(c,c.return,Z)}if(c=y,g=c.updateQueue,g!==null){var k=c.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)Nb(q[g],k)}catch(Z){_t(c,c.return,Z)}}l&&R&64&&q_(y),Du(y,y.return);break;case 27:K_(y);case 26:case 5:js(g,y,l),l&&c===null&&R&4&&G_(y),Du(y,y.return);break;case 12:js(g,y,l);break;case 13:js(g,y,l),l&&R&4&&J_(g,y);break;case 22:y.memoizedState===null&&js(g,y,l),Du(y,y.return);break;case 30:break;default:js(g,y,l)}a=a.sibling}}function $m(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&yu(l))}function Gm(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&yu(i))}function fi(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)nE(i,a,l,c),a=a.sibling}function nE(i,a,l,c){var g=a.flags;switch(a.tag){case 0:case 11:case 15:fi(i,a,l,c),g&2048&&Mu(9,a);break;case 1:fi(i,a,l,c);break;case 3:fi(i,a,l,c),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&yu(i)));break;case 12:if(g&2048){fi(i,a,l,c),i=a.stateNode;try{var y=a.memoizedProps,R=y.id,k=y.onPostCommit;typeof k=="function"&&k(R,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){_t(a,a.return,q)}}else fi(i,a,l,c);break;case 13:fi(i,a,l,c);break;case 23:break;case 22:y=a.stateNode,R=a.alternate,a.memoizedState!==null?y._visibility&2?fi(i,a,l,c):Pu(i,a):y._visibility&2?fi(i,a,l,c):(y._visibility|=2,Xo(i,a,l,c,(a.subtreeFlags&10256)!==0)),g&2048&&$m(R,a);break;case 24:fi(i,a,l,c),g&2048&&Gm(a.alternate,a);break;default:fi(i,a,l,c)}}function Xo(i,a,l,c,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,R=a,k=l,q=c,Z=R.flags;switch(R.tag){case 0:case 11:case 15:Xo(y,R,k,q,g),Mu(8,R);break;case 23:break;case 22:var ae=R.stateNode;R.memoizedState!==null?ae._visibility&2?Xo(y,R,k,q,g):Pu(y,R):(ae._visibility|=2,Xo(y,R,k,q,g)),g&&Z&2048&&$m(R.alternate,R);break;case 24:Xo(y,R,k,q,g),g&&Z&2048&&Gm(R.alternate,R);break;default:Xo(y,R,k,q,g)}a=a.sibling}}function Pu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,g=c.flags;switch(c.tag){case 22:Pu(l,c),g&2048&&$m(c.alternate,c);break;case 24:Pu(l,c),g&2048&&Gm(c.alternate,c);break;default:Pu(l,c)}a=a.sibling}}var ku=8192;function Wo(i){if(i.subtreeFlags&ku)for(i=i.child;i!==null;)rE(i),i=i.sibling}function rE(i){switch(i.tag){case 26:Wo(i),i.flags&ku&&i.memoizedState!==null&&mN(Ur,i.memoizedState,i.memoizedProps);break;case 5:Wo(i);break;case 3:case 4:var a=Ur;Ur=gf(i.stateNode.containerInfo),Wo(i),Ur=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=ku,ku=16777216,Wo(i),ku=a):Wo(i));break;default:Wo(i)}}function iE(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Vu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];un=c,aE(c,i)}iE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)sE(i),i=i.sibling}function sE(i){switch(i.tag){case 0:case 11:case 15:Vu(i),i.flags&2048&&Vs(9,i,i.return);break;case 3:Vu(i);break;case 12:Vu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,rf(i)):Vu(i);break;default:Vu(i)}}function rf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];un=c,aE(c,i)}iE(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:Vs(8,a,a.return),rf(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,rf(a));break;default:rf(a)}i=i.sibling}}function aE(i,a){for(;un!==null;){var l=un;switch(l.tag){case 0:case 11:case 15:Vs(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:yu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,un=c;else e:for(l=i;un!==null;){c=un;var g=c.sibling,y=c.return;if(W_(c),c===l){un=null;break e}if(g!==null){g.return=y,un=g;break e}un=y}}}var OI={getCacheForType:function(i){var a=Sn(en),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},MI=typeof WeakMap=="function"?WeakMap:Map,ht=0,xt=null,Xe=null,nt=0,pt=0,ir=null,Us=!1,Zo=!1,Ym=!1,ts=0,Mt=0,Bs=0,Ka=0,Km=0,Ar=0,Jo=0,Lu=null,$n=null,Qm=!1,Xm=0,sf=1/0,af=null,Fs=null,vn=0,zs=null,el=null,tl=0,Wm=0,Zm=null,oE=null,ju=0,Jm=null;function sr(){if((ht&2)!==0&&nt!==0)return nt&-nt;if(G.T!==null){var i=zo;return i!==0?i:ag()}return xs()}function lE(){Ar===0&&(Ar=(nt&536870912)===0||at?Yl():536870912);var i=Tr.current;return i!==null&&(i.flags|=32),Ar}function ar(i,a,l){(i===xt&&(pt===2||pt===9)||i.cancelPendingCommit!==null)&&(nl(i,0),Hs(i,nt,Ar,!1)),Di(i,l),((ht&2)===0||i!==xt)&&(i===xt&&((ht&2)===0&&(Ka|=l),Mt===4&&Hs(i,nt,Ar,!1)),hi(i))}function uE(i,a,l){if((ht&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||Oi(i,a),g=c?kI(i,a):ng(i,a,!0),y=c;do{if(g===0){Zo&&!c&&Hs(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!DI(l)){g=ng(i,a,!1),y=!1;continue}if(g===2){if(y=a,i.errorRecoveryDisabledLanes&y)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;e:{var k=i;g=Lu;var q=k.current.memoizedState.isDehydrated;if(q&&(nl(k,R).flags|=256),R=ng(k,R,!1),R!==2){if(Ym&&!q){k.errorRecoveryDisabledLanes|=y,Ka|=y,g=4;break e}y=$n,$n=g,y!==null&&($n===null?$n=y:$n.push.apply($n,y))}g=R}if(y=!1,g!==2)continue}}if(g===1){nl(i,0),Hs(i,a,0,!0);break}e:{switch(c=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Hs(c,a,Ar,!Us);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=Xm+300-zn(),10<g)){if(Hs(c,a,Ar,!Us),Ni(c,0,!0)!==0)break e;c.timeoutHandle=jE(cE.bind(null,c,l,$n,af,Qm,a,Ar,Ka,Jo,Us,y,2,-0,0),g);break e}cE(c,l,$n,af,Qm,a,Ar,Ka,Jo,Us,y,0,-0,0)}}break}while(!0);hi(i)}function cE(i,a,l,c,g,y,R,k,q,Z,ae,de,ee,te){if(i.timeoutHandle=-1,de=a.subtreeFlags,(de&8192||(de&16785408)===16785408)&&($u={stylesheets:null,count:0,unsuspend:pN},rE(a),de=gN(),de!==null)){i.cancelPendingCommit=de(vE.bind(null,i,a,y,l,c,g,R,k,q,ae,1,ee,te)),Hs(i,y,R,!Z);return}vE(i,a,y,l,c,g,R,k,q)}function DI(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],y=g.getSnapshot;g=g.value;try{if(!er(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Hs(i,a,l,c){a&=~Km,a&=~Ka,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var g=a;0<g;){var y=31-ft(g),R=1<<y;c[y]=-1,g&=~R}l!==0&&Zr(i,l,a)}function of(){return(ht&6)===0?(Uu(0),!1):!0}function eg(){if(Xe!==null){if(pt===0)var i=Xe.return;else i=Xe,Yi=za=null,vm(i),Ko=null,Iu=0,i=Xe;for(;i!==null;)H_(i.alternate,i),i=i.return;Xe=null}}function nl(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,WI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),eg(),xt=i,Xe=l=qi(i.current,null),nt=a,pt=0,ir=null,Us=!1,Zo=Oi(i,a),Ym=!1,Jo=Ar=Km=Ka=Bs=Mt=0,$n=Lu=null,Qm=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var g=31-ft(c),y=1<<g;a|=i[g],c&=~y}return ts=a,Rd(),l}function dE(i,a){Ye=null,G.H=Yd,a===_u||a===Ld?(a=Rb(),pt=3):a===Tb?(a=Rb(),pt=4):pt=a===I_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ir=a,Xe===null&&(Mt=1,Zd(i,Er(a,i.current)))}function fE(){var i=G.H;return G.H=Yd,i===null?Yd:i}function hE(){var i=G.A;return G.A=OI,i}function tg(){Mt=4,Us||(nt&4194048)!==nt&&Tr.current!==null||(Zo=!0),(Bs&134217727)===0&&(Ka&134217727)===0||xt===null||Hs(xt,nt,Ar,!1)}function ng(i,a,l){var c=ht;ht|=2;var g=fE(),y=hE();(xt!==i||nt!==a)&&(af=null,nl(i,a)),a=!1;var R=Mt;e:do try{if(pt!==0&&Xe!==null){var k=Xe,q=ir;switch(pt){case 8:eg(),R=6;break e;case 3:case 2:case 9:case 6:Tr.current===null&&(a=!0);var Z=pt;if(pt=0,ir=null,rl(i,k,q,Z),l&&Zo){R=0;break e}break;default:Z=pt,pt=0,ir=null,rl(i,k,q,Z)}}PI(),R=Mt;break}catch(ae){dE(i,ae)}while(!0);return a&&i.shellSuspendCounter++,Yi=za=null,ht=c,G.H=g,G.A=y,Xe===null&&(xt=null,nt=0,Rd()),R}function PI(){for(;Xe!==null;)pE(Xe)}function kI(i,a){var l=ht;ht|=2;var c=fE(),g=hE();xt!==i||nt!==a?(af=null,sf=zn()+500,nl(i,a)):Zo=Oi(i,a);e:do try{if(pt!==0&&Xe!==null){a=Xe;var y=ir;t:switch(pt){case 1:pt=0,ir=null,rl(i,a,y,1);break;case 2:case 9:if(Ab(y)){pt=0,ir=null,mE(a);break}a=function(){pt!==2&&pt!==9||xt!==i||(pt=7),hi(i)},y.then(a,a);break e;case 3:pt=7;break e;case 4:pt=5;break e;case 7:Ab(y)?(pt=0,ir=null,mE(a)):(pt=0,ir=null,rl(i,a,y,7));break;case 5:var R=null;switch(Xe.tag){case 26:R=Xe.memoizedState;case 5:case 27:var k=Xe;if(!R||XE(R)){pt=0,ir=null;var q=k.sibling;if(q!==null)Xe=q;else{var Z=k.return;Z!==null?(Xe=Z,lf(Z)):Xe=null}break t}}pt=0,ir=null,rl(i,a,y,5);break;case 6:pt=0,ir=null,rl(i,a,y,6);break;case 8:eg(),Mt=6;break e;default:throw Error(r(462))}}VI();break}catch(ae){dE(i,ae)}while(!0);return Yi=za=null,G.H=c,G.A=g,ht=l,Xe!==null?0:(xt=null,nt=0,Rd(),Mt)}function VI(){for(;Xe!==null&&!Wr();)pE(Xe)}function pE(i){var a=F_(i.alternate,i,ts);i.memoizedProps=i.pendingProps,a===null?lf(i):Xe=a}function mE(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=k_(l,a,a.pendingProps,a.type,void 0,nt);break;case 11:a=k_(l,a,a.pendingProps,a.type.render,a.ref,nt);break;case 5:vm(a);default:H_(l,a),a=Xe=gb(a,ts),a=F_(l,a,ts)}i.memoizedProps=i.pendingProps,a===null?lf(i):Xe=a}function rl(i,a,l,c){Yi=za=null,vm(a),Ko=null,Iu=0;var g=a.return;try{if(TI(i,g,a,l,nt)){Mt=1,Zd(i,Er(l,i.current)),Xe=null;return}}catch(y){if(g!==null)throw Xe=g,y;Mt=1,Zd(i,Er(l,i.current)),Xe=null;return}a.flags&32768?(at||c===1?i=!0:Zo||(nt&536870912)!==0?i=!1:(Us=i=!0,(c===2||c===9||c===3||c===6)&&(c=Tr.current,c!==null&&c.tag===13&&(c.flags|=16384))),gE(a,i)):lf(a)}function lf(i){var a=i;do{if((a.flags&32768)!==0){gE(a,Us);return}i=a.return;var l=CI(a.alternate,a,ts);if(l!==null){Xe=l;return}if(a=a.sibling,a!==null){Xe=a;return}Xe=a=i}while(a!==null);Mt===0&&(Mt=5)}function gE(i,a){do{var l=RI(i.alternate,i);if(l!==null){l.flags&=32767,Xe=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){Xe=i;return}Xe=i=l}while(i!==null);Mt=6,Xe=null}function vE(i,a,l,c,g,y,R,k,q){i.cancelPendingCommit=null;do uf();while(vn!==0);if((ht&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=Gp,Ql(i,l,y,R,k,q),i===xt&&(Xe=xt=null,nt=0),el=a,zs=i,tl=l,Wm=y,Zm=g,oE=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,BI(J,function(){return wE(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=G.T,G.T=null,g=oe.p,oe.p=2,R=ht,ht|=4;try{II(i,a,l)}finally{ht=R,oe.p=g,G.T=c}}vn=1,yE(),bE(),_E()}}function yE(){if(vn===1){vn=0;var i=zs,a=el,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var c=oe.p;oe.p=2;var g=ht;ht|=4;try{eE(a,i);var y=pg,R=ab(i.containerInfo),k=y.focusedElem,q=y.selectionRange;if(R!==k&&k&&k.ownerDocument&&sb(k.ownerDocument.documentElement,k)){if(q!==null&&Fp(k)){var Z=q.start,ae=q.end;if(ae===void 0&&(ae=Z),"selectionStart"in k)k.selectionStart=Z,k.selectionEnd=Math.min(ae,k.value.length);else{var de=k.ownerDocument||document,ee=de&&de.defaultView||window;if(ee.getSelection){var te=ee.getSelection(),Be=k.textContent.length,ke=Math.min(q.start,Be),yt=q.end===void 0?ke:Math.min(q.end,Be);!te.extend&&ke>yt&&(R=yt,yt=ke,ke=R);var Q=ib(k,ke),Y=ib(k,yt);if(Q&&Y&&(te.rangeCount!==1||te.anchorNode!==Q.node||te.anchorOffset!==Q.offset||te.focusNode!==Y.node||te.focusOffset!==Y.offset)){var W=de.createRange();W.setStart(Q.node,Q.offset),te.removeAllRanges(),ke>yt?(te.addRange(W),te.extend(Y.node,Y.offset)):(W.setEnd(Y.node,Y.offset),te.addRange(W))}}}}for(de=[],te=k;te=te.parentNode;)te.nodeType===1&&de.push({element:te,left:te.scrollLeft,top:te.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<de.length;k++){var ce=de[k];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Ef=!!hg,pg=hg=null}finally{ht=g,oe.p=c,G.T=l}}i.current=a,vn=2}}function bE(){if(vn===2){vn=0;var i=zs,a=el,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var c=oe.p;oe.p=2;var g=ht;ht|=4;try{X_(i,a.alternate,a)}finally{ht=g,oe.p=c,G.T=l}}vn=3}}function _E(){if(vn===4||vn===3){vn=0,bo();var i=zs,a=el,l=tl,c=oE;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?vn=5:(vn=0,el=zs=null,EE(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Fs=null),_o(l),a=a.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(_e,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=G.T,g=oe.p,oe.p=2,G.T=null;try{for(var y=i.onRecoverableError,R=0;R<c.length;R++){var k=c[R];y(k.value,{componentStack:k.stack})}}finally{G.T=a,oe.p=g}}(tl&3)!==0&&uf(),hi(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Jm?ju++:(ju=0,Jm=i):ju=0,Uu(0)}}function EE(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,yu(a)))}function uf(i){return yE(),bE(),_E(),wE()}function wE(){if(vn!==5)return!1;var i=zs,a=Wm;Wm=0;var l=_o(tl),c=G.T,g=oe.p;try{oe.p=32>l?32:l,G.T=null,l=Zm,Zm=null;var y=zs,R=tl;if(vn=0,el=zs=null,tl=0,(ht&6)!==0)throw Error(r(331));var k=ht;if(ht|=4,sE(y.current),nE(y,y.current,R,l),ht=k,Uu(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(_e,y)}catch{}return!0}finally{oe.p=g,G.T=c,EE(i,a)}}function xE(i,a,l){a=Er(l,a),a=Om(i.stateNode,a,2),i=Ms(i,a,2),i!==null&&(Di(i,2),hi(i))}function _t(i,a,l){if(i.tag===3)xE(i,i,l);else for(;a!==null;){if(a.tag===3){xE(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Fs===null||!Fs.has(c))){i=Er(l,i),l=C_(2),c=Ms(a,l,2),c!==null&&(R_(l,c,a,i),Di(c,2),hi(c));break}}a=a.return}}function rg(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new MI;var g=new Set;c.set(a,g)}else g=c.get(a),g===void 0&&(g=new Set,c.set(a,g));g.has(l)||(Ym=!0,g.add(l),i=LI.bind(null,i,a,l),a.then(i,i))}function LI(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,xt===i&&(nt&l)===l&&(Mt===4||Mt===3&&(nt&62914560)===nt&&300>zn()-Xm?(ht&2)===0&&nl(i,0):Km|=l,Jo===nt&&(Jo=0)),hi(i)}function SE(i,a){a===0&&(a=Kl()),i=jo(i,a),i!==null&&(Di(i,a),hi(i))}function jI(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),SE(i,l)}function UI(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),SE(i,l)}function BI(i,a){return Dr(i,a)}var cf=null,il=null,ig=!1,df=!1,sg=!1,Qa=0;function hi(i){i!==il&&i.next===null&&(il===null?cf=il=i:il=il.next=i),df=!0,ig||(ig=!0,zI())}function Uu(i,a){if(!sg&&df){sg=!0;do for(var l=!1,c=cf;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var R=c.suspendedLanes,k=c.pingedLanes;y=(1<<31-ft(42|i)+1)-1,y&=g&~(R&~k),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,RE(c,y))}else y=nt,y=Ni(c,c===xt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Oi(c,y)||(l=!0,RE(c,y));c=c.next}while(l);sg=!1}}function FI(){TE()}function TE(){df=ig=!1;var i=0;Qa!==0&&(XI()&&(i=Qa),Qa=0);for(var a=zn(),l=null,c=cf;c!==null;){var g=c.next,y=AE(c,a);y===0?(c.next=null,l===null?cf=g:l.next=g,g===null&&(il=l)):(l=c,(i!==0||(y&3)!==0)&&(df=!0)),c=g}Uu(i)}function AE(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var R=31-ft(y),k=1<<R,q=g[R];q===-1?((k&l)===0||(k&c)!==0)&&(g[R]=Es(k,a)):q<=a&&(i.expiredLanes|=k),y&=~k}if(a=xt,l=nt,l=Ni(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(pt===2||pt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Wn(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Oi(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Wn(c),_o(l)){case 2:case 8:l=$;break;case 32:l=J;break;case 268435456:l=Ee;break;default:l=J}return c=CE.bind(null,i),l=Dr(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Wn(c),i.callbackPriority=2,i.callbackNode=null,2}function CE(i,a){if(vn!==0&&vn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(uf()&&i.callbackNode!==l)return null;var c=nt;return c=Ni(i,i===xt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(uE(i,c,a),AE(i,zn()),i.callbackNode!=null&&i.callbackNode===l?CE.bind(null,i):null)}function RE(i,a){if(uf())return null;uE(i,a,!0)}function zI(){ZI(function(){(ht&6)!==0?Dr(_s,FI):TE()})}function ag(){return Qa===0&&(Qa=Yl()),Qa}function IE(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ao(""+i)}function NE(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function HI(i,a,l,c,g){if(a==="submit"&&l&&l.stateNode===g){var y=IE((g[zt]||null).action),R=c.submitter;R&&(a=(a=R[zt]||null)?IE(a.formAction):R.getAttribute("formAction"),a!==null&&(y=a,R=null));var k=new Co("action","action",null,c,g);i.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qa!==0){var q=R?NE(g,R):new FormData(g);Am(l,{pending:!0,data:q,method:g.method,action:y},null,q)}}else typeof y=="function"&&(k.preventDefault(),q=R?NE(g,R):new FormData(g),Am(l,{pending:!0,data:q,method:g.method,action:y},y,q))},currentTarget:g}]})}}for(var og=0;og<$p.length;og++){var lg=$p[og],qI=lg.toLowerCase(),$I=lg[0].toUpperCase()+lg.slice(1);jr(qI,"on"+$I)}jr(ub,"onAnimationEnd"),jr(cb,"onAnimationIteration"),jr(db,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(lI,"onTransitionRun"),jr(uI,"onTransitionStart"),jr(cI,"onTransitionCancel"),jr(fb,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),Vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function OE(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var R=c.length-1;0<=R;R--){var k=c[R],q=k.instance,Z=k.currentTarget;if(k=k.listener,q!==y&&g.isPropagationStopped())break e;y=k,g.currentTarget=Z;try{y(g)}catch(ae){Wd(ae)}g.currentTarget=null,y=q}else for(R=0;R<c.length;R++){if(k=c[R],q=k.instance,Z=k.currentTarget,k=k.listener,q!==y&&g.isPropagationStopped())break e;y=k,g.currentTarget=Z;try{y(g)}catch(ae){Wd(ae)}g.currentTarget=null,y=q}}}}function We(i,a){var l=a[Wl];l===void 0&&(l=a[Wl]=new Set);var c=i+"__bubble";l.has(c)||(ME(a,i,2,!1),l.add(c))}function ug(i,a,l){var c=0;a&&(c|=4),ME(l,i,c,a)}var ff="_reactListening"+Math.random().toString(36).slice(2);function cg(i){if(!i[ff]){i[ff]=!0,Zl.forEach(function(l){l!=="selectionchange"&&(GI.has(l)||ug(l,!1,i),ug(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[ff]||(a[ff]=!0,ug("selectionchange",!1,a))}}function ME(i,a,l,c){switch(nw(a)){case 2:var g=bN;break;case 8:g=_N;break;default:g=Sg}l=g.bind(null,a,l,i),g=void 0,!br||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function dg(i,a,l,c,g){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var k=c.stateNode.containerInfo;if(k===g)break;if(R===4)for(R=c.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;k!==null;){if(R=Pi(k),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){c=y=R;continue e}k=k.parentNode}}c=c.return}hd(function(){var Z=y,ae=yr(l),de=[];e:{var ee=hb.get(i);if(ee!==void 0){var te=Co,Be=i;switch(i){case"keypress":if(ii(l)===0)break e;case"keydown":case"keyup":te=Do;break;case"focusin":Be="focus",te=No;break;case"focusout":Be="blur",te=No;break;case"beforeblur":case"afterblur":te=No;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=_r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Ed;break;case ub:case cb:case db:te=Oo;break;case fb:te=xd;break;case"scroll":case"scrollend":te=pd;break;case"wheel":te=Po;break;case"copy":case"cut":case"paste":te=Mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=cu;break;case"toggle":case"beforetoggle":te=Td}var ke=(a&4)!==0,yt=!ke&&(i==="scroll"||i==="scrollend"),Q=ke?ee!==null?ee+"Capture":null:ee;ke=[];for(var Y=Z,W;Y!==null;){var ce=Y;if(W=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||W===null||Q===null||(ce=Ra(Y,Q),ce!=null&&ke.push(Fu(Y,ce,W))),yt)break;Y=Y.return}0<ke.length&&(ee=new te(ee,Be,null,l,ae),de.push({event:ee,listeners:ke}))}}if((a&7)===0){e:{if(ee=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",ee&&l!==ji&&(Be=l.relatedTarget||l.fromElement)&&(Pi(Be)||Be[gr]))break e;if((te||ee)&&(ee=ae.window===ae?ae:(ee=ae.ownerDocument)?ee.defaultView||ee.parentWindow:window,te?(Be=l.relatedTarget||l.toElement,te=Z,Be=Be?Pi(Be):null,Be!==null&&(yt=o(Be),ke=Be.tag,Be!==yt||ke!==5&&ke!==27&&ke!==6)&&(Be=null)):(te=null,Be=Z),te!==Be)){if(ke=_r,ce="onMouseLeave",Q="onMouseEnter",Y="mouse",(i==="pointerout"||i==="pointerover")&&(ke=cu,ce="onPointerLeave",Q="onPointerEnter",Y="pointer"),yt=te==null?ee:ei(te),W=Be==null?ee:ei(Be),ee=new ke(ce,Y+"leave",te,l,ae),ee.target=yt,ee.relatedTarget=W,ce=null,Pi(ae)===Z&&(ke=new ke(Q,Y+"enter",Be,l,ae),ke.target=W,ke.relatedTarget=yt,ce=ke),yt=ce,te&&Be)t:{for(ke=te,Q=Be,Y=0,W=ke;W;W=sl(W))Y++;for(W=0,ce=Q;ce;ce=sl(ce))W++;for(;0<Y-W;)ke=sl(ke),Y--;for(;0<W-Y;)Q=sl(Q),W--;for(;Y--;){if(ke===Q||Q!==null&&ke===Q.alternate)break t;ke=sl(ke),Q=sl(Q)}ke=null}else ke=null;te!==null&&DE(de,ee,te,ke,!1),Be!==null&&yt!==null&&DE(de,yt,Be,ke,!0)}}e:{if(ee=Z?ei(Z):window,te=ee.nodeName&&ee.nodeName.toLowerCase(),te==="select"||te==="input"&&ee.type==="file")var Ce=Z0;else if(Jt(ee))if(J0)Ce=sI;else{Ce=rI;var Qe=nI}else te=ee.nodeName,!te||te.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Z&&ru(Z.elementType)&&(Ce=Z0):Ce=iI;if(Ce&&(Ce=Ce(i,Z))){Hi(de,Ce,l,ae);break e}Qe&&Qe(i,ee,Z),i==="focusout"&&Z&&ee.type==="number"&&Z.memoizedProps.value!=null&&Cs(ee,"number",ee.value)}switch(Qe=Z?ei(Z):window,i){case"focusin":(Jt(Qe)||Qe.contentEditable==="true")&&(ko=Qe,zp=Z,hu=null);break;case"focusout":hu=zp=ko=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,ob(de,l,ae);break;case"selectionchange":if(oI)break;case"keydown":case"keyup":ob(de,l,ae)}var Ie;if(oi)e:{switch(i){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else et?re(i,l)&&(Ve="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Ve="onCompositionStart");Ve&&(A&&l.locale!=="ko"&&(et||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&et&&(Ie=su()):(ri=ae,Rs="value"in ri?ri.value:ri.textContent,et=!0)),Qe=hf(Z,Ve),0<Qe.length&&(Ve=new lu(Ve,i,null,l,ae),de.push({event:Ve,listeners:Qe}),Ie?Ve.data=Ie:(Ie=ye(l),Ie!==null&&(Ve.data=Ie)))),(Ie=E?Zt(i,l):tt(i,l))&&(Ve=hf(Z,"onBeforeInput"),0<Ve.length&&(Qe=new lu("onBeforeInput","beforeinput",null,l,ae),de.push({event:Qe,listeners:Ve}),Qe.data=Ie)),HI(de,i,Z,l,ae)}OE(de,a)})}function Fu(i,a,l){return{instance:i,listener:a,currentTarget:l}}function hf(i,a){for(var l=a+"Capture",c=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Ra(i,l),g!=null&&c.unshift(Fu(i,g,y)),g=Ra(i,a),g!=null&&c.push(Fu(i,g,y))),i.tag===3)return c;i=i.return}return[]}function sl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function DE(i,a,l,c,g){for(var y=a._reactName,R=[];l!==null&&l!==c;){var k=l,q=k.alternate,Z=k.stateNode;if(k=k.tag,q!==null&&q===c)break;k!==5&&k!==26&&k!==27||Z===null||(q=Z,g?(Z=Ra(l,y),Z!=null&&R.unshift(Fu(l,Z,q))):g||(Z=Ra(l,y),Z!=null&&R.push(Fu(l,Z,q)))),l=l.return}R.length!==0&&i.push({event:a,listeners:R})}var YI=/\r\n?/g,KI=/\u0000|\uFFFD/g;function PE(i){return(typeof i=="string"?i:""+i).replace(YI,`
`).replace(KI,"")}function kE(i,a){return a=PE(a),PE(i)===a}function pf(){}function vt(i,a,l,c,g,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||vr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&vr(i,""+c);break;case"className":ti(i,"class",c);break;case"tabIndex":ti(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(i,l,c);break;case"style":nu(i,c,y);break;case"data":if(a!=="object"){ti(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ao(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&vt(i,a,"name",g.name,g,null),vt(i,a,"formEncType",g.formEncType,g,null),vt(i,a,"formMethod",g.formMethod,g,null),vt(i,a,"formTarget",g.formTarget,g,null)):(vt(i,a,"encType",g.encType,g,null),vt(i,a,"method",g.method,g,null),vt(i,a,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ao(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=pf);break;case"onScroll":c!=null&&We("scroll",i);break;case"onScrollEnd":c!=null&&We("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Ao(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":We("beforetoggle",i),We("toggle",i),As(i,"popover",c);break;case"xlinkActuate":pn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":pn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":pn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":pn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":pn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":pn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":pn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":pn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":pn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":As(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kp.get(l)||l,As(i,l,c))}}function fg(i,a,l,c,g,y){switch(l){case"style":nu(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?vr(i,c):(typeof c=="number"||typeof c=="bigint")&&vr(i,""+c);break;case"onScroll":c!=null&&We("scroll",i);break;case"onScrollEnd":c!=null&&We("scrollend",i);break;case"onClick":c!=null&&(i.onclick=pf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=i[zt]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,g);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):As(i,l,c)}}}function yn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":We("error",i),We("load",i);var c=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var R=l[y];if(R!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:vt(i,a,y,R,l,null)}}g&&vt(i,a,"srcSet",l.srcSet,l,null),c&&vt(i,a,"src",l.src,l,null);return;case"input":We("invalid",i);var k=y=R=g=null,q=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var ae=l[c];if(ae!=null)switch(c){case"name":g=ae;break;case"type":R=ae;break;case"checked":q=ae;break;case"defaultChecked":Z=ae;break;case"value":y=ae;break;case"defaultValue":k=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:vt(i,a,c,ae,l,null)}}Ta(i,y,k,q,Z,R,g,!1),To(i);return;case"select":We("invalid",i),c=R=y=null;for(g in l)if(l.hasOwnProperty(g)&&(k=l[g],k!=null))switch(g){case"value":y=k;break;case"defaultValue":R=k;break;case"multiple":c=k;default:vt(i,a,g,k,l,null)}a=y,l=R,i.multiple=!!c,a!=null?Li(i,!!c,a,!1):l!=null&&Li(i,!!c,l,!0);return;case"textarea":We("invalid",i),y=g=c=null;for(R in l)if(l.hasOwnProperty(R)&&(k=l[R],k!=null))switch(R){case"value":c=k;break;case"defaultValue":g=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:vt(i,a,R,k,l,null)}Aa(i,c,g,y),To(i);return;case"option":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:vt(i,a,q,c,l,null)}return;case"dialog":We("beforetoggle",i),We("toggle",i),We("cancel",i),We("close",i);break;case"iframe":case"object":We("load",i);break;case"video":case"audio":for(c=0;c<Bu.length;c++)We(Bu[c],i);break;case"image":We("error",i),We("load",i);break;case"details":We("toggle",i);break;case"embed":case"source":case"link":We("error",i),We("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:vt(i,a,Z,c,l,null)}return;default:if(ru(a)){for(ae in l)l.hasOwnProperty(ae)&&(c=l[ae],c!==void 0&&fg(i,a,ae,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&vt(i,a,k,c,l,null))}function QI(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,R=null,k=null,q=null,Z=null,ae=null;for(te in l){var de=l[te];if(l.hasOwnProperty(te)&&de!=null)switch(te){case"checked":break;case"value":break;case"defaultValue":q=de;default:c.hasOwnProperty(te)||vt(i,a,te,null,c,de)}}for(var ee in c){var te=c[ee];if(de=l[ee],c.hasOwnProperty(ee)&&(te!=null||de!=null))switch(ee){case"type":y=te;break;case"name":g=te;break;case"checked":Z=te;break;case"defaultChecked":ae=te;break;case"value":R=te;break;case"defaultValue":k=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:te!==de&&vt(i,a,ee,te,c,de)}}Jn(i,R,k,q,Z,ae,y,g);return;case"select":te=R=k=ee=null;for(y in l)if(q=l[y],l.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":te=q;default:c.hasOwnProperty(y)||vt(i,a,y,null,c,q)}for(g in c)if(y=c[g],q=l[g],c.hasOwnProperty(g)&&(y!=null||q!=null))switch(g){case"value":ee=y;break;case"defaultValue":k=y;break;case"multiple":R=y;default:y!==q&&vt(i,a,g,y,c,q)}a=k,l=R,c=te,ee!=null?Li(i,!!l,ee,!1):!!c!=!!l&&(a!=null?Li(i,!!l,a,!0):Li(i,!!l,l?[]:"",!1));return;case"textarea":te=ee=null;for(k in l)if(g=l[k],l.hasOwnProperty(k)&&g!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:vt(i,a,k,null,c,g)}for(R in c)if(g=c[R],y=l[R],c.hasOwnProperty(R)&&(g!=null||y!=null))switch(R){case"value":ee=g;break;case"defaultValue":te=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&vt(i,a,R,g,c,y)}mt(i,ee,te);return;case"option":for(var Be in l)if(ee=l[Be],l.hasOwnProperty(Be)&&ee!=null&&!c.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:vt(i,a,Be,null,c,ee)}for(q in c)if(ee=c[q],te=l[q],c.hasOwnProperty(q)&&ee!==te&&(ee!=null||te!=null))switch(q){case"selected":i.selected=ee&&typeof ee!="function"&&typeof ee!="symbol";break;default:vt(i,a,q,ee,c,te)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in l)ee=l[ke],l.hasOwnProperty(ke)&&ee!=null&&!c.hasOwnProperty(ke)&&vt(i,a,ke,null,c,ee);for(Z in c)if(ee=c[Z],te=l[Z],c.hasOwnProperty(Z)&&ee!==te&&(ee!=null||te!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,a));break;default:vt(i,a,Z,ee,c,te)}return;default:if(ru(a)){for(var yt in l)ee=l[yt],l.hasOwnProperty(yt)&&ee!==void 0&&!c.hasOwnProperty(yt)&&fg(i,a,yt,void 0,c,ee);for(ae in c)ee=c[ae],te=l[ae],!c.hasOwnProperty(ae)||ee===te||ee===void 0&&te===void 0||fg(i,a,ae,ee,c,te);return}}for(var Q in l)ee=l[Q],l.hasOwnProperty(Q)&&ee!=null&&!c.hasOwnProperty(Q)&&vt(i,a,Q,null,c,ee);for(de in c)ee=c[de],te=l[de],!c.hasOwnProperty(de)||ee===te||ee==null&&te==null||vt(i,a,de,ee,c,te)}var hg=null,pg=null;function mf(i){return i.nodeType===9?i:i.ownerDocument}function VE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function LE(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function mg(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gg=null;function XI(){var i=window.event;return i&&i.type==="popstate"?i===gg?!1:(gg=i,!0):(gg=null,!1)}var jE=typeof setTimeout=="function"?setTimeout:void 0,WI=typeof clearTimeout=="function"?clearTimeout:void 0,UE=typeof Promise=="function"?Promise:void 0,ZI=typeof queueMicrotask=="function"?queueMicrotask:typeof UE<"u"?function(i){return UE.resolve(null).then(i).catch(JI)}:jE;function JI(i){setTimeout(function(){throw i})}function qs(i){return i==="head"}function BE(i,a){var l=a,c=0,g=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var R=i.ownerDocument;if(l&1&&zu(R.documentElement),l&2&&zu(R.body),l&4)for(l=R.head,zu(l),R=l.firstChild;R;){var k=R.nextSibling,q=R.nodeName;R[Ea]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||l.removeChild(R),R=k}}if(g===0){i.removeChild(y),Xu(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Xu(a)}function vg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vg(l),Ts(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function eN(i,a,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ea])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Br(i.nextSibling),i===null)break}return null}function tN(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Br(i.nextSibling),i===null))return null;return i}function yg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function nN(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Br(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var bg=null;function FE(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function zE(i,a,l){switch(a=mf(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function zu(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Ts(i)}var Cr=new Map,HE=new Set;function gf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ns=oe.d;oe.d={f:rN,r:iN,D:sN,C:aN,L:oN,m:lN,X:cN,S:uN,M:dN};function rN(){var i=ns.f(),a=of();return i||a}function iN(i){var a=Jr(i);a!==null&&a.tag===5&&a.type==="form"?u_(a):ns.r(i)}var al=typeof document>"u"?null:document;function qE(i,a,l){var c=al;if(c&&typeof a=="string"&&a){var g=Ht(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),HE.has(g)||(HE.add(g),i={rel:i,crossOrigin:l,href:a},c.querySelector(g)===null&&(a=c.createElement("link"),yn(a,"link",i),Vt(a),c.head.appendChild(a)))}}function sN(i){ns.D(i),qE("dns-prefetch",i,null)}function aN(i,a){ns.C(i,a),qE("preconnect",i,a)}function oN(i,a,l){ns.L(i,a,l);var c=al;if(c&&i&&a){var g='link[rel="preload"][as="'+Ht(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Ht(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Ht(l.imageSizes)+'"]')):g+='[href="'+Ht(i)+'"]';var y=g;switch(a){case"style":y=ol(i);break;case"script":y=ll(i)}Cr.has(y)||(i=m({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Cr.set(y,i),c.querySelector(g)!==null||a==="style"&&c.querySelector(Hu(y))||a==="script"&&c.querySelector(qu(y))||(a=c.createElement("link"),yn(a,"link",i),Vt(a),c.head.appendChild(a)))}}function lN(i,a){ns.m(i,a);var l=al;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Ht(c)+'"][href="'+Ht(i)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ll(i)}if(!Cr.has(y)&&(i=m({rel:"modulepreload",href:i},a),Cr.set(y,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(qu(y)))return}c=l.createElement("link"),yn(c,"link",i),Vt(c),l.head.appendChild(c)}}}function uN(i,a,l){ns.S(i,a,l);var c=al;if(c&&i){var g=On(c).hoistableStyles,y=ol(i);a=a||"default";var R=g.get(y);if(!R){var k={loading:0,preload:null};if(R=c.querySelector(Hu(y)))k.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Cr.get(y))&&_g(i,l);var q=R=c.createElement("link");Vt(q),yn(q,"link",i),q._p=new Promise(function(Z,ae){q.onload=Z,q.onerror=ae}),q.addEventListener("load",function(){k.loading|=1}),q.addEventListener("error",function(){k.loading|=2}),k.loading|=4,vf(R,a,c)}R={type:"stylesheet",instance:R,count:1,state:k},g.set(y,R)}}}function cN(i,a){ns.X(i,a);var l=al;if(l&&i){var c=On(l).hoistableScripts,g=ll(i),y=c.get(g);y||(y=l.querySelector(qu(g)),y||(i=m({src:i,async:!0},a),(a=Cr.get(g))&&Eg(i,a),y=l.createElement("script"),Vt(y),yn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function dN(i,a){ns.M(i,a);var l=al;if(l&&i){var c=On(l).hoistableScripts,g=ll(i),y=c.get(g);y||(y=l.querySelector(qu(g)),y||(i=m({src:i,async:!0,type:"module"},a),(a=Cr.get(g))&&Eg(i,a),y=l.createElement("script"),Vt(y),yn(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function $E(i,a,l,c){var g=(g=Ae.current)?gf(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ol(l.href),l=On(g).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ol(l.href);var y=On(g).hoistableStyles,R=y.get(i);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,R),(y=g.querySelector(Hu(i)))&&!y._p&&(R.instance=y,R.state.loading=5),Cr.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Cr.set(i,l),y||fN(g,i,l,R.state))),a&&c===null)throw Error(r(528,""));return R}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ll(l),l=On(g).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ol(i){return'href="'+Ht(i)+'"'}function Hu(i){return'link[rel="stylesheet"]['+i+"]"}function GE(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function fN(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),yn(a,"link",l),Vt(a),i.head.appendChild(a))}function ll(i){return'[src="'+Ht(i)+'"]'}function qu(i){return"script[async]"+i}function YE(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Ht(l.href)+'"]');if(c)return a.instance=c,Vt(c),c;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Vt(c),yn(c,"style",g),vf(c,l.precedence,i),a.instance=c;case"stylesheet":g=ol(l.href);var y=i.querySelector(Hu(g));if(y)return a.state.loading|=4,a.instance=y,Vt(y),y;c=GE(l),(g=Cr.get(g))&&_g(c,g),y=(i.ownerDocument||i).createElement("link"),Vt(y);var R=y;return R._p=new Promise(function(k,q){R.onload=k,R.onerror=q}),yn(y,"link",c),a.state.loading|=4,vf(y,l.precedence,i),a.instance=y;case"script":return y=ll(l.src),(g=i.querySelector(qu(y)))?(a.instance=g,Vt(g),g):(c=l,(g=Cr.get(y))&&(c=m({},l),Eg(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),Vt(g),yn(g,"link",c),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,vf(c,l.precedence,i));return a.instance}function vf(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,R=0;R<c.length;R++){var k=c[R];if(k.dataset.precedence===a)y=k;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function _g(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Eg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var yf=null;function KE(i,a,l){if(yf===null){var c=new Map,g=yf=new Map;g.set(l,c)}else g=yf,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var y=l[g];if(!(y[Ea]||y[Wt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(a)||"";R=i+R;var k=c.get(R);k?k.push(y):c.set(R,[y])}}return c}function QE(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function hN(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function XE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var $u=null;function pN(){}function mN(i,a,l){if($u===null)throw Error(r(475));var c=$u;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=ol(l.href),y=i.querySelector(Hu(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=bf.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=y,Vt(y);return}y=i.ownerDocument||i,l=GE(l),(g=Cr.get(g))&&_g(l,g),y=y.createElement("link"),Vt(y);var R=y;R._p=new Promise(function(k,q){R.onload=k,R.onerror=q}),yn(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=bf.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function gN(){if($u===null)throw Error(r(475));var i=$u;return i.stylesheets&&i.count===0&&wg(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&wg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function bf(){if(this.count--,this.count===0){if(this.stylesheets)wg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var _f=null;function wg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,_f=new Map,a.forEach(vN,i),_f=null,bf.call(i))}function vN(i,a){if(!(a.state.loading&4)){var l=_f.get(i);if(l)var c=l.get(null);else{l=new Map,_f.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var R=g[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),c=R)}c&&l.set(null,c)}g=a.instance,R=g.getAttribute("data-precedence"),y=l.get(R)||c,y===c&&l.set(null,g),l.set(R,g),this.count++,c=bf.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var Gu={$$typeof:N,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function yN(i,a,l,c,g,y,R,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function WE(i,a,l,c,g,y,R,k,q,Z,ae,de){return i=new yN(i,a,l,R,k,q,Z,de),a=1,y===!0&&(a|=24),y=tr(3,null,null,a),i.current=y,y.stateNode=i,a=rm(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},om(y),i}function ZE(i){return i?(i=Uo,i):Uo}function JE(i,a,l,c,g,y){g=ZE(g),c.context===null?c.context=g:c.pendingContext=g,c=Os(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Ms(i,c,a),l!==null&&(ar(l,i,a),wu(l,i,a))}function ew(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function xg(i,a){ew(i,a),(i=i.alternate)&&ew(i,a)}function tw(i){if(i.tag===13){var a=jo(i,67108864);a!==null&&ar(a,i,67108864),xg(i,67108864)}}var Ef=!0;function bN(i,a,l,c){var g=G.T;G.T=null;var y=oe.p;try{oe.p=2,Sg(i,a,l,c)}finally{oe.p=y,G.T=g}}function _N(i,a,l,c){var g=G.T;G.T=null;var y=oe.p;try{oe.p=8,Sg(i,a,l,c)}finally{oe.p=y,G.T=g}}function Sg(i,a,l,c){if(Ef){var g=Tg(c);if(g===null)dg(i,a,c,wf,l),rw(i,c);else if(wN(g,i,a,l,c))c.stopPropagation();else if(rw(i,c),a&4&&-1<EN.indexOf(i)){for(;g!==null;){var y=Jr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=Zn(y.pendingLanes);if(R!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;R;){var q=1<<31-ft(R);k.entanglements[1]|=q,R&=~q}hi(y),(ht&6)===0&&(sf=zn()+500,Uu(0))}}break;case 13:k=jo(y,2),k!==null&&ar(k,y,2),of(),xg(y,2)}if(y=Tg(c),y===null&&dg(i,a,c,wf,l),y===g)break;g=y}g!==null&&c.stopPropagation()}else dg(i,a,c,null,l)}}function Tg(i){return i=yr(i),Ag(i)}var wf=null;function Ag(i){if(wf=null,i=Pi(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return wf=i,null}function nw(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sd()){case _s:return 2;case $:return 8;case J:case se:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var Cg=!1,$s=null,Gs=null,Ys=null,Yu=new Map,Ku=new Map,Ks=[],EN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rw(i,a){switch(i){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Yu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(a.pointerId)}}function Qu(i,a,l,c,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Jr(a),a!==null&&tw(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function wN(i,a,l,c,g){switch(a){case"focusin":return $s=Qu($s,i,a,l,c,g),!0;case"dragenter":return Gs=Qu(Gs,i,a,l,c,g),!0;case"mouseover":return Ys=Qu(Ys,i,a,l,c,g),!0;case"pointerover":var y=g.pointerId;return Yu.set(y,Qu(Yu.get(y)||null,i,a,l,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Ku.set(y,Qu(Ku.get(y)||null,i,a,l,c,g)),!0}return!1}function iw(i){var a=Pi(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,ad(i.priority,function(){if(l.tag===13){var c=sr();c=ws(c);var g=jo(l,c);g!==null&&ar(g,l,c),xg(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xf(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Tg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);ji=c,l.target.dispatchEvent(c),ji=null}else return a=Jr(l),a!==null&&tw(a),i.blockedOn=l,!1;a.shift()}return!0}function sw(i,a,l){xf(i)&&l.delete(a)}function xN(){Cg=!1,$s!==null&&xf($s)&&($s=null),Gs!==null&&xf(Gs)&&(Gs=null),Ys!==null&&xf(Ys)&&(Ys=null),Yu.forEach(sw),Ku.forEach(sw)}function Sf(i,a){i.blockedOn===a&&(i.blockedOn=null,Cg||(Cg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,xN)))}var Tf=null;function aw(i){Tf!==i&&(Tf=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Tf===i&&(Tf=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],g=i[a+2];if(typeof c!="function"){if(Ag(c||l)===null)continue;break}var y=Jr(l);y!==null&&(i.splice(a,3),a-=3,Am(y,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function Xu(i){function a(q){return Sf(q,i)}$s!==null&&Sf($s,i),Gs!==null&&Sf(Gs,i),Ys!==null&&Sf(Ys,i),Yu.forEach(a),Ku.forEach(a);for(var l=0;l<Ks.length;l++){var c=Ks[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ks.length&&(l=Ks[0],l.blockedOn===null);)iw(l),l.blockedOn===null&&Ks.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],y=l[c+1],R=g[zt]||null;if(typeof y=="function")R||aw(l);else if(R){var k=null;if(y&&y.hasAttribute("formAction")){if(g=y,R=y[zt]||null)k=R.formAction;else if(Ag(g)!==null)continue}else k=R.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),aw(l)}}}function Rg(i){this._internalRoot=i}Af.prototype.render=Rg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=sr();JE(l,c,i,a,null,null)},Af.prototype.unmount=Rg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;JE(i.current,2,null,i,null,null),of(),a[gr]=null}};function Af(i){this._internalRoot=i}Af.prototype.unstable_scheduleHydration=function(i){if(i){var a=xs();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Ks.length&&a!==0&&a<Ks[l].priority;l++);Ks.splice(l,0,i),l===0&&iw(i)}};var ow=e.version;if(ow!=="19.1.0")throw Error(r(527,ow,"19.1.0"));oe.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var SN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{_e=Cf.inject(SN),Re=Cf}catch{}}return Zu.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",g=x_,y=S_,R=T_,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks)),a=WE(i,1,!1,null,null,l,c,g,y,R,k,null),i[gr]=a.current,cg(i),new Rg(a)},Zu.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,g="",y=x_,R=S_,k=T_,q=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(q=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),a=WE(i,1,!0,a,l??null,c,g,y,R,k,q,Z),a.context=ZE(null),l=a.current,c=sr(),c=ws(c),g=Os(c),g.callback=null,Ms(l,g,c),l=c,a.current.lanes=l,Di(a,l),hi(a),i[gr]=a.current,cg(i),new Af(a)},Zu.version="19.1.0",Zu}var yw;function PN(){if(yw)return Og.exports;yw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Og.exports=DN(),Og.exports}var kN=PN();const VN=uT(kN);var Ju={},bw;function LN(){if(bw)return Ju;bw=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.parse=u,Ju.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,x){const w=new o,C=_.length;if(C<2)return w;const I=(x==null?void 0:x.decode)||m;let T=0;do{const S=_.indexOf("=",T);if(S===-1)break;const N=_.indexOf(";",T),z=N===-1?C:N;if(S>z){T=_.lastIndexOf(";",S-1)+1;continue}const V=d(_,T,S),K=f(_,S,V),P=_.slice(V,K);if(w[P]===void 0){let O=d(_,S+1,z),M=f(_,z,O);const L=I(_.slice(O,M));w[P]=L}T=z+1}while(T<C);return w}function d(_,x,w){do{const C=_.charCodeAt(x);if(C!==32&&C!==9)return x}while(++x<w);return w}function f(_,x,w){for(;x>w;){const C=_.charCodeAt(--x);if(C!==32&&C!==9)return x+1}return w}function h(_,x,w){const C=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=C(x);if(!e.test(I))throw new TypeError(`argument val is invalid: ${x}`);let T=_+"="+I;if(!w)return T;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);T+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);T+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);T+="; Path="+w.path}if(w.expires){if(!b(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);T+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(T+="; HttpOnly"),w.secure&&(T+="; Secure"),w.partitioned&&(T+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return T}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return s.call(_)==="[object Date]"}return Ju}LN();var _w="popstate";function jN(n={}){function e(r,s){let{pathname:o,search:u,hash:d}=r.location;return yv("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:Tc(s)}return BN(e,t,null,n)}function Rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UN(){return Math.random().toString(36).substring(2,10)}function Ew(n,e){return{usr:n.state,key:n.key,idx:e}}function yv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vl(e):e,state:t,key:e&&e.key||r||UN()}}function Tc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function BN(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,d="POP",f=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function b(){d="POP";let I=m(),T=I==null?null:I-h;h=I,f&&f({action:d,location:C.location,delta:T})}function _(I,T){d="PUSH";let S=yv(C.location,I,T);h=m()+1;let N=Ew(S,h),z=C.createHref(S);try{u.pushState(N,"",z)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(z)}o&&f&&f({action:d,location:C.location,delta:1})}function x(I,T){d="REPLACE";let S=yv(C.location,I,T);h=m();let N=Ew(S,h),z=C.createHref(S);u.replaceState(N,"",z),o&&f&&f({action:d,location:C.location,delta:0})}function w(I){return FN(I)}let C={get action(){return d},get location(){return n(s,u)},listen(I){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(_w,b),f=I,()=>{s.removeEventListener(_w,b),f=null}},createHref(I){return e(s,I)},createURL:w,encodeLocation(I){let T=w(I);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:x,go(I){return u.go(I)}};return C}function FN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Rt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Tc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function dT(n,e,t="/"){return zN(n,e,t,!1)}function zN(n,e,t,r){let s=typeof e=="string"?Vl(e):e,o=ds(s.pathname||"/",t);if(o==null)return null;let u=fT(n);HN(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=e2(o);d=ZN(u[f],h,r)}return d}function fT(n,e=[],t=[],r=""){let s=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(Rt(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=os([r,f.relativePath]),m=t.concat(f);o.children&&o.children.length>0&&(Rt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),fT(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:XN(h,o.index),routesMeta:m})};return n.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,u);else for(let f of hT(o.path))s(o,u,f)}),e}function hT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=hT(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function HN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var qN=/^:[\w-]+$/,$N=3,GN=2,YN=1,KN=10,QN=-2,ww=n=>n==="*";function XN(n,e){let t=n.split("/"),r=t.length;return t.some(ww)&&(r+=QN),e&&(r+=GN),t.filter(s=>!ww(s)).reduce((s,o)=>s+(qN.test(o)?$N:o===""?YN:KN),r)}function WN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function ZN(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],h=d===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",b=lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),_=f.route;if(!b&&h&&t&&!r[r.length-1].route.index&&(b=lh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!b)return null;Object.assign(s,b.params),u.push({params:s,pathname:os([o,b.pathname]),pathnameBase:i2(os([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=os([o,b.pathnameBase]))}return u}function lh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=JN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:b},_)=>{if(m==="*"){let w=d[_]||"";u=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const x=d[_];return b&&!x?h[m]=void 0:h[m]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:n}}function JN(n,e=!1,t=!0){Nr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function e2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ds(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function t2(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Vl(n):n;return{pathname:t?t.startsWith("/")?t:n2(t,e):e,search:s2(r),hash:a2(s)}}function n2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function kg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function r2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function py(n){let e=r2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function my(n,e,t,r=!1){let s;typeof n=="string"?s=Vl(n):(s={...n},Rt(!s.pathname||!s.pathname.includes("?"),kg("?","pathname","search",s)),Rt(!s.pathname||!s.pathname.includes("#"),kg("#","pathname","hash",s)),Rt(!s.search||!s.search.includes("#"),kg("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=t;else{let b=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;s.pathname=_.join("/")}d=b>=0?e[b]:"/"}let f=t2(s,d),h=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var os=n=>n.join("/").replace(/\/\/+/g,"/"),i2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),s2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,a2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function o2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var pT=["POST","PUT","PATCH","DELETE"];new Set(pT);var l2=["GET",...pT];new Set(l2);var Ll=D.createContext(null);Ll.displayName="DataRouter";var Qh=D.createContext(null);Qh.displayName="DataRouterState";var mT=D.createContext({isTransitioning:!1});mT.displayName="ViewTransition";var u2=D.createContext(new Map);u2.displayName="Fetchers";var c2=D.createContext(null);c2.displayName="Await";var Kr=D.createContext(null);Kr.displayName="Navigation";var Fc=D.createContext(null);Fc.displayName="Location";var Or=D.createContext({outlet:null,matches:[],isDataRoute:!1});Or.displayName="Route";var gy=D.createContext(null);gy.displayName="RouteError";function d2(n,{relative:e}={}){Rt(jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=D.useContext(Kr),{hash:s,pathname:o,search:u}=zc(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:os([t,o])),r.createHref({pathname:d,search:u,hash:s})}function jl(){return D.useContext(Fc)!=null}function ys(){return Rt(jl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Fc).location}var gT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vT(n){D.useContext(Kr).static||D.useLayoutEffect(n)}function Xt(){let{isDataRoute:n}=D.useContext(Or);return n?C2():f2()}function f2(){Rt(jl(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(Ll),{basename:e,navigator:t}=D.useContext(Kr),{matches:r}=D.useContext(Or),{pathname:s}=ys(),o=JSON.stringify(py(r)),u=D.useRef(!1);return vT(()=>{u.current=!0}),D.useCallback((f,h={})=>{if(Nr(u.current,gT),!u.current)return;if(typeof f=="number"){t.go(f);return}let m=my(f,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:os([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,s,n])}var h2=D.createContext(null);function p2(n){let e=D.useContext(Or).outlet;return e&&D.createElement(h2.Provider,{value:n},e)}function m2(){let{matches:n}=D.useContext(Or),e=n[n.length-1];return e?e.params:{}}function zc(n,{relative:e}={}){let{matches:t}=D.useContext(Or),{pathname:r}=ys(),s=JSON.stringify(py(t));return D.useMemo(()=>my(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function g2(n,e){return yT(n,e)}function yT(n,e,t,r){var T;Rt(jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=D.useContext(Kr),{matches:o}=D.useContext(Or),u=o[o.length-1],d=u?u.params:{},f=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let S=m&&m.path||"";bT(f,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let b=ys(),_;if(e){let S=typeof e=="string"?Vl(e):e;Rt(h==="/"||((T=S.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),_=S}else _=b;let x=_.pathname||"/",w=x;if(h!=="/"){let S=h.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=dT(n,{pathname:w});Nr(m||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Nr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=E2(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:os([h,s.encodeLocation?s.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:os([h,s.encodeLocation?s.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),o,t,r);return e&&I?D.createElement(Fc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function v2(){let n=A2(),e=o2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:s},t):null,u)}var y2=D.createElement(v2,null),b2=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?D.createElement(Or.Provider,{value:this.props.routeContext},D.createElement(gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function _2({routeContext:n,match:e,children:t}){let r=D.useContext(Ll);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(Or.Provider,{value:n},t)}function E2(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let f=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Rt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(t)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=f),h.route.id){let{loaderData:m,errors:b}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||_){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,h,m)=>{let b,_=!1,x=null,w=null;t&&(b=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||y2,u&&(d<0&&m===0?(bT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,w=null):d===m&&(_=!0,w=h.route.hydrateFallbackElement||null)));let C=e.concat(s.slice(0,m+1)),I=()=>{let T;return b?T=x:_?T=w:h.route.Component?T=D.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=f,D.createElement(_2,{match:h,routeContext:{outlet:f,matches:C,isDataRoute:t!=null},children:T})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?D.createElement(b2,{location:t.location,revalidation:t.revalidation,component:x,error:b,children:I(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):I()},null)}function vy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w2(n){let e=D.useContext(Ll);return Rt(e,vy(n)),e}function x2(n){let e=D.useContext(Qh);return Rt(e,vy(n)),e}function S2(n){let e=D.useContext(Or);return Rt(e,vy(n)),e}function yy(n){let e=S2(n),t=e.matches[e.matches.length-1];return Rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function T2(){return yy("useRouteId")}function A2(){var r;let n=D.useContext(gy),e=x2("useRouteError"),t=yy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function C2(){let{router:n}=w2("useNavigate"),e=yy("useNavigate"),t=D.useRef(!1);return vT(()=>{t.current=!0}),D.useCallback(async(s,o={})=>{Nr(t.current,gT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var xw={};function bT(n,e,t){!e&&!xw[n]&&(xw[n]=!0,Nr(!1,t))}D.memo(R2);function R2({routes:n,future:e,state:t}){return yT(n,void 0,t,e)}function I2({to:n,replace:e,state:t,relative:r}){Rt(jl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=D.useContext(Kr);Nr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=D.useContext(Or),{pathname:u}=ys(),d=Xt(),f=my(n,py(o),u,r==="path"),h=JSON.stringify(f);return D.useEffect(()=>{d(JSON.parse(h),{replace:e,state:t,relative:r})},[d,h,r,e,t]),null}function _T(n){return p2(n.context)}function Gt(n){Rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Rt(!jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=D.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=Vl(t));let{pathname:f="/",search:h="",hash:m="",state:b=null,key:_="default"}=t,x=D.useMemo(()=>{let w=ds(f,u);return w==null?null:{location:{pathname:w,search:h,hash:m,state:b,key:_},navigationType:r}},[u,f,h,m,b,_,r]);return Nr(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:D.createElement(Kr.Provider,{value:d},D.createElement(Fc.Provider,{children:e,value:x}))}function O2({children:n,location:e}){return g2(bv(n),e)}function bv(n,e=[]){let t=[];return D.Children.forEach(n,(r,s)=>{if(!D.isValidElement(r))return;let o=[...e,s];if(r.type===D.Fragment){t.push.apply(t,bv(r.props.children,o));return}Rt(r.type===Gt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=bv(r.props.children,o)),t.push(u)}),t}var qf="get",$f="application/x-www-form-urlencoded";function Xh(n){return n!=null&&typeof n.tagName=="string"}function M2(n){return Xh(n)&&n.tagName.toLowerCase()==="button"}function D2(n){return Xh(n)&&n.tagName.toLowerCase()==="form"}function P2(n){return Xh(n)&&n.tagName.toLowerCase()==="input"}function k2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function V2(n,e){return n.button===0&&(!e||e==="_self")&&!k2(n)}function _v(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function L2(n,e){let t=_v(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var Rf=null;function j2(){if(Rf===null)try{new FormData(document.createElement("form"),0),Rf=!1}catch{Rf=!0}return Rf}var U2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vg(n){return n!=null&&!U2.has(n)?(Nr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$f}"`),null):n}function B2(n,e){let t,r,s,o,u;if(D2(n)){let d=n.getAttribute("action");r=d?ds(d,e):null,t=n.getAttribute("method")||qf,s=Vg(n.getAttribute("enctype"))||$f,o=new FormData(n)}else if(M2(n)||P2(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?ds(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||qf,s=Vg(n.getAttribute("formenctype"))||Vg(d.getAttribute("enctype"))||$f,o=new FormData(d,n),!j2()){let{name:h,type:m,value:b}=n;if(m==="image"){let _=h?`${h}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else h&&o.append(h,b)}}else{if(Xh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qf,r=null,s=$f,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function by(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function F2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function H2(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await F2(o,t);return u.links?u.links():[]}return[]}));return Y2(r.flat(1).filter(z2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Sw(n,e,t,r,s,o){let u=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,d=(f,h)=>{var m;return t[h].pathname!==f.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,h)=>u(f,h)||d(f,h)):o==="data"?e.filter((f,h)=>{var b;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function q2(n,e,{includeHydrateFallback:t}={}){return $2(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function $2(n){return[...new Set(n)]}function G2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function Y2(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(G2(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var K2=new Set([100,101,204,205]);function Q2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ds(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ET(){let n=D.useContext(Ll);return by(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function X2(){let n=D.useContext(Qh);return by(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _y=D.createContext(void 0);_y.displayName="FrameworkContext";function wT(){let n=D.useContext(_y);return by(n,"You must render this element inside a <HydratedRouter> element"),n}function W2(n,e){let t=D.useContext(_y),[r,s]=D.useState(!1),[o,u]=D.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:b}=e,_=D.useRef(null);D.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let C=T=>{T.forEach(S=>{u(S.isIntersecting)})},I=new IntersectionObserver(C,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[n]),D.useEffect(()=>{if(r){let C=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(C)}}},[r]);let x=()=>{s(!0)},w=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:ec(d,x),onBlur:ec(f,w),onMouseEnter:ec(h,x),onMouseLeave:ec(m,w),onTouchStart:ec(b,x)}]:[!1,_,{}]}function ec(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Z2({page:n,...e}){let{router:t}=ET(),r=D.useMemo(()=>dT(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?D.createElement(eO,{page:n,matches:r,...e}):null}function J2(n){let{manifest:e,routeModules:t}=wT(),[r,s]=D.useState([]);return D.useEffect(()=>{let o=!1;return H2(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function eO({page:n,matches:e,...t}){let r=ys(),{manifest:s,routeModules:o}=wT(),{basename:u}=ET(),{loaderData:d,matches:f}=X2(),h=D.useMemo(()=>Sw(n,e,f,s,r,"data"),[n,e,f,s,r]),m=D.useMemo(()=>Sw(n,e,f,s,r,"assets"),[n,e,f,s,r]),b=D.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,C=!1;if(e.forEach(T=>{var N;let S=s.routes[T.route.id];!S||!S.hasLoader||(!h.some(z=>z.route.id===T.route.id)&&T.route.id in d&&((N=o[T.route.id])!=null&&N.shouldRevalidate)||S.hasClientLoader?C=!0:w.add(T.route.id))}),w.size===0)return[];let I=Q2(n,u);return C&&w.size>0&&I.searchParams.set("_routes",e.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[I.pathname+I.search]},[u,d,r,s,h,e,n,o]),_=D.useMemo(()=>q2(m,s),[m,s]),x=J2(m);return D.createElement(D.Fragment,null,b.map(w=>D.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),_.map(w=>D.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),x.map(({key:w,link:C})=>D.createElement("link",{key:w,...C})))}function tO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var xT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xT&&(window.__reactRouterVersion="7.6.2")}catch{}function nO({basename:n,children:e,window:t}){let r=D.useRef();r.current==null&&(r.current=jN({window:t,v5Compat:!0}));let s=r.current,[o,u]=D.useState({action:s.action,location:s.location}),d=D.useCallback(f=>{D.startTransition(()=>u(f))},[u]);return D.useLayoutEffect(()=>s.listen(d),[s,d]),D.createElement(N2,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var ST=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gl=D.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:d,target:f,to:h,preventScrollReset:m,viewTransition:b,..._},x){let{basename:w}=D.useContext(Kr),C=typeof h=="string"&&ST.test(h),I,T=!1;if(typeof h=="string"&&C&&(I=h,xT))try{let M=new URL(window.location.href),L=h.startsWith("//")?new URL(M.protocol+h):new URL(h),B=ds(L.pathname,w);L.origin===M.origin&&B!=null?h=B+L.search+L.hash:T=!0}catch{Nr(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=d2(h,{relative:s}),[N,z,V]=W2(r,_),K=aO(h,{replace:u,state:d,target:f,preventScrollReset:m,relative:s,viewTransition:b});function P(M){e&&e(M),M.defaultPrevented||K(M)}let O=D.createElement("a",{..._,...V,href:I||S,onClick:T||o?e:P,ref:tO(x,z),target:f,"data-discover":!C&&t==="render"?"true":void 0});return N&&!C?D.createElement(D.Fragment,null,O,D.createElement(Z2,{page:S})):O});gl.displayName="Link";var rO=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:d,children:f,...h},m){let b=zc(u,{relative:h.relative}),_=ys(),x=D.useContext(Qh),{navigator:w,basename:C}=D.useContext(Kr),I=x!=null&&dO(b)&&d===!0,T=w.encodeLocation?w.encodeLocation(b).pathname:b.pathname,S=_.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(S=S.toLowerCase(),N=N?N.toLowerCase():null,T=T.toLowerCase()),N&&C&&(N=ds(N,C)||N);const z=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let V=S===T||!s&&S.startsWith(T)&&S.charAt(z)==="/",K=N!=null&&(N===T||!s&&N.startsWith(T)&&N.charAt(T.length)==="/"),P={isActive:V,isPending:K,isTransitioning:I},O=V?e:void 0,M;typeof r=="function"?M=r(P):M=[r,V?"active":null,K?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(P):o;return D.createElement(gl,{...h,"aria-current":O,className:M,ref:m,style:L,to:u,viewTransition:d},typeof f=="function"?f(P):f)});rO.displayName="NavLink";var iO=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=qf,action:d,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:b,..._},x)=>{let w=uO(),C=cO(d,{relative:h}),I=u.toLowerCase()==="get"?"get":"post",T=typeof d=="string"&&ST.test(d),S=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let z=N.nativeEvent.submitter,V=(z==null?void 0:z.getAttribute("formmethod"))||u;w(z||N.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:b})};return D.createElement("form",{ref:x,method:I,action:C,onSubmit:r?f:S,..._,"data-discover":!T&&n==="render"?"true":void 0})});iO.displayName="Form";function sO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TT(n){let e=D.useContext(Ll);return Rt(e,sO(n)),e}function aO(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=Xt(),f=ys(),h=zc(n,{relative:o});return D.useCallback(m=>{if(V2(m,e)){m.preventDefault();let b=t!==void 0?t:Tc(f)===Tc(h);d(n,{replace:b,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,d,h,t,r,e,n,s,o,u])}function Ey(n){Nr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=D.useRef(_v(n)),t=D.useRef(!1),r=ys(),s=D.useMemo(()=>L2(r.search,t.current?null:e.current),[r.search]),o=Xt(),u=D.useCallback((d,f)=>{const h=_v(typeof d=="function"?d(s):d);t.current=!0,o("?"+h,f)},[o,s]);return[s,u]}var oO=0,lO=()=>`__${String(++oO)}__`;function uO(){let{router:n}=TT("useSubmit"),{basename:e}=D.useContext(Kr),t=T2();return D.useCallback(async(r,s={})=>{let{action:o,method:u,encType:d,formData:f,body:h}=B2(r,e);if(s.navigate===!1){let m=s.fetcherKey||lO();await n.fetch(m,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function cO(n,{relative:e}={}){let{basename:t}=D.useContext(Kr),r=D.useContext(Or);Rt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...zc(n||".",{relative:e})},u=ys();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(m=>m==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let m=d.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:os([t,o.pathname])),Tc(o)}function dO(n,e={}){let t=D.useContext(mT);Rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TT("useViewTransitionState"),s=zc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=ds(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=ds(t.nextLocation.pathname,r)||t.nextLocation.pathname;return lh(s.pathname,u)!=null||lh(s.pathname,o)!=null}[...K2];var fO=cT();const hO=()=>{};var Tw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},pO=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,h=f?n[s+2]:0,m=o>>2,b=(o&3)<<4|d>>4;let _=(d&15)<<2|h>>6,x=h&63;f||(x=64,u||(_=64)),r.push(t[m],t[b],t[_],t[x])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(AT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):pO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||d==null||h==null||b==null)throw new mO;const _=o<<2|d>>4;if(r.push(_),h!==64){const x=d<<4&240|h>>2;if(r.push(x),b!==64){const w=h<<6&192|b;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gO=function(n){const e=AT(n);return CT.encodeByteArray(e,!0)},uh=function(n){return gO(n).replace(/\./g,"")},RT=function(n){try{return CT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=()=>vO().__FIREBASE_DEFAULTS__,bO=()=>{if(typeof process>"u"||typeof Tw>"u")return;const n=Tw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},_O=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&RT(n[1]);return e&&JSON.parse(e)},Wh=()=>{try{return hO()||yO()||bO()||_O()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},IT=n=>{var e,t;return(t=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},NT=n=>{const e=IT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},OT=()=>{var n;return(n=Wh())===null||n===void 0?void 0:n.config},MT=n=>{var e;return(e=Wh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(n){return n.endsWith(".cloudworkstations.dev")}async function wy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[uh(JSON.stringify(t)),uh(JSON.stringify(u)),""].join(".")}const mc={};function wO(){const n={prod:[],emulator:[]};for(const e of Object.keys(mc))mc[e]?n.emulator.push(e):n.prod.push(e);return n}function xO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Aw=!1;function xy(n,e){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||mc[n]===e||mc[n]||Aw)return;mc[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=wO().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Aw=!0,u()},_}function m(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=xO(r),x=t("text"),w=document.getElementById(x)||document.createElement("span"),C=t("learnmore"),I=document.getElementById(C)||document.createElement("a"),T=t("preprendIcon"),S=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const N=_.element;d(N),m(I,C);const z=h();f(S,T),N.append(S,w,I,z),document.body.appendChild(N)}o?(w.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nn())}function TO(){var n;const e=(n=Wh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function RO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IO(){const n=Nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function NO(){return!TO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OO(){try{return typeof indexedDB=="object"}catch{return!1}}function MO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="FirebaseError";class Ci extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DO,Object.setPrototypeOf(this,Ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hc.prototype.create)}}class Hc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?PO(o,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Ci(s,d,r)}}function PO(n,e){return n.replace(kO,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const kO=/\{\$([^}]+)}/g;function VO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ro(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(Cw(o)&&Cw(u)){if(!ro(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Cw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function oc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function lc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function LO(n,e){const t=new jO(n,e);return t.subscribe.bind(t)}class jO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");UO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Lg),s.error===void 0&&(s.error=Lg),s.complete===void 0&&(s.complete=Lg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n){return n&&n._delegate?n._delegate:n}class ua{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new EO;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zO(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FO(n){return n===Wa?void 0:n}function zO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new BO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ze||(Ze={}));const qO={debug:Ze.DEBUG,verbose:Ze.VERBOSE,info:Ze.INFO,warn:Ze.WARN,error:Ze.ERROR,silent:Ze.SILENT},$O=Ze.INFO,GO={[Ze.DEBUG]:"log",[Ze.VERBOSE]:"log",[Ze.INFO]:"info",[Ze.WARN]:"warn",[Ze.ERROR]:"error"},YO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=GO[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sy{constructor(e){this.name=e,this._logLevel=$O,this._logHandler=YO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ze.DEBUG,...e),this._logHandler(this,Ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ze.VERBOSE,...e),this._logHandler(this,Ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ze.INFO,...e),this._logHandler(this,Ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ze.WARN,...e),this._logHandler(this,Ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ze.ERROR,...e),this._logHandler(this,Ze.ERROR,...e)}}const KO=(n,e)=>e.some(t=>n instanceof t);let Rw,Iw;function QO(){return Rw||(Rw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XO(){return Iw||(Iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PT=new WeakMap,Ev=new WeakMap,kT=new WeakMap,jg=new WeakMap,Ty=new WeakMap;function WO(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(sa(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&PT.set(t,n)}).catch(()=>{}),Ty.set(e,n),e}function ZO(n){if(Ev.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Ev.set(n,e)}let wv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ev.get(n);if(e==="objectStoreNames")return n.objectStoreNames||kT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JO(n){wv=n(wv)}function eM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Ug(this),e,...t);return kT.set(r,e.sort?e.sort():[e]),sa(r)}:XO().includes(n)?function(...e){return n.apply(Ug(this),e),sa(PT.get(this))}:function(...e){return sa(n.apply(Ug(this),e))}}function tM(n){return typeof n=="function"?eM(n):(n instanceof IDBTransaction&&ZO(n),KO(n,QO())?new Proxy(n,wv):n)}function sa(n){if(n instanceof IDBRequest)return WO(n);if(jg.has(n))return jg.get(n);const e=tM(n);return e!==n&&(jg.set(n,e),Ty.set(e,n)),e}const Ug=n=>Ty.get(n);function nM(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),d=sa(u);return r&&u.addEventListener("upgradeneeded",f=>{r(sa(u.result),f.oldVersion,f.newVersion,sa(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),d}const rM=["get","getKey","getAll","getAllKeys","count"],iM=["put","add","delete","clear"],Bg=new Map;function Nw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Bg.get(e))return Bg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=iM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||rM.includes(t)))return;const o=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(d.shift())),(await Promise.all([h[t](...d),s&&f.done]))[0]};return Bg.set(e,o),o}JO(n=>({...n,get:(e,t,r)=>Nw(e,t)||n.get(e,t,r),has:(e,t)=>!!Nw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(aM(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function aM(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xv="@firebase/app",Ow="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Sy("@firebase/app"),oM="@firebase/app-compat",lM="@firebase/analytics-compat",uM="@firebase/analytics",cM="@firebase/app-check-compat",dM="@firebase/app-check",fM="@firebase/auth",hM="@firebase/auth-compat",pM="@firebase/database",mM="@firebase/data-connect",gM="@firebase/database-compat",vM="@firebase/functions",yM="@firebase/functions-compat",bM="@firebase/installations",_M="@firebase/installations-compat",EM="@firebase/messaging",wM="@firebase/messaging-compat",xM="@firebase/performance",SM="@firebase/performance-compat",TM="@firebase/remote-config",AM="@firebase/remote-config-compat",CM="@firebase/storage",RM="@firebase/storage-compat",IM="@firebase/firestore",NM="@firebase/ai",OM="@firebase/firestore-compat",MM="firebase",DM="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="[DEFAULT]",PM={[xv]:"fire-core",[oM]:"fire-core-compat",[uM]:"fire-analytics",[lM]:"fire-analytics-compat",[dM]:"fire-app-check",[cM]:"fire-app-check-compat",[fM]:"fire-auth",[hM]:"fire-auth-compat",[pM]:"fire-rtdb",[mM]:"fire-data-connect",[gM]:"fire-rtdb-compat",[vM]:"fire-fn",[yM]:"fire-fn-compat",[bM]:"fire-iid",[_M]:"fire-iid-compat",[EM]:"fire-fcm",[wM]:"fire-fcm-compat",[xM]:"fire-perf",[SM]:"fire-perf-compat",[TM]:"fire-rc",[AM]:"fire-rc-compat",[CM]:"fire-gcs",[RM]:"fire-gcs-compat",[IM]:"fire-fst",[OM]:"fire-fst-compat",[NM]:"fire-vertex","fire-js":"fire-js",[MM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,kM=new Map,Tv=new Map;function Mw(n,e){try{n.container.addComponent(e)}catch(t){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function io(n){const e=n.name;if(Tv.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;Tv.set(e,n);for(const t of ch.values())Mw(t,n);for(const t of kM.values())Mw(t,n);return!0}function Zh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function cr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Hc("app","Firebase",VM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=DM;function VT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw aa.create("bad-app-name",{appName:String(s)});if(t||(t=OT()),!t)throw aa.create("no-options");const o=ch.get(s);if(o){if(ro(t,o.options)&&ro(r,o.config))return o;throw aa.create("duplicate-app",{appName:s})}const u=new HO(s);for(const f of Tv.values())u.addComponent(f);const d=new LM(t,r,u);return ch.set(s,d),d}function Ay(n=Sv){const e=ch.get(n);if(!e&&n===Sv&&OT())return VT();if(!e)throw aa.create("no-app",{appName:n});return e}function _i(n,e,t){var r;let s=(r=PM[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(d.join(" "));return}io(new ua(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="firebase-heartbeat-database",UM=1,Ac="firebase-heartbeat-store";let Fg=null;function LT(){return Fg||(Fg=nM(jM,UM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Ac)}catch(t){console.warn(t)}}}}).catch(n=>{throw aa.create("idb-open",{originalErrorMessage:n.message})})),Fg}async function BM(n){try{const t=(await LT()).transaction(Ac),r=await t.objectStore(Ac).get(jT(n));return await t.done,r}catch(e){if(e instanceof Ci)fs.warn(e.message);else{const t=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(t.message)}}}async function Dw(n,e){try{const r=(await LT()).transaction(Ac,"readwrite");await r.objectStore(Ac).put(e,jT(n)),await r.done}catch(t){if(t instanceof Ci)fs.warn(t.message);else{const r=aa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fs.warn(r.message)}}}function jT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=1024,zM=30;class HM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new $M(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Pw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>zM){const u=GM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Pw(),{heartbeatsToSend:r,unsentEntries:s}=qM(this._heartbeatsCache.heartbeats),o=uh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return fs.warn(t),""}}}function Pw(){return new Date().toISOString().substring(0,10)}function qM(n,e=FM){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),kw(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),kw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class $M{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OO()?MO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Dw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Dw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function kw(n){return uh(JSON.stringify({version:2,heartbeats:n})).length}function GM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(n){io(new ua("platform-logger",e=>new sM(e),"PRIVATE")),io(new ua("heartbeat",e=>new HM(e),"PRIVATE")),_i(xv,Ow,n),_i(xv,Ow,"esm2017"),_i("fire-js","")}YM("");var KM="firebase",QM="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_i(KM,QM,"app");function Cy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function UT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XM=UT,BT=new Hc("auth","Firebase",UT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Sy("@firebase/auth");function WM(n,...e){dh.logLevel<=Ze.WARN&&dh.warn(`Auth (${mo}): ${n}`,...e)}function Gf(n,...e){dh.logLevel<=Ze.ERROR&&dh.error(`Auth (${mo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(n,...e){throw Ry(n,...e)}function Ei(n,...e){return Ry(n,...e)}function FT(n,e,t){const r=Object.assign(Object.assign({},XM()),{[e]:t});return new Hc("auth","Firebase",r).create(e,{appName:n.name})}function ls(n){return FT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ry(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BT.create(n,...e)}function Oe(n,e,...t){if(!n)throw Ry(e,...t)}function ss(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Gf(e),new Error(e)}function hs(n,e){n||ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Av(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function ZM(){return Vw()==="http:"||Vw()==="https:"}function Vw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZM()||CO()||"connection"in navigator)?navigator.onLine:!0}function eD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.shortDelay=e,this.longDelay=t,hs(t>e,"Short delay should be less than long delay!"),this.isMobile=SO()||RO()}get(){return JM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(n,e){hs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],rD=new $c(3e4,6e4);function Qr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Mr(n,e,t,r,s={}){return HT(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=qc(Object.assign({key:n.config.apiKey},u)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:f},o);return AO()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&po(n.emulatorConfig.host)&&(h.credentials="include"),zT.fetch()(await qT(n,n.config.apiHost,t,d),h)})}async function HT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},tD),e);try{const s=new sD(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw If(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[f,h]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw If(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw If(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw If(n,"user-disabled",u);const m=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw FT(n,m,h);$r(n,m)}}catch(s){if(s instanceof Ci)throw s;$r(n,"network-request-failed",{message:String(s)})}}async function Gc(n,e,t,r,s={}){const o=await Mr(n,e,t,r,s);return"mfaPendingCredential"in o&&$r(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function qT(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?Iy(n.config,s):`${n.config.apiScheme}://${s}`;return nD.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function iD(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ei(this.auth,"network-request-failed")),rD.get())})}}function If(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Ei(n,e,r);return s.customData._tokenResponse=t,s}function Lw(n){return n!==void 0&&n.enterprise!==void 0}class aD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return iD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oD(n,e){return Mr(n,"GET","/v2/recaptchaConfig",Qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(n,e){return Mr(n,"POST","/v1/accounts:delete",e)}async function fh(n,e){return Mr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uD(n,e=!1){const t=St(n),r=await t.getIdToken(e),s=Ny(r);Oe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:gc(zg(s.auth_time)),issuedAtTime:gc(zg(s.iat)),expirationTime:gc(zg(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zg(n){return Number(n)*1e3}function Ny(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gf("JWT malformed, contained fewer than 3 sections"),null;try{const s=RT(t);return s?JSON.parse(s):(Gf("Failed to decode base64 JWT payload"),null)}catch(s){return Gf("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function jw(n){const e=Ny(n);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ci&&cD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function cD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=gc(this.lastLoginAt),this.creationTime=gc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Al(n,fh(t,{idToken:r}));Oe(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?$T(o.providerUserInfo):[],d=hD(n.providerData,u),f=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(d!=null&&d.length),m=f?h:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Cv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,b)}async function fD(n){const e=St(n);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hD(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function $T(n){return n.map(e=>{var{providerId:t}=e,r=Cy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(n,e){const t=await HT(n,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await qT(n,s,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",zT.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function mD(n,e){return Mr(n,"POST","/v2/accounts:revokeToken",Qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const t=jw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await pD(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new bl;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(Oe(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(Oe(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bl,this.toJSON())}_performRefresh(){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(n,e){Oe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Hr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=Cy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Al(this,this.stsTokenManager.getToken(this.auth,e));return Oe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uD(this,e)}reload(){return fD(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await hh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cr(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await Al(this,lD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,d,f,h,m;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,x=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,w=(u=t.photoURL)!==null&&u!==void 0?u:void 0,C=(d=t.tenantId)!==null&&d!==void 0?d:void 0,I=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,T=(h=t.createdAt)!==null&&h!==void 0?h:void 0,S=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:N,emailVerified:z,isAnonymous:V,providerData:K,stsTokenManager:P}=t;Oe(N&&P,e,"internal-error");const O=bl.fromJSON(this.name,P);Oe(typeof N=="string",e,"internal-error"),Xs(b,e.name),Xs(_,e.name),Oe(typeof z=="boolean",e,"internal-error"),Oe(typeof V=="boolean",e,"internal-error"),Xs(x,e.name),Xs(w,e.name),Xs(C,e.name),Xs(I,e.name),Xs(T,e.name),Xs(S,e.name);const M=new Hr({uid:N,auth:e,email:_,emailVerified:z,displayName:b,isAnonymous:V,photoURL:w,phoneNumber:x,tenantId:C,stsTokenManager:O,createdAt:T,lastLoginAt:S});return K&&Array.isArray(K)&&(M.providerData=K.map(L=>Object.assign({},L))),I&&(M._redirectEventId=I),M}static async _fromIdTokenResponse(e,t,r=!1){const s=new bl;s.updateFromServerResponse(t);const o=new Hr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await hh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Oe(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?$T(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new bl;d.updateFromIdToken(r);const f=new Hr({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Cv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,h),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;function as(n){hs(n instanceof Function,"Expected a class definition");let e=Uw.get(n);return e?(hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Uw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}GT.type="NONE";const Bw=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(n,e,t){return`firebase:${n}:${e}:${t}`}class _l{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=Yf(this.userKey,s.apiKey,o),this.fullPersistenceKey=Yf("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fh(this.auth,{idToken:e}).catch(()=>{});return t?Hr._fromGetAccountInfoResponse(this.auth,t,e):null}return Hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new _l(as(Bw),e,r);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||as(Bw);const u=Yf(r,e.config.apiKey,e.name);let d=null;for(const h of t)try{const m=await h._get(u);if(m){let b;if(typeof m=="string"){const _=await fh(e,{idToken:m}).catch(()=>{});if(!_)break;b=await Hr._fromGetAccountInfoResponse(e,_,m)}else b=Hr._fromJSON(e,m);h!==o&&(d=b),o=h;break}}catch{}const f=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new _l(o,e,r):(o=f[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(u)}catch{}})),new _l(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZT(e))return"Blackberry";if(JT(e))return"Webos";if(KT(e))return"Safari";if((e.includes("chrome/")||QT(e))&&!e.includes("edge/"))return"Chrome";if(WT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YT(n=Nn()){return/firefox\//i.test(n)}function KT(n=Nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QT(n=Nn()){return/crios\//i.test(n)}function XT(n=Nn()){return/iemobile/i.test(n)}function WT(n=Nn()){return/android/i.test(n)}function ZT(n=Nn()){return/blackberry/i.test(n)}function JT(n=Nn()){return/webos/i.test(n)}function Oy(n=Nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gD(n=Nn()){var e;return Oy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vD(){return IO()&&document.documentMode===10}function e1(n=Nn()){return Oy(n)||WT(n)||JT(n)||ZT(n)||/windows phone/i.test(n)||XT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(n,e=[]){let t;switch(n){case"Browser":t=Fw(Nn());break;case"Worker":t=`${Fw(Nn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,d)=>{try{const f=e(o);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bD(n,e={}){return Mr(n,"GET","/v2/passwordPolicy",Qr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D=6;class ED{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:_D,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zw(this),this.idTokenSubscription=new zw(this),this.beforeStateQueue=new yD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=as(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await _l.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fh(this,{idToken:e}),r=await Hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cr(this.app))return Promise.reject(ls(this));const t=e?St(e):null;return t&&Oe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cr(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cr(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(as(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bD(this),t=new ED(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await mD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&as(e)||this._popupRedirectResolver;Oe(t,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[as(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&WM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ga(n){return St(n)}class zw{constructor(e){this.auth=e,this.observer=null,this.addObserver=LO(t=>this.observer=t)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xD(n){Jh=n}function n1(n){return Jh.loadJS(n)}function SD(){return Jh.recaptchaEnterpriseScript}function TD(){return Jh.gapiScript}function AD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class CD{constructor(){this.enterprise=new RD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class RD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ID="recaptcha-enterprise",r1="NO_RECAPTCHA";class ND{constructor(e){this.type=ID,this.auth=ga(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{oD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const h=new aD(f);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,u(h.siteKey)}}).catch(f=>{d(f)})})}function s(o,u,d){const f=window.grecaptcha;Lw(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(h=>{u(h)}).catch(()=>{u(r1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CD().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!t&&Lw(window.grecaptcha))s(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=SD();f.length!==0&&(f+=d),n1(f).then(()=>{s(d,o,u)}).catch(h=>{u(h)})}}).catch(d=>{u(d)})})}}async function Hw(n,e,t,r=!1,s=!1){const o=new ND(n);let u;if(s)u=r1;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,h=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ph(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Hw(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Hw(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n,e){const t=Zh(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(ro(o,e??{}))return s;$r(s,"already-initialized")}return t.initialize({options:e})}function MD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(as);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function DD(n,e,t){const r=ga(n);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=i1(e),{host:u,port:d}=PD(e),f=d===null?"":`:${d}`,h={url:`${o}//${u}${f}/`},m=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(ro(h,r.config.emulator)&&ro(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,po(u)?(wy(`${o}//${u}${f}`),xy("Auth",!0)):kD()}function i1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function PD(n){const e=i1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:qw(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:qw(u)}}}function qw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function kD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ss("not implemented")}_getIdTokenResponse(e){return ss("not implemented")}_linkToIdToken(e,t){return ss("not implemented")}_getReauthenticationResolver(e){return ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(n,e){return Mr(n,"POST","/v1/accounts:resetPassword",Qr(n,e))}async function LD(n,e){return Mr(n,"POST","/v1/accounts:signUp",e)}async function jD(n,e){return Mr(n,"POST","/v1/accounts:update",Qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(n,e){return Gc(n,"POST","/v1/accounts:signInWithPassword",Qr(n,e))}async function s1(n,e){return Mr(n,"POST","/v1/accounts:sendOobCode",Qr(n,e))}async function BD(n,e){return s1(n,e)}async function FD(n,e){return s1(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(n,e){return Gc(n,"POST","/v1/accounts:signInWithEmailLink",Qr(n,e))}async function HD(n,e){return Gc(n,"POST","/v1/accounts:signInWithEmailLink",Qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends My{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Cc(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Cc(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,t,"signInWithPassword",UD);case"emailLink":return zD(e,{email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ph(e,r,"signUpPassword",LD);case"emailLink":return HD(e,{idToken:t,email:this._email,oobCode:this._password});default:$r(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(n,e){return Gc(n,"POST","/v1/accounts:signInWithIdp",Qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="http://localhost";class so extends My{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new so(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=Cy(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new so(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return El(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,El(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,El(e,t)}buildRequest(){const e={requestUri:qD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GD(n){const e=oc(lc(n)).link,t=e?oc(lc(e)).deep_link_id:null,r=oc(lc(n)).deep_link_id;return(r?oc(lc(r)).link:null)||r||t||e||n}class Dy{constructor(e){var t,r,s,o,u,d;const f=oc(lc(e)),h=(t=f.apiKey)!==null&&t!==void 0?t:null,m=(r=f.oobCode)!==null&&r!==void 0?r:null,b=$D((s=f.mode)!==null&&s!==void 0?s:null);Oe(h&&m&&b,"argument-error"),this.apiKey=h,this.operation=b,this.code=m,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=GD(e);try{return new Dy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.providerId=Ul.PROVIDER_ID}static credential(e,t){return Cc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Dy.parseLink(t);return Oe(r,"argument-error"),Cc._fromEmailAndCode(e,r.code,r.tenantId)}}Ul.PROVIDER_ID="password";Ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends a1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Yc{constructor(){super("facebook.com")}static credential(e){return so._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return so._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Zs.credential(t,r)}catch{return null}}}Zs.GOOGLE_SIGN_IN_METHOD="google.com";Zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Yc{constructor(){super("github.com")}static credential(e){return so._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends Yc{constructor(){super("twitter.com")}static credential(e,t){return so._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ea.credential(t,r)}catch{return null}}}ea.TWITTER_SIGN_IN_METHOD="twitter.com";ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(n,e){return Gc(n,"POST","/v1/accounts:signUp",Qr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await Hr._fromIdTokenResponse(e,r,s),u=$w(r);return new ao({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=$w(r);return new ao({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function $w(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Ci{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new mh(e,t,r,s)}}function o1(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(n,o,e,r):o})}async function KD(n,e,t=!1){const r=await Al(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ao._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(n,e,t=!1){const{auth:r}=n;if(cr(r.app))return Promise.reject(ls(r));const s="reauthenticate";try{const o=await Al(n,o1(r,s,e,n),t);Oe(o.idToken,r,"internal-error");const u=Ny(o.idToken);Oe(u,r,"internal-error");const{sub:d}=u;return Oe(n.uid===d,r,"user-mismatch"),ao._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&$r(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(n,e,t=!1){if(cr(n.app))return Promise.reject(ls(n));const r="signIn",s=await o1(n,r,e),o=await ao._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function XD(n,e){return l1(ga(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(n,e,t){var r;Oe(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),Oe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Oe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Oe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Oe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Py(n){const e=ga(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZD(n,e,t){const r=ga(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&WD(r,s,t),await ph(r,s,"getOobCode",FD)}async function JD(n,e,t){await VD(St(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Py(n),r})}async function eP(n,e){await jD(St(n),{oobCode:e})}async function tP(n,e,t){if(cr(n.app))return Promise.reject(ls(n));const r=ga(n),u=await ph(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YD).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&Py(n),f}),d=await ao._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function nP(n,e,t){return cr(n.app)?Promise.reject(ls(n)):XD(St(n),Ul.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Py(n),r})}async function rP(n,e){const t=St(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await BD(t.auth,s);o!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iP(n,e){return Mr(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=St(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Al(r,iP(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function sP(n,e,t,r){return St(n).onIdTokenChanged(e,t,r)}function aP(n,e,t){return St(n).beforeAuthStateChanged(e,t)}function ep(n,e,t,r){return St(n).onAuthStateChanged(e,t,r)}function ky(n){return St(n).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=1e3,lP=10;class d1 extends c1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);vD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,lP):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},oP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}d1.type="LOCAL";const uP=d1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends c1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}f1.type="SESSION";const h1=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new tp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async h=>h(t.origin,o)),f=await cP(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((d,f)=>{const h=Vy("",20);s.port1.start();const m=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(b){const _=b;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(m),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function fP(n){wi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function hP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function mP(){return p1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebaseLocalStorageDb",gP=1,vh="firebaseLocalStorage",g1="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function np(n,e){return n.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function vP(){const n=indexedDB.deleteDatabase(m1);return new Kc(n).toPromise()}function Rv(){const n=indexedDB.open(m1,gP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(vh,{keyPath:g1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(vh)?e(r):(r.close(),await vP(),e(await Rv()))})})}async function Gw(n,e,t){const r=np(n,!0).put({[g1]:e,value:t});return new Kc(r).toPromise()}async function yP(n,e){const t=np(n,!1).get(e),r=await new Kc(t).toPromise();return r===void 0?null:r.value}function Yw(n,e){const t=np(n,!0).delete(e);return new Kc(t).toPromise()}const bP=800,_P=3;class v1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>_P)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tp._getInstance(mP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await hP(),!this.activeServiceWorker)return;this.sender=new dP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Rv();return await Gw(e,gh,"1"),await Yw(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Gw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>yP(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Yw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=np(s,!1).getAll();return new Kc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v1.type="LOCAL";const EP=v1;new $c(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(n,e){return e?as(e):(Oe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly extends My{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,t){return El(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function xP(n){return l1(n.auth,new Ly(n),n.bypassAuthState)}function SP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),QD(t,new Ly(n),n.bypassAuthState)}async function TP(n){const{auth:e,user:t}=n;return Oe(t,e,"internal-error"),KD(t,new Ly(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xP;case"linkViaPopup":case"linkViaRedirect":return TP;case"reauthViaPopup":case"reauthViaRedirect":return SP;default:$r(this.auth,"internal-error")}}resolve(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=new $c(2e3,1e4);class vl extends y1{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,vl.currentPopupAction&&vl.currentPopupAction.cancel(),vl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const e=Vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AP.get())};e()}}vl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP="pendingRedirect",Kf=new Map;class RP extends y1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Kf.get(this.auth._key());if(!e){try{const r=await IP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kf.set(this.auth._key(),e)}return this.bypassAuthState||Kf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IP(n,e){const t=MP(e),r=OP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function NP(n,e){Kf.set(n._key(),e)}function OP(n){return as(n._redirectPersistence)}function MP(n){return Yf(CP,n.config.apiKey,n.name)}async function DP(n,e,t=!1){if(cr(n.app))return Promise.reject(ls(n));const r=ga(n),s=wP(r,e),u=await new RP(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PP=10*60*1e3;class kP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!b1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ei(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kw(e))}saveEventToCache(e){this.cachedEventUids.add(Kw(e)),this.lastProcessedEventTime=Date.now()}}function Kw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function b1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LP(n,e={}){return Mr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UP=/^https?/;async function BP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await LP(n);for(const t of e)try{if(FP(t))return}catch{}$r(n,"unauthorized-domain")}function FP(n){const e=Av(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!UP.test(t))return!1;if(jP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=new $c(3e4,6e4);function Qw(){const n=wi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function HP(n){return new Promise((e,t)=>{var r,s,o;function u(){Qw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Qw(),t(Ei(n,"network-request-failed"))},timeout:zP.get()})}if(!((s=(r=wi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=wi().gapi)===null||o===void 0)&&o.load)u();else{const d=AD("iframefcb");return wi()[d]=()=>{gapi.load?u():t(Ei(n,"network-request-failed"))},n1(`${TD()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function qP(n){return Qf=Qf||HP(n),Qf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=new $c(5e3,15e3),GP="__/auth/iframe",YP="emulator/auth/iframe",KP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XP(n){const e=n.config;Oe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Iy(e,YP):`https://${n.config.authDomain}/${GP}`,r={apiKey:e.apiKey,appName:n.name,v:mo},s=QP.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${qc(r).slice(1)}`}async function WP(n){const e=await qP(n),t=wi().gapi;return Oe(t,n,"internal-error"),e.open({where:document.body,url:XP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Ei(n,"network-request-failed"),d=wi().setTimeout(()=>{o(u)},$P.get());function f(){wi().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JP=500,ek=600,tk="_blank",nk="http://localhost";class Xw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rk(n,e,t,r=JP,s=ek){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},ZP),{width:r.toString(),height:s.toString(),top:o,left:u}),h=Nn().toLowerCase();t&&(d=QT(h)?tk:t),YT(h)&&(e=e||nk,f.scrollbars="yes");const m=Object.entries(f).reduce((_,[x,w])=>`${_}${x}=${w},`,"");if(gD(h)&&d!=="_self")return ik(e||"",d),new Xw(null);const b=window.open(e||"",d,m);Oe(b,n,"popup-blocked");try{b.focus()}catch{}return new Xw(b)}function ik(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk="__/auth/handler",ak="emulator/auth/handler",ok=encodeURIComponent("fac");async function Ww(n,e,t,r,s,o){Oe(n.config.authDomain,n,"auth-domain-config-required"),Oe(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:mo,eventId:s};if(e instanceof a1){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",VO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,b]of Object.entries({}))u[m]=b}if(e instanceof Yc){const m=e.getScopes().filter(b=>b!=="");m.length>0&&(u.scopes=m.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const m of Object.keys(d))d[m]===void 0&&delete d[m];const f=await n._getAppCheckToken(),h=f?`#${ok}=${encodeURIComponent(f)}`:"";return`${lk(n)}?${qc(d).slice(1)}${h}`}function lk({config:n}){return n.emulator?Iy(n,ak):`https://${n.authDomain}/${sk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="webStorageSupport";class uk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h1,this._completeRedirectFn=DP,this._overrideRedirectResult=NP}async _openPopup(e,t,r,s){var o;hs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await Ww(e,t,r,Av(),s);return rk(e,u,Vy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Ww(e,t,r,Av(),s);return fP(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(hs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await WP(e),r=new kP(e);return t.register("authEvent",s=>(Oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hg,{type:Hg},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Hg];u!==void 0&&t(!!u),$r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return e1()||KT()||Oy()}}const ck=uk;var Zw="@firebase/auth",Jw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hk(n){io(new ua("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;Oe(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t1(n)},h=new wD(r,s,o,f);return MD(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),io(new ua("auth-internal",e=>{const t=ga(e.getProvider("auth").getImmediate());return(r=>new dk(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(Zw,Jw,fk(n)),_i(Zw,Jw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=5*60,mk=MT("authIdTokenMaxAge")||pk;let ex=null;const gk=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>mk)return;const s=t==null?void 0:t.token;ex!==s&&(ex=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function vk(n=Ay()){const e=Zh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=OD(n,{popupRedirectResolver:ck,persistence:[EP,uP,h1]}),r=MT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=gk(o.toString());aP(t,u,()=>u(t.currentUser)),sP(t,d=>u(d))}}const s=IT("auth");return s&&DD(t,`http://${s}`),t}function yk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}xD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Ei("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",yk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hk("Browser");var tx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oa,_1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,O){function M(){}M.prototype=O.prototype,P.D=O.prototype,P.prototype=new M,P.prototype.constructor=P,P.C=function(L,B,F){for(var U=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)U[pe-2]=arguments[pe];return O.prototype[B].apply(L,U)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,O,M){M||(M=0);var L=Array(16);if(typeof O=="string")for(var B=0;16>B;++B)L[B]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(B=0;16>B;++B)L[B]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=P.g[0],M=P.g[1],B=P.g[2];var F=P.g[3],U=O+(F^M&(B^F))+L[0]+3614090360&4294967295;O=M+(U<<7&4294967295|U>>>25),U=F+(B^O&(M^B))+L[1]+3905402710&4294967295,F=O+(U<<12&4294967295|U>>>20),U=B+(M^F&(O^M))+L[2]+606105819&4294967295,B=F+(U<<17&4294967295|U>>>15),U=M+(O^B&(F^O))+L[3]+3250441966&4294967295,M=B+(U<<22&4294967295|U>>>10),U=O+(F^M&(B^F))+L[4]+4118548399&4294967295,O=M+(U<<7&4294967295|U>>>25),U=F+(B^O&(M^B))+L[5]+1200080426&4294967295,F=O+(U<<12&4294967295|U>>>20),U=B+(M^F&(O^M))+L[6]+2821735955&4294967295,B=F+(U<<17&4294967295|U>>>15),U=M+(O^B&(F^O))+L[7]+4249261313&4294967295,M=B+(U<<22&4294967295|U>>>10),U=O+(F^M&(B^F))+L[8]+1770035416&4294967295,O=M+(U<<7&4294967295|U>>>25),U=F+(B^O&(M^B))+L[9]+2336552879&4294967295,F=O+(U<<12&4294967295|U>>>20),U=B+(M^F&(O^M))+L[10]+4294925233&4294967295,B=F+(U<<17&4294967295|U>>>15),U=M+(O^B&(F^O))+L[11]+2304563134&4294967295,M=B+(U<<22&4294967295|U>>>10),U=O+(F^M&(B^F))+L[12]+1804603682&4294967295,O=M+(U<<7&4294967295|U>>>25),U=F+(B^O&(M^B))+L[13]+4254626195&4294967295,F=O+(U<<12&4294967295|U>>>20),U=B+(M^F&(O^M))+L[14]+2792965006&4294967295,B=F+(U<<17&4294967295|U>>>15),U=M+(O^B&(F^O))+L[15]+1236535329&4294967295,M=B+(U<<22&4294967295|U>>>10),U=O+(B^F&(M^B))+L[1]+4129170786&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^B&(O^M))+L[6]+3225465664&4294967295,F=O+(U<<9&4294967295|U>>>23),U=B+(O^M&(F^O))+L[11]+643717713&4294967295,B=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(B^F))+L[0]+3921069994&4294967295,M=B+(U<<20&4294967295|U>>>12),U=O+(B^F&(M^B))+L[5]+3593408605&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^B&(O^M))+L[10]+38016083&4294967295,F=O+(U<<9&4294967295|U>>>23),U=B+(O^M&(F^O))+L[15]+3634488961&4294967295,B=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(B^F))+L[4]+3889429448&4294967295,M=B+(U<<20&4294967295|U>>>12),U=O+(B^F&(M^B))+L[9]+568446438&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^B&(O^M))+L[14]+3275163606&4294967295,F=O+(U<<9&4294967295|U>>>23),U=B+(O^M&(F^O))+L[3]+4107603335&4294967295,B=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(B^F))+L[8]+1163531501&4294967295,M=B+(U<<20&4294967295|U>>>12),U=O+(B^F&(M^B))+L[13]+2850285829&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^B&(O^M))+L[2]+4243563512&4294967295,F=O+(U<<9&4294967295|U>>>23),U=B+(O^M&(F^O))+L[7]+1735328473&4294967295,B=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(B^F))+L[12]+2368359562&4294967295,M=B+(U<<20&4294967295|U>>>12),U=O+(M^B^F)+L[5]+4294588738&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^B)+L[8]+2272392833&4294967295,F=O+(U<<11&4294967295|U>>>21),U=B+(F^O^M)+L[11]+1839030562&4294967295,B=F+(U<<16&4294967295|U>>>16),U=M+(B^F^O)+L[14]+4259657740&4294967295,M=B+(U<<23&4294967295|U>>>9),U=O+(M^B^F)+L[1]+2763975236&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^B)+L[4]+1272893353&4294967295,F=O+(U<<11&4294967295|U>>>21),U=B+(F^O^M)+L[7]+4139469664&4294967295,B=F+(U<<16&4294967295|U>>>16),U=M+(B^F^O)+L[10]+3200236656&4294967295,M=B+(U<<23&4294967295|U>>>9),U=O+(M^B^F)+L[13]+681279174&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^B)+L[0]+3936430074&4294967295,F=O+(U<<11&4294967295|U>>>21),U=B+(F^O^M)+L[3]+3572445317&4294967295,B=F+(U<<16&4294967295|U>>>16),U=M+(B^F^O)+L[6]+76029189&4294967295,M=B+(U<<23&4294967295|U>>>9),U=O+(M^B^F)+L[9]+3654602809&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^B)+L[12]+3873151461&4294967295,F=O+(U<<11&4294967295|U>>>21),U=B+(F^O^M)+L[15]+530742520&4294967295,B=F+(U<<16&4294967295|U>>>16),U=M+(B^F^O)+L[2]+3299628645&4294967295,M=B+(U<<23&4294967295|U>>>9),U=O+(B^(M|~F))+L[0]+4096336452&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~B))+L[7]+1126891415&4294967295,F=O+(U<<10&4294967295|U>>>22),U=B+(O^(F|~M))+L[14]+2878612391&4294967295,B=F+(U<<15&4294967295|U>>>17),U=M+(F^(B|~O))+L[5]+4237533241&4294967295,M=B+(U<<21&4294967295|U>>>11),U=O+(B^(M|~F))+L[12]+1700485571&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~B))+L[3]+2399980690&4294967295,F=O+(U<<10&4294967295|U>>>22),U=B+(O^(F|~M))+L[10]+4293915773&4294967295,B=F+(U<<15&4294967295|U>>>17),U=M+(F^(B|~O))+L[1]+2240044497&4294967295,M=B+(U<<21&4294967295|U>>>11),U=O+(B^(M|~F))+L[8]+1873313359&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~B))+L[15]+4264355552&4294967295,F=O+(U<<10&4294967295|U>>>22),U=B+(O^(F|~M))+L[6]+2734768916&4294967295,B=F+(U<<15&4294967295|U>>>17),U=M+(F^(B|~O))+L[13]+1309151649&4294967295,M=B+(U<<21&4294967295|U>>>11),U=O+(B^(M|~F))+L[4]+4149444226&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~B))+L[11]+3174756917&4294967295,F=O+(U<<10&4294967295|U>>>22),U=B+(O^(F|~M))+L[2]+718787259&4294967295,B=F+(U<<15&4294967295|U>>>17),U=M+(F^(B|~O))+L[9]+3951481745&4294967295,P.g[0]=P.g[0]+O&4294967295,P.g[1]=P.g[1]+(B+(U<<21&4294967295|U>>>11))&4294967295,P.g[2]=P.g[2]+B&4294967295,P.g[3]=P.g[3]+F&4294967295}r.prototype.u=function(P,O){O===void 0&&(O=P.length);for(var M=O-this.blockSize,L=this.B,B=this.h,F=0;F<O;){if(B==0)for(;F<=M;)s(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<O;)if(L[B++]=P.charCodeAt(F++),B==this.blockSize){s(this,L),B=0;break}}else for(;F<O;)if(L[B++]=P[F++],B==this.blockSize){s(this,L),B=0;break}}this.h=B,this.o+=O},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var O=1;O<P.length-8;++O)P[O]=0;var M=8*this.o;for(O=P.length-8;O<P.length;++O)P[O]=M&255,M/=256;for(this.u(P),P=Array(16),O=M=0;4>O;++O)for(var L=0;32>L;L+=8)P[M++]=this.g[O]>>>L&255;return P};function o(P,O){var M=d;return Object.prototype.hasOwnProperty.call(M,P)?M[P]:M[P]=O(P)}function u(P,O){this.h=O;for(var M=[],L=!0,B=P.length-1;0<=B;B--){var F=P[B]|0;L&&F==O||(M[B]=F,L=!1)}this.g=M}var d={};function f(P){return-128<=P&&128>P?o(P,function(O){return new u([O|0],0>O?-1:0)}):new u([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return I(h(-P));for(var O=[],M=1,L=0;P>=M;L++)O[L]=P/M|0,M*=4294967296;return new u(O,0)}function m(P,O){if(P.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(P.charAt(0)=="-")return I(m(P.substring(1),O));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(O,8)),L=b,B=0;B<P.length;B+=8){var F=Math.min(8,P.length-B),U=parseInt(P.substring(B,B+F),O);8>F?(F=h(Math.pow(O,F)),L=L.j(F).add(h(U))):(L=L.j(M),L=L.add(h(U)))}return L}var b=f(0),_=f(1),x=f(16777216);n=u.prototype,n.m=function(){if(C(this))return-I(this).m();for(var P=0,O=1,M=0;M<this.g.length;M++){var L=this.i(M);P+=(0<=L?L:4294967296+L)*O,O*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(C(this))return"-"+I(this).toString(P);for(var O=h(Math.pow(P,6)),M=this,L="";;){var B=z(M,O).g;M=T(M,B.j(O));var F=((0<M.g.length?M.g[0]:M.h)>>>0).toString(P);if(M=B,w(M))return F+L;for(;6>F.length;)F="0"+F;L=F+L}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(var O=0;O<P.g.length;O++)if(P.g[O]!=0)return!1;return!0}function C(P){return P.h==-1}n.l=function(P){return P=T(this,P),C(P)?-1:w(P)?0:1};function I(P){for(var O=P.g.length,M=[],L=0;L<O;L++)M[L]=~P.g[L];return new u(M,~P.h).add(_)}n.abs=function(){return C(this)?I(this):this},n.add=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],L=0,B=0;B<=O;B++){var F=L+(this.i(B)&65535)+(P.i(B)&65535),U=(F>>>16)+(this.i(B)>>>16)+(P.i(B)>>>16);L=U>>>16,F&=65535,U&=65535,M[B]=U<<16|F}return new u(M,M[M.length-1]&-2147483648?-1:0)};function T(P,O){return P.add(I(O))}n.j=function(P){if(w(this)||w(P))return b;if(C(this))return C(P)?I(this).j(I(P)):I(I(this).j(P));if(C(P))return I(this.j(I(P)));if(0>this.l(x)&&0>P.l(x))return h(this.m()*P.m());for(var O=this.g.length+P.g.length,M=[],L=0;L<2*O;L++)M[L]=0;for(L=0;L<this.g.length;L++)for(var B=0;B<P.g.length;B++){var F=this.i(L)>>>16,U=this.i(L)&65535,pe=P.i(B)>>>16,ge=P.i(B)&65535;M[2*L+2*B]+=U*ge,S(M,2*L+2*B),M[2*L+2*B+1]+=F*ge,S(M,2*L+2*B+1),M[2*L+2*B+1]+=U*pe,S(M,2*L+2*B+1),M[2*L+2*B+2]+=F*pe,S(M,2*L+2*B+2)}for(L=0;L<O;L++)M[L]=M[2*L+1]<<16|M[2*L];for(L=O;L<2*O;L++)M[L]=0;return new u(M,0)};function S(P,O){for(;(P[O]&65535)!=P[O];)P[O+1]+=P[O]>>>16,P[O]&=65535,O++}function N(P,O){this.g=P,this.h=O}function z(P,O){if(w(O))throw Error("division by zero");if(w(P))return new N(b,b);if(C(P))return O=z(I(P),O),new N(I(O.g),I(O.h));if(C(O))return O=z(P,I(O)),new N(I(O.g),O.h);if(30<P.g.length){if(C(P)||C(O))throw Error("slowDivide_ only works with positive integers.");for(var M=_,L=O;0>=L.l(P);)M=V(M),L=V(L);var B=K(M,1),F=K(L,1);for(L=K(L,2),M=K(M,2);!w(L);){var U=F.add(L);0>=U.l(P)&&(B=B.add(M),F=U),L=K(L,1),M=K(M,1)}return O=T(P,B.j(O)),new N(B,O)}for(B=b;0<=P.l(O);){for(M=Math.max(1,Math.floor(P.m()/O.m())),L=Math.ceil(Math.log(M)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),F=h(M),U=F.j(O);C(U)||0<U.l(P);)M-=L,F=h(M),U=F.j(O);w(F)&&(F=_),B=B.add(F),P=T(P,U)}return new N(B,P)}n.A=function(P){return z(this,P).h},n.and=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],L=0;L<O;L++)M[L]=this.i(L)&P.i(L);return new u(M,this.h&P.h)},n.or=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],L=0;L<O;L++)M[L]=this.i(L)|P.i(L);return new u(M,this.h|P.h)},n.xor=function(P){for(var O=Math.max(this.g.length,P.g.length),M=[],L=0;L<O;L++)M[L]=this.i(L)^P.i(L);return new u(M,this.h^P.h)};function V(P){for(var O=P.g.length+1,M=[],L=0;L<O;L++)M[L]=P.i(L)<<1|P.i(L-1)>>>31;return new u(M,P.h)}function K(P,O){var M=O>>5;O%=32;for(var L=P.g.length-M,B=[],F=0;F<L;F++)B[F]=0<O?P.i(F+M)>>>O|P.i(F+M+1)<<32-O:P.i(F+M);return new u(B,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=m,oa=u}).apply(typeof tx<"u"?tx:typeof self<"u"?self:typeof window<"u"?window:{});var Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var E1,uc,w1,Xf,Iv,x1,S1,T1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,A){return p==Array.prototype||p==Object.prototype||(p[E]=A.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nf=="object"&&Nf];for(var E=0;E<p.length;++E){var A=p[E];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function s(p,E){if(E)e:{var A=r;p=p.split(".");for(var j=0;j<p.length-1;j++){var X=p[j];if(!(X in A))break e;A=A[X]}p=p[p.length-1],j=A[p],E=E(j),E!=j&&E!=null&&e(A,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var A=0,j=!1,X={next:function(){if(!j&&A<p.length){var re=A++;return{value:E(re,p[re]),done:!1}}return j=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(p){return p||function(){return o(this,function(E,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function h(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function m(p,E,A){return p.call.apply(p.bind,arguments)}function b(p,E,A){if(!p)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,j),p.apply(E,X)}}return function(){return p.apply(E,arguments)}}function _(p,E,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:b,_.apply(null,arguments)}function x(p,E){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),p.apply(this,j)}}function w(p,E){function A(){}A.prototype=E.prototype,p.aa=E.prototype,p.prototype=new A,p.prototype.constructor=p,p.Qb=function(j,X,re){for(var ye=Array(arguments.length-2),et=2;et<arguments.length;et++)ye[et-2]=arguments[et];return E.prototype[X].apply(j,ye)}}function C(p){const E=p.length;if(0<E){const A=Array(E);for(let j=0;j<E;j++)A[j]=p[j];return A}return[]}function I(p,E){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(f(j)){const X=p.length||0,re=j.length||0;p.length=X+re;for(let ye=0;ye<re;ye++)p[X+ye]=j[ye]}else p.push(j)}}class T{constructor(E,A){this.i=E,this.j=A,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function S(p){return/^[\s\xa0]*$/.test(p)}function N(){var p=d.navigator;return p&&(p=p.userAgent)?p:""}function z(p){return z[" "](p),p}z[" "]=function(){};var V=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function K(p,E,A){for(const j in p)E.call(A,p[j],j,p)}function P(p,E){for(const A in p)E.call(void 0,p[A],A,p)}function O(p){const E={};for(const A in p)E[A]=p[A];return E}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(p,E){let A,j;for(let X=1;X<arguments.length;X++){j=arguments[X];for(A in j)p[A]=j[A];for(let re=0;re<M.length;re++)A=M[re],Object.prototype.hasOwnProperty.call(j,A)&&(p[A]=j[A])}}function B(p){var E=1;p=p.split(":");const A=[];for(;0<E&&p.length;)A.push(p.shift()),E--;return p.length&&A.push(p.join(":")),A}function F(p){d.setTimeout(()=>{throw p},0)}function U(){var p=ie;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class pe{constructor(){this.h=this.g=null}add(E,A){const j=ge.get();j.set(E,A),this.h?this.h.next=j:this.g=j,this.h=j}}var ge=new T(()=>new G,p=>p.reset());class G{constructor(){this.next=this.g=this.h=null}set(E,A){this.h=E,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,me=!1,ie=new pe,H=()=>{const p=d.Promise.resolve(void 0);oe=()=>{p.then(ne)}};var ne=()=>{for(var p;p=U();){try{p.h.call(p.g)}catch(A){F(A)}var E=ge;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}me=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var xe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const A=()=>{};d.addEventListener("test",A,E),d.removeEventListener("test",A,E)}catch{}return p}();function De(p,E){if(ue.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var A=this.type=p.type,j=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(V){e:{try{z(E.nodeName);var X=!0;break e}catch{}X=!1}X||(E=null)}}else A=="mouseover"?E=p.fromElement:A=="mouseout"&&(E=p.toElement);this.relatedTarget=E,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ae[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&De.aa.h.call(this)}}w(De,ue);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),qe=0;function bt(p,E,A,j,X){this.listener=p,this.proxy=null,this.src=E,this.type=A,this.capture=!!j,this.ha=X,this.key=++qe,this.da=this.fa=!1}function Bn(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Fn(p){this.src=p,this.g={},this.h=0}Fn.prototype.add=function(p,E,A,j,X){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var ye=Dr(p,E,j,X);return-1<ye?(E=p[ye],A||(E.fa=!1)):(E=new bt(E,this.src,re,!!j,X),E.fa=A,p.push(E)),E};function Xn(p,E){var A=E.type;if(A in p.g){var j=p.g[A],X=Array.prototype.indexOf.call(j,E,void 0),re;(re=0<=X)&&Array.prototype.splice.call(j,X,1),re&&(Bn(E),p.g[A].length==0&&(delete p.g[A],p.h--))}}function Dr(p,E,A,j){for(var X=0;X<p.length;++X){var re=p[X];if(!re.da&&re.listener==E&&re.capture==!!A&&re.ha==j)return X}return-1}var Wn="closure_lm_"+(1e6*Math.random()|0),Wr={};function bo(p,E,A,j,X){if(Array.isArray(E)){for(var re=0;re<E.length;re++)bo(p,E[re],A,j,X);return null}return A=ve(A),p&&p[it]?p.K(E,A,h(j)?!!j.capture:!1,X):zn(p,E,A,!1,j,X)}function zn(p,E,A,j,X,re){if(!E)throw Error("Invalid event type");var ye=h(X)?!!X.capture:!!X,et=Ee(p);if(et||(p[Wn]=et=new Fn(p)),A=et.add(E,A,j,ye,re),A.proxy)return A;if(j=sd(),A.proxy=j,j.src=p,j.listener=A,p.addEventListener)xe||(X=ye),X===void 0&&(X=!1),p.addEventListener(E.toString(),j,X);else if(p.attachEvent)p.attachEvent(J(E.toString()),j);else if(p.addListener&&p.removeListener)p.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function sd(){function p(A){return E.call(p.src,p.listener,A)}const E=se;return p}function _s(p,E,A,j,X){if(Array.isArray(E))for(var re=0;re<E.length;re++)_s(p,E[re],A,j,X);else j=h(j)?!!j.capture:!!j,A=ve(A),p&&p[it]?(p=p.i,E=String(E).toString(),E in p.g&&(re=p.g[E],A=Dr(re,A,j,X),-1<A&&(Bn(re[A]),Array.prototype.splice.call(re,A,1),re.length==0&&(delete p.g[E],p.h--)))):p&&(p=Ee(p))&&(E=p.g[E.toString()],p=-1,E&&(p=Dr(E,A,j,X)),(A=-1<p?E[p]:null)&&$(A))}function $(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[it])Xn(E.i,p);else{var A=p.type,j=p.proxy;E.removeEventListener?E.removeEventListener(A,j,p.capture):E.detachEvent?E.detachEvent(J(A),j):E.addListener&&E.removeListener&&E.removeListener(j),(A=Ee(E))?(Xn(A,p),A.h==0&&(A.src=null,E[Wn]=null)):Bn(p)}}}function J(p){return p in Wr?Wr[p]:Wr[p]="on"+p}function se(p,E){if(p.da)p=!0;else{E=new De(E,this);var A=p.listener,j=p.ha||p.src;p.fa&&$(p),p=A.call(j,E)}return p}function Ee(p){return p=p[Wn],p instanceof Fn?p:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function ve(p){return typeof p=="function"?p:(p[be]||(p[be]=function(E){return p.handleEvent(E)}),p[be])}function _e(){le.call(this),this.i=new Fn(this),this.M=this,this.F=null}w(_e,le),_e.prototype[it]=!0,_e.prototype.removeEventListener=function(p,E,A,j){_s(this,p,E,A,j)};function Re(p,E){var A,j=p.F;if(j)for(A=[];j;j=j.F)A.push(j);if(p=p.M,j=E.type||E,typeof E=="string")E=new ue(E,p);else if(E instanceof ue)E.target=E.target||p;else{var X=E;E=new ue(j,p),L(E,X)}if(X=!0,A)for(var re=A.length-1;0<=re;re--){var ye=E.g=A[re];X=Ge(ye,j,!0,E)&&X}if(ye=E.g=p,X=Ge(ye,j,!0,E)&&X,X=Ge(ye,j,!1,E)&&X,A)for(re=0;re<A.length;re++)ye=E.g=A[re],X=Ge(ye,j,!1,E)&&X}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var A=p.g[E],j=0;j<A.length;j++)Bn(A[j]);delete p.g[E],p.h--}}this.F=null},_e.prototype.K=function(p,E,A,j){return this.i.add(String(p),E,!1,A,j)},_e.prototype.L=function(p,E,A,j){return this.i.add(String(p),E,!0,A,j)};function Ge(p,E,A,j){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var X=!0,re=0;re<E.length;++re){var ye=E[re];if(ye&&!ye.da&&ye.capture==A){var et=ye.listener,Zt=ye.ha||ye.src;ye.fa&&Xn(p.i,ye),X=et.call(Zt,j)!==!1&&X}}return X&&!j.defaultPrevented}function ft(p,E,A){if(typeof p=="function")A&&(p=_(p,A));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:d.setTimeout(p,E||0)}function Ri(p){p.g=ft(()=>{p.g=null,p.i&&(p.i=!1,Ri(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class mr extends le{constructor(E,A){super(),this.m=E,this.l=A,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ri(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ii(p){le.call(this),this.h=p,this.g={}}w(Ii,le);var Pr=[];function kr(p){K(p.g,function(E,A){this.g.hasOwnProperty(A)&&$(E)},p),p.g={}}Ii.prototype.N=function(){Ii.aa.N.call(this),kr(this)},Ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=d.JSON.stringify,Ni=d.JSON.parse,Oi=class{stringify(p){return d.JSON.stringify(p,void 0)}parse(p){return d.JSON.parse(p,void 0)}};function Es(){}Es.prototype.h=null;function Yl(p){return p.h||(p.h=p.i())}function Kl(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){ue.call(this,"d")}w(Di,ue);function Ql(){ue.call(this,"c")}w(Ql,ue);var Zr={},Xl=null;function ws(){return Xl=Xl||new _e}Zr.La="serverreachability";function _o(p){ue.call(this,Zr.La,p)}w(_o,ue);function xs(p){const E=ws();Re(E,new _o(E))}Zr.STAT_EVENT="statevent";function ad(p,E){ue.call(this,Zr.STAT_EVENT,p),this.stat=E}w(ad,ue);function At(p){const E=ws();Re(E,new ad(E,p))}Zr.Ma="timingevent";function Wt(p,E){ue.call(this,Zr.Ma,p),this.size=E}w(Wt,ue);function zt(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){p()},E)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function Wl(p,E,A,j,X,re){p.info(function(){if(p.g)if(re)for(var ye="",et=re.split("&"),Zt=0;Zt<et.length;Zt++){var tt=et[Zt].split("=");if(1<tt.length){var on=tt[0];tt=tt[1];var Jt=on.split("_");ye=2<=Jt.length&&Jt[1]=="type"?ye+(on+"="+tt+"&"):ye+(on+"=redacted&")}}else ye=null;else ye=re;return"XMLHTTP REQ ("+j+") [attempt "+X+"]: "+E+`
`+A+`
`+ye})}function Mp(p,E,A,j,X,re,ye){p.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+X+"]: "+E+`
`+A+`
`+re+" "+ye})}function Ss(p,E,A,j){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+Ea(p,A)+(j?" "+j:"")})}function od(p,E){p.info(function(){return"TIMEOUT: "+E})}gr.prototype.info=function(){};function Ea(p,E){if(!p.g)return E;if(!E)return null;try{var A=JSON.parse(E);if(A){for(p=0;p<A.length;p++)if(Array.isArray(A[p])){var j=A[p];if(!(2>j.length)){var X=j[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ye=1;ye<X.length;ye++)X[ye]=""}}}}return Zn(A)}catch{return E}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jr;function ei(){}w(ei,Es),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},Jr=new ei;function On(p,E,A,j){this.j=p,this.i=E,this.l=A,this.R=j||1,this.U=new Ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vt}function Vt(){this.i=null,this.g="",this.h=!1}var Zl={},Eo={};function Vr(p,E,A){p.L=1,p.v=Aa(Jn(E)),p.m=A,p.P=!0,ki(p,null)}function ki(p,E){p.F=Date.now(),wa(p),p.A=Jn(p.v);var A=p.A,j=p.R;Array.isArray(j)||(j=[String(j)]),iu(A.i,"t",j),p.C=0,A=p.j.J,p.h=new Vt,p.g=xd(p.j,A?E:null,!p.m),0<p.O&&(p.M=new mr(_(p.Y,p,p.g),p.O)),E=p.U,A=p.g,j=p.ca;var X="readystatechange";Array.isArray(X)||(X&&(Pr[0]=X.toString()),X=Pr);for(var re=0;re<X.length;re++){var ye=bo(A,X[re],j||E.handleEvent,!1,E.h||E);if(!ye)break;E.g[ye.key]=ye}E=p.H?O(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),xs(),Wl(p.i,p.u,p.A,p.l,p.R,p.m)}On.prototype.ca=function(p){p=p.target;const E=this.M;E&&_r(p)==3?E.j():this.Y(p)},On.prototype.Y=function(p){try{if(p==this.g)e:{const Jt=_r(this.g);var E=this.g.Ba();const Hi=this.g.Z();if(!(3>Jt)&&(Jt!=3||this.g&&(this.h.h||this.g.oa()||md(this.g)))){this.J||Jt!=4||E==7||(E==8||0>=Hi?xs(3):xs(2)),As(this);var A=this.g.Z();this.X=A;t:if(ld(this)){var j=md(this.g);p="";var X=j.length,re=_r(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),ti(this);var ye="";break t}this.h.i=new d.TextDecoder}for(E=0;E<X;E++)this.h.h=!0,p+=this.h.i.decode(j[E],{stream:!(re&&E==X-1)});j.length=0,this.h.g+=p,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=A==200,Mp(this.i,this.u,this.A,this.l,this.R,Jt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Zt=this.g;if((et=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(et)){var tt=et;break t}}tt=null}if(A=tt)Ss(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xa(this,A);else{this.o=!1,this.s=3,At(12),pn(this),ti(this);break e}}if(this.P){A=!0;let mn;for(;!this.J&&this.C<ye.length;)if(mn=ud(this,ye),mn==Eo){Jt==4&&(this.s=4,At(14),A=!1),Ss(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Zl){this.s=4,At(15),Ss(this.i,this.l,ye,"[Invalid Chunk]"),A=!1;break}else Ss(this.i,this.l,mn,null),xa(this,mn);if(ld(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||ye.length!=0||this.h.h||(this.s=1,At(16),A=!1),this.o=this.o&&A,!A)Ss(this.i,this.l,ye,"[Invalid Chunked Response]"),pn(this),ti(this);else if(0<ye.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Pa(on),on.M=!0,At(11))}}else Ss(this.i,this.l,ye,null),xa(this,ye);Jt==4&&pn(this),this.o&&!this.J&&(Jt==4?_d(this.j,this):(this.o=!1,wa(this)))}else Lp(this.g),A==400&&0<ye.indexOf("Unknown SID")?(this.s=3,At(12)):(this.s=0,At(13)),pn(this),ti(this)}}}catch{}finally{}};function ld(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function ud(p,E){var A=p.C,j=E.indexOf(`
`,A);return j==-1?Eo:(A=Number(E.substring(A,j)),isNaN(A)?Zl:(j+=1,j+A>E.length?Eo:(E=E.slice(j,j+A),p.C=j+A,E)))}On.prototype.cancel=function(){this.J=!0,pn(this)};function wa(p){p.S=Date.now()+p.I,cd(p,p.I)}function cd(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=zt(_(p.ba,p),E)}function As(p){p.B&&(d.clearTimeout(p.B),p.B=null)}On.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(od(this.i,this.A),this.L!=2&&(xs(),At(17)),pn(this),this.s=2,ti(this)):cd(this,this.S-p)};function ti(p){p.j.G==0||p.J||_d(p.j,p)}function pn(p){As(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,kr(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function xa(p,E){try{var A=p.j;if(A.G!=0&&(A.g==p||Jl(A.h,p))){if(!p.K&&Jl(A.h,p)&&A.G==3){try{var j=A.Da.g.parse(E)}catch{j=null}if(Array.isArray(j)&&j.length==3){var X=j;if(X[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<p.F)Do(A),Oo(A);else break e;uu(A),At(18)}}else A.za=X[1],0<A.za-A.T&&37500>X[2]&&A.F&&A.v==0&&!A.C&&(A.C=zt(_(A.Za,A),6e3));if(1>=xo(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else zi(A,11)}else if((p.K||A.g==p)&&Do(A),!S(E))for(X=A.Da.g.parse(E),E=0;E<X.length;E++){let tt=X[E];if(A.T=tt[0],tt=tt[1],A.G==2)if(tt[0]=="c"){A.K=tt[1],A.ia=tt[2];const on=tt[3];on!=null&&(A.la=on,A.j.info("VER="+A.la));const Jt=tt[4];Jt!=null&&(A.Aa=Jt,A.j.info("SVER="+A.Aa));const Hi=tt[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(j=1.5*Hi,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const mn=p.g;if(mn){const li=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var re=j.h;re.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(So(re,re.h),re.h=null))}if(j.D){const du=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;du&&(j.ya=du,mt(j.I,j.D,du))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-p.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var ye=p;if(j.qa=wd(j,j.J?j.ia:null,j.W),ye.K){Mn(j.h,ye);var et=ye,Zt=j.L;Zt&&(et.I=Zt),et.B&&(As(et),wa(et)),j.g=ye}else yd(j);0<A.i.length&&Mo(A)}else tt[0]!="stop"&&tt[0]!="close"||zi(A,7);else A.G==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?zi(A,7):ou(A):tt[0]!="noop"&&A.l&&A.l.ta(tt),A.v=0)}}xs(4)}catch{}}var dd=class{constructor(p,E){this.g=p,this.map=E}};function Vi(p){this.l=p||10,d.PerformanceNavigationTiming?(p=d.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wo(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function xo(p){return p.h?1:p.g?p.g.size:0}function Jl(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function So(p,E){p.g?p.g.add(E):p.h=E}function Mn(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Vi.prototype.cancel=function(){if(this.i=eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function eu(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const A of p.g.values())E=E.concat(A.D);return E}return C(p.i)}function Dp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(f(p)){for(var E=[],A=p.length,j=0;j<A;j++)E.push(p[j]);return E}E=[],A=0;for(j in p)E[A++]=p[j];return E}function To(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(f(p)||typeof p=="string"){var E=[];p=p.length;for(var A=0;A<p;A++)E.push(A);return E}E=[],A=0;for(const j in p)E[A++]=j;return E}}}function tu(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(f(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var A=To(p),j=Dp(p),X=j.length,re=0;re<X;re++)E.call(void 0,j[re],A&&A[re],p)}var Sa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pp(p,E){if(p){p=p.split("&");for(var A=0;A<p.length;A++){var j=p[A].indexOf("="),X=null;if(0<=j){var re=p[A].substring(0,j);X=p[A].substring(j+1)}else re=p[A];E(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Ht(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Ht){this.h=p.h,Ta(this,p.j),this.o=p.o,this.g=p.g,Cs(this,p.s),this.l=p.l;var E=p.i,A=new ji;A.i=E.i,E.g&&(A.g=new Map(E.g),A.h=E.h),Li(this,A),this.m=p.m}else p&&(E=String(p).match(Sa))?(this.h=!1,Ta(this,E[1]||"",!0),this.o=vr(E[2]||""),this.g=vr(E[3]||"",!0),Cs(this,E[4]),this.l=vr(E[5]||"",!0),Li(this,E[6]||"",!0),this.m=vr(E[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}Ht.prototype.toString=function(){var p=[],E=this.j;E&&p.push(Ca(E,nu,!0),":");var A=this.g;return(A||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Ca(E,nu,!0),"@"),p.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&p.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&p.push("/"),p.push(Ca(A,A.charAt(0)=="/"?kp:ru,!0))),(A=this.i.toString())&&p.push("?",A),(A=this.m)&&p.push("#",Ca(A,Ao)),p.join("")};function Jn(p){return new Ht(p)}function Ta(p,E,A){p.j=A?vr(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function Cs(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function Li(p,E,A){E instanceof ji?(p.i=E,hd(p.i,p.h)):(A||(E=Ca(E,Vp)),p.i=new ji(E,p.h))}function mt(p,E,A){p.i.set(E,A)}function Aa(p){return mt(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function vr(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ca(p,E,A){return typeof p=="string"?(p=encodeURI(p).replace(E,fd),A&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function fd(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var nu=/[#\/\?@]/g,ru=/[#\?:]/g,kp=/[#\?]/g,Vp=/[#\?@]/g,Ao=/#/g;function ji(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function yr(p){p.g||(p.g=new Map,p.h=0,p.i&&Pp(p.i,function(E,A){p.add(decodeURIComponent(E.replace(/\+/g," ")),A)}))}n=ji.prototype,n.add=function(p,E){yr(this),this.i=null,p=ni(this,p);var A=this.g.get(p);return A||this.g.set(p,A=[]),A.push(E),this.h+=1,this};function Ui(p,E){yr(p),E=ni(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function Bi(p,E){return yr(p),E=ni(p,E),p.g.has(E)}n.forEach=function(p,E){yr(this),this.g.forEach(function(A,j){A.forEach(function(X){p.call(E,X,j,this)},this)},this)},n.na=function(){yr(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),A=[];for(let j=0;j<E.length;j++){const X=p[j];for(let re=0;re<X.length;re++)A.push(E[j])}return A},n.V=function(p){yr(this);let E=[];if(typeof p=="string")Bi(this,p)&&(E=E.concat(this.g.get(ni(this,p))));else{p=Array.from(this.g.values());for(let A=0;A<p.length;A++)E=E.concat(p[A])}return E},n.set=function(p,E){return yr(this),this.i=null,p=ni(this,p),Bi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function iu(p,E,A){Ui(p,E),0<A.length&&(p.i=null,p.g.set(ni(p,E),C(A)),p.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var A=0;A<E.length;A++){var j=E[A];const re=encodeURIComponent(String(j)),ye=this.V(j);for(j=0;j<ye.length;j++){var X=re;ye[j]!==""&&(X+="="+encodeURIComponent(String(ye[j]))),p.push(X)}}return this.i=p.join("&")};function ni(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function hd(p,E){E&&!p.j&&(yr(p),p.i=null,p.g.forEach(function(A,j){var X=j.toLowerCase();j!=X&&(Ui(this,j),iu(this,X,A))},p)),p.j=E}function Ra(p,E){const A=new gr;if(d.Image){const j=new Image;j.onload=x(br,A,"TestLoadImage: loaded",!0,E,j),j.onerror=x(br,A,"TestLoadImage: error",!1,E,j),j.onabort=x(br,A,"TestLoadImage: abort",!1,E,j),j.ontimeout=x(br,A,"TestLoadImage: timeout",!1,E,j),d.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=p}else E(!1)}function Lr(p,E){const A=new gr,j=new AbortController,X=setTimeout(()=>{j.abort(),br(A,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:j.signal}).then(re=>{clearTimeout(X),re.ok?br(A,"TestPingServer: ok",!0,E):br(A,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(X),br(A,"TestPingServer: error",!1,E)})}function br(p,E,A,j,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),j(A)}catch{}}function Ia(){this.g=new Oi}function ri(p,E,A){const j=A||"";try{tu(p,function(X,re){let ye=X;h(X)&&(ye=Zn(X)),E.push(j+re+"="+encodeURIComponent(ye))})}catch(X){throw E.push(j+"type="+encodeURIComponent("_badmap")),X}}function Rs(p){this.l=p.Ub||null,this.j=p.eb||!1}w(Rs,Es),Rs.prototype.g=function(){return new Fi(this.l,this.j)},Rs.prototype.i=function(p){return function(){return p}}({});function Fi(p,E){_e.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Fi,_e),n=Fi.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,si(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||d).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;su(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function su(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?ii(this):si(this),this.readyState==3&&su(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,ii(this))},n.Qa=function(p){this.g&&(this.response=p,ii(this))},n.ga=function(){this.g&&ii(this)};function ii(p){p.readyState=4,p.l=null,p.j=null,p.v=null,si(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var A=E.next();!A.done;)A=A.value,p.push(A[0]+": "+A[1]),A=E.next();return p.join(`\r
`)};function si(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function au(p){let E="";return K(p,function(A,j){E+=j,E+=":",E+=A,E+=`\r
`}),E}function an(p,E,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=au(A),typeof p=="string"?A!=null&&encodeURIComponent(String(A)):mt(p,E,A))}function ut(p){_e.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ut,_e);var Co=/^https?$/i,Na=["POST","PUT"];n=ut.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jr.g(),this.v=this.o?Yl(this.o):Yl(Jr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){pd(this,re);return}if(p=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var X in j)A.set(X,j[X]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const re of j.keys())A.set(re,j.get(re));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(re=>re.toLowerCase()=="content-type"),X=d.FormData&&p instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Na,E,void 0))||j||X||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ye]of A)this.g.setRequestHeader(re,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Oa(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){pd(this,re)}};function pd(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Ro(p),ai(p)}function Ro(p){p.A||(p.A=!0,Re(p,"complete"),Re(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Re(this,"complete"),Re(this,"abort"),ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Io(this):this.bb())},n.bb=function(){Io(this)};function Io(p){if(p.h&&typeof u<"u"&&(!p.v[1]||_r(p)!=4||p.Z()!=2)){if(p.u&&_r(p)==4)ft(p.Ea,0,p);else if(Re(p,"readystatechange"),_r(p)==4){p.h=!1;try{const ye=p.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var A;if(!(A=E)){var j;if(j=ye===0){var X=String(p.D).match(Sa)[1]||null;!X&&d.self&&d.self.location&&(X=d.self.location.protocol.slice(0,-1)),j=!Co.test(X?X.toLowerCase():"")}A=j}if(A)Re(p,"complete"),Re(p,"success");else{p.m=6;try{var re=2<_r(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",Ro(p)}}finally{ai(p)}}}}function ai(p,E){if(p.g){Oa(p);const A=p.g,j=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||Re(p,"ready");try{A.onreadystatechange=j}catch{}}}function Oa(p){p.I&&(d.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function _r(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<_r(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),Ni(E)}};function md(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Lp(p){const E={};p=(p.g&&2<=_r(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<p.length;j++){if(S(p[j]))continue;var A=B(p[j]);const X=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const re=E[X]||[];E[X]=re,re.push(A)}P(E,function(j){return j.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ma(p,E,A){return A&&A.internalChannelParams&&A.internalChannelParams[p]||E}function No(p){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ma("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ma("baseRetryDelayMs",5e3,p),this.cb=Ma("retryDelaySeedMs",1e4,p),this.Wa=Ma("forwardChannelMaxRetries",2,p),this.wa=Ma("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(p&&p.concurrentRequestLimit),this.Da=new Ia,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=No.prototype,n.la=8,n.G=1,n.connect=function(p,E,A,j){At(0),this.W=p,this.H=E||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=wd(this,null,this.W),Mo(this)};function ou(p){if(gd(p),p.G==3){var E=p.U++,A=Jn(p.I);if(mt(A,"SID",p.K),mt(A,"RID",E),mt(A,"TYPE","terminate"),Da(p,A),E=new On(p,p.j,E),E.L=2,E.v=Aa(Jn(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(E.v.toString(),"")}catch{}!A&&d.Image&&(new Image().src=E.v,A=!0),A||(E.g=xd(E.j,null),E.g.ea(E.v)),E.F=Date.now(),wa(E)}Ed(p)}function Oo(p){p.g&&(Pa(p),p.g.cancel(),p.g=null)}function gd(p){Oo(p),p.u&&(d.clearTimeout(p.u),p.u=null),Do(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&d.clearTimeout(p.s),p.s=null)}function Mo(p){if(!wo(p.h)&&!p.s){p.s=!0;var E=p.Ga;oe||H(),me||(oe(),me=!0),ie.add(E,p),p.B=0}}function jp(p,E){return xo(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=zt(_(p.Ga,p,E),cu(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const X=new On(this,this.j,p);let re=this.o;if(this.S&&(re?(re=O(re),L(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var E=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(E+=j,4096<E){E=A;break e}if(E===4096||A===this.i.length-1){E=A+1;break e}}E=1e3}else E=1e3;E=vd(this,X,E),A=Jn(this.I),mt(A,"RID",p),mt(A,"CVER",22),this.D&&mt(A,"X-HTTP-Session-Id",this.D),Da(this,A),re&&(this.O?E="headers="+encodeURIComponent(String(au(re)))+"&"+E:this.m&&an(A,this.m,re)),So(this.h,X),this.Ua&&mt(A,"TYPE","init"),this.P?(mt(A,"$req",E),mt(A,"SID","null"),X.T=!0,Vr(X,A,null)):Vr(X,A,E),this.G=2}}else this.G==3&&(p?lu(this,p):this.i.length==0||wo(this.h)||lu(this))};function lu(p,E){var A;E?A=E.l:A=p.U++;const j=Jn(p.I);mt(j,"SID",p.K),mt(j,"RID",A),mt(j,"AID",p.T),Da(p,j),p.m&&p.o&&an(j,p.m,p.o),A=new On(p,p.j,A,p.B+1),p.m===null&&(A.H=p.o),E&&(p.i=E.D.concat(p.i)),E=vd(p,A,1e3),A.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),So(p.h,A),Vr(A,j,E)}function Da(p,E){p.H&&K(p.H,function(A,j){mt(E,j,A)}),p.l&&tu({},function(A,j){mt(E,j,A)})}function vd(p,E,A){A=Math.min(p.i.length,A);var j=p.l?_(p.l.Na,p.l,p):null;e:{var X=p.i;let re=-1;for(;;){const ye=["count="+A];re==-1?0<A?(re=X[0].g,ye.push("ofs="+re)):re=0:ye.push("ofs="+re);let et=!0;for(let Zt=0;Zt<A;Zt++){let tt=X[Zt].g;const on=X[Zt].map;if(tt-=re,0>tt)re=Math.max(0,X[Zt].g-100),et=!1;else try{ri(on,ye,"req"+tt+"_")}catch{j&&j(on)}}if(et){j=ye.join("&");break e}}}return p=p.i.splice(0,A),E.D=p,j}function yd(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;oe||H(),me||(oe(),me=!0),ie.add(E,p),p.v=0}}function uu(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=zt(_(p.Fa,p),cu(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,bd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=zt(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,At(10),Oo(this),bd(this))};function Pa(p){p.A!=null&&(d.clearTimeout(p.A),p.A=null)}function bd(p){p.g=new On(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Jn(p.qa);mt(E,"RID","rpc"),mt(E,"SID",p.K),mt(E,"AID",p.T),mt(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&mt(E,"TO",p.ja),mt(E,"TYPE","xmlhttp"),Da(p,E),p.m&&p.o&&an(E,p.m,p.o),p.L&&(p.g.I=p.L);var A=p.g;p=p.ia,A.L=1,A.v=Aa(Jn(E)),A.m=null,A.P=!0,ki(A,p)}n.Za=function(){this.C!=null&&(this.C=null,Oo(this),uu(this),At(19))};function Do(p){p.C!=null&&(d.clearTimeout(p.C),p.C=null)}function _d(p,E){var A=null;if(p.g==E){Do(p),Pa(p),p.g=null;var j=2}else if(Jl(p.h,E))A=E.D,Mn(p.h,E),j=1;else return;if(p.G!=0){if(E.o)if(j==1){A=E.m?E.m.length:0,E=Date.now()-E.F;var X=p.B;j=ws(),Re(j,new Wt(j,A)),Mo(p)}else yd(p);else if(X=E.s,X==3||X==0&&0<E.X||!(j==1&&jp(p,E)||j==2&&uu(p)))switch(A&&0<A.length&&(E=p.h,E.i=E.i.concat(A)),X){case 1:zi(p,5);break;case 4:zi(p,10);break;case 3:zi(p,6);break;default:zi(p,2)}}}function cu(p,E){let A=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(A*=2),A*E}function zi(p,E){if(p.j.info("Error code "+E),E==2){var A=_(p.fb,p),j=p.Xa;const X=!j;j=new Ht(j||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ta(j,"https"),Aa(j),X?Ra(j.toString(),A):Lr(j.toString(),A)}else At(2);p.G=0,p.l&&p.l.sa(E),Ed(p),gd(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function Ed(p){if(p.G=0,p.ka=[],p.l){const E=eu(p.h);(E.length!=0||p.i.length!=0)&&(I(p.ka,E),I(p.ka,p.i),p.h.i.length=0,C(p.i),p.i.length=0),p.l.ra()}}function wd(p,E,A){var j=A instanceof Ht?Jn(A):new Ht(A);if(j.g!="")E&&(j.g=E+"."+j.g),Cs(j,j.s);else{var X=d.location;j=X.protocol,E=E?E+"."+X.hostname:X.hostname,X=+X.port;var re=new Ht(null);j&&Ta(re,j),E&&(re.g=E),X&&Cs(re,X),A&&(re.l=A),j=re}return A=p.D,E=p.ya,A&&E&&mt(j,A,E),mt(j,"VER",p.la),Da(p,j),j}function xd(p,E,A){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new ut(new Rs({eb:A})):new ut(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sd(){}n=Sd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Po(){}Po.prototype.g=function(p,E){return new Dn(p,E)};function Dn(p,E){_e.call(this),this.g=new No(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!S(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!S(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new oi(this)}w(Dn,_e),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){ou(this.g)},Dn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var A={};A.__data__=p,p=A}else this.u&&(A={},A.__data__=Zn(p),p=A);E.i.push(new dd(E.Ya++,p)),E.G==3&&Mo(E)},Dn.prototype.N=function(){this.g.l=null,delete this.j,ou(this.g),delete this.g,Dn.aa.N.call(this)};function Td(p){Di.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const A in E){p=A;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}w(Td,Di);function Ad(){Ql.call(this),this.status=1}w(Ad,Ql);function oi(p){this.g=p}w(oi,Sd),oi.prototype.ua=function(){Re(this.g,"a")},oi.prototype.ta=function(p){Re(this.g,new Td(p))},oi.prototype.sa=function(p){Re(this.g,new Ad)},oi.prototype.ra=function(){Re(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,T1=function(){return new Po},S1=function(){return ws()},x1=Zr,Iv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,Xf=Ts,Pi.COMPLETE="complete",w1=Pi,Kl.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",_e.prototype.listen=_e.prototype.K,uc=Kl,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,E1=ut}).apply(typeof Nf<"u"?Nf:typeof self<"u"?self:typeof window<"u"?window:{});const nx="@firebase/firestore",rx="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=new Sy("@firebase/firestore");function fl(){return oo.logLevel}function Se(n,...e){if(oo.logLevel<=Ze.DEBUG){const t=e.map(jy);oo.debug(`Firestore (${Bl}): ${n}`,...t)}}function ps(n,...e){if(oo.logLevel<=Ze.ERROR){const t=e.map(jy);oo.error(`Firestore (${Bl}): ${n}`,...t)}}function Cl(n,...e){if(oo.logLevel<=Ze.WARN){const t=e.map(jy);oo.warn(`Firestore (${Bl}): ${n}`,...t)}}function jy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,A1(n,r,t)}function A1(n,e,t){let r=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ps(r),new Error(r)}function dt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||A1(e,s,r)}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ci{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rn.UNAUTHENTICATED))}shutdown(){}}class _k{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ek{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){dt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new us;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new us,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{Se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new us)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string",31837,{l:r}),new C1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string",2055,{h:e}),new Rn(e)}}class wk{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xk{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new wk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ix{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Sk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){dt(this.o===void 0,3512);const r=o=>{o.error!=null&&Se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Se("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ix(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(dt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new ix(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Tk(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Ke(n,e){return n<e?-1:n>e?1:0}function Nv(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return Ke(r,s);{const o=R1(),u=Ak(o.encode(sx(n,t)),o.encode(sx(e,t)));return u!==0?u:Ke(r,s)}}t+=r>65535?2:1}return Ke(n.length,e.length)}function sx(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Ak(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ke(n[t],e[t]);return Ke(n.length,e.length)}function Rl(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=-62135596800,ox=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*ox);return new rn(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ax)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ox}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ax;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new rn(0,0))}static max(){return new ze(new rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="__name__";class pi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=pi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Ke(e.length,t.length)}static compareSegments(e,t){const r=pi.isNumericId(e),s=pi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?pi.extractNumericId(e).compare(pi.extractNumericId(t)):Nv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class Tt extends pi{construct(e,t,r){return new Tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const Ck=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wn extends pi{construct(e,t,r){return new wn(e,t,r)}static isValidIdentifier(e){return Ck.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lx}static keyField(){return new wn([lx])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Te(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new Te(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Te(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(o(),s++)}if(o(),u)throw new Te(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wn(t)}static emptyPath(){return new wn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Tt.fromString(e))}static fromName(e){return new Me(Tt.fromString(e).popFirst(5))}static empty(){return new Me(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function Rk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(r===1e9?new rn(t+1,0):new rn(t,r));return new ca(s,Me.empty(),e)}function Ik(n){return new ca(n.readTime,n.key,Rc)}class ca{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ca(ze.min(),Me.empty(),Rc)}static max(){return new ca(ze.max(),Me.empty(),Rc)}}function Nk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:Ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Mk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n){if(n.code!==he.FAILED_PRECONDITION||n.message!==Ok)throw n;Se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let s=0,o=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++o,u&&o===s&&t()},f=>r(f))}),u=!0,o===s&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(s=>s?fe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new fe((r,s)=>{const o=e.length,u=new Array(o);let d=0;for(let f=0;f<o;f++){const h=f;t(e[h]).next(m=>{u[h]=m,++d,d===o&&r(u)},m=>s(m))}})}static doWhile(e,t){return new fe((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function Dk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}rp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-1;function ip(n){return n==null}function yh(n){return n===0&&1/n==-1/0}function Pk(n){return typeof n=="number"&&Number.isInteger(n)&&!yh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="";function kk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ux(e)),e=Vk(n.get(t),e);return ux(e)}function Vk(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case N1:t+="";break;default:t+=o}}return t}function ux(n){return n+N1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cx(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function O1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new Nt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??_n.RED,this.left=s??_n.EMPTY,this.right=o??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new _n(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return _n.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ue(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ue(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue(57766)}get value(){throw Ue(16141)}get color(){throw Ue(16727)}get left(){throw Ue(29726)}get right(){throw Ue(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dx(this.data.getIterator())}getIteratorFrom(e){return new dx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new sn(this.comparator);return t.data=e,t}}class dx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.fields=e,e.sort(wn.comparator)}static empty(){return new dr([])}unionWith(e){let t=new sn(wn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new dr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Rl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new M1("Invalid base64 string: "+o):o}}(e);return new xn(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new xn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const Lk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(n){if(dt(!!n,39018),typeof n=="string"){let e=0;const t=Lk.exec(n);if(dt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ut(n.seconds),nanos:Ut(n.nanos)}}function Ut(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fa(n){return typeof n=="string"?xn.fromBase64String(n):xn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="server_timestamp",P1="__type__",k1="__previous_value__",V1="__local_write_time__";function By(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[P1])===null||t===void 0?void 0:t.stringValue)===D1}function sp(n){const e=n.mapValue.fields[k1];return By(e)?sp(e):e}function Ic(n){const e=da(n.mapValue.fields[V1].timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t,r,s,o,u,d,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const bh="(default)";class Nc{constructor(e,t){this.projectId=e,this.database=t||bh}static empty(){return new Nc("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof Nc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="__type__",Uk="__max__",Mf={mapValue:{}},j1="__vector__",_h="value";function ha(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?By(n)?4:Fk(n)?9007199254740991:Bk(n)?10:11:Ue(28295,{value:n})}function Ai(n,e){if(n===e)return!0;const t=ha(n);if(t!==ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ic(n).isEqual(Ic(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=da(s.timestampValue),d=da(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return fa(s.bytesValue).isEqual(fa(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Ut(s.geoPointValue.latitude)===Ut(o.geoPointValue.latitude)&&Ut(s.geoPointValue.longitude)===Ut(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ut(s.integerValue)===Ut(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Ut(s.doubleValue),d=Ut(o.doubleValue);return u===d?yh(u)===yh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Rl(n.arrayValue.values||[],e.arrayValue.values||[],Ai);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},d=o.mapValue.fields||{};if(cx(u)!==cx(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Ai(u[f],d[f])))return!1;return!0}(n,e);default:return Ue(52216,{left:n})}}function Oc(n,e){return(n.values||[]).find(t=>Ai(t,e))!==void 0}function Il(n,e){if(n===e)return 0;const t=ha(n),r=ha(e);if(t!==r)return Ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=Ut(o.integerValue||o.doubleValue),f=Ut(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return fx(n.timestampValue,e.timestampValue);case 4:return fx(Ic(n),Ic(e));case 5:return Nv(n.stringValue,e.stringValue);case 6:return function(o,u){const d=fa(o),f=fa(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),f=u.split("/");for(let h=0;h<d.length&&h<f.length;h++){const m=Ke(d[h],f[h]);if(m!==0)return m}return Ke(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Ke(Ut(o.latitude),Ut(u.latitude));return d!==0?d:Ke(Ut(o.longitude),Ut(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return hx(n.arrayValue,e.arrayValue);case 10:return function(o,u){var d,f,h,m;const b=o.fields||{},_=u.fields||{},x=(d=b[_h])===null||d===void 0?void 0:d.arrayValue,w=(f=_[_h])===null||f===void 0?void 0:f.arrayValue,C=Ke(((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0,((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0);return C!==0?C:hx(x,w)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Mf.mapValue&&u===Mf.mapValue)return 0;if(o===Mf.mapValue)return 1;if(u===Mf.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),h=u.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let b=0;b<f.length&&b<m.length;++b){const _=Nv(f[b],m[b]);if(_!==0)return _;const x=Il(d[f[b]],h[m[b]]);if(x!==0)return x}return Ke(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Ue(23264,{Pe:t})}}function fx(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ke(n,e);const t=da(n),r=da(e),s=Ke(t.seconds,r.seconds);return s!==0?s:Ke(t.nanos,r.nanos)}function hx(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Il(t[s],r[s]);if(o)return o}return Ke(t.length,r.length)}function Nl(n){return Ov(n)}function Ov(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=da(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return fa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Ov(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Ov(t.fields[u])}`;return s+"}"}(n.mapValue):Ue(61005,{value:n})}function Wf(n){switch(ha(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sp(n);return e?16+Wf(e):16;case 5:return 2*n.stringValue.length;case 6:return fa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+Wf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return va(r.fields,(o,u)=>{s+=o.length+Wf(u)}),s}(n.mapValue);default:throw Ue(13486,{value:n})}}function px(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Mv(n){return!!n&&"integerValue"in n}function Fy(n){return!!n&&"arrayValue"in n}function mx(n){return!!n&&"nullValue"in n}function gx(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zf(n){return!!n&&"mapValue"in n}function Bk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[L1])===null||t===void 0?void 0:t.stringValue)===j1}function vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return va(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Fk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Uk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.value=e}static empty(){return new Kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(t)}setAll(e){let t=wn.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=vc(u):s.push(d.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());Zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Zf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){va(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Kn(vc(this.value))}}function U1(n){const e=[];return va(n.fields,(t,r)=>{const s=new wn([t]);if(Zf(r)){const o=U1(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new dr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,t,r,s,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new In(e,0,ze.min(),ze.min(),ze.min(),Kn.empty(),0)}static newFoundDocument(e,t,r,s){return new In(e,1,t,ze.min(),r,s,0)}static newNoDocument(e,t){return new In(e,2,t,ze.min(),ze.min(),Kn.empty(),0)}static newUnknownDocument(e,t){return new In(e,3,t,ze.min(),ze.min(),Kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof In&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new In(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this.position=e,this.inclusive=t}}function vx(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Me.comparator(Me.fromName(u.referenceValue),t.key):r=Il(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function yx(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ai(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function zk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{}class Qt extends B1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new qk(e,t,r):t==="array-contains"?new Yk(e,r):t==="in"?new Kk(e,r):t==="not-in"?new Qk(e,r):t==="array-contains-any"?new Xk(e,r):new Qt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new $k(e,r):new Gk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Il(t,this.value)):t!==null&&ha(this.value)===ha(t)&&this.matchesComparison(Il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends B1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Gr(e,t)}matches(e){return F1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function F1(n){return n.op==="and"}function z1(n){return Hk(n)&&F1(n)}function Hk(n){for(const e of n.filters)if(e instanceof Gr)return!1;return!0}function Dv(n){if(n instanceof Qt)return n.field.canonicalString()+n.op.toString()+Nl(n.value);if(z1(n))return n.filters.map(e=>Dv(e)).join(",");{const e=n.filters.map(t=>Dv(t)).join(",");return`${n.op}(${e})`}}function H1(n,e){return n instanceof Qt?function(r,s){return s instanceof Qt&&r.op===s.op&&r.field.isEqual(s.field)&&Ai(r.value,s.value)}(n,e):n instanceof Gr?function(r,s){return s instanceof Gr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,d)=>o&&H1(u,s.filters[d]),!0):!1}(n,e):void Ue(19439)}function q1(n){return n instanceof Qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Nl(t.value)}`}(n):n instanceof Gr?function(t){return t.op.toString()+" {"+t.getFilters().map(q1).join(" ,")+"}"}(n):"Filter"}class qk extends Qt{constructor(e,t,r){super(e,t,r),this.key=Me.fromName(r.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class $k extends Qt{constructor(e,t){super(e,"in",t),this.keys=$1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Gk extends Qt{constructor(e,t){super(e,"not-in",t),this.keys=$1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Me.fromName(r.referenceValue))}class Yk extends Qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fy(t)&&Oc(t.arrayValue,this.value)}}class Kk extends Qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Oc(this.value.arrayValue,t)}}class Qk extends Qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Oc(this.value.arrayValue,t)}}class Xk extends Qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Oc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t=null,r=[],s=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function bx(n,e=null,t=[],r=[],s=null,o=null,u=null){return new Wk(n,e,t,r,s,o,u)}function zy(n){const e=He(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Dv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ip(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Nl(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Nl(r)).join(",")),e.Ie=t}return e.Ie}function Hy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!H1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yx(n.startAt,e.startAt)&&yx(n.endAt,e.endAt)}function Pv(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t=null,r=[],s=[],o=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Zk(n,e,t,r,s,o,u,d){return new Qc(n,e,t,r,s,o,u,d)}function qy(n){return new Qc(n)}function _x(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function G1(n){return n.collectionGroup!==null}function yc(n){const e=He(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new sn(wn.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(d=d.add(h.field))})}),d})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new wh(o,r))}),t.has(wn.keyField().canonicalString())||e.Ee.push(new wh(wn.keyField(),r))}return e.Ee}function xi(n){const e=He(n);return e.de||(e.de=Jk(e,yc(n))),e.de}function Jk(n,e){if(n.limitType==="F")return bx(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new wh(s.field,o)});const t=n.endAt?new Eh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Eh(n.startAt.position,n.startAt.inclusive):null;return bx(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function kv(n,e){const t=n.filters.concat([e]);return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vv(n,e,t){return new Qc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ap(n,e){return Hy(xi(n),xi(e))&&n.limitType===e.limitType}function Y1(n){return`${zy(xi(n))}|lt:${n.limitType}`}function hl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>q1(s)).join(", ")}]`),ip(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Nl(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Nl(s)).join(",")),`Target(${r})`}(xi(n))}; limitType=${n.limitType})`}function op(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Me.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of yc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const h=vx(u,d,f);return u.inclusive?h<=0:h<0}(r.startAt,yc(r),s)||r.endAt&&!function(u,d,f){const h=vx(u,d,f);return u.inclusive?h>=0:h>0}(r.endAt,yc(r),s))}(n,e)}function eV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function K1(n){return(e,t)=>{let r=!1;for(const s of yc(n)){const o=tV(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function tV(n,e,t){const r=n.field.isKeyField()?Me.comparator(e.key,t.key):function(o,u,d){const f=u.data.field(o),h=d.data.field(o);return f!==null&&h!==null?Il(f,h):Ue(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ue(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return O1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=new Nt(Me.comparator);function ms(){return nV}const Q1=new Nt(Me.comparator);function cc(...n){let e=Q1;for(const t of n)e=e.insert(t.key,t);return e}function X1(n){let e=Q1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ja(){return bc()}function W1(){return bc()}function bc(){return new go(n=>n.toString(),(n,e)=>n.isEqual(e))}const rV=new Nt(Me.comparator),iV=new sn(Me.comparator);function Je(...n){let e=iV;for(const t of n)e=e.add(t);return e}const sV=new sn(Ke);function aV(){return sV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yh(e)?"-0":e}}function Z1(n){return{integerValue:""+n}}function J1(n,e){return Pk(e)?Z1(e):$y(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(){this._=void 0}}function oV(n,e,t){return n instanceof Mc?function(s,o){const u={fields:{[P1]:{stringValue:D1},[V1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&By(o)&&(o=sp(o)),o&&(u.fields[k1]=o),{mapValue:u}}(t,e):n instanceof Dc?tA(n,e):n instanceof Pc?nA(n,e):function(s,o){const u=eA(s,o),d=Ex(u)+Ex(s.Re);return Mv(u)&&Mv(s.Re)?Z1(d):$y(s.serializer,d)}(n,e)}function lV(n,e,t){return n instanceof Dc?tA(n,e):n instanceof Pc?nA(n,e):t}function eA(n,e){return n instanceof kc?function(r){return Mv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Mc extends lp{}class Dc extends lp{constructor(e){super(),this.elements=e}}function tA(n,e){const t=rA(e);for(const r of n.elements)t.some(s=>Ai(s,r))||t.push(r);return{arrayValue:{values:t}}}class Pc extends lp{constructor(e){super(),this.elements=e}}function nA(n,e){let t=rA(e);for(const r of n.elements)t=t.filter(s=>!Ai(s,r));return{arrayValue:{values:t}}}class kc extends lp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function Ex(n){return Ut(n.integerValue||n.doubleValue)}function rA(n){return Fy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t){this.field=e,this.transform=t}}function uV(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Dc&&s instanceof Dc||r instanceof Pc&&s instanceof Pc?Rl(r.elements,s.elements,Ai):r instanceof kc&&s instanceof kc?Ai(r.Re,s.Re):r instanceof Mc&&s instanceof Mc}(n.transform,e.transform)}class cV{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class up{}function sA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Gy(n.key,Ir.none()):new Xc(n.key,n.data,Ir.none());{const t=n.data,r=Kn.empty();let s=new sn(wn.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new ya(n.key,r,new dr(s.toArray()),Ir.none())}}function dV(n,e,t){n instanceof Xc?function(s,o,u){const d=s.value.clone(),f=xx(s.fieldTransforms,o,u.transformResults);d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ya?function(s,o,u){if(!Jf(s.precondition,o))return void o.convertToUnknownDocument(u.version);const d=xx(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(aA(s)),f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function _c(n,e,t,r){return n instanceof Xc?function(o,u,d,f){if(!Jf(o.precondition,u))return d;const h=o.value.clone(),m=Sx(o.fieldTransforms,f,u);return h.setAll(m),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof ya?function(o,u,d,f){if(!Jf(o.precondition,u))return d;const h=Sx(o.fieldTransforms,f,u),m=u.data;return m.setAll(aA(o)),m.setAll(h),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(o,u,d){return Jf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function fV(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=eA(r.transform,s||null);o!=null&&(t===null&&(t=Kn.empty()),t.set(r.field,o))}return t||null}function wx(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Rl(r,s,(o,u)=>uV(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xc extends up{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ya extends up{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aA(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xx(n,e,t){const r=new Map;dt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,d=e.data.field(o.field);r.set(o.field,lV(u,d,t[s]))}return r}function Sx(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,oV(o,u,e))}return r}class Gy extends up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hV extends up{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&dV(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=_c(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=_c(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=W1();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(s.key)?null:d;const f=sA(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(ze.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Je())}isEqual(e){return this.batchId===e.batchId&&Rl(this.mutations,e.mutations,(t,r)=>wx(t,r))&&Rl(this.baseMutations,e.baseMutations,(t,r)=>wx(t,r))}}class Yy{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){dt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return rV}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new Yy(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt,rt;function vV(n){switch(n){case he.OK:return Ue(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ue(15467,{code:n})}}function oA(n){if(n===void 0)return ps("GRPC error has no .code"),he.UNKNOWN;switch(n){case Yt.OK:return he.OK;case Yt.CANCELLED:return he.CANCELLED;case Yt.UNKNOWN:return he.UNKNOWN;case Yt.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Yt.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Yt.INTERNAL:return he.INTERNAL;case Yt.UNAVAILABLE:return he.UNAVAILABLE;case Yt.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Yt.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Yt.NOT_FOUND:return he.NOT_FOUND;case Yt.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Yt.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Yt.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Yt.ABORTED:return he.ABORTED;case Yt.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Yt.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Yt.DATA_LOSS:return he.DATA_LOSS;default:return Ue(39323,{code:n})}}(rt=Yt||(Yt={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new oa([4294967295,4294967295],0);function Tx(n){const e=R1().encode(n),t=new _1;return t.update(e),new Uint8Array(t.digest())}function Ax(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oa([t,r],0),new oa([s,o],0)]}class Ky{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new dc(`Invalid padding: ${t}`);if(r<0)throw new dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new dc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=oa.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(oa.fromNumber(r)));return s.compare(yV)===1&&(s=new oa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=Tx(e),[r,s]=Ax(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.Se(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Ky(o,s,t);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=Tx(e),[r,s]=Ax(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Wc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new cp(ze.min(),s,new Nt(Ke),ms(),Je())}}class Wc{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Wc(r,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class lA{constructor(e,t){this.targetId=e,this.Ce=t}}class uA{constructor(e,t,r=xn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Cx{constructor(){this.Fe=0,this.Me=Rx(),this.xe=xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Je(),t=Je(),r=Je();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ue(38017,{changeType:o})}}),new Wc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=Rx()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,dt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class bV{constructor(e){this.ze=e,this.je=new Map,this.He=ms(),this.Je=Df(),this.Ye=Df(),this.Ze=new Nt(Ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(Pv(o))if(r===0){const u=new Me(o.path);this.tt(t,u,In.newNoDocument(u,ze.min()))}else dt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const d=this.ct(e),f=d?this.lt(d,e,u):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,d;try{u=fa(r).toUint8Array()}catch(f){if(f instanceof M1)return Cl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Ky(u,s,o)}catch(f){return Cl(f instanceof dc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&Pv(d.target)){const f=new Me(d.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,In.newNoDocument(f,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=Je();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new cp(e,t,this.Ze,this.He,r);return this.He=ms(),this.Je=Df(),this.Ye=Df(),this.Ze=new Nt(Ke),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Cx,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new sn(Ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new sn(Ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Se("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Cx),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Df(){return new Nt(Me.comparator)}function Rx(){return new Nt(Me.comparator)}const _V={asc:"ASCENDING",desc:"DESCENDING"},EV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wV={and:"AND",or:"OR"};class xV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Lv(n,e){return n.useProto3Json||ip(e)?e:{value:e}}function xh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function SV(n,e){return xh(n,e.toTimestamp())}function Si(n){return dt(!!n,49232),ze.fromTimestamp(function(t){const r=da(t);return new rn(r.seconds,r.nanos)}(n))}function Qy(n,e){return jv(n,e).canonicalString()}function jv(n,e){const t=function(s){return new Tt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function dA(n){const e=Tt.fromString(n);return dt(gA(e),10190,{key:e.toString()}),e}function Uv(n,e){return Qy(n.databaseId,e.path)}function qg(n,e){const t=dA(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(hA(t))}function fA(n,e){return Qy(n.databaseId,e)}function TV(n){const e=dA(n);return e.length===4?Tt.emptyPath():hA(e)}function Bv(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hA(n){return dt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function Ix(n,e,t){return{name:Uv(n,e),fields:t.value.mapValue.fields}}function AV(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ue(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(dt(m===void 0||typeof m=="string",58123),xn.fromBase64String(m||"")):(dt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),xn.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(h){const m=h.code===void 0?he.UNKNOWN:oA(h.code);return new Te(m,h.message||"")}(u);t=new uA(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=qg(n,r.document.name),o=Si(r.document.updateTime),u=r.document.createTime?Si(r.document.createTime):ze.min(),d=new Kn({mapValue:{fields:r.document.fields}}),f=In.newFoundDocument(s,o,u,d),h=r.targetIds||[],m=r.removedTargetIds||[];t=new eh(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=qg(n,r.document),o=r.readTime?Si(r.readTime):ze.min(),u=In.newNoDocument(s,o),d=r.removedTargetIds||[];t=new eh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=qg(n,r.document),o=r.removedTargetIds||[];t=new eh([],o,s,null)}else{if(!("filter"in e))return Ue(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new gV(s,o),d=r.targetId;t=new lA(d,u)}}return t}function CV(n,e){let t;if(e instanceof Xc)t={update:Ix(n,e.key,e.value)};else if(e instanceof Gy)t={delete:Uv(n,e.key)};else if(e instanceof ya)t={update:Ix(n,e.key,e.data),updateMask:VV(e.fieldMask)};else{if(!(e instanceof hV))return Ue(16599,{ft:e.type});t={verify:Uv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Mc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Dc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof kc)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Ue(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:SV(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ue(27497)}(n,e.precondition)),t}function RV(n,e){return n&&n.length>0?(dt(e!==void 0,14353),n.map(t=>function(s,o){let u=s.updateTime?Si(s.updateTime):Si(o);return u.isEqual(ze.min())&&(u=Si(o)),new cV(u,s.transformResults||[])}(t,e))):[]}function IV(n,e){return{documents:[fA(n,e.path)]}}function NV(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fA(n,s);const o=function(h){if(h.length!==0)return mA(Gr.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:pl(_.field),direction:DV(_.dir)}}(m))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=Lv(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:s}}function OV(n){let e=TV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){dt(r===1,65062);const m=t.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(b){const _=pA(b);return _ instanceof Gr&&z1(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(_=>function(w){return new wh(ml(w.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(_))}(t.orderBy));let d=null;t.limit&&(d=function(b){let _;return _=typeof b=="object"?b.value:b,ip(_)?null:_}(t.limit));let f=null;t.startAt&&(f=function(b){const _=!!b.before,x=b.values||[];return new Eh(x,_)}(t.startAt));let h=null;return t.endAt&&(h=function(b){const _=!b.before,x=b.values||[];return new Eh(x,_)}(t.endAt)),Zk(e,s,u,o,d,"F",f,h)}function MV(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function pA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ml(t.unaryFilter.field);return Qt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ml(t.unaryFilter.field);return Qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ml(t.unaryFilter.field);return Qt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ml(t.unaryFilter.field);return Qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ue(61313);default:return Ue(60726)}}(n):n.fieldFilter!==void 0?function(t){return Qt.create(ml(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ue(58110);default:return Ue(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gr.create(t.compositeFilter.filters.map(r=>pA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue(1026)}}(t.compositeFilter.op))}(n):Ue(30097,{filter:n})}function DV(n){return _V[n]}function PV(n){return EV[n]}function kV(n){return wV[n]}function pl(n){return{fieldPath:n.canonicalString()}}function ml(n){return wn.fromServerFormat(n.fieldPath)}function mA(n){return n instanceof Qt?function(t){if(t.op==="=="){if(gx(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NAN"}};if(mx(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(gx(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NAN"}};if(mx(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(t.field),op:PV(t.op),value:t.value}}}(n):n instanceof Gr?function(t){const r=t.getFilters().map(s=>mA(s));return r.length===1?r[0]:{compositeFilter:{op:kV(t.op),filters:r}}}(n):Ue(54877,{filter:n})}function VV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function gA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,r,s,o=ze.min(),u=ze.min(),d=xn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.wt=e}}function jV(n){const e=OV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Vv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.Cn=new BV}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(ca.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class BV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new sn(Tt.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new sn(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vA=41943040;class Yn{static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(vA,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Ol(0)}static lr(){return new Ol(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox="LruGarbageCollector",FV=1048576;function Mx([n,e],[t,r]){const s=Ke(n,t);return s===0?Ke(e,r):s}class zV{constructor(e){this.Er=e,this.buffer=new sn(Mx),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Mx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class HV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Se(Ox,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zl(t)?Se(Ox,"Ignoring IndexedDB error during garbage collection: ",t):await Fl(t)}await this.mr(3e5)})}}class qV{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(rp.le);const r=new zV(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Se("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(Nx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Nx):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,o,u,d,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,u=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(r=b,d=Date.now(),this.removeTargets(e,r,t))).next(b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(h=Date.now(),fl()<=Ze.DEBUG&&Se("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${b} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b})))}}function $V(n,e){return new qV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.changes=new go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&_c(r.mutation,s,dr.empty(),rn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Je()){const s=Ja();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=cc();return o.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ja();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Je()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,r,s){let o=ms();const u=bc(),d=function(){return bc()}();return t.forEach((f,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof ya)?o=o.insert(h.key,h):m!==void 0?(u.set(h.key,m.mutation.getFieldMask()),_c(m.mutation,h,m.mutation.getFieldMask(),rn.now())):u.set(h.key,dr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((h,m)=>u.set(h,m)),t.forEach((h,m)=>{var b;return d.set(h,new YV(m,(b=u.get(h))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const r=bc();let s=new Nt((u,d)=>u-d),o=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let m=r.get(f)||dr.empty();m=d.applyToLocalView(h,m),r.set(f,m);const b=(s.get(d.batchId)||Je()).add(f);s=s.insert(d.batchId,b)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),h=f.key,m=f.value,b=W1();m.forEach(_=>{if(!o.has(_)){const x=sA(t.get(_),r.get(_));x!==null&&b.set(_,x),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,h,b))}return fe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):G1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):fe.resolve(Ja());let d=Rc,f=o;return u.next(h=>fe.forEach(h,(m,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(m)?fe.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{f=f.insert(m,_)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,f,h,Je())).next(m=>({batchId:d,changes:X1(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next(r=>{let s=cc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=cc();return this.indexManager.getCollectionParents(e,o).next(d=>fe.forEach(d,f=>{const h=function(b,_){return new Qc(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(m=>{m.forEach((b,_)=>{u=u.insert(b,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((f,h)=>{const m=h.getKey();u.get(m)===null&&(u=u.insert(m,In.newInvalidDocument(m)))});let d=cc();return u.forEach((f,h)=>{const m=o.get(f);m!==void 0&&_c(m.mutation,h,dr.empty(),rn.now()),op(t,h)&&(d=d.insert(f,h))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Si(s.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:jV(s.bundledQuery),readTime:Si(s.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.overlays=new Nt(Me.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ja();return fe.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.bt(e,t,o)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const s=Ja(),o=t.length+1,u=new Me(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Nt((h,m)=>h-m);const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=Ja(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const d=Ja(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,m)=>d.set(h,m)),!(d.size()>=s)););return fe.resolve(d)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new mV(t,r));let o=this.Qr.get(t);o===void 0&&(o=Je(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.$r=new sn(dn.Ur),this.Kr=new sn(dn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new dn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new dn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Me(new Tt([])),r=new dn(t,e),s=new dn(t,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Me(new Tt([])),r=new dn(t,e),s=new dn(t,e+1);let o=Je();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new dn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Me.comparator(e.key,t.key)||Ke(e.Zr,t.Zr)}static Wr(e,t){return Ke(e.Zr,t.Zr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new sn(dn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new pV(o,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Xr=this.Xr.add(new dn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),o=s<0?0:s;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Uy:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new dn(t,0),s=new dn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const d=this.ei(u.Zr);o.push(d)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new sn(Ke);return t.forEach(s=>{const o=new dn(s,0),u=new dn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],d=>{r=r.add(d.Zr)})}),fe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Me.isDocumentKey(o)||(o=o.child(""));const u=new dn(new Me(o),0);let d=new sn(Ke);return this.Xr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(d=d.add(f.Zr)),!0)},u),fe.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){dt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return fe.forEach(t.mutations,s=>{const o=new dn(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new dn(t,0),s=this.Xr.firstAfterOrEqual(r);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e){this.ii=e,this.docs=function(){return new Nt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let r=ms();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():In.newInvalidDocument(s))}),fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=ms();const u=t.path,d=new Me(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||Nk(Ik(m),r)<=0||(s.has(m.key)||op(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,r,s){Ue(9500)}si(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eL(this)}getSize(e){return fe.resolve(this.size)}}class eL extends GV{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.persistence=e,this.oi=new go(t=>zy(t),Hy),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this._i=0,this.ai=new Xy,this.targetCount=0,this.ui=Ol.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Ol(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.oi.forEach((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),fe.waitFor(o).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t){this.ci={},this.overlays={},this.li=new rp(0),this.hi=!1,this.hi=!0,this.Pi=new WV,this.referenceDelegate=e(this),this.Ti=new tL(this),this.indexManager=new UV,this.remoteDocumentCache=function(s){return new JV(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new LV(t),this.Ei=new QV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new XV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new ZV(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Se("MemoryPersistence","Starting transaction:",e);const s=new nL(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,t){return fe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class nL extends Mk{constructor(e){super(),this.currentSequenceNumber=e}}class Wy{constructor(e){this.persistence=e,this.Vi=new Xy,this.mi=null}static fi(e){return new Wy(e)}get gi(){if(this.mi)return this.mi;throw Ue(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,r=>{const s=Me.fromPath(r);return this.pi(e,s).next(o=>{o||t.removeEntry(s,ze.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Sh{constructor(e,t){this.persistence=e,this.yi=new go(r=>kk(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=$V(this,t)}static fi(e,t){return new Sh(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?fe.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,t).next(d=>{d||(r++,o.removeEntry(u,ze.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wf(e.data.value)),t}Dr(e,t,r){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return fe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=Je(),s=Je();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Zy(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return NO()?8:Dk(Nn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Ss(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new rL;return this.bs(e,t,u).next(d=>{if(o.result=d,this.fs)return this.Ds(e,t,u,d.size)})}).next(()=>o.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(fl()<=Ze.DEBUG&&Se("QueryEngine","SDK will not create cache indexes for query:",hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(fl()<=Ze.DEBUG&&Se("QueryEngine","Query:",hl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(fl()<=Ze.DEBUG&&Se("QueryEngine","The SDK decides to create cache indexes for query:",hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(t))):fe.resolve())}ws(e,t){if(_x(t))return fe.resolve(null);let r=xi(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Vv(t,null,"F"),r=xi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Je(...o);return this.ys.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.vs(t,d);return this.Cs(t,h,u,f.readTime)?this.ws(e,Vv(t,null,"F")):this.Fs(e,h,t,f)}))})))}Ss(e,t,r,s){return _x(t)||s.isEqual(ze.min())?fe.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,s)?fe.resolve(null):(fl()<=Ze.DEBUG&&Se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hl(t)),this.Fs(e,u,t,Rk(s,Rc)).next(d=>d))})}vs(e,t){let r=new sn(K1(e));return t.forEach((s,o)=>{op(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}bs(e,t,r){return fl()<=Ze.DEBUG&&Se("QueryEngine","Using full collection scan to execute query:",hl(t)),this.ys.getDocumentsMatchingQuery(e,t,ca.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LocalStore",sL=3e8;class aL{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new Nt(Ke),this.Os=new go(o=>zy(o),Hy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function oL(n,e,t,r){return new aL(n,e,t,r)}async function bA(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],d=[];let f=Je();for(const h of s){u.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of o){d.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(h=>({ks:h,removedBatchIds:u,addedBatchIds:d}))})})}function lL(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,f,h,m){const b=h.batch,_=b.keys();let x=fe.resolve();return _.forEach(w=>{x=x.next(()=>m.getEntry(f,w)).next(C=>{const I=h.docVersions.get(w);dt(I!==null,48541),C.version.compareTo(I)<0&&(b.applyToRemoteDocument(C,h),C.isValidDocument()&&(C.setReadTime(h.commitVersion),m.addEntry(C)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(f,b))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Je();for(let h=0;h<d.mutationResults.length;++h)d.mutationResults[h].transformResults.length>0&&(f=f.add(d.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function _A(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function uL(n,e){const t=He(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const d=[];e.targetChanges.forEach((m,b)=>{const _=s.get(b);if(!_)return;d.push(t.Ti.removeMatchingKeys(o,m.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(o,m.addedDocuments,b)));let x=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(xn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):m.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(m.resumeToken,r)),s=s.insert(b,x),function(C,I,T){return C.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=sL?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(_,x,m)&&d.push(t.Ti.updateTargetData(o,x))});let f=ms(),h=Je();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),d.push(cL(o,u,e.documentUpdates).next(m=>{f=m.qs,h=m.Qs})),!r.isEqual(ze.min())){const m=t.Ti.getLastRemoteSnapshotVersion(o).next(b=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(m)}return fe.waitFor(d).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,f,h)).next(()=>f)}).then(o=>(t.xs=s,o))}function cL(n,e,t){let r=Je(),s=Je();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=ms();return t.forEach((d,f)=>{const h=o.get(d);f.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(ze.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):Se(Jy,"Ignoring outdated watch update for ",d,". Current version:",h.version," Watch version:",f.version)}),{qs:u,Qs:s}})}function dL(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Uy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fL(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(o=>o?(s=o,fe.resolve(s)):t.Ti.allocateTargetId(r).next(u=>(s=new ra(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Fv(n,e,t){const r=He(n),s=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!zl(u))throw u;Se(Jy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function Dx(n,e,t){const r=He(n);let s=ze.min(),o=Je();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,h,m){const b=He(f),_=b.Os.get(m);return _!==void 0?fe.resolve(b.xs.get(_)):b.Ti.getTargetData(h,m)}(r,u,xi(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,d.targetId).next(f=>{o=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?s:ze.min(),t?o:Je())).next(d=>(hL(r,eV(e),d),{documents:d,$s:o})))}function hL(n,e,t){let r=n.Ns.get(e)||ze.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}class Px{constructor(){this.activeTargetIds=aV()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pL{constructor(){this.xo=new Px,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Px,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="ConnectivityMonitor";class Vx{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Se(kx,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Se(kx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf=null;function zv(){return Pf===null?Pf=function(){return 268435456+Math.round(2147483648*Math.random())}():Pf++,"0x"+Pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="RestConnection",gL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vL{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,o){const u=zv(),d=this.jo(e,t.toUriEncodedString());Se($g,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,o);const{host:h}=new URL(d),m=po(h);return this.Jo(e,d,f,r,m).then(b=>(Se($g,`Received RPC '${e}' ${u}: `,b),b),b=>{throw Cl($g,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",r),b})}Yo(e,t,r,s,o,u){return this.zo(e,t,r,s,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,t){const r=gL[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An="WebChannelConnection";class bL extends vL{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=zv();return new Promise((d,f)=>{const h=new E1;h.setWithCredentials(!0),h.listenOnce(w1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Xf.NO_ERROR:const b=h.getResponseJson();Se(An,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case Xf.TIMEOUT:Se(An,`RPC '${e}' ${u} timed out`),f(new Te(he.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const _=h.getStatus();if(Se(An,`RPC '${e}' ${u} failed with status:`,_,"response text:",h.getResponseText()),_>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x==null?void 0:x.error;if(w&&w.status&&w.message){const C=function(T){const S=T.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(S)>=0?S:he.UNKNOWN}(w.status);f(new Te(C,w.message))}else f(new Te(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new Te(he.UNAVAILABLE,"Connection failed."));break;default:Ue(9055,{l_:e,streamId:u,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Se(An,`RPC '${e}' ${u} completed.`)}});const m=JSON.stringify(s);Se(An,`RPC '${e}' ${u} sending request:`,s),h.send(t,"POST",m,r,15)})}T_(e,t,r){const s=zv(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=T1(),d=S1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=o.join("");Se(An,`Creating RPC '${e}' stream ${s}: ${m}`,f);const b=u.createWebChannel(m,f);let _=!1,x=!1;const w=new yL({Zo:I=>{x?Se(An,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(_||(Se(An,`Opening RPC '${e}' stream ${s} transport.`),b.open(),_=!0),Se(An,`RPC '${e}' stream ${s} sending:`,I),b.send(I))},Xo:()=>b.close()}),C=(I,T,S)=>{I.listen(T,N=>{try{S(N)}catch(z){setTimeout(()=>{throw z},0)}})};return C(b,uc.EventType.OPEN,()=>{x||(Se(An,`RPC '${e}' stream ${s} transport opened.`),w.__())}),C(b,uc.EventType.CLOSE,()=>{x||(x=!0,Se(An,`RPC '${e}' stream ${s} transport closed`),w.u_())}),C(b,uc.EventType.ERROR,I=>{x||(x=!0,Cl(An,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),w.u_(new Te(he.UNAVAILABLE,"The operation could not be completed")))}),C(b,uc.EventType.MESSAGE,I=>{var T;if(!x){const S=I.data[0];dt(!!S,16349);const N=S,z=(N==null?void 0:N.error)||((T=N[0])===null||T===void 0?void 0:T.error);if(z){Se(An,`RPC '${e}' stream ${s} received error:`,z);const V=z.status;let K=function(M){const L=Yt[M];if(L!==void 0)return oA(L)}(V),P=z.message;K===void 0&&(K=he.INTERNAL,P="Unknown error status: "+V+" with message "+z.message),x=!0,w.u_(new Te(K,P)),b.close()}else Se(An,`RPC '${e}' stream ${s} received:`,S),w.c_(S)}}),C(d,x1.STAT_EVENT,I=>{I.stat===Iv.PROXY?Se(An,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===Iv.NOPROXY&&Se(An,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}function Gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(n){return new xV(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=s,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,t-r);s>0&&Se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="PersistentStream";class wA{constructor(e,t,r,s,o,u,d,f){this.xi=e,this.y_=r,this.w_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new EA(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===he.RESOURCE_EXHAUSTED?(ps(t.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===t&&this.K_(r,s)},r=>{e(()=>{const s=new Te(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Se(Lx,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Se(Lx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _L extends wA{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=AV(this.serializer,e),r=function(o){if(!("targetChange"in o))return ze.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?ze.min():u.readTime?Si(u.readTime):ze.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=Bv(this.serializer),t.addTarget=function(o,u){let d;const f=u.target;if(d=Pv(f)?{documents:IV(o,f)}:{query:NV(o,f).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=cA(o,u.resumeToken);const h=Lv(o,u.expectedCount);h!==null&&(d.expectedCount=h)}else if(u.snapshotVersion.compareTo(ze.min())>0){d.readTime=xh(o,u.snapshotVersion.toTimestamp());const h=Lv(o,u.expectedCount);h!==null&&(d.expectedCount=h)}return d}(this.serializer,e);const r=MV(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=Bv(this.serializer),t.removeTarget=e,this.L_(t)}}class EL extends wA{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return dt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){dt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=RV(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=Bv(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>CV(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{}class xL extends wL{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,jv(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(he.UNKNOWN,o.toString())})}Yo(e,t,r,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Yo(e,jv(t,r),s,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Te(he.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class SL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ps(t),this.oa=!1):Se("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="RemoteStore";class TL{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(u=>{r.enqueueAndForget(async()=>{vo(this)&&(Se(lo,"Restarting streams for network reachability change."),await async function(f){const h=He(f);h.Ta.add(4),await Zc(h),h.da.set("Unknown"),h.Ta.delete(4),await fp(h)}(this))})}),this.da=new SL(r,s)}}async function fp(n){if(vo(n))for(const e of n.Ia)await e(!0)}async function Zc(n){for(const e of n.Ia)await e(!1)}function xA(n,e){const t=He(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),r0(t)?n0(t):Hl(t).M_()&&t0(t,e))}function e0(n,e){const t=He(n),r=Hl(t);t.Pa.delete(e),r.M_()&&SA(t,e),t.Pa.size===0&&(r.M_()?r.N_():vo(t)&&t.da.set("Unknown"))}function t0(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hl(n).H_(e)}function SA(n,e){n.Aa.Ke(e),Hl(n).J_(e)}function n0(n){n.Aa=new bV({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Hl(n).start(),n.da._a()}function r0(n){return vo(n)&&!Hl(n).F_()&&n.Pa.size>0}function vo(n){return He(n).Ta.size===0}function TA(n){n.Aa=void 0}async function AL(n){n.da.set("Online")}async function CL(n){n.Pa.forEach((e,t)=>{t0(n,e)})}async function RL(n,e){TA(n),r0(n)?(n.da.ca(e),n0(n)):n.da.set("Unknown")}async function IL(n,e,t){if(n.da.set("Online"),e instanceof uA&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const d of o.targetIds)s.Pa.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Pa.delete(d),s.Aa.removeTarget(d))}(n,e)}catch(r){Se(lo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Th(n,r)}else if(e instanceof eh?n.Aa.Xe(e):e instanceof lA?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(ze.min()))try{const r=await _A(n.localStore);t.compareTo(r)>=0&&await function(o,u){const d=o.Aa.It(u);return d.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=o.Pa.get(h);m&&o.Pa.set(h,m.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,h)=>{const m=o.Pa.get(f);if(!m)return;o.Pa.set(f,m.withResumeToken(xn.EMPTY_BYTE_STRING,m.snapshotVersion)),SA(o,f);const b=new ra(m.target,f,h,m.sequenceNumber);t0(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(r){Se(lo,"Failed to raise snapshot:",r),await Th(n,r)}}async function Th(n,e,t){if(!zl(e))throw e;n.Ta.add(1),await Zc(n),n.da.set("Offline"),t||(t=()=>_A(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Se(lo,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await fp(n)})}function AA(n,e){return e().catch(t=>Th(n,t,e))}async function hp(n){const e=He(n),t=pa(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Uy;for(;NL(e);)try{const s=await dL(e.localStore,r);if(s===null){e.ha.length===0&&t.N_();break}r=s.batchId,OL(e,s)}catch(s){await Th(e,s)}CA(e)&&RA(e)}function NL(n){return vo(n)&&n.ha.length<10}function OL(n,e){n.ha.push(e);const t=pa(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function CA(n){return vo(n)&&!pa(n).F_()&&n.ha.length>0}function RA(n){pa(n).start()}async function ML(n){pa(n).ta()}async function DL(n){const e=pa(n);for(const t of n.ha)e.Z_(t.mutations)}async function PL(n,e,t){const r=n.ha.shift(),s=Yy.from(r,e,t);await AA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await hp(n)}async function kL(n,e){e&&pa(n).Y_&&await async function(r,s){if(function(u){return vV(u)&&u!==he.ABORTED}(s.code)){const o=r.ha.shift();pa(r).O_(),await AA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await hp(r)}}(n,e),CA(n)&&RA(n)}async function jx(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),Se(lo,"RemoteStore received new credentials");const r=vo(t);t.Ta.add(3),await Zc(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await fp(t)}async function VL(n,e){const t=He(n);e?(t.Ta.delete(2),await fp(t)):e||(t.Ta.add(2),await Zc(t),t.da.set("Unknown"))}function Hl(n){return n.Ra||(n.Ra=function(t,r,s){const o=He(t);return o.ra(),new _L(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:AL.bind(null,n),n_:CL.bind(null,n),i_:RL.bind(null,n),j_:IL.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),r0(n)?n0(n):n.da.set("Unknown")):(await n.Ra.stop(),TA(n))})),n.Ra}function pa(n){return n.Va||(n.Va=function(t,r,s){const o=He(t);return o.ra(),new EL(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:ML.bind(null,n),i_:kL.bind(null,n),X_:DL.bind(null,n),ea:PL.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await hp(n)):(await n.Va.stop(),n.ha.length>0&&(Se(lo,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,d=new i0(e,t,u,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s0(n,e){if(ps("AsyncQueue",`${e}: ${n}`),zl(n))return new Te(he.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static emptySet(e){return new wl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Me.comparator(t.key,r.key):(t,r)=>Me.comparator(t.key,r.key),this.keyedMap=cc(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(){this.ma=new Nt(Me.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Ue(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ml{constructor(e,t,r,s,o,u,d,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Ml(e,t,wl.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ap(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class jL{constructor(){this.queries=Bx(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const s=He(t),o=s.queries;s.queries=Bx(),o.forEach((u,d)=>{for(const f of d.ya)f.onError(r)})})(this,new Te(he.ABORTED,"Firestore shutting down"))}}function Bx(){return new go(n=>Y1(n),ap)}async function IA(n,e){const t=He(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.wa()&&e.Sa()&&(r=2):(o=new LL,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await t.onListen(s,!0);break;case 1:o.pa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=s0(u,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&a0(t)}async function NA(n,e){const t=He(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ya.indexOf(e);u>=0&&(o.ya.splice(u,1),o.ya.length===0?s=e.Sa()?0:1:!o.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function UL(n,e){const t=He(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const d of u.ya)d.va(s)&&(r=!0);u.pa=s}}r&&a0(t)}function BL(n,e,t){const r=He(n),s=r.queries.get(e);if(s)for(const o of s.ya)o.onError(t);r.queries.delete(e)}function a0(n){n.ba.forEach(e=>{e.next()})}var Hv,Fx;(Fx=Hv||(Hv={})).Ca="default",Fx.Cache="cache";class OA{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Hv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e){this.key=e}}class DA{constructor(e){this.key=e}}class FL{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Je(),this.mutatedKeys=Je(),this.Ha=K1(e),this.Ja=new wl(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new Ux,s=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,b)=>{const _=s.get(m),x=op(this.query,b)?b:null,w=!!_&&this.mutatedKeys.has(_.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let I=!1;_&&x?_.data.isEqual(x.data)?w!==C&&(r.track({type:3,doc:x}),I=!0):this.eu(_,x)||(r.track({type:2,doc:x}),I=!0,(f&&this.Ha(x,f)>0||h&&this.Ha(x,h)<0)&&(d=!0)):!_&&x?(r.track({type:0,doc:x}),I=!0):_&&!x&&(r.track({type:1,doc:_}),I=!0,(f||h)&&(d=!0)),I&&(x?(u=u.add(x),o=C?o.add(m):o.delete(m)):(u=u.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ja:u,Xa:r,Cs:d,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((m,b)=>function(x,w){const C=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue(20277,{Vt:I})}};return C(x)-C(w)}(m.type,b.type)||this.Ha(m.doc,b.doc)),this.tu(r),s=s!=null&&s;const d=t&&!s?this.nu():[],f=this.ja.size===0&&this.current&&!s?1:0,h=f!==this.za;return this.za=f,u.length!==0||h?{snapshot:new Ml(this.query,e.Ja,o,u,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new Ux,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Je(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new DA(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new MA(r))}),t}su(e){this.Ga=e.$s,this.ja=Je();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Ml.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const o0="SyncEngine";class zL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HL{constructor(e){this.key=e,this._u=!1}}class qL{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new go(d=>Y1(d),ap),this.cu=new Map,this.lu=new Set,this.hu=new Nt(Me.comparator),this.Pu=new Map,this.Tu=new Xy,this.Iu={},this.Eu=new Map,this.du=Ol.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function $L(n,e,t=!0){const r=UA(n);let s;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ou()):s=await PA(r,e,t,!0),s}async function GL(n,e){const t=UA(n);await PA(t,e,!0,!1)}async function PA(n,e,t,r){const s=await fL(n.localStore,xi(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await YL(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&xA(n.remoteStore,s),d}async function YL(n,e,t,r,s){n.Ru=(b,_,x)=>async function(C,I,T,S){let N=I.view.Za(T);N.Cs&&(N=await Dx(C.localStore,I.query,!1).then(({documents:P})=>I.view.Za(P,N)));const z=S&&S.targetChanges.get(I.targetId),V=S&&S.targetMismatches.get(I.targetId)!=null,K=I.view.applyChanges(N,C.isPrimaryClient,z,V);return Hx(C,I.targetId,K.ru),K.snapshot}(n,b,_,x);const o=await Dx(n.localStore,e,!0),u=new FL(e,o.$s),d=u.Za(o.documents),f=Wc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),h=u.applyChanges(d,n.isPrimaryClient,f);Hx(n,t,h.ru);const m=new zL(e,t,u);return n.uu.set(e,m),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function KL(n,e,t){const r=He(n),s=r.uu.get(e),o=r.cu.get(s.targetId);if(o.length>1)return r.cu.set(s.targetId,o.filter(u=>!ap(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&e0(r.remoteStore,s.targetId),qv(r,s.targetId)}).catch(Fl)):(qv(r,s.targetId),await Fv(r.localStore,s.targetId,!0))}async function QL(n,e){const t=He(n),r=t.uu.get(e),s=t.cu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),e0(t.remoteStore,r.targetId))}async function XL(n,e,t){const r=r4(n);try{const s=await function(u,d){const f=He(u),h=rn.now(),m=d.reduce((x,w)=>x.add(w.key),Je());let b,_;return f.persistence.runTransaction("Locally write mutations","readwrite",x=>{let w=ms(),C=Je();return f.Bs.getEntries(x,m).next(I=>{w=I,w.forEach((T,S)=>{S.isValidDocument()||(C=C.add(T))})}).next(()=>f.localDocuments.getOverlayedDocuments(x,w)).next(I=>{b=I;const T=[];for(const S of d){const N=fV(S,b.get(S.key).overlayedDocument);N!=null&&T.push(new ya(S.key,N,U1(N.value.mapValue),Ir.exists(!0)))}return f.mutationQueue.addMutationBatch(x,h,T,d)}).next(I=>{_=I;const T=I.applyToLocalDocumentSet(b,C);return f.documentOverlayCache.saveOverlays(x,I.batchId,T)})}).then(()=>({batchId:_.batchId,changes:X1(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let h=u.Iu[u.currentUser.toKey()];h||(h=new Nt(Ke)),h=h.insert(d,f),u.Iu[u.currentUser.toKey()]=h}(r,s.batchId,t),await Jc(r,s.changes),await hp(r.remoteStore)}catch(s){const o=s0(s,"Failed to persist write");t.reject(o)}}async function kA(n,e){const t=He(n);try{const r=await uL(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t.Pu.get(o);u&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u._u=!0:s.modifiedDocuments.size>0?dt(u._u,14607):s.removedDocuments.size>0&&(dt(u._u,42227),u._u=!1))}),await Jc(t,r,e)}catch(r){await Fl(r)}}function zx(n,e,t){const r=He(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.uu.forEach((o,u)=>{const d=u.view.Da(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=He(u);f.onlineState=d;let h=!1;f.queries.forEach((m,b)=>{for(const _ of b.ya)_.Da(d)&&(h=!0)}),h&&a0(f)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function WL(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Pu.get(e),o=s&&s.key;if(o){let u=new Nt(Me.comparator);u=u.insert(o,In.newNoDocument(o,ze.min()));const d=Je().add(o),f=new cp(ze.min(),new Map,new Nt(Ke),u,d);await kA(r,f),r.hu=r.hu.remove(o),r.Pu.delete(e),l0(r)}else await Fv(r.localStore,e,!1).then(()=>qv(r,e,t)).catch(Fl)}async function ZL(n,e){const t=He(n),r=e.batch.batchId;try{const s=await lL(t.localStore,e);LA(t,r,null),VA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Jc(t,s)}catch(s){await Fl(s)}}async function JL(n,e,t){const r=He(n);try{const s=await function(u,d){const f=He(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return f.mutationQueue.lookupMutationBatch(h,d).next(b=>(dt(b!==null,37113),m=b.keys(),f.mutationQueue.removeMutationBatch(h,b))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>f.localDocuments.getDocuments(h,m))})}(r.localStore,e);LA(r,e,t),VA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Jc(r,s)}catch(s){await Fl(s)}}function VA(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function LA(n,e,t){const r=He(n);let s=r.Iu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function qv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||jA(n,r)})}function jA(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(e0(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),l0(n))}function Hx(n,e,t){for(const r of t)r instanceof MA?(n.Tu.addReference(r.key,e),e4(n,r)):r instanceof DA?(Se(o0,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||jA(n,r.key)):Ue(19791,{mu:r})}function e4(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Se(o0,"New document in limbo: "+t),n.lu.add(r),l0(n))}function l0(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Me(Tt.fromString(e)),r=n.du.next();n.Pu.set(r,new HL(t)),n.hu=n.hu.insert(t,r),xA(n.remoteStore,new ra(xi(qy(t.path)),r,"TargetPurposeLimboResolution",rp.le))}}async function Jc(n,e,t){const r=He(n),s=[],o=[],u=[];r.uu.isEmpty()||(r.uu.forEach((d,f)=>{u.push(r.Ru(f,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const b=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(h){s.push(h);const b=Zy.Rs(f.targetId,h);o.push(b)}}))}),await Promise.all(u),r.au.j_(s),await async function(f,h){const m=He(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>fe.forEach(h,_=>fe.forEach(_.ds,x=>m.persistence.referenceDelegate.addReference(b,_.targetId,x)).next(()=>fe.forEach(_.As,x=>m.persistence.referenceDelegate.removeReference(b,_.targetId,x)))))}catch(b){if(!zl(b))throw b;Se(Jy,"Failed to update sequence numbers: "+b)}for(const b of h){const _=b.targetId;if(!b.fromCache){const x=m.xs.get(_),w=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(w);m.xs=m.xs.insert(_,C)}}}(r.localStore,o))}async function t4(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Se(o0,"User change. New user:",e.toKey());const r=await bA(t.localStore,e);t.currentUser=e,function(o,u){o.Eu.forEach(d=>{d.forEach(f=>{f.reject(new Te(he.CANCELLED,u))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jc(t,r.ks)}}function n4(n,e){const t=He(n),r=t.Pu.get(e);if(r&&r._u)return Je().add(r.key);{let s=Je();const o=t.cu.get(e);if(!o)return s;for(const u of o){const d=t.uu.get(u);s=s.unionWith(d.view.Ya)}return s}}function UA(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WL.bind(null,e),e.au.j_=UL.bind(null,e.eventManager),e.au.Vu=BL.bind(null,e.eventManager),e}function r4(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JL.bind(null,e),e}class Ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=dp(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return oL(this.persistence,new iL,e.initialUser,this.serializer)}yu(e){return new yA(Wy.fi,this.serializer)}pu(e){return new pL}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ah.provider={build:()=>new Ah};class i4 extends Ah{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){dt(this.persistence.referenceDelegate instanceof Sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new HV(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Yn.withCacheSize(this.cacheSizeBytes):Yn.DEFAULT;return new yA(r=>Sh.fi(r,t),this.serializer)}}class $v{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t4.bind(null,this.syncEngine),await VL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jL}()}createDatastore(e){const t=dp(e.databaseInfo.databaseId),r=function(o){return new bL(o)}(e.databaseInfo);return function(o,u,d,f){return new xL(o,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,d){return new TL(r,s,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>zx(this.syncEngine,t,0),function(){return Vx.C()?new Vx:new mL}())}createSyncEngine(e,t){return function(s,o,u,d,f,h,m){const b=new qL(s,o,u,d,f,h);return m&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=He(s);Se(lo,"RemoteStore shutting down."),o.Ta.add(5),await Zc(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}$v.provider={build:()=>new $v};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="FirestoreClient";class s4{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Rn.UNAUTHENTICATED,this.clientId=I1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Se(ma,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Se(ma,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=s0(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yg(n,e){n.asyncQueue.verifyOperationInProgress(),Se(ma,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await bA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function qx(n,e){n.asyncQueue.verifyOperationInProgress();const t=await a4(n);Se(ma,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>jx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>jx(e.remoteStore,s)),n._onlineComponents=e}async function a4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Se(ma,"Using user provided OfflineComponentProvider");try{await Yg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Cl("Error using user provided cache. Falling back to memory cache: "+t),await Yg(n,new Ah)}}else Se(ma,"Using default OfflineComponentProvider"),await Yg(n,new i4(void 0));return n._offlineComponents}async function FA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Se(ma,"Using user provided OnlineComponentProvider"),await qx(n,n._uninitializedComponentsProvider._online)):(Se(ma,"Using default OnlineComponentProvider"),await qx(n,new $v))),n._onlineComponents}function o4(n){return FA(n).then(e=>e.syncEngine)}async function zA(n){const e=await FA(n),t=e.eventManager;return t.onListen=$L.bind(null,e.syncEngine),t.onUnlisten=KL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=QL.bind(null,e.syncEngine),t}function l4(n,e,t={}){const r=new us;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,h){const m=new BA({next:_=>{m.Cu(),u.enqueueAndForget(()=>NA(o,b));const x=_.docs.has(d);!x&&_.fromCache?h.reject(new Te(he.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&_.fromCache&&f&&f.source==="server"?h.reject(new Te(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),b=new OA(qy(d.path),m,{includeMetadataChanges:!0,La:!0});return IA(o,b)}(await zA(n),n.asyncQueue,e,t,r)),r.promise}function u4(n,e,t={}){const r=new us;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,h){const m=new BA({next:_=>{m.Cu(),u.enqueueAndForget(()=>NA(o,b)),_.fromCache&&f.source==="server"?h.reject(new Te(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),b=new OA(d,m,{includeMetadataChanges:!0,La:!0});return IA(o,b)}(await zA(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(n,e,t){if(!t)throw new Te(he.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function c4(n,e,t,r){if(e===!0&&r===!0)throw new Te(he.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Gx(n){if(!Me.isDocumentKey(n))throw new Te(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yx(n){if(Me.isDocumentKey(n))throw new Te(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function pp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue(12329,{type:typeof n})}function Yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=pp(n);throw new Te(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="firestore.googleapis.com",Kx=!0;class Qx{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$A,this.ssl=Kx}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Kx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FV)throw new Te(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}c4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Te(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bk;switch(r.type){case"firstParty":return new xk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=$x.get(t);r&&(Se("ComponentProvider","Removing Datastore"),$x.delete(t),r.terminate())}(this),Promise.resolve()}}function d4(n,e,t,r={}){var s;n=Yr(n,mp);const o=po(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;o&&(wy(`https://${f}`),xy("Firestore",!0)),u.host!==$A&&u.host!==f&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!ro(h,d)&&(n._setSettings(h),r.mockUserToken)){let m,b;if(typeof r.mockUserToken=="string")m=r.mockUserToken,b=Rn.MOCK_USER;else{m=DT(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Te(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Rn(_)}n._authCredentials=new _k(new C1(m,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ql(this.firestore,e,this._query)}}class Ln{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class la extends ql{constructor(e,t,r){super(e,t,qy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new Me(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function jn(n,e,...t){if(n=St(n),qA("collection","path",e),n instanceof mp){const r=Tt.fromString(e,...t);return Yx(r),new la(n,null,r)}{if(!(n instanceof Ln||n instanceof la))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return Yx(r),new la(n.firestore,null,r)}}function pr(n,e,...t){if(n=St(n),arguments.length===1&&(e=I1.newId()),qA("doc","path",e),n instanceof mp){const r=Tt.fromString(e,...t);return Gx(r),new Ln(n,null,new Me(r))}{if(!(n instanceof Ln||n instanceof la))throw new Te(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return Gx(r),new Ln(n.firestore,n instanceof la?n.converter:null,new Me(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="AsyncQueue";class Wx{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new EA(this,"async_queue_retry"),this.ec=()=>{const r=Gg();r&&Se(Xx,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=Gg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Gg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new us;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!zl(e))throw e;Se(Xx,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,ps("INTERNAL UNHANDLED ERROR: ",Zx(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const s=i0.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(s),s}nc(){this.Ju&&Ue(47125,{_c:Zx(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function Zx(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class yo extends mp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new Wx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wx(e),this._firestoreClient=void 0,await e}}}function f4(n,e){const t=typeof n=="object"?n:Ay(),r=typeof n=="string"?n:bh,s=Zh(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=NT("firestore");o&&d4(s,...o)}return s}function u0(n){if(n._terminated)throw new Te(he.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||h4(n),n._firestoreClient}function h4(n){var e,t,r;const s=n._freezeSettings(),o=function(d,f,h,m){return new jk(d,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,HA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new s4(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dl(xn.fromBase64String(e))}catch(t){throw new Te(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Dl(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Te(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=/^__.*__$/;class m4{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xc(e,this.data,t,this.fieldTransforms)}}class GA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue(40011,{hc:n})}}class f0{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new f0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ch(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(YA(this.hc)&&p4.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class g4{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||dp(e)}gc(e,t,r,s=!1){return new f0({hc:e,methodName:t,fc:r,path:wn.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vp(n){const e=n._freezeSettings(),t=dp(n._databaseId);return new g4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function KA(n,e,t,r,s,o={}){const u=n.gc(o.merge||o.mergeFields?2:0,e,t,s);m0("Data must be an object, but it was:",u,r);const d=QA(r,u);let f,h;if(o.merge)f=new dr(u.fieldMask),h=u.fieldTransforms;else if(o.mergeFields){const m=[];for(const b of o.mergeFields){const _=Gv(e,b,t);if(!u.contains(_))throw new Te(he.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);WA(m,_)||m.push(_)}f=new dr(m),h=u.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,h=u.fieldTransforms;return new m4(new Kn(d),f,h)}class yp extends ed{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yp}}class h0 extends ed{_toFieldTransform(e){return new iA(e.path,new Mc)}isEqual(e){return e instanceof h0}}class p0 extends ed{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new kc(e.serializer,J1(e.serializer,this.wc));return new iA(e.path,t)}isEqual(e){return e instanceof p0&&this.wc===e.wc}}function v4(n,e,t,r){const s=n.gc(1,e,t);m0("Data must be an object, but it was:",s,r);const o=[],u=Kn.empty();va(r,(f,h)=>{const m=g0(e,f,t);h=St(h);const b=s.Ac(m);if(h instanceof yp)o.push(m);else{const _=td(h,b);_!=null&&(o.push(m),u.set(m,_))}});const d=new dr(o);return new GA(u,d,s.fieldTransforms)}function y4(n,e,t,r,s,o){const u=n.gc(1,e,t),d=[Gv(e,r,t)],f=[s];if(o.length%2!=0)throw new Te(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(Gv(e,o[_])),f.push(o[_+1]);const h=[],m=Kn.empty();for(let _=d.length-1;_>=0;--_)if(!WA(h,d[_])){const x=d[_];let w=f[_];w=St(w);const C=u.Ac(x);if(w instanceof yp)h.push(x);else{const I=td(w,C);I!=null&&(h.push(x),m.set(x,I))}}const b=new dr(h);return new GA(m,b,u.fieldTransforms)}function b4(n,e,t,r=!1){return td(t,n.gc(r?4:3,e))}function td(n,e){if(XA(n=St(n)))return m0("Unsupported field value:",e,n),QA(n,e);if(n instanceof ed)return function(r,s){if(!YA(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const d of r){let f=td(d,s.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return J1(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=rn.fromDate(r);return{timestampValue:xh(s.serializer,o)}}if(r instanceof rn){const o=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(s.serializer,o)}}if(r instanceof c0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dl)return{bytesValue:cA(s.serializer,r._byteString)};if(r instanceof Ln){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof d0)return function(u,d){return{mapValue:{fields:{[L1]:{stringValue:j1},[_h]:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw d.Vc("VectorValues must only contain numeric values.");return $y(d.serializer,h)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${pp(r)}`)}(n,e)}function QA(n,e){const t={};return O1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,(r,s)=>{const o=td(s,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function XA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rn||n instanceof c0||n instanceof Dl||n instanceof Ln||n instanceof ed||n instanceof d0)}function m0(n,e,t){if(!XA(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=pp(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function Gv(n,e,t){if((e=St(e))instanceof gp)return e._internalPath;if(typeof e=="string")return g0(n,e);throw Ch("Field path arguments must be of type string or ",n,!1,void 0,t)}const _4=new RegExp("[~\\*/\\[\\]]");function g0(n,e,t){if(e.search(_4)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gp(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ch(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new Te(he.INVALID_ARGUMENT,d+n+f)}function WA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(v0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class E4 extends ZA{data(){return super.data()}}function v0(n,e){return typeof e=="string"?g0(n,e):e instanceof gp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Te(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y0{}class x4 extends y0{}function bp(n,e,...t){let r=[];e instanceof y0&&r.push(e),r=r.concat(t),function(o){const u=o.filter(f=>f instanceof b0).length,d=o.filter(f=>f instanceof _p).length;if(u>1||u>0&&d>0)throw new Te(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class _p extends x4{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new _p(e,t,r)}_apply(e){const t=this._parse(e);return JA(e._query,t),new ql(e.firestore,e.converter,kv(e._query,t))}_parse(e){const t=vp(e.firestore);return function(o,u,d,f,h,m,b){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Te(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){eS(b,m);const w=[];for(const C of b)w.push(Jx(f,o,C));_={arrayValue:{values:w}}}else _=Jx(f,o,b)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||eS(b,m),_=b4(d,u,b,m==="in"||m==="not-in");return Qt.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xl(n,e,t){const r=e,s=v0("where",n);return _p._create(s,r,t)}class b0 extends y0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new b0(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let u=s;const d=o.getFlattenedFilters();for(const f of d)JA(u,f),u=kv(u,f)}(e._query,t),new ql(e.firestore,e.converter,kv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Jx(n,e,t){if(typeof(t=St(t))=="string"){if(t==="")throw new Te(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G1(e)&&t.indexOf("/")!==-1)throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tt.fromString(t));if(!Me.isDocumentKey(r))throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return px(n,new Me(r))}if(t instanceof Ln)return px(n,t._key);throw new Te(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pp(t)}.`)}function eS(n,e){if(!Array.isArray(n)||n.length===0)throw new Te(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JA(n,e){const t=function(s,o){for(const u of s)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Te(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class S4{convertValue(e,t="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return va(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[_h].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Ut(u.doubleValue));return new d0(o)}convertGeoPoint(e){return new c0(Ut(e.latitude),Ut(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){const t=da(e);return new rn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tt.fromString(e);dt(gA(r),9688,{name:e});const s=new Nc(r.get(1),r.get(3)),o=new Me(r.popFirst(5));return s.isEqual(t)||ps(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tC extends ZA{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(v0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class th extends tC{data(e={}){return super.data(e)}}class T4{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new fc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new th(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(d=>{const f=new th(s._firestore,s._userDataWriter,d.doc.key,d.doc,new fc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new th(s._firestore,s._userDataWriter,d.doc.key,d.doc,new fc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return d.type!==0&&(h=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),m=u.indexOf(d.doc.key)),{type:A4(d.type),doc:f,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function A4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(n){n=Yr(n,Ln);const e=Yr(n.firestore,yo);return l4(u0(e),n._key).then(t=>C4(e,n,t))}class nC extends S4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}function Xr(n){n=Yr(n,ql);const e=Yr(n.firestore,yo),t=u0(e),r=new nC(e);return w4(n._query),u4(t,n._query).then(s=>new T4(e,r,n,s))}function rC(n,e,t){n=Yr(n,Ln);const r=Yr(n.firestore,yo),s=eC(n.converter,e);return xp(r,[KA(vp(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Ir.none())])}function nd(n,e,t,...r){n=Yr(n,Ln);const s=Yr(n.firestore,yo),o=vp(s);let u;return u=typeof(e=St(e))=="string"||e instanceof gp?y4(o,"updateDoc",n._key,e,t,r):v4(o,"updateDoc",n._key,e),xp(s,[u.toMutation(n._key,Ir.exists(!0))])}function _0(n){return xp(Yr(n.firestore,yo),[new Gy(n._key,Ir.none())])}function wp(n,e){const t=Yr(n.firestore,yo),r=pr(n),s=eC(n.converter,e);return xp(t,[KA(vp(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}function xp(n,e){return function(r,s){const o=new us;return r.asyncQueue.enqueueAndForget(async()=>XL(await o4(r),s,o)),o.promise}(u0(n),e)}function C4(n,e,t){const r=t.docs.get(e._key),s=new nC(n);return new tC(n,s,e._key,r,new fc(t.hasPendingWrites,t.fromCache),e.converter)}function R4(){return new h0("serverTimestamp")}function I4(n){return new p0("increment",n)}(function(e,t=!0){(function(s){Bl=s})(mo),io(new ua("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new yo(new Ek(r.getProvider("auth-internal")),new Sk(u,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Te(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nc(h.options.projectId,m)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),_i(nx,rx,e),_i(nx,rx,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firebasestorage.googleapis.com",sC="storageBucket",N4=2*60*1e3,O4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt extends Ci{constructor(e,t,r=0){super(Kg(e),`Firebase Storage: ${t} (${Kg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pt;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pt||(Pt={}));function Kg(n){return"storage/"+n}function E0(){const n="An unknown error occurred, please check the error payload for server response.";return new kt(Pt.UNKNOWN,n)}function M4(n){return new kt(Pt.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function D4(n){return new kt(Pt.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function P4(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kt(Pt.UNAUTHENTICATED,n)}function k4(){return new kt(Pt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function V4(n){return new kt(Pt.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function L4(){return new kt(Pt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function j4(){return new kt(Pt.CANCELED,"User canceled the upload/download.")}function U4(n){return new kt(Pt.INVALID_URL,"Invalid URL '"+n+"'.")}function B4(n){return new kt(Pt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function F4(){return new kt(Pt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+sC+"' property when initializing the app?")}function z4(){return new kt(Pt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function H4(){return new kt(Pt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function q4(n){return new kt(Pt.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Yv(n){return new kt(Pt.INVALID_ARGUMENT,n)}function aC(){return new kt(Pt.APP_DELETED,"The Firebase app was deleted.")}function $4(n){return new kt(Pt.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ec(n,e){return new kt(Pt.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function tc(n){throw new kt(Pt.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=fr.makeFromUrl(e,t)}catch{return new fr(e,"")}if(r.path==="")return r;throw B4(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function h(z){z.path_=decodeURIComponent(z.path)}const m="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",x=new RegExp(`^https?://${b}/${m}/b/${s}/o${_}`,"i"),w={bucket:1,path:3},C=t===iC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",T=new RegExp(`^https?://${C}/${s}/${I}`,"i"),N=[{regex:d,indices:f,postModify:o},{regex:x,indices:w,postModify:h},{regex:T,indices:{bucket:1,path:2},postModify:h}];for(let z=0;z<N.length;z++){const V=N[z],K=V.regex.exec(e);if(K){const P=K[V.indices.bucket];let O=K[V.indices.path];O||(O=""),r=new fr(P,O),V.postModify(r);break}}if(r==null)throw U4(e);return r}}class G4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(n,e,t){let r=1,s=null,o=null,u=!1,d=0;function f(){return d===2}let h=!1;function m(...I){h||(h=!0,e.apply(null,I))}function b(I){s=setTimeout(()=>{s=null,n(x,f())},I)}function _(){o&&clearTimeout(o)}function x(I,...T){if(h){_();return}if(I){_(),m.call(null,I,...T);return}if(f()||u){_(),m.call(null,I,...T);return}r<64&&(r*=2);let N;d===1?(d=2,N=0):N=(r+Math.random())*1e3,b(N)}let w=!1;function C(I){w||(w=!0,_(),!h&&(s!==null?(I||(d=2),clearTimeout(s),b(0)):I||(d=1)))}return b(0),o=setTimeout(()=>{u=!0,C(!0)},t),C}function K4(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(n){return n!==void 0}function X4(n){return typeof n=="object"&&!Array.isArray(n)}function w0(n){return typeof n=="string"||n instanceof String}function tS(n){return x0()&&n instanceof Blob}function x0(){return typeof Blob<"u"}function nS(n,e,t,r){if(r<e)throw Yv(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Yv(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function oC(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var to;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(to||(to={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e,t,r,s,o,u,d,f,h,m,b,_=!0,x=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,C)=>{this.resolve_=w,this.reject_=C,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new kf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=d=>{const f=d.loaded,h=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,h)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const d=o.getErrorCode()===to.NO_ERROR,f=o.getStatus();if(!d||W4(f,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===to.ABORT;r(!1,new kf(!1,null,m));return}const h=this.successCodes_.indexOf(f)!==-1;r(!0,new kf(h,o))})},t=(r,s)=>{const o=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());Q4(f)?o(f):o()}catch(f){u(f)}else if(d!==null){const f=E0();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?aC():j4();u(f)}else{const f=L4();u(f)}};this.canceled_?t(!1,new kf(!1,null,!0)):this.backoffId_=Y4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class kf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function J4(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function ej(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tj(n,e){e&&(n["X-Firebase-GMPID"]=e)}function nj(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function rj(n,e,t,r,s,o,u=!0,d=!1){const f=oC(n.urlParams),h=n.url+f,m=Object.assign({},n.headers);return tj(m,e),J4(m,t),ej(m,o),nj(m,r),new Z4(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function sj(...n){const e=ij();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(x0())return new Blob(n);throw new kt(Pt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function aj(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(n){if(typeof atob>"u")throw q4("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qg{constructor(e,t){this.data=e,this.contentType=t||null}}function lj(n,e){switch(n){case vi.RAW:return new Qg(lC(e));case vi.BASE64:case vi.BASE64URL:return new Qg(uC(n,e));case vi.DATA_URL:return new Qg(cj(e),dj(e))}throw E0()}function lC(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=n.charCodeAt(++t);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function uj(n){let e;try{e=decodeURIComponent(n)}catch{throw Ec(vi.DATA_URL,"Malformed data URL.")}return lC(e)}function uC(n,e){switch(n){case vi.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Ec(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case vi.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Ec(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=oj(e)}catch(s){throw s.message.includes("polyfill")?s:Ec(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class cC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ec(vi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=fj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function cj(n){const e=new cC(n);return e.base64?uC(vi.BASE64,e.rest):uj(e.rest)}function dj(n){return new cC(n).contentType}function fj(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,t){let r=0,s="";tS(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(tS(this.data_)){const r=this.data_,s=aj(r,e,t);return s===null?null:new ta(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new ta(r,!0)}}static getBlob(...e){if(x0()){const t=e.map(r=>r instanceof ta?r.data_:r);return new ta(sj.apply(null,t))}else{const t=e.map(u=>w0(u)?lj(vi.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)s[o++]=u[d]}),new ta(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(n){let e;try{e=JSON.parse(n)}catch{return null}return X4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function pj(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function fC(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(n,e){return e}class kn{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||mj}}let Vf=null;function gj(n){return!w0(n)||n.length<2?n:fC(n)}function hC(){if(Vf)return Vf;const n=[];n.push(new kn("bucket")),n.push(new kn("generation")),n.push(new kn("metageneration")),n.push(new kn("name","fullPath",!0));function e(o,u){return gj(u)}const t=new kn("name");t.xform=e,n.push(t);function r(o,u){return u!==void 0?Number(u):u}const s=new kn("size");return s.xform=r,n.push(s),n.push(new kn("timeCreated")),n.push(new kn("updated")),n.push(new kn("md5Hash",null,!0)),n.push(new kn("cacheControl",null,!0)),n.push(new kn("contentDisposition",null,!0)),n.push(new kn("contentEncoding",null,!0)),n.push(new kn("contentLanguage",null,!0)),n.push(new kn("contentType",null,!0)),n.push(new kn("metadata","customMetadata",!0)),Vf=n,Vf}function vj(n,e){function t(){const r=n.bucket,s=n.fullPath,o=new fr(r,s);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function yj(n,e,t){const r={};r.type="file";const s=t.length;for(let o=0;o<s;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return vj(r,n),r}function pC(n,e,t){const r=dC(e);return r===null?null:yj(n,r,t)}function bj(n,e,t,r){const s=dC(e);if(s===null||!w0(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(h=>{const m=n.bucket,b=n.fullPath,_="/b/"+u(m)+"/o/"+u(b),x=S0(_,t,r),w=oC({alt:"media",token:h});return x+w})[0]}function _j(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class mC{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(n){if(!n)throw E0()}function Ej(n,e){function t(r,s){const o=pC(n,s,e);return gC(o!==null),o}return t}function wj(n,e){function t(r,s){const o=pC(n,s,e);return gC(o!==null),bj(o,s,n.host,n._protocol)}return t}function vC(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=k4():s=P4():t.getStatus()===402?s=D4(n.bucket):t.getStatus()===403?s=V4(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function xj(n){const e=vC(n);function t(r,s){let o=e(r,s);return r.getStatus()===404&&(o=M4(n.path)),o.serverResponse=s.serverResponse,o}return t}function Sj(n,e,t){const r=e.fullServerUrl(),s=S0(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,d=new mC(s,o,wj(n,t),u);return d.errorHandler=xj(e),d}function Tj(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function Aj(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=Tj(null,e)),r}function Cj(n,e,t,r,s){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let N="";for(let z=0;z<2;z++)N=N+Math.random().toString().slice(2);return N}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const h=Aj(e,r,s),m=_j(h,t),b="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+f+`\r
Content-Type: `+h.contentType+`\r
\r
`,_=`\r
--`+f+"--",x=ta.getBlob(b,r,_);if(x===null)throw z4();const w={name:h.fullPath},C=S0(o,n.host,n._protocol),I="POST",T=n.maxUploadRetryTime,S=new mC(C,I,Ej(n,t),T);return S.urlParams=w,S.headers=u,S.body=x.uploadData(),S.errorHandler=vC(e),S}class Rj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=to.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=to.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=to.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,o){if(this.sent_)throw tc("cannot .send() more than once");if(po(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ij extends Rj{initXhr(){this.xhr_.responseType="text"}}function yC(){return new Ij}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t){this._service=e,t instanceof fr?this._location=t:this._location=fr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new uo(e,t)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return fC(this._location.path)}get storage(){return this._service}get parent(){const e=hj(this._location.path);if(e===null)return null;const t=new fr(this._location.bucket,e);return new uo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $4(e)}}function Nj(n,e,t){n._throwIfRoot("uploadBytes");const r=Cj(n.storage,n._location,hC(),new ta(e,!0),t);return n.storage.makeRequestWithTokens(r,yC).then(s=>({metadata:s,ref:n}))}function Oj(n){n._throwIfRoot("getDownloadURL");const e=Sj(n.storage,n._location,hC());return n.storage.makeRequestWithTokens(e,yC).then(t=>{if(t===null)throw H4();return t})}function Mj(n,e){const t=pj(n._location.path,e),r=new fr(n._location.bucket,t);return new uo(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(n){return/^[A-Za-z]+:\/\//.test(n)}function Pj(n,e){return new uo(n,e)}function bC(n,e){if(n instanceof T0){const t=n;if(t._bucket==null)throw F4();const r=new uo(t,t._bucket);return e!=null?bC(r,e):r}else return e!==void 0?Mj(n,e):n}function kj(n,e){if(e&&Dj(e)){if(n instanceof T0)return Pj(n,e);throw Yv("To use ref(service, url), the first argument must be a Storage instance.")}else return bC(n,e)}function rS(n,e){const t=e==null?void 0:e[sC];return t==null?null:fr.makeFromBucketSpec(t,n)}function Vj(n,e,t,r={}){n.host=`${e}:${t}`;const s=po(e);s&&(wy(`https://${n.host}`),xy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:DT(o,n.app.options.projectId))}class T0{constructor(e,t,r,s,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=iC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=N4,this._maxUploadRetryTime=O4,this._requests=new Set,s!=null?this._bucket=fr.makeFromBucketSpec(s,this._host):this._bucket=rS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=rS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){nS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){nS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new uo(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new G4(aC());{const u=rj(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const iS="@firebase/storage",sS="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="storage";function EC(n,e,t){return n=St(n),Nj(n,e,t)}function wC(n){return n=St(n),Oj(n)}function xC(n,e){return n=St(n),kj(n,e)}function A0(n=Ay(),e){n=St(n);const r=Zh(n,_C).getImmediate({identifier:e}),s=NT("storage");return s&&Lj(r,...s),r}function Lj(n,e,t,r={}){Vj(n,e,t,r)}function jj(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new T0(t,r,s,e,mo)}function Uj(){io(new ua(_C,jj,"PUBLIC").setMultipleInstances(!0)),_i(iS,sS,""),_i(iS,sS,"esm2017")}Uj();const Bj={apiKey:"AIzaSyCJ_LrvyuzvpwBy3XnY_xhOrN2qXMLylv8",authDomain:"nikosperu-store.firebaseapp.com",projectId:"nikosperu-store",storageBucket:"nikosperu-store.firebasestorage.app",messagingSenderId:"63793384667",appId:"1:63793384667:web:cbc4442746cd7d6d4ad0fe"},C0=VT(Bj),wt=f4(C0),hn=vk(C0);A0(C0);function Sp(){const[n,e]=D.useState(null),[t,r]=D.useState(!0);return D.useEffect(()=>{const s=ep(hn,o=>{e(o),r(!1)});return()=>s()},[]),{user:n,loading:t}}function Fj({setIsMobileMenuOpen:n}){const{user:e}=Sp();return v.jsxs("div",{className:"header-left",children:[v.jsx("div",{className:"menu-bar",children:v.jsx("a",{href:"#",onClick:t=>{t.preventDefault(),n(!0)},className:"flex md992:hidden menu-trigger",children:v.jsx("i",{className:"bx bx-menu"})})}),v.jsx("div",{className:"hidden md992:block list-inline",children:v.jsx("ul",{className:"list-none",children:v.jsx("li",{className:e?"w-[280px]":"w-[170px]"})})})]})}function zj(){return v.jsxs("div",{className:"header-center",children:[v.jsxs("nav",{className:"hidden md992:grid menu",children:[v.jsxs("ul",{className:"list-none",children:[v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"/nikos",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"/nikos/productos",children:"Productos"})})]}),v.jsxs("ul",{className:"list-none",children:[v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"/nikos/#marcas",children:"Marcas"})}),v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"#contacto",children:"Contacto"})})]})]}),v.jsx("div",{className:"flex pointer-events-none items-center justify-center font-[Anton] uppercase italic text-[40px] absolute top-0 right-0 left-0",children:v.jsx("a",{href:"",children:"Nikos"})})]})}const SC=D.createContext();function Hj({children:n}){const[e,t]=D.useState(()=>{const d=localStorage.getItem("carrito");return d?JSON.parse(d):[]});D.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]);const r=d=>{t(f=>{const h=f.findIndex(m=>m.slug===d.slug&&m.talla===d.talla&&m.color===d.color);if(h!==-1){const m=[...f],b=m[h].cantidad+d.cantidad;return m[h].cantidad=Math.min(b,3),m}return[...f,{...d,cantidad:Math.min(d.cantidad,3)}]})},s=(d,f,h)=>{t(m=>m.filter(b=>!(b.slug===d&&b.talla===f&&b.color===h)))},o=()=>{t([])},u=(d,f,h,m)=>{t(b=>b.map(_=>_.slug===d&&_.talla===f&&_.color===h?{..._,cantidad:Math.max(1,Math.min(m,3))}:_))};return v.jsx(SC.Provider,{value:{carrito:e,agregarAlCarrito:r,quitarDelCarrito:s,vaciarCarrito:o,actualizarCantidad:u},children:n})}function Tp(){return D.useContext(SC)}const TC=D.createContext();function qj({children:n}){const[e,t]=D.useState(!1),[r,s]=D.useState(!1),o=()=>t(!0),u=()=>{s(!0),setTimeout(()=>{t(!1),s(!1)},400)};return v.jsx(TC.Provider,{value:{mostrarCarrito:e,animatingClose:r,abrirCarrito:o,cerrarModalConAnimacion:u},children:n})}function R0(){return D.useContext(TC)}function $j(){const{user:n}=Sp(),[e,t]=D.useState(!1),r=D.useRef(null),s=Xt(),o=()=>t(!e),u=async()=>{await ky(hn)};return D.useEffect(()=>{const d=f=>{r.current&&!r.current.contains(f.target)&&t(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),n?v.jsxs("div",{className:"relative inline-block text-left",ref:r,children:[v.jsxs("button",{onClick:o,className:"cursor-pointer text-black font-medium hover:underline max-w-[150px] overflow-hidden text-ellipsis whitespace-nowrap",children:["Hola, ",n.displayName]}),e&&v.jsxs("div",{className:`absolute right-0 w-48 bg-white border border-gray-200 shadow-md z-50
            transition transform duration-200 ease-out origin-top scale-100 opacity-100
            animate-fade-in`,children:[v.jsx("button",{onClick:()=>{t(!1),s("/mi-perfil")},className:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",children:"Ver perfil"}),v.jsx("hr",{className:"border-t border-gray-200"}),v.jsx("button",{onClick:()=>{t(!1),s("/mis-compras")},className:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",children:"Mis compras"}),v.jsx("hr",{className:"border-t border-gray-200"}),v.jsx("button",{onClick:u,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Cerrar sesión"})]})]}):null}function Gj({setIsSearchOpen:n}){const{abrirCarrito:e}=R0(),{carrito:t}=Tp(),{user:r}=Sp();return v.jsx("div",{className:"header-right",children:v.jsx("div",{className:"list-inline",children:v.jsxs("ul",{className:"list-none",children:[v.jsx("li",{className:"flex",children:v.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),n(!0)},children:v.jsx("i",{className:"bx bx-search"})})}),v.jsx("li",{className:"flex",children:v.jsxs("button",{onClick:e,className:"flex relative text-[24px] py-0 px-[24px]",children:[v.jsx("i",{className:"bx bx-cart text-2xl"}),t.length>0&&v.jsx("span",{className:"absolute -top-2 right-[10px] py-0 px-1 bg-red-500 text-white text-xs px-1 rounded-full",children:t.length})]})}),v.jsx("li",{className:"hidden md992:flex",children:r?v.jsx($j,{}):v.jsx("a",{href:"/nikos/login",children:v.jsx("i",{className:"bx bx-user"})})})]})})})}function gs(n){return Array.isArray?Array.isArray(n):RC(n)==="[object Array]"}function Yj(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function Kj(n){return n==null?"":Yj(n)}function yi(n){return typeof n=="string"}function AC(n){return typeof n=="number"}function Qj(n){return n===!0||n===!1||Xj(n)&&RC(n)=="[object Boolean]"}function CC(n){return typeof n=="object"}function Xj(n){return CC(n)&&n!==null}function ur(n){return n!=null}function Xg(n){return!n.trim().length}function RC(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const Wj="Incorrect 'index' type",Zj=n=>`Invalid value for key ${n}`,Jj=n=>`Pattern length exceeds max of ${n}.`,e3=n=>`Missing ${n} property in key`,t3=n=>`Property 'weight' in key '${n}' must be a positive integer`,aS=Object.prototype.hasOwnProperty;class n3{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(r=>{let s=IC(r);this._keys.push(s),this._keyMap[s.id]=s,t+=s.weight}),this._keys.forEach(r=>{r.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function IC(n){let e=null,t=null,r=null,s=1,o=null;if(yi(n)||gs(n))r=n,e=oS(n),t=Kv(n);else{if(!aS.call(n,"name"))throw new Error(e3("name"));const u=n.name;if(r=u,aS.call(n,"weight")&&(s=n.weight,s<=0))throw new Error(t3(u));e=oS(u),t=Kv(u),o=n.getFn}return{path:e,id:t,weight:s,src:r,getFn:o}}function oS(n){return gs(n)?n:n.split(".")}function Kv(n){return gs(n)?n.join("."):n}function r3(n,e){let t=[],r=!1;const s=(o,u,d)=>{if(ur(o))if(!u[d])t.push(o);else{let f=u[d];const h=o[f];if(!ur(h))return;if(d===u.length-1&&(yi(h)||AC(h)||Qj(h)))t.push(Kj(h));else if(gs(h)){r=!0;for(let m=0,b=h.length;m<b;m+=1)s(h[m],u,d+1)}else u.length&&s(h,u,d+1)}};return s(n,yi(e)?e.split("."):e,0),r?t:t[0]}const i3={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},s3={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},a3={location:0,threshold:.6,distance:100},o3={useExtendedSearch:!1,getFn:r3,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Fe={...s3,...i3,...a3,...o3};const l3=/[^ ]+/g;function u3(n=1,e=3){const t=new Map,r=Math.pow(10,e);return{get(s){const o=s.match(l3).length;if(t.has(o))return t.get(o);const u=1/Math.pow(o,.5*n),d=parseFloat(Math.round(u*r)/r);return t.set(o,d),d},clear(){t.clear()}}}class I0{constructor({getFn:e=Fe.getFn,fieldNormWeight:t=Fe.fieldNormWeight}={}){this.norm=u3(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,r)=>{this._keysMap[t.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,yi(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();yi(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,r=this.size();t<r;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!ur(e)||Xg(e))return;let r={v:e,i:t,n:this.norm.get(e)};this.records.push(r)}_addObject(e,t){let r={i:t,$:{}};this.keys.forEach((s,o)=>{let u=s.getFn?s.getFn(e):this.getFn(e,s.path);if(ur(u)){if(gs(u)){let d=[];const f=[{nestedArrIndex:-1,value:u}];for(;f.length;){const{nestedArrIndex:h,value:m}=f.pop();if(ur(m))if(yi(m)&&!Xg(m)){let b={v:m,i:h,n:this.norm.get(m)};d.push(b)}else gs(m)&&m.forEach((b,_)=>{f.push({nestedArrIndex:_,value:b})})}r.$[o]=d}else if(yi(u)&&!Xg(u)){let d={v:u,n:this.norm.get(u)};r.$[o]=d}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function NC(n,e,{getFn:t=Fe.getFn,fieldNormWeight:r=Fe.fieldNormWeight}={}){const s=new I0({getFn:t,fieldNormWeight:r});return s.setKeys(n.map(IC)),s.setSources(e),s.create(),s}function c3(n,{getFn:e=Fe.getFn,fieldNormWeight:t=Fe.fieldNormWeight}={}){const{keys:r,records:s}=n,o=new I0({getFn:e,fieldNormWeight:t});return o.setKeys(r),o.setIndexRecords(s),o}function Lf(n,{errors:e=0,currentLocation:t=0,expectedLocation:r=0,distance:s=Fe.distance,ignoreLocation:o=Fe.ignoreLocation}={}){const u=e/n.length;if(o)return u;const d=Math.abs(r-t);return s?u+d/s:d?1:u}function d3(n=[],e=Fe.minMatchCharLength){let t=[],r=-1,s=-1,o=0;for(let u=n.length;o<u;o+=1){let d=n[o];d&&r===-1?r=o:!d&&r!==-1&&(s=o-1,s-r+1>=e&&t.push([r,s]),r=-1)}return n[o-1]&&o-r>=e&&t.push([r,o-1]),t}const Za=32;function f3(n,e,t,{location:r=Fe.location,distance:s=Fe.distance,threshold:o=Fe.threshold,findAllMatches:u=Fe.findAllMatches,minMatchCharLength:d=Fe.minMatchCharLength,includeMatches:f=Fe.includeMatches,ignoreLocation:h=Fe.ignoreLocation}={}){if(e.length>Za)throw new Error(Jj(Za));const m=e.length,b=n.length,_=Math.max(0,Math.min(r,b));let x=o,w=_;const C=d>1||f,I=C?Array(b):[];let T;for(;(T=n.indexOf(e,w))>-1;){let P=Lf(e,{currentLocation:T,expectedLocation:_,distance:s,ignoreLocation:h});if(x=Math.min(P,x),w=T+m,C){let O=0;for(;O<m;)I[T+O]=1,O+=1}}w=-1;let S=[],N=1,z=m+b;const V=1<<m-1;for(let P=0;P<m;P+=1){let O=0,M=z;for(;O<M;)Lf(e,{errors:P,currentLocation:_+M,expectedLocation:_,distance:s,ignoreLocation:h})<=x?O=M:z=M,M=Math.floor((z-O)/2+O);z=M;let L=Math.max(1,_-M+1),B=u?b:Math.min(_+M,b)+m,F=Array(B+2);F[B+1]=(1<<P)-1;for(let pe=B;pe>=L;pe-=1){let ge=pe-1,G=t[n.charAt(ge)];if(C&&(I[ge]=+!!G),F[pe]=(F[pe+1]<<1|1)&G,P&&(F[pe]|=(S[pe+1]|S[pe])<<1|1|S[pe+1]),F[pe]&V&&(N=Lf(e,{errors:P,currentLocation:ge,expectedLocation:_,distance:s,ignoreLocation:h}),N<=x)){if(x=N,w=ge,w<=_)break;L=Math.max(1,2*_-w)}}if(Lf(e,{errors:P+1,currentLocation:_,expectedLocation:_,distance:s,ignoreLocation:h})>x)break;S=F}const K={isMatch:w>=0,score:Math.max(.001,N)};if(C){const P=d3(I,d);P.length?f&&(K.indices=P):K.isMatch=!1}return K}function h3(n){let e={};for(let t=0,r=n.length;t<r;t+=1){const s=n.charAt(t);e[s]=(e[s]||0)|1<<r-t-1}return e}const Rh=String.prototype.normalize?n=>n.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):n=>n;class OC{constructor(e,{location:t=Fe.location,threshold:r=Fe.threshold,distance:s=Fe.distance,includeMatches:o=Fe.includeMatches,findAllMatches:u=Fe.findAllMatches,minMatchCharLength:d=Fe.minMatchCharLength,isCaseSensitive:f=Fe.isCaseSensitive,ignoreDiacritics:h=Fe.ignoreDiacritics,ignoreLocation:m=Fe.ignoreLocation}={}){if(this.options={location:t,threshold:r,distance:s,includeMatches:o,findAllMatches:u,minMatchCharLength:d,isCaseSensitive:f,ignoreDiacritics:h,ignoreLocation:m},e=f?e:e.toLowerCase(),e=h?Rh(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const b=(x,w)=>{this.chunks.push({pattern:x,alphabet:h3(x),startIndex:w})},_=this.pattern.length;if(_>Za){let x=0;const w=_%Za,C=_-w;for(;x<C;)b(this.pattern.substr(x,Za),x),x+=Za;if(w){const I=_-Za;b(this.pattern.substr(I),I)}}else b(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:r,includeMatches:s}=this.options;if(e=t?e:e.toLowerCase(),e=r?Rh(e):e,this.pattern===e){let C={isMatch:!0,score:0};return s&&(C.indices=[[0,e.length-1]]),C}const{location:o,distance:u,threshold:d,findAllMatches:f,minMatchCharLength:h,ignoreLocation:m}=this.options;let b=[],_=0,x=!1;this.chunks.forEach(({pattern:C,alphabet:I,startIndex:T})=>{const{isMatch:S,score:N,indices:z}=f3(e,C,I,{location:o+T,distance:u,threshold:d,findAllMatches:f,minMatchCharLength:h,includeMatches:s,ignoreLocation:m});S&&(x=!0),_+=N,S&&z&&(b=[...b,...z])});let w={isMatch:x,score:x?_/this.chunks.length:1};return x&&s&&(w.indices=b),w}}class ba{constructor(e){this.pattern=e}static isMultiMatch(e){return lS(e,this.multiRegex)}static isSingleMatch(e){return lS(e,this.singleRegex)}search(){}}function lS(n,e){const t=n.match(e);return t?t[1]:null}class p3 extends ba{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class m3 extends ba{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class g3 extends ba{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class v3 extends ba{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class y3 extends ba{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class b3 extends ba{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class MC extends ba{constructor(e,{location:t=Fe.location,threshold:r=Fe.threshold,distance:s=Fe.distance,includeMatches:o=Fe.includeMatches,findAllMatches:u=Fe.findAllMatches,minMatchCharLength:d=Fe.minMatchCharLength,isCaseSensitive:f=Fe.isCaseSensitive,ignoreDiacritics:h=Fe.ignoreDiacritics,ignoreLocation:m=Fe.ignoreLocation}={}){super(e),this._bitapSearch=new OC(e,{location:t,threshold:r,distance:s,includeMatches:o,findAllMatches:u,minMatchCharLength:d,isCaseSensitive:f,ignoreDiacritics:h,ignoreLocation:m})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class DC extends ba{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,r;const s=[],o=this.pattern.length;for(;(r=e.indexOf(this.pattern,t))>-1;)t=r+o,s.push([r,t-1]);const u=!!s.length;return{isMatch:u,score:u?0:1,indices:s}}}const Qv=[p3,DC,g3,v3,b3,y3,m3,MC],uS=Qv.length,_3=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,E3="|";function w3(n,e={}){return n.split(E3).map(t=>{let r=t.trim().split(_3).filter(o=>o&&!!o.trim()),s=[];for(let o=0,u=r.length;o<u;o+=1){const d=r[o];let f=!1,h=-1;for(;!f&&++h<uS;){const m=Qv[h];let b=m.isMultiMatch(d);b&&(s.push(new m(b,e)),f=!0)}if(!f)for(h=-1;++h<uS;){const m=Qv[h];let b=m.isSingleMatch(d);if(b){s.push(new m(b,e));break}}}return s})}const x3=new Set([MC.type,DC.type]);class S3{constructor(e,{isCaseSensitive:t=Fe.isCaseSensitive,ignoreDiacritics:r=Fe.ignoreDiacritics,includeMatches:s=Fe.includeMatches,minMatchCharLength:o=Fe.minMatchCharLength,ignoreLocation:u=Fe.ignoreLocation,findAllMatches:d=Fe.findAllMatches,location:f=Fe.location,threshold:h=Fe.threshold,distance:m=Fe.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:o,findAllMatches:d,ignoreLocation:u,location:f,threshold:h,distance:m},e=t?e:e.toLowerCase(),e=r?Rh(e):e,this.pattern=e,this.query=w3(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:o}=this.options;e=s?e:e.toLowerCase(),e=o?Rh(e):e;let u=0,d=[],f=0;for(let h=0,m=t.length;h<m;h+=1){const b=t[h];d.length=0,u=0;for(let _=0,x=b.length;_<x;_+=1){const w=b[_],{isMatch:C,indices:I,score:T}=w.search(e);if(C){if(u+=1,f+=T,r){const S=w.constructor.type;x3.has(S)?d=[...d,...I]:d.push(I)}}else{f=0,u=0,d.length=0;break}}if(u){let _={isMatch:!0,score:f/u};return r&&(_.indices=d),_}}return{isMatch:!1,score:1}}}const Xv=[];function T3(...n){Xv.push(...n)}function Wv(n,e){for(let t=0,r=Xv.length;t<r;t+=1){let s=Xv[t];if(s.condition(n,e))return new s(n,e)}return new OC(n,e)}const Ih={AND:"$and",OR:"$or"},Zv={PATH:"$path",PATTERN:"$val"},Jv=n=>!!(n[Ih.AND]||n[Ih.OR]),A3=n=>!!n[Zv.PATH],C3=n=>!gs(n)&&CC(n)&&!Jv(n),cS=n=>({[Ih.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function PC(n,e,{auto:t=!0}={}){const r=s=>{let o=Object.keys(s);const u=A3(s);if(!u&&o.length>1&&!Jv(s))return r(cS(s));if(C3(s)){const f=u?s[Zv.PATH]:o[0],h=u?s[Zv.PATTERN]:s[f];if(!yi(h))throw new Error(Zj(f));const m={keyId:Kv(f),pattern:h};return t&&(m.searcher=Wv(h,e)),m}let d={children:[],operator:o[0]};return o.forEach(f=>{const h=s[f];gs(h)&&h.forEach(m=>{d.children.push(r(m))})}),d};return Jv(n)||(n=cS(n)),r(n)}function R3(n,{ignoreFieldNorm:e=Fe.ignoreFieldNorm}){n.forEach(t=>{let r=1;t.matches.forEach(({key:s,norm:o,score:u})=>{const d=s?s.weight:null;r*=Math.pow(u===0&&d?Number.EPSILON:u,(d||1)*(e?1:o))}),t.score=r})}function I3(n,e){const t=n.matches;e.matches=[],ur(t)&&t.forEach(r=>{if(!ur(r.indices)||!r.indices.length)return;const{indices:s,value:o}=r;let u={indices:s,value:o};r.key&&(u.key=r.key.src),r.idx>-1&&(u.refIndex=r.idx),e.matches.push(u)})}function N3(n,e){e.score=n.score}function O3(n,e,{includeMatches:t=Fe.includeMatches,includeScore:r=Fe.includeScore}={}){const s=[];return t&&s.push(I3),r&&s.push(N3),n.map(o=>{const{idx:u}=o,d={item:e[u],refIndex:u};return s.length&&s.forEach(f=>{f(o,d)}),d})}class co{constructor(e,t={},r){this.options={...Fe,...t},this.options.useExtendedSearch,this._keyStore=new n3(this.options.keys),this.setCollection(e,r)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof I0))throw new Error(Wj);this._myIndex=t||NC(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){ur(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let r=0,s=this._docs.length;r<s;r+=1){const o=this._docs[r];e(o,r)&&(this.removeAt(r),r-=1,s-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:o,sortFn:u,ignoreFieldNorm:d}=this.options;let f=yi(e)?yi(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return R3(f,{ignoreFieldNorm:d}),o&&f.sort(u),AC(t)&&t>-1&&(f=f.slice(0,t)),O3(f,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(e){const t=Wv(e,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:o,i:u,n:d})=>{if(!ur(o))return;const{isMatch:f,score:h,indices:m}=t.searchIn(o);f&&s.push({item:o,idx:u,matches:[{score:h,value:o,norm:d,indices:m}]})}),s}_searchLogical(e){const t=PC(e,this.options),r=(d,f,h)=>{if(!d.children){const{keyId:b,searcher:_}=d,x=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(f,b),searcher:_});return x&&x.length?[{idx:h,item:f,matches:x}]:[]}const m=[];for(let b=0,_=d.children.length;b<_;b+=1){const x=d.children[b],w=r(x,f,h);if(w.length)m.push(...w);else if(d.operator===Ih.AND)return[]}return m},s=this._myIndex.records,o={},u=[];return s.forEach(({$:d,i:f})=>{if(ur(d)){let h=r(t,d,f);h.length&&(o[f]||(o[f]={idx:f,item:d,matches:[]},u.push(o[f])),h.forEach(({matches:m})=>{o[f].matches.push(...m)}))}}),u}_searchObjectList(e){const t=Wv(e,this.options),{keys:r,records:s}=this._myIndex,o=[];return s.forEach(({$:u,i:d})=>{if(!ur(u))return;let f=[];r.forEach((h,m)=>{f.push(...this._findMatches({key:h,value:u[m],searcher:t}))}),f.length&&o.push({idx:d,item:u,matches:f})}),o}_findMatches({key:e,value:t,searcher:r}){if(!ur(t))return[];let s=[];if(gs(t))t.forEach(({v:o,i:u,n:d})=>{if(!ur(o))return;const{isMatch:f,score:h,indices:m}=r.searchIn(o);f&&s.push({score:h,key:e,value:o,idx:u,norm:d,indices:m})});else{const{v:o,n:u}=t,{isMatch:d,score:f,indices:h}=r.searchIn(o);d&&s.push({score:f,key:e,value:o,norm:u,indices:h})}return s}}co.version="7.1.0";co.createIndex=NC;co.parseIndex=c3;co.config=Fe;co.parseQuery=PC;T3(S3);function M3({isSearchOpen:n,setIsSearchOpen:e,productos:t}){const[r,s]=D.useState(""),[o,u]=D.useState([]),[d,f]=D.useState(!1),h=Xt(),m=D.useMemo(()=>new co(t,{keys:["nombre","descripcion","marca","etiquetas","tipoCalzado","uso","material","origen"],threshold:.3,includeMatches:!0}),[t]),b=(C,I)=>{let T;return(...S)=>{clearTimeout(T),T=setTimeout(()=>C(...S),I)}},_=D.useCallback(b(async C=>{if(t.length>0){const I=m.search(C);u(I)}else{f(!0);const I=jn(wt,"productos"),S=(await Xr(I)).docs.map(V=>({id:V.id,...V.data()})),z=new co(S,{keys:["nombre","descripcion","marca","etiquetas","tipoCalzado","uso","material","origen"],threshold:.3,includeMatches:!0}).search(C);u(z),f(!1)}},300),[m,t]);D.useEffect(()=>{if(!n){s(""),u([]);return}const C=r.trim();if(C===""){u([]);return}_(C)},[r,n,_]),D.useEffect(()=>(document.body.style.overflow=n?"hidden":"",()=>{document.body.style.overflow=""}),[n]);const x=()=>e(!1),w=(C,I)=>{if(!I||I.length===0)return C;let T="",S=0;return I[0].indices.forEach(([N,z])=>{T+=C.slice(S,N),T+=`<mark class='bg-yellow-200'>${C.slice(N,z+1)}</mark>`,S=z+1}),T+=C.slice(S),T};return v.jsx(v.Fragment,{children:n&&v.jsx("div",{className:"fixed inset-0 z-[1000] bg-black/30 backdrop-blur-sm",children:v.jsxs("div",{className:"fixed top-0 left-0 right-0 h-20 bg-white shadow-md z-[1001]",children:[v.jsxs("form",{className:"relative h-full w-full flex items-center px-4",children:[v.jsx("i",{className:"bx bx-search text-xl absolute left-4"}),v.jsx("input",{type:"search",placeholder:"Buscar productos",value:r,onChange:C=>s(C.target.value),className:"pl-10 pr-10 w-full h-full outline-none border-none text-base"}),v.jsx("i",{className:"bx bx-x text-xl absolute right-4 cursor-pointer",onClick:x})]}),r.trim()!==""&&v.jsxs("div",{className:"bg-white max-h-[calc(100vh-10rem)] overflow-y-auto border-t border-gray-200 shadow rounded-b-md flex flex-col",children:[v.jsx("ul",{className:"divide-y divide-gray-100 flex-1 overflow-y-auto",children:d?v.jsx("li",{className:"px-4 py-4 text-sm text-gray-500 text-center",children:"Buscando..."}):v.jsx(v.Fragment,{children:o.length>0?o.map(({item:C,matches:I})=>v.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-50 transition",onClick:()=>{h(`/productos/${C.slug}`),x()},children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("i",{className:"bx bx-sneaker text-gray-400 text-base"}),v.jsx("span",{className:"truncate",dangerouslySetInnerHTML:{__html:w(C.nombre,I!=null&&I.find(T=>T.key==="nombre")?[I.find(T=>T.key==="nombre")]:[])}})]})},C.id)):v.jsx("li",{className:"px-4 py-4 text-sm text-gray-500 text-center",children:"No encontramos el producto que buscas."})})}),v.jsx("div",{className:"border-t px-4 py-3 bg-white sticky bottom-0 z-10",children:v.jsxs("button",{onClick:()=>{h("/productos"),x()},className:"w-full flex items-center justify-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors",children:[v.jsx("i",{className:"bx bx-store-alt text-lg"}),v.jsx("span",{children:"Ver todos los productos"})]})})]})]})})})}function N0({mostrarModalFiltros:n,animatingClose:e,cerrarModalConAnimacion:t,direction:r="left",width:s="w-72",minHeight:o="max-h-[calc(100vh-8rem)] md:max-h-[calc(100vh-4rem)]",children:u}){if(D.useEffect(()=>(n?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[n]),!n&&!e)return null;const d=r==="left"?e?"slide-out-left":"slide-in-left":e?"slide-out-right":"slide-in-right";return v.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 opacity-100",onClick:t}),v.jsxs("div",{className:`relative h-full bg-white shadow-xl ${s} ${d} ${r==="right"?"max-w-[80%] right-0 absolute ml-auto":"left-0 absolute"}`,children:[v.jsx("div",{className:"flex justify-end items-center p-4",children:v.jsx("button",{onClick:t,children:"✕"})}),v.jsx("div",{className:`p-2 overflow-y-auto h-full ${o}`,children:u})]})]})}function D3({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const[t,r]=D.useState(!1),[s,o]=D.useState(!1),{user:u}=Sp(),d=Xt(),f=()=>{r(!0),setTimeout(()=>{e(!1),r(!1)},400)};return v.jsx(N0,{mostrarModalFiltros:n,animatingClose:t,cerrarModalConAnimacion:f,children:v.jsxs("div",{className:"main-menu scrollto flex flex-col h-full",children:[v.jsx("nav",{className:"wrapper",children:v.jsxs("ul",{className:"pt-2 space-y-2",children:[v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"/nikos",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"/nikos/productos",children:"Productos"})}),v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"/nikos/#marcas",onClick:()=>e(!1),children:"Marcas"})}),v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"#contacto",onClick:()=>e(!1),children:"Contacto"})})]})}),!u&&v.jsxs("div",{className:"mt-auto p-4 flex flex-col space-y-2 gap-2",children:[v.jsx("a",{href:"/nikos/login",className:"btn secondary-btn text-center bg-black text-white py-2 rounded",children:"Iniciar Sesión"}),v.jsx("a",{href:"/nikos/register",className:"btn primary-btn text-center border border-black py-2 text-black rounded",children:"Registrarse"})]}),u&&v.jsxs("div",{className:"mt-auto border-t border-gray-200 px-4 pt-4",children:[v.jsxs("button",{onClick:()=>o(!s),className:"w-full flex justify-between items-center text-black font-medium text-left truncate",children:[v.jsxs("span",{className:"truncate max-w-[80%]",title:u.displayName||u.email,children:["Hola, ",u.displayName||u.email]}),v.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${s?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),v.jsxs("ul",{className:`mt-3 space-y-2 text-sm text-gray-800 overflow-hidden transition-all duration-300 ${s?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>{d("/mi-perfil"),e(!1)},className:"block w-full text-left hover:bg-gray-100 px-2 py-1 rounded",children:"Ver perfil"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>{d("/mis-compras"),e(!1)},className:"block w-full text-left hover:bg-gray-100 px-2 py-1 rounded",children:"Mis compras"})}),v.jsx("li",{children:v.jsx("button",{onClick:async()=>{await ky(hn),e(!1)},className:"block w-full text-left text-red-600 hover:bg-gray-100 px-2 py-1 rounded",children:"Cerrar sesión"})})]})]})]})})}function P3(){const[n,e]=D.useState(!1),[t,r]=D.useState(!1),[s,o]=D.useState(!1),[u,d]=D.useState([]);return D.useEffect(()=>{(async()=>{try{const m=(await Xr(jn(wt,"productos"))).docs.map(b=>({id:b.id,...b.data()}));d(m)}catch(h){console.error("Error al obtener productos:",h)}})()},[]),D.useEffect(()=>{const f=window.matchMedia("(min-width: 992px)"),h=m=>{m.matches&&o(!1)};return f.addListener(h),()=>f.removeListener(h)},[]),v.jsxs("div",{id:"page",className:"page-home",children:[v.jsx("header",{className:s?"mobile-version":"",children:v.jsxs("div",{className:"inner-header",children:[v.jsx("div",{className:"wide",children:v.jsxs("div",{className:"wrap",children:[v.jsx(Fj,{setIsMobileMenuOpen:o}),v.jsx(zj,{}),v.jsx(Gj,{setIsSearchOpen:e})]})}),v.jsx(M3,{isSearchOpen:n,setIsSearchOpen:e,productos:u})]})}),v.jsx(D3,{isMobileMenuOpen:s,setIsMobileMenuOpen:o,isSubmenuOpen:t,setIsSubMenuOpen:r})]})}function k3(){return v.jsx("div",{id:"contacto",className:"footer relative left-1/2 -translate-x-1/2 w-screen",children:v.jsxs("footer",{className:"bg-black text-gray-200 py-6 mt-10",children:[v.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"title-footer text-2xl font-bold mb-2 font-[Anton] uppercase italic text-[40px]",children:"Nikos"}),v.jsx("p",{className:"text-sm",children:"Vendemos productos únicos para personas únicas. Calidad, estilo y funcionalidad en uno solo."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Enlaces"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsx("li",{children:v.jsx("a",{href:"/",className:"hover:underline",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{href:"/nikos/productos",className:"hover:underline",children:"Productos"})}),v.jsx("li",{children:v.jsx("a",{href:"/nikos/#marcas",className:"hover:underline",children:"Marcas"})}),v.jsx("li",{children:v.jsx("a",{href:"#contacto",className:"hover:underline",children:"Contacto"})})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Contacto"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsx("li",{children:"Email: contacto@mimarca.com"}),v.jsx("li",{children:"Tel: +51 944 788 568"}),v.jsx("li",{children:"Dirección: Calle Ficticia 123, Ciudad"})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Síguenos"}),v.jsxs("div",{className:"flex gap-4 text-xl",children:[v.jsx("a",{href:"https://www.facebook.com",target:"_blank",className:"hover:text-white",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"24",height:"24",children:v.jsx("path",{d:"M22 12a10 10 0 1 0-11.6 9.9v-7H8v-2.9h2.4V9.8c0-2.4 1.4-3.7 3.5-3.7 1 0 2 .2 2 .2v2.3h-1.1c-1.1 0-1.4.7-1.4 1.4v1.7h2.5l-.4 2.9H13.4v7A10 10 0 0 0 22 12z"})})}),v.jsx("a",{href:"https://www.instagram.com",target:"_blank",className:"hover:text-white",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"24",height:"24",children:v.jsx("path",{d:"M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 2c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3h10zM12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm4.5-2a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})})]})]})]}),v.jsxs("div",{className:"border-t border-gray-700 mt-10 pt-4 text-center text-sm",children:["v.1.0.6 © ",new Date().getFullYear()," Nikos. Todos los derechos reservados."]})]})})}const Pl="/nikos/assets/no-photo-B4rHX3et.JPG";function V3(){const{carrito:n,quitarDelCarrito:e,vaciarCarrito:t,actualizarCantidad:r}=Tp(),s=Xt(),{cerrarModalConAnimacion:o}=R0(),u=()=>{o(),setTimeout(()=>{s("/checkout")},400)},[d,f]=D.useState(null),h=(b,_)=>{const x=b.cantidad+_;x>3?f(b.slug+b.talla+b.color):(f(null),r(b.slug,b.talla,b.color,x))},m=()=>n.reduce((b,_)=>b+_.precio*_.cantidad,0);return v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsxs("div",{className:"px-4 pb-1 flex flex-row gap-4 justify-between items-center",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Mi Carrito"}),n.length>0&&v.jsx("div",{className:"button text-center",children:v.jsx("button",{onClick:t,className:"btn btm-sm secondary-btn px-2 py-1",children:v.jsx("i",{className:"bx bx-trash"})})})]}),v.jsx("div",{className:"flex-1 gap 2 overflow-y-auto p-2 md:p-4 space-y-4",children:n.length===0?v.jsx("p",{className:"text-gray-500",children:"Tu carrito está vacío."}):n.map((b,_)=>v.jsxs("div",{className:"flex gap-4 bg-white py-2 relative",children:[v.jsx("img",{src:b.imagen||Pl,alt:b.nombre,className:"w-20 h-20 object-cover rounded border"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-gray-800 cursor-pointer",onClick:()=>s(`/productos/${b.slug}`),children:b.nombre}),v.jsxs("div",{className:"text-sm text-gray-600 flex",children:["Talla: ",v.jsx("span",{className:"font-medium px-1",children:b.talla})," | Color: "," ",v.jsx("div",{className:"rounded-full h-[20px] w-[20px] border mx-1",style:{backgroundColor:b.color}})]}),v.jsxs("span",{className:"text-sm text-gray-500",children:["S/ ",b.precio," c/u"]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded",onClick:()=>h(b,-1),disabled:b.cantidad===1,children:"−"}),v.jsx("input",{type:"text",value:b.cantidad,readOnly:!0,className:"w-8 text-center border rounded"}),v.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded",onClick:()=>h(b,1),children:"+"})]}),d===b.slug+b.talla+b.color&&v.jsx("p",{className:"text-xs text-yellow-700 mt-1",children:"Si deseas hacer compras al por mayor, necesitas registrarte o iniciar sesión para acceder a mejores precios."})]}),v.jsx("button",{onClick:()=>e(b.slug,b.talla,b.color),className:"text-red-500 hover:text-red-700 self-start",title:"Quitar del carrito",children:v.jsx("i",{className:"bx bx-trash"})})]},_))}),n.length>0&&v.jsxs("div",{className:"bg-black text-white p-4 border-t",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm",children:[v.jsx("span",{children:"Total:"}),v.jsxs("span",{className:"font-semibold",children:["S/ ",m().toFixed(2)]})]}),v.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"* No incluye delivery"}),v.jsx("button",{onClick:u,className:"w-full bg-green-600 hover:bg-green-700 py-2 rounded text-white font-semibold",children:"Confirmar compra"})]})]})}function L3(){return v.jsx("a",{href:"https://wa.me/51944788568",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Contáctanos por WhatsApp",children:v.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/5e/WhatsApp_icon.png",alt:"WhatsApp",width:"50",height:"50"})})}function j3(){const{mostrarCarrito:n,animatingClose:e,cerrarModalConAnimacion:t}=R0();return v.jsxs(v.Fragment,{children:[v.jsx(P3,{}),v.jsx(_T,{}),v.jsx(k3,{}),v.jsx(N0,{mostrarModalFiltros:n,animatingClose:e,cerrarModalConAnimacion:t,direction:"right",width:"w-[500px]",children:v.jsx(V3,{})}),v.jsx(L3,{})]})}function dS(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function O0(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:dS(e[r])&&dS(n[r])&&Object.keys(e[r]).length>0&&O0(n[r],e[r])})}const kC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function _a(){const n=typeof document<"u"?document:{};return O0(n,kC),n}const U3={document:kC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Un(){const n=typeof window<"u"?window:{};return O0(n,U3),n}function B3(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function F3(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function ey(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function no(){return Date.now()}function z3(n){const e=Un();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function H3(n,e){e===void 0&&(e="x");const t=Un();let r,s,o;const u=z3(n);return t.WebKitCSSMatrix?(s=u.transform||u.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(s==="none"?"":s)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=o.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=o.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function hc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function q3(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function or(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!q3(r)){const s=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,u=s.length;o<u;o+=1){const d=s[o],f=Object.getOwnPropertyDescriptor(r,d);f!==void 0&&f.enumerable&&(hc(n[d])&&hc(r[d])?r[d].__swiper__?n[d]=r[d]:or(n[d],r[d]):!hc(n[d])&&hc(r[d])?(n[d]={},r[d].__swiper__?n[d]=r[d]:or(n[d],r[d])):n[d]=r[d])}}}return n}function jf(n,e,t){n.style.setProperty(e,t)}function VC(n){let{swiper:e,targetPosition:t,side:r}=n;const s=Un(),o=-e.translate;let u=null,d;const f=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const h=t>o?"next":"prev",m=(_,x)=>h==="next"&&_>=x||h==="prev"&&_<=x,b=()=>{d=new Date().getTime(),u===null&&(u=d);const _=Math.max(Math.min((d-u)/f,1),0),x=.5-Math.cos(_*Math.PI)/2;let w=o+x*(t-o);if(m(w,t)&&(w=t),e.wrapperEl.scrollTo({[r]:w}),m(w,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:w})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(b)};b()}function qr(n,e){e===void 0&&(e="");const t=Un(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function $3(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function G3(n,e){const t=Un();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=$3(n,e))),r}function Nh(n){try{console.warn(n);return}catch{}}function Oh(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:B3(e)),t}function Y3(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function K3(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function ia(n,e){return Un().getComputedStyle(n,null).getPropertyValue(e)}function Mh(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function LC(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function Wg(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function ty(n,e,t){const r=Un();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function fn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Dh(n,e){e===void 0&&(e=""),typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Zg;function Q3(){const n=Un(),e=_a();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function jC(){return Zg||(Zg=Q3()),Zg}let Jg;function X3(n){let{userAgent:e}=n===void 0?{}:n;const t=jC(),r=Un(),s=r.navigator.platform,o=e||r.navigator.userAgent,u={ios:!1,android:!1},d=r.screen.width,f=r.screen.height,h=o.match(/(Android);?[\s\/]+([\d.]+)?/);let m=o.match(/(iPad).*OS\s([\d_]+)/);const b=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!m&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),x=s==="Win32";let w=s==="MacIntel";const C=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&w&&t.touch&&C.indexOf(`${d}x${f}`)>=0&&(m=o.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),w=!1),h&&!x&&(u.os="android",u.android=!0),(m||_||b)&&(u.os="ios",u.ios=!0),u}function UC(n){return n===void 0&&(n={}),Jg||(Jg=X3(n)),Jg}let ev;function W3(){const n=Un(),e=UC();let t=!1;function r(){const d=n.navigator.userAgent.toLowerCase();return d.indexOf("safari")>=0&&d.indexOf("chrome")<0&&d.indexOf("android")<0}if(r()){const d=String(n.navigator.userAgent);if(d.includes("Version/")){const[f,h]=d.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));t=f<16||f===16&&h<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),u=o||s&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:u,isWebView:s}}function BC(){return ev||(ev=W3()),ev}function Z3(n){let{swiper:e,on:t,emit:r}=n;const s=Un();let o=null,u=null;const d=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},f=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(b=>{u=s.requestAnimationFrame(()=>{const{width:_,height:x}=e;let w=_,C=x;b.forEach(I=>{let{contentBoxSize:T,contentRect:S,target:N}=I;N&&N!==e.el||(w=S?S.width:(T[0]||T).inlineSize,C=S?S.height:(T[0]||T).blockSize)}),(w!==_||C!==x)&&d()})}),o.observe(e.el))},h=()=>{u&&s.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},m=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){f();return}s.addEventListener("resize",d),s.addEventListener("orientationchange",m)}),t("destroy",()=>{h(),s.removeEventListener("resize",d),s.removeEventListener("orientationchange",m)})}function J3(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const o=[],u=Un(),d=function(m,b){b===void 0&&(b={});const _=u.MutationObserver||u.WebkitMutationObserver,x=new _(w=>{if(e.__preventObserver__)return;if(w.length===1){s("observerUpdate",w[0]);return}const C=function(){s("observerUpdate",w[0])};u.requestAnimationFrame?u.requestAnimationFrame(C):u.setTimeout(C,0)});x.observe(m,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:e.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),o.push(x)},f=()=>{if(e.params.observer){if(e.params.observeParents){const m=LC(e.hostEl);for(let b=0;b<m.length;b+=1)d(m[b])}d(e.hostEl,{childList:e.params.observeSlideChildren}),d(e.wrapperEl,{attributes:!1})}},h=()=>{o.forEach(m=>{m.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",f),r("destroy",h)}var e6={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];e.apply(r,u)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(f=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(h=>{h.apply(r,[f,...t])}),n.eventsListeners&&n.eventsListeners[f]&&n.eventsListeners[f].forEach(h=>{h.apply(r,t)})}),n}};function t6(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(ia(r,"padding-left")||0,10)-parseInt(ia(r,"padding-right")||0,10),t=t-parseInt(ia(r,"padding-top")||0,10)-parseInt(ia(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function n6(){const n=this;function e(L,B){return parseFloat(L.getPropertyValue(n.getDirectionLabel(B))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:u,wrongRTL:d}=n,f=n.virtual&&t.virtual.enabled,h=f?n.virtual.slides.length:n.slides.length,m=qr(s,`.${n.params.slideClass}, swiper-slide`),b=f?n.virtual.slides.length:m.length;let _=[];const x=[],w=[];let C=t.slidesOffsetBefore;typeof C=="function"&&(C=t.slidesOffsetBefore.call(n));let I=t.slidesOffsetAfter;typeof I=="function"&&(I=t.slidesOffsetAfter.call(n));const T=n.snapGrid.length,S=n.slidesGrid.length;let N=t.spaceBetween,z=-C,V=0,K=0;if(typeof o>"u")return;typeof N=="string"&&N.indexOf("%")>=0?N=parseFloat(N.replace("%",""))/100*o:typeof N=="string"&&(N=parseFloat(N)),n.virtualSize=-N,m.forEach(L=>{u?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(jf(r,"--swiper-centered-offset-before",""),jf(r,"--swiper-centered-offset-after",""));const P=t.grid&&t.grid.rows>1&&n.grid;P?n.grid.initSlides(m):n.grid&&n.grid.unsetSlides();let O;const M=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(L=>typeof t.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<b;L+=1){O=0;let B;if(m[L]&&(B=m[L]),P&&n.grid.updateSlide(L,B,m),!(m[L]&&ia(B,"display")==="none")){if(t.slidesPerView==="auto"){M&&(m[L].style[n.getDirectionLabel("width")]="");const F=getComputedStyle(B),U=B.style.transform,pe=B.style.webkitTransform;if(U&&(B.style.transform="none"),pe&&(B.style.webkitTransform="none"),t.roundLengths)O=n.isHorizontal()?ty(B,"width"):ty(B,"height");else{const ge=e(F,"width"),G=e(F,"padding-left"),oe=e(F,"padding-right"),me=e(F,"margin-left"),ie=e(F,"margin-right"),H=F.getPropertyValue("box-sizing");if(H&&H==="border-box")O=ge+me+ie;else{const{clientWidth:ne,offsetWidth:le}=B;O=ge+G+oe+me+ie+(le-ne)}}U&&(B.style.transform=U),pe&&(B.style.webkitTransform=pe),t.roundLengths&&(O=Math.floor(O))}else O=(o-(t.slidesPerView-1)*N)/t.slidesPerView,t.roundLengths&&(O=Math.floor(O)),m[L]&&(m[L].style[n.getDirectionLabel("width")]=`${O}px`);m[L]&&(m[L].swiperSlideSize=O),w.push(O),t.centeredSlides?(z=z+O/2+V/2+N,V===0&&L!==0&&(z=z-o/2-N),L===0&&(z=z-o/2-N),Math.abs(z)<1/1e3&&(z=0),t.roundLengths&&(z=Math.floor(z)),K%t.slidesPerGroup===0&&_.push(z),x.push(z)):(t.roundLengths&&(z=Math.floor(z)),(K-Math.min(n.params.slidesPerGroupSkip,K))%n.params.slidesPerGroup===0&&_.push(z),x.push(z),z=z+O+N),n.virtualSize+=O+N,V=O,K+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+I,u&&d&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+N}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+N}px`),P&&n.grid.updateWrapperSize(O,_),!t.centeredSlides){const L=[];for(let B=0;B<_.length;B+=1){let F=_[B];t.roundLengths&&(F=Math.floor(F)),_[B]<=n.virtualSize-o&&L.push(F)}_=L,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(f&&t.loop){const L=w[0]+N;if(t.slidesPerGroup>1){const B=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),F=L*t.slidesPerGroup;for(let U=0;U<B;U+=1)_.push(_[_.length-1]+F)}for(let B=0;B<n.virtual.slidesBefore+n.virtual.slidesAfter;B+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+L),x.push(x[x.length-1]+L),n.virtualSize+=L}if(_.length===0&&(_=[0]),N!==0){const L=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");m.filter((B,F)=>!t.cssMode||t.loop?!0:F!==m.length-1).forEach(B=>{B.style[L]=`${N}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let L=0;w.forEach(F=>{L+=F+(N||0)}),L-=N;const B=L>o?L-o:0;_=_.map(F=>F<=0?-C:F>B?B+I:F)}if(t.centerInsufficientSlides){let L=0;w.forEach(F=>{L+=F+(N||0)}),L-=N;const B=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(L+B<o){const F=(o-L-B)/2;_.forEach((U,pe)=>{_[pe]=U-F}),x.forEach((U,pe)=>{x[pe]=U+F})}}if(Object.assign(n,{slides:m,snapGrid:_,slidesGrid:x,slidesSizesGrid:w}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){jf(r,"--swiper-centered-offset-before",`${-_[0]}px`),jf(r,"--swiper-centered-offset-after",`${n.size/2-w[w.length-1]/2}px`);const L=-n.snapGrid[0],B=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(F=>F+L),n.slidesGrid=n.slidesGrid.map(F=>F+B)}if(b!==h&&n.emit("slidesLengthChange"),_.length!==T&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),x.length!==S&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!f&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const L=`${t.containerModifierClass}backface-hidden`,B=n.el.classList.contains(L);b<=t.maxBackfaceHiddenSlides?B||n.el.classList.add(L):B&&n.el.classList.remove(L)}}function r6(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=d=>r?e.slides[e.getSlideIndexByData(d)]:e.slides[d];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(d=>{t.push(d)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const d=e.activeIndex+o;if(d>e.slides.length&&!r)break;t.push(u(d))}else t.push(u(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const d=t[o].offsetHeight;s=d>s?d:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function i6(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const fS=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function s6(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;s&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let d=t.spaceBetween;typeof d=="string"&&d.indexOf("%")>=0?d=parseFloat(d.replace("%",""))/100*e.size:typeof d=="string"&&(d=parseFloat(d));for(let f=0;f<r.length;f+=1){const h=r[f];let m=h.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(m-=r[0].swiperSlideOffset);const b=(u+(t.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+d),_=(u-o[0]+(t.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+d),x=-(u-m),w=x+e.slidesSizesGrid[f],C=x>=0&&x<=e.size-e.slidesSizesGrid[f],I=x>=0&&x<e.size-1||w>1&&w<=e.size||x<=0&&w>=e.size;I&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(f)),fS(h,I,t.slideVisibleClass),fS(h,C,t.slideFullyVisibleClass),h.progress=s?-b:b,h.originalProgress=s?-_:_}}function a6(n){const e=this;if(typeof n>"u"){const m=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*m||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:u,progressLoop:d}=e;const f=o,h=u;if(r===0)s=0,o=!0,u=!0;else{s=(n-e.minTranslate())/r;const m=Math.abs(n-e.minTranslate())<1,b=Math.abs(n-e.maxTranslate())<1;o=m||s<=0,u=b||s>=1,m&&(s=0),b&&(s=1)}if(t.loop){const m=e.getSlideIndexByData(0),b=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[m],x=e.slidesGrid[b],w=e.slidesGrid[e.slidesGrid.length-1],C=Math.abs(n);C>=_?d=(C-_)/w:d=(C+w-x)/w,d>1&&(d-=1)}Object.assign(e,{progress:s,progressLoop:d,isBeginning:o,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!f&&e.emit("reachBeginning toEdge"),u&&!h&&e.emit("reachEnd toEdge"),(f&&!o||h&&!u)&&e.emit("fromEdge"),e.emit("progress",s)}const tv=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function o6(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,o=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,d=b=>qr(r,`.${t.slideClass}${b}, swiper-slide${b}`)[0];let f,h,m;if(o)if(t.loop){let b=s-n.virtual.slidesBefore;b<0&&(b=n.virtual.slides.length+b),b>=n.virtual.slides.length&&(b-=n.virtual.slides.length),f=d(`[data-swiper-slide-index="${b}"]`)}else f=d(`[data-swiper-slide-index="${s}"]`);else u?(f=e.find(b=>b.column===s),m=e.find(b=>b.column===s+1),h=e.find(b=>b.column===s-1)):f=e[s];f&&(u||(m=K3(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!m&&(m=e[0]),h=Y3(f,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(b=>{tv(b,b===f,t.slideActiveClass),tv(b,b===m,t.slideNextClass),tv(b,b===h,t.slidePrevClass)}),n.emitSlidesClasses()}const nh=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},nv=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},ny=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=s,d=[u-e];d.push(...Array.from({length:e}).map((f,h)=>u+r+h)),n.slides.forEach((f,h)=>{d.includes(f.column)&&nv(n,h)});return}const o=s+r-1;if(n.params.rewind||n.params.loop)for(let u=s-e;u<=o+e;u+=1){const d=(u%t+t)%t;(d<s||d>o)&&nv(n,d)}else for(let u=Math.max(s-e,0);u<=Math.min(o+e,t-1);u+=1)u!==s&&(u>o||u<s)&&nv(n,u)};function l6(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?s=o:r>=e[o]&&r<e[o+1]&&(s=o+1):r>=e[o]&&(s=o);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function u6(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:o,realIndex:u,snapIndex:d}=e;let f=n,h;const m=x=>{let w=x-e.virtual.slidesBefore;return w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),w};if(typeof f>"u"&&(f=l6(e)),r.indexOf(t)>=0)h=r.indexOf(t);else{const x=Math.min(s.slidesPerGroupSkip,f);h=x+Math.floor((f-x)/s.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),f===o&&!e.params.loop){h!==d&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(f===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(f);return}const b=e.grid&&s.grid&&s.grid.rows>1;let _;if(e.virtual&&s.virtual.enabled&&s.loop)_=m(f);else if(b){const x=e.slides.find(C=>C.column===f);let w=parseInt(x.getAttribute("data-swiper-slide-index"),10);Number.isNaN(w)&&(w=Math.max(e.slides.indexOf(x),0)),_=Math.floor(w/s.grid.rows)}else if(e.slides[f]){const x=e.slides[f].getAttribute("data-swiper-slide-index");x?_=parseInt(x,10):_=f}else _=f;Object.assign(e,{previousSnapIndex:d,snapIndex:h,previousRealIndex:u,realIndex:_,previousIndex:o,activeIndex:f}),e.initialized&&ny(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function c6(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(d=>{!s&&d.matches&&d.matches(`.${r.slideClass}, swiper-slide`)&&(s=d)});let o=!1,u;if(s){for(let d=0;d<t.slides.length;d+=1)if(t.slides[d]===s){o=!0,u=d;break}}if(s&&o)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var d6={updateSize:t6,updateSlides:n6,updateAutoHeight:r6,updateSlidesOffset:i6,updateSlidesProgress:s6,updateProgress:a6,updateSlidesClasses:o6,updateActiveIndex:u6,updateClickedSlide:c6};function f6(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:o}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let u=H3(o,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function h6(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:o,progress:u}=t;let d=0,f=0;const h=0;t.isHorizontal()?d=r?-n:n:f=n,s.roundLengths&&(d=Math.floor(d),f=Math.floor(f)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?d:f,s.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-d:-f:s.virtualTranslate||(t.isHorizontal()?d-=t.cssOverflowAdjustment():f-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${d}px, ${f}px, ${h}px)`);let m;const b=t.maxTranslate()-t.minTranslate();b===0?m=0:m=(n-t.minTranslate())/b,m!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function p6(){return-this.snapGrid[0]}function m6(){return-this.snapGrid[this.snapGrid.length-1]}function g6(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:u,wrapperEl:d}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const f=o.minTranslate(),h=o.maxTranslate();let m;if(r&&n>f?m=f:r&&n<h?m=h:m=n,o.updateProgress(m),u.cssMode){const b=o.isHorizontal();if(e===0)d[b?"scrollLeft":"scrollTop"]=-m;else{if(!o.support.smoothScroll)return VC({swiper:o,targetPosition:-m,side:b?"left":"top"}),!0;d.scrollTo({[b?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(m),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(m),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var v6={getTranslate:f6,setTranslate:h6,minTranslate:p6,maxTranslate:m6,translateTo:g6};function y6(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function FC(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:o,previousIndex:u}=e;let d=r;d||(o>u?d="next":o<u?d="prev":d="reset"),e.emit(`transition${s}`),t&&d==="reset"?e.emit(`slideResetTransition${s}`):t&&o!==u&&(e.emit(`slideChangeTransition${s}`),d==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`))}function b6(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),FC({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function _6(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),FC({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var E6={setTransition:y6,transitionStart:b6,transitionEnd:_6};function w6(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let u=n;u<0&&(u=0);const{params:d,snapGrid:f,slidesGrid:h,previousIndex:m,activeIndex:b,rtlTranslate:_,wrapperEl:x,enabled:w}=o;if(!w&&!r&&!s||o.destroyed||o.animating&&d.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const C=Math.min(o.params.slidesPerGroupSkip,u);let I=C+Math.floor((u-C)/o.params.slidesPerGroup);I>=f.length&&(I=f.length-1);const T=-f[I];if(d.normalizeSlideIndex)for(let P=0;P<h.length;P+=1){const O=-Math.floor(T*100),M=Math.floor(h[P]*100),L=Math.floor(h[P+1]*100);typeof h[P+1]<"u"?O>=M&&O<L-(L-M)/2?u=P:O>=M&&O<L&&(u=P+1):O>=M&&(u=P)}if(o.initialized&&u!==b&&(!o.allowSlideNext&&(_?T>o.translate&&T>o.minTranslate():T<o.translate&&T<o.minTranslate())||!o.allowSlidePrev&&T>o.translate&&T>o.maxTranslate()&&(b||0)!==u))return!1;u!==(m||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(T);let S;u>b?S="next":u<b?S="prev":S="reset";const N=o.virtual&&o.params.virtual.enabled;if(!(N&&s)&&(_&&-T===o.translate||!_&&T===o.translate))return o.updateActiveIndex(u),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(T),S!=="reset"&&(o.transitionStart(t,S),o.transitionEnd(t,S)),!1;if(d.cssMode){const P=o.isHorizontal(),O=_?T:-T;if(e===0)N&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),N&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{x[P?"scrollLeft":"scrollTop"]=O})):x[P?"scrollLeft":"scrollTop"]=O,N&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return VC({swiper:o,targetPosition:O,side:P?"left":"top"}),!0;x.scrollTo({[P?"left":"top"]:O,behavior:"smooth"})}return!0}const K=BC().isSafari;return N&&!s&&K&&o.isElement&&o.virtual.update(!1,!1,u),o.setTransition(e),o.setTranslate(T),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,S),e===0?o.transitionEnd(t,S):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(O){!o||o.destroyed||O.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,S))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function x6(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let u=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)u=u+s.virtual.slidesBefore;else{let d;if(o){const _=u*s.params.grid.rows;d=s.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===_).column}else d=s.getSlideIndexByData(u);const f=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:h}=s.params;let m=s.params.slidesPerView;m==="auto"?m=s.slidesPerViewDynamic():(m=Math.ceil(parseFloat(s.params.slidesPerView,10)),h&&m%2===0&&(m=m+1));let b=f-d<m;if(h&&(b=b||d<Math.ceil(m/2)),r&&h&&s.params.slidesPerView!=="auto"&&!o&&(b=!1),b){const _=h?d<s.activeIndex?"prev":"next":d-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?d+1:d-f+1,slideRealIndex:_==="next"?s.realIndex:void 0})}if(o){const _=u*s.params.grid.rows;u=s.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===_).column}else u=s.getSlideIndexByData(u)}return requestAnimationFrame(()=>{s.slideTo(u,e,t,r)}),s}function S6(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:o,animating:u}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let d=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<o.slidesPerGroupSkip?1:d,h=r.virtual&&o.virtual.enabled;if(o.loop){if(u&&!h&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+f,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+f,n,e,t)}function T6(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:o,slidesGrid:u,rtlTranslate:d,enabled:f,animating:h}=r;if(!f||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const m=r.virtual&&s.virtual.enabled;if(s.loop){if(h&&!m&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const b=d?r.translate:-r.translate;function _(S){return S<0?-Math.floor(Math.abs(S)):Math.floor(S)}const x=_(b),w=o.map(S=>_(S)),C=s.freeMode&&s.freeMode.enabled;let I=o[w.indexOf(x)-1];if(typeof I>"u"&&(s.cssMode||C)){let S;o.forEach((N,z)=>{x>=N&&(S=z)}),typeof S<"u"&&(I=C?o[S]:o[S>0?S-1:S])}let T=0;if(typeof I<"u"&&(T=u.indexOf(I),T<0&&(T=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(T=T-r.slidesPerViewDynamic("previous",!0)+1,T=Math.max(T,0))),s.rewind&&r.isBeginning){const S=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(S,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(T,n,e,t)}),!0;return r.slideTo(T,n,e,t)}function A6(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function C6(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let o=s.activeIndex;const u=Math.min(s.params.slidesPerGroupSkip,o),d=u+Math.floor((o-u)/s.params.slidesPerGroup),f=s.rtlTranslate?s.translate:-s.translate;if(f>=s.snapGrid[d]){const h=s.snapGrid[d],m=s.snapGrid[d+1];f-h>(m-h)*r&&(o+=s.params.slidesPerGroup)}else{const h=s.snapGrid[d-1],m=s.snapGrid[d];f-h<=(m-h)*r&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,n,e,t)}function R6(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,o;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(qr(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),ey(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(qr(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),ey(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var I6={slideTo:w6,slideToLoop:x6,slideNext:S6,slidePrev:T6,slideReset:A6,slideToClosest:C6,slideToClickedSlide:R6};function N6(n,e){const t=this,{params:r,slidesEl:s}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{qr(s,`.${r.slideClass}, swiper-slide`).forEach((_,x)=>{_.setAttribute("data-swiper-slide-index",x)})},u=t.grid&&r.grid&&r.grid.rows>1,d=r.slidesPerGroup*(u?r.grid.rows:1),f=t.slides.length%d!==0,h=u&&t.slides.length%r.grid.rows!==0,m=b=>{for(let _=0;_<b;_+=1){const x=t.isElement?Oh("swiper-slide",[r.slideBlankClass]):Oh("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(x)}};if(f){if(r.loopAddBlankSlides){const b=d-t.slides.length%d;m(b),t.recalcSlides(),t.updateSlides()}else Nh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(h){if(r.loopAddBlankSlides){const b=r.grid.rows-t.slides.length%r.grid.rows;m(b),t.recalcSlides(),t.updateSlides()}else Nh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function O6(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:o,initial:u,byController:d,byMousewheel:f}=n===void 0?{}:n;const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:m,allowSlidePrev:b,allowSlideNext:_,slidesEl:x,params:w}=h,{centeredSlides:C,initialSlide:I}=w;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&w.virtual.enabled){t&&(!w.centeredSlides&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):w.centeredSlides&&h.snapIndex<w.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=b,h.allowSlideNext=_,h.emit("loopFix");return}let T=w.slidesPerView;T==="auto"?T=h.slidesPerViewDynamic():(T=Math.ceil(parseFloat(w.slidesPerView,10)),C&&T%2===0&&(T=T+1));const S=w.slidesPerGroupAuto?T:w.slidesPerGroup;let N=S;N%S!==0&&(N+=S-N%S),N+=w.loopAdditionalSlides,h.loopedSlides=N;const z=h.grid&&w.grid&&w.grid.rows>1;m.length<T+N||h.params.effect==="cards"&&m.length<T+N*2?Nh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):z&&w.grid.fill==="row"&&Nh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const V=[],K=[],P=z?Math.ceil(m.length/w.grid.rows):m.length,O=u&&P-I<T&&!C;let M=O?I:h.activeIndex;typeof o>"u"?o=h.getSlideIndex(m.find(G=>G.classList.contains(w.slideActiveClass))):M=o;const L=r==="next"||!r,B=r==="prev"||!r;let F=0,U=0;const ge=(z?m[o].column:o)+(C&&typeof s>"u"?-T/2+.5:0);if(ge<N){F=Math.max(N-ge,S);for(let G=0;G<N-ge;G+=1){const oe=G-Math.floor(G/P)*P;if(z){const me=P-oe-1;for(let ie=m.length-1;ie>=0;ie-=1)m[ie].column===me&&V.push(ie)}else V.push(P-oe-1)}}else if(ge+T>P-N){U=Math.max(ge-(P-N*2),S),O&&(U=Math.max(U,T-P+I+1));for(let G=0;G<U;G+=1){const oe=G-Math.floor(G/P)*P;z?m.forEach((me,ie)=>{me.column===oe&&K.push(ie)}):K.push(oe)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),h.params.effect==="cards"&&m.length<T+N*2&&(K.includes(o)&&K.splice(K.indexOf(o),1),V.includes(o)&&V.splice(V.indexOf(o),1)),B&&V.forEach(G=>{m[G].swiperLoopMoveDOM=!0,x.prepend(m[G]),m[G].swiperLoopMoveDOM=!1}),L&&K.forEach(G=>{m[G].swiperLoopMoveDOM=!0,x.append(m[G]),m[G].swiperLoopMoveDOM=!1}),h.recalcSlides(),w.slidesPerView==="auto"?h.updateSlides():z&&(V.length>0&&B||K.length>0&&L)&&h.slides.forEach((G,oe)=>{h.grid.updateSlide(oe,G,h.slides)}),w.watchSlidesProgress&&h.updateSlidesOffset(),t){if(V.length>0&&B){if(typeof e>"u"){const G=h.slidesGrid[M],me=h.slidesGrid[M+F]-G;f?h.setTranslate(h.translate-me):(h.slideTo(M+Math.ceil(F),0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-me,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-me))}else if(s){const G=z?V.length/w.grid.rows:V.length;h.slideTo(h.activeIndex+G,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(K.length>0&&L)if(typeof e>"u"){const G=h.slidesGrid[M],me=h.slidesGrid[M-U]-G;f?h.setTranslate(h.translate-me):(h.slideTo(M-U,0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-me,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-me))}else{const G=z?K.length/w.grid.rows:K.length;h.slideTo(h.activeIndex-G,0,!1,!0)}}if(h.allowSlidePrev=b,h.allowSlideNext=_,h.controller&&h.controller.control&&!d){const G={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(oe=>{!oe.destroyed&&oe.params.loop&&oe.loopFix({...G,slideTo:oe.params.slidesPerView===w.slidesPerView?t:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...G,slideTo:h.controller.control.params.slidesPerView===w.slidesPerView?t:!1})}h.emit("loopFix")}function M6(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[o]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var D6={loopCreate:N6,loopFix:O6,loopDestroy:M6};function P6(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function k6(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var V6={setGrabCursor:P6,unsetGrabCursor:k6};function L6(n,e){e===void 0&&(e=this);function t(r){if(!r||r===_a()||r===Un())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function hS(n,e,t){const r=Un(),{params:s}=n,o=s.edgeSwipeDetection,u=s.edgeSwipeThreshold;return o&&(t<=u||t>=r.innerWidth-u)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function j6(n){const e=this,t=_a();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){hS(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:u,enabled:d}=e;if(!d||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let f=r.target;if(o.touchEventsTarget==="wrapper"&&!G3(f,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const h=!!o.noSwipingClass&&o.noSwipingClass!=="",m=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&m&&(f=m[0]);const b=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(_?L6(b,f):f.closest(b))){e.allowClick=!0;return}if(o.swipeHandler&&!f.closest(o.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const x=u.currentX,w=u.currentY;if(!hS(e,r,x))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=x,u.startY=w,s.touchStartTime=no(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let C=!0;f.matches(s.focusableElements)&&(C=!1,f.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==f&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!f.matches(s.focusableElements))&&t.activeElement.blur();const I=C&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||I)&&!f.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function U6(n){const e=_a(),t=this,r=t.touchEventsData,{params:s,touches:o,rtlTranslate:u,enabled:d}=t;if(!d||!s.simulateTouch&&n.pointerType==="mouse")return;let f=n;if(f.originalEvent&&(f=f.originalEvent),f.type==="pointermove"&&(r.touchId!==null||f.pointerId!==r.pointerId))return;let h;if(f.type==="touchmove"){if(h=[...f.changedTouches].find(V=>V.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=f;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",f);return}const m=h.pageX,b=h.pageY;if(f.preventedByNestedSwiper){o.startX=m,o.startY=b;return}if(!t.allowTouchMove){f.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:m,startY:b,currentX:m,currentY:b}),r.touchStartTime=no());return}if(s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(b<o.startY&&t.translate<=t.maxTranslate()||b>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(m>o.startX&&-t.translate<=t.maxTranslate()||m<o.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(m<o.startX&&t.translate<=t.maxTranslate()||m>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==f.target&&f.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&f.target===e.activeElement&&f.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",f),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=m,o.currentY=b;const _=o.currentX-o.startX,x=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+x**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let V;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:_*_+x*x>=25&&(V=Math.atan2(Math.abs(x),Math.abs(_))*180/Math.PI,r.isScrolling=t.isHorizontal()?V>s.touchAngle:90-V>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||f.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&f.cancelable&&f.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&f.stopPropagation();let w=t.isHorizontal()?_:x,C=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(w=Math.abs(w)*(u?1:-1),C=Math.abs(C)*(u?1:-1)),o.diff=w,w*=s.touchRatio,u&&(w=-w,C=-C);const I=t.touchesDirection;t.swipeDirection=w>0?"prev":"next",t.touchesDirection=C>0?"prev":"next";const T=t.params.loop&&!s.cssMode,S=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(T&&S&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const V=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(V)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",f)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&I!==t.touchesDirection&&T&&S&&Math.abs(w)>=1){Object.assign(o,{startX:m,startY:b,currentX:m,currentY:b,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",f),r.isMoved=!0,r.currentTranslate=w+r.startTranslate;let N=!0,z=s.resistanceRatio;if(s.touchReleaseOnEdges&&(z=0),w>0?(T&&S&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(N=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+w)**z))):w<0&&(T&&S&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(N=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-w)**z))),N&&(f.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(w)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function B6(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(V=>V.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:d,rtlTranslate:f,slidesGrid:h,enabled:m}=e;if(!m||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const b=no(),_=b-t.touchStartTime;if(e.allowClick){const V=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(V&&V[0]||r.target,V),e.emit("tap click",r),_<300&&b-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=no(),ey(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||d.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let x;if(u.followFinger?x=f?e.translate:-e.translate:x=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:x});return}const w=x>=-e.maxTranslate()&&!e.params.loop;let C=0,I=e.slidesSizesGrid[0];for(let V=0;V<h.length;V+=V<u.slidesPerGroupSkip?1:u.slidesPerGroup){const K=V<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof h[V+K]<"u"?(w||x>=h[V]&&x<h[V+K])&&(C=V,I=h[V+K]-h[V]):(w||x>=h[V])&&(C=V,I=h[h.length-1]-h[h.length-2])}let T=null,S=null;u.rewind&&(e.isBeginning?S=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(T=0));const N=(x-h[C])/I,z=C<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(_>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(N>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?T:C+z):e.slideTo(C)),e.swipeDirection==="prev"&&(N>1-u.longSwipesRatio?e.slideTo(C+z):S!==null&&N<0&&Math.abs(N)>u.longSwipesRatio?e.slideTo(S):e.slideTo(C))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(C+z):e.slideTo(C):(e.swipeDirection==="next"&&e.slideTo(T!==null?T:C+z),e.swipeDirection==="prev"&&e.slideTo(S!==null?S:C))}}function pS(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:o}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const d=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!d?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function F6(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function z6(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const o=n.maxTranslate()-n.minTranslate();o===0?s=0:s=(n.translate-n.minTranslate())/o,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function H6(n){const e=this;nh(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function q6(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const zC=(n,e)=>{const t=_a(),{params:r,el:s,wrapperEl:o,device:u}=n,d=!!r.nested,f=e==="on"?"addEventListener":"removeEventListener",h=e;!s||typeof s=="string"||(t[f]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:d}),s[f]("touchstart",n.onTouchStart,{passive:!1}),s[f]("pointerdown",n.onTouchStart,{passive:!1}),t[f]("touchmove",n.onTouchMove,{passive:!1,capture:d}),t[f]("pointermove",n.onTouchMove,{passive:!1,capture:d}),t[f]("touchend",n.onTouchEnd,{passive:!0}),t[f]("pointerup",n.onTouchEnd,{passive:!0}),t[f]("pointercancel",n.onTouchEnd,{passive:!0}),t[f]("touchcancel",n.onTouchEnd,{passive:!0}),t[f]("pointerout",n.onTouchEnd,{passive:!0}),t[f]("pointerleave",n.onTouchEnd,{passive:!0}),t[f]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[f]("click",n.onClick,!0),r.cssMode&&o[f]("scroll",n.onScroll),r.updateOnWindowResize?n[h](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",pS,!0):n[h]("observerUpdate",pS,!0),s[f]("load",n.onLoad,{capture:!0}))};function $6(){const n=this,{params:e}=n;n.onTouchStart=j6.bind(n),n.onTouchMove=U6.bind(n),n.onTouchEnd=B6.bind(n),n.onDocumentTouchStart=q6.bind(n),e.cssMode&&(n.onScroll=z6.bind(n)),n.onClick=F6.bind(n),n.onLoad=H6.bind(n),zC(n,"on")}function G6(){zC(this,"off")}var Y6={attachEvents:$6,detachEvents:G6};const mS=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function K6(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const u=_a(),d=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",f=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),h=n.getBreakpoint(o,d,f);if(!h||n.currentBreakpoint===h)return;const b=(h in o?o[h]:void 0)||n.originalParams,_=mS(n,r),x=mS(n,b),w=n.params.grabCursor,C=b.grabCursor,I=r.enabled;_&&!x?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&x&&(s.classList.add(`${r.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),w&&!C?n.unsetGrabCursor():!w&&C&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(K=>{if(typeof b[K]>"u")return;const P=r[K]&&r[K].enabled,O=b[K]&&b[K].enabled;P&&!O&&n[K].disable(),!P&&O&&n[K].enable()});const T=b.direction&&b.direction!==r.direction,S=r.loop&&(b.slidesPerView!==r.slidesPerView||T),N=r.loop;T&&t&&n.changeDirection(),or(n.params,b);const z=n.params.enabled,V=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),I&&!z?n.disable():!I&&z&&n.enable(),n.currentBreakpoint=h,n.emit("_beforeBreakpoint",b),t&&(S?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!N&&V?(n.loopCreate(e),n.updateSlides()):N&&!V&&n.loopDestroy()),n.emit("breakpoint",b)}function Q6(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=Un(),o=e==="window"?s.innerHeight:t.clientHeight,u=Object.keys(n).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const f=parseFloat(d.substr(1));return{value:o*f,point:d}}return{value:d,point:d}});u.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<u.length;d+=1){const{point:f,value:h}=u[d];e==="window"?s.matchMedia(`(min-width: ${h}px)`).matches&&(r=f):h<=t.clientWidth&&(r=f)}return r||"max"}var X6={setBreakpoint:K6,getBreakpoint:Q6};function W6(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function Z6(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:o}=n,u=W6(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),s.classList.add(...e),n.emitContainerClasses()}function J6(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var eU={addClasses:Z6,removeClasses:J6};function tU(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,o=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var nU={checkOverflow:tU},ry={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function rU(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],o=r[s];if(typeof o!="object"||o===null){or(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in o)){or(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),or(e,r)}}const rv={eventsEmitter:e6,update:d6,translate:v6,transition:E6,slide:I6,loop:D6,grabCursor:V6,events:Y6,breakpoints:X6,checkOverflow:nU,classes:eU},iv={};let M0=class is{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=or({},t),e&&!t.el&&(t.el=e);const u=_a();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const m=[];return u.querySelectorAll(t.el).forEach(b=>{const _=or({},t,{el:b});m.push(new is(_))}),m}const d=this;d.__swiper__=!0,d.support=jC(),d.device=UC({userAgent:t.userAgent}),d.browser=BC(),d.eventsListeners={},d.eventsAnyListeners=[],d.modules=[...d.__modules__],t.modules&&Array.isArray(t.modules)&&d.modules.push(...t.modules);const f={};d.modules.forEach(m=>{m({params:t,swiper:d,extendParams:rU(t,f),on:d.on.bind(d),once:d.once.bind(d),off:d.off.bind(d),emit:d.emit.bind(d)})});const h=or({},ry,f);return d.params=or({},h,iv,t),d.originalParams=or({},d.params),d.passedParams=or({},t),d.params&&d.params.on&&Object.keys(d.params.on).forEach(m=>{d.on(m,d.params.on[m])}),d.params&&d.params.onAny&&d.onAny(d.params.onAny),Object.assign(d,{enabled:d.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return d.params.direction==="horizontal"},isVertical(){return d.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:d.params.allowSlideNext,allowSlidePrev:d.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:d.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:d.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),d.emit("_swiper"),d.params.init&&d.init(),d}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=qr(t,`.${r.slideClass}, swiper-slide`),o=Mh(s[0]);return Mh(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=qr(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),u=(r.maxTranslate()-s)*e+s;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:o,slidesGrid:u,slidesSizesGrid:d,size:f,activeIndex:h}=r;let m=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let b=o[h]?Math.ceil(o[h].swiperSlideSize):0,_;for(let x=h+1;x<o.length;x+=1)o[x]&&!_&&(b+=Math.ceil(o[x].swiperSlideSize),m+=1,b>f&&(_=!0));for(let x=h-1;x>=0;x-=1)o[x]&&!_&&(b+=o[x].swiperSlideSize,m+=1,b>f&&(_=!0))}else if(e==="current")for(let b=h+1;b<o.length;b+=1)(t?u[b]+d[b]-u[h]<f:u[b]-u[h]<f)&&(m+=1);else for(let b=h-1;b>=0;b-=1)u[h]-u[b]<f&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&nh(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const u=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(u.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):qr(r,s())[0];return!u&&t.params.createElements&&(u=Oh("div",t.params.wrapperClass),r.append(u),qr(r,`.${t.params.slideClass}`).forEach(d=>{u.append(d)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ia(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ia(r,"direction")==="rtl"),wrongRTL:ia(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?nh(t,o):o.addEventListener("load",u=>{nh(t,u.target)})}),ny(t),t.initialized=!0,ny(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:o,wrapperEl:u,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),u&&u.removeAttribute("style"),d&&d.length&&d.forEach(f=>{f.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),f.removeAttribute("style"),f.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),F3(r)),r.destroyed=!0),null}static extendDefaults(e){or(iv,e)}static get extendedDefaults(){return iv}static get defaults(){return ry}static installModule(e){is.prototype.__modules__||(is.prototype.__modules__=[]);const t=is.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>is.installModule(t)),is):(is.installModule(e),is)}};Object.keys(rv).forEach(n=>{Object.keys(rv[n]).forEach(e=>{M0.prototype[e]=rv[n][e]})});M0.use([Z3,J3]);const HC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function fo(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Sl(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:fo(e[r])&&fo(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:Sl(n[r],e[r]):n[r]=e[r]})}function qC(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function $C(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function GC(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function YC(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function iU(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function sU(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:o,prevEl:u,scrollbarEl:d,paginationEl:f}=n;const h=s.filter(M=>M!=="children"&&M!=="direction"&&M!=="wrapperClass"),{params:m,pagination:b,navigation:_,scrollbar:x,virtual:w,thumbs:C}=e;let I,T,S,N,z,V,K,P;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(I=!0),s.includes("controller")&&r.controller&&r.controller.control&&m.controller&&!m.controller.control&&(T=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||f)&&(m.pagination||m.pagination===!1)&&b&&!b.el&&(S=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||d)&&(m.scrollbar||m.scrollbar===!1)&&x&&!x.el&&(N=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||o)&&(m.navigation||m.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(z=!0);const O=M=>{e[M]&&(e[M].destroy(),M==="navigation"?(e.isElement&&(e[M].prevEl.remove(),e[M].nextEl.remove()),m[M].prevEl=void 0,m[M].nextEl=void 0,e[M].prevEl=void 0,e[M].nextEl=void 0):(e.isElement&&e[M].el.remove(),m[M].el=void 0,e[M].el=void 0))};s.includes("loop")&&e.isElement&&(m.loop&&!r.loop?V=!0:!m.loop&&r.loop?K=!0:P=!0),h.forEach(M=>{if(fo(m[M])&&fo(r[M]))Object.assign(m[M],r[M]),(M==="navigation"||M==="pagination"||M==="scrollbar")&&"enabled"in r[M]&&!r[M].enabled&&O(M);else{const L=r[M];(L===!0||L===!1)&&(M==="navigation"||M==="pagination"||M==="scrollbar")?L===!1&&O(M):m[M]=r[M]}}),h.includes("controller")&&!T&&e.controller&&e.controller.control&&m.controller&&m.controller.control&&(e.controller.control=m.controller.control),s.includes("children")&&t&&w&&m.virtual.enabled?(w.slides=t,w.update(!0)):s.includes("virtual")&&w&&m.virtual.enabled&&(t&&(w.slides=t),w.update(!0)),s.includes("children")&&t&&m.loop&&(P=!0),I&&C.init()&&C.update(!0),T&&(e.controller.control=m.controller.control),S&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-pagination"),f.part.add("pagination"),e.el.appendChild(f)),f&&(m.pagination.el=f),b.init(),b.render(),b.update()),N&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-scrollbar"),d.part.add("scrollbar"),e.el.appendChild(d)),d&&(m.scrollbar.el=d),x.init(),x.updateSize(),x.setTranslate()),z&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Dh(o,e.hostEl.constructor.nextButtonSvg),o.part.add("button-next"),e.el.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),Dh(u,e.hostEl.constructor.prevButtonSvg),u.part.add("button-prev"),e.el.appendChild(u))),o&&(m.navigation.nextEl=o),u&&(m.navigation.prevEl=u),_.init(),_.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(V||P)&&e.loopDestroy(),(K||P)&&e.loopCreate(),e.update()}function aU(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};Sl(t,ry),t._emitClasses=!0,t.init=!1;const o={},u=HC.map(f=>f.replace(/_/,"")),d=Object.assign({},n);return Object.keys(d).forEach(f=>{typeof n[f]>"u"||(u.indexOf(f)>=0?fo(n[f])?(t[f]={},s[f]={},Sl(t[f],n[f]),Sl(s[f],n[f])):(t[f]=n[f],s[f]=n[f]):f.search(/on[A-Z]/)===0&&typeof n[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:t.on[`${f[2].toLowerCase()}${f.substr(3)}`]=n[f]:o[f]=n[f])}),["navigation","pagination","scrollbar"].forEach(f=>{t[f]===!0&&(t[f]={}),t[f]===!1&&delete t[f]}),{params:t,passedParams:s,rest:o,events:r}}function oU(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:o,scrollbarEl:u,swiper:d}=n;qC(e)&&r&&s&&(d.params.navigation.nextEl=r,d.originalParams.navigation.nextEl=r,d.params.navigation.prevEl=s,d.originalParams.navigation.prevEl=s),$C(e)&&o&&(d.params.pagination.el=o,d.originalParams.pagination.el=o),GC(e)&&u&&(d.params.scrollbar.el=u,d.originalParams.scrollbar.el=u),d.init(t)}function lU(n,e,t,r,s){const o=[];if(!e)return o;const u=f=>{o.indexOf(f)<0&&o.push(f)};if(t&&r){const f=r.map(s),h=t.map(s);f.join("")!==h.join("")&&u("children"),r.length!==t.length&&u("children")}return HC.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in n&&f in e)if(fo(n[f])&&fo(e[f])){const h=Object.keys(n[f]),m=Object.keys(e[f]);h.length!==m.length?u(f):(h.forEach(b=>{n[f][b]!==e[f][b]&&u(f)}),m.forEach(b=>{n[f][b]!==e[f][b]&&u(f)}))}else n[f]!==e[f]&&u(f)}),o}const uU=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Ph(){return Ph=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ph.apply(this,arguments)}function KC(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function QC(n){const e=[];return je.Children.toArray(n).forEach(t=>{KC(t)?e.push(t):t.props&&t.props.children&&QC(t.props.children).forEach(r=>e.push(r))}),e}function cU(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return je.Children.toArray(n).forEach(r=>{if(KC(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=QC(r.props.children);s.length>0?s.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function dU(n,e,t){if(!t)return null;const r=m=>{let b=m;return m<0?b=e.length+m:b>=e.length&&(b=b-e.length),b},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:u}=t,d=n.params.loop?-e.length:0,f=n.params.loop?e.length*2:e.length,h=[];for(let m=d;m<f;m+=1)m>=o&&m<=u&&h.push(e[r(m)]);return h.map((m,b)=>je.cloneElement(m,{swiper:n,style:s,key:m.props.virtualIndex||m.key||`slide-${b}`}))}function wc(n,e){return typeof window>"u"?D.useEffect(n,e):D.useLayoutEffect(n,e)}const gS=D.createContext(null),fU=D.createContext(null),Vc=D.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:o,onSwiper:u,...d}=n===void 0?{}:n,f=!1;const[h,m]=D.useState("swiper"),[b,_]=D.useState(null),[x,w]=D.useState(!1),C=D.useRef(!1),I=D.useRef(null),T=D.useRef(null),S=D.useRef(null),N=D.useRef(null),z=D.useRef(null),V=D.useRef(null),K=D.useRef(null),P=D.useRef(null),{params:O,passedParams:M,rest:L,events:B}=aU(d),{slides:F,slots:U}=cU(o),pe=()=>{w(!x)};Object.assign(O.on,{_containerClasses(ie,H){m(H)}});const ge=()=>{Object.assign(O.on,B),f=!0;const ie={...O};if(delete ie.wrapperClass,T.current=new M0(ie),T.current.virtual&&T.current.params.virtual.enabled){T.current.virtual.slides=F;const H={cache:!1,slides:F,renderExternal:_,renderExternalUpdate:!1};Sl(T.current.params.virtual,H),Sl(T.current.originalParams.virtual,H)}};I.current||ge(),T.current&&T.current.on("_beforeBreakpoint",pe);const G=()=>{f||!B||!T.current||Object.keys(B).forEach(ie=>{T.current.on(ie,B[ie])})},oe=()=>{!B||!T.current||Object.keys(B).forEach(ie=>{T.current.off(ie,B[ie])})};D.useEffect(()=>()=>{T.current&&T.current.off("_beforeBreakpoint",pe)}),D.useEffect(()=>{!C.current&&T.current&&(T.current.emitSlidesClasses(),C.current=!0)}),wc(()=>{if(e&&(e.current=I.current),!!I.current)return T.current.destroyed&&ge(),oU({el:I.current,nextEl:z.current,prevEl:V.current,paginationEl:K.current,scrollbarEl:P.current,swiper:T.current},O),u&&!T.current.destroyed&&u(T.current),()=>{T.current&&!T.current.destroyed&&T.current.destroy(!0,!1)}},[]),wc(()=>{G();const ie=lU(M,S.current,F,N.current,H=>H.key);return S.current=M,N.current=F,ie.length&&T.current&&!T.current.destroyed&&sU({swiper:T.current,slides:F,passedParams:M,changedParams:ie,nextEl:z.current,prevEl:V.current,scrollbarEl:P.current,paginationEl:K.current}),()=>{oe()}}),wc(()=>{uU(T.current)},[b]);function me(){return O.virtual?dU(T.current,F,b):F.map((ie,H)=>je.cloneElement(ie,{swiper:T.current,swiperSlideIndex:H}))}return je.createElement(r,Ph({ref:I,className:YC(`${h}${t?` ${t}`:""}`)},L),je.createElement(fU.Provider,{value:T.current},U["container-start"],je.createElement(s,{className:iU(O.wrapperClass)},U["wrapper-start"],me(),U["wrapper-end"]),qC(O)&&je.createElement(je.Fragment,null,je.createElement("div",{ref:V,className:"swiper-button-prev"}),je.createElement("div",{ref:z,className:"swiper-button-next"})),GC(O)&&je.createElement("div",{ref:P,className:"swiper-scrollbar"}),$C(O)&&je.createElement("div",{ref:K,className:"swiper-pagination"}),U["container-end"]))});Vc.displayName="Swiper";const Lc=D.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:o,zoom:u,lazy:d,virtualIndex:f,swiperSlideIndex:h,...m}=n===void 0?{}:n;const b=D.useRef(null),[_,x]=D.useState("swiper-slide"),[w,C]=D.useState(!1);function I(z,V,K){V===b.current&&x(K)}wc(()=>{if(typeof h<"u"&&(b.current.swiperSlideIndex=h),e&&(e.current=b.current),!(!b.current||!o)){if(o.destroyed){_!=="swiper-slide"&&x("swiper-slide");return}return o.on("_slideClass",I),()=>{o&&o.off("_slideClass",I)}}}),wc(()=>{o&&b.current&&!o.destroyed&&x(o.getSlideClasses(b.current))},[o]);const T={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},S=()=>typeof r=="function"?r(T):r,N=()=>{C(!0)};return je.createElement(t,Ph({ref:b,className:YC(`${_}${s?` ${s}`:""}`),"data-swiper-slide-index":f,onLoad:N},m),u&&je.createElement(gS.Provider,{value:T},je.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},S(),d&&!w&&je.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&je.createElement(gS.Provider,{value:T},S(),d&&!w&&je.createElement("div",{className:"swiper-lazy-preloader"})))});Lc.displayName="SwiperSlide";function XC(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let o=qr(n.el,`.${r[s]}`)[0];o||(o=Oh("div",r[s]),o.className=r[s],n.el.append(o)),t[s]=o,e[s]=o}}),t}function hU(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(w){let C;return w&&typeof w=="string"&&e.isElement&&(C=e.el.querySelector(w)||e.hostEl.querySelector(w),C)?C:(w&&(typeof w=="string"&&(C=[...document.querySelectorAll(w)]),e.params.uniqueNavElements&&typeof w=="string"&&C&&C.length>1&&e.el.querySelectorAll(w).length===1?C=e.el.querySelector(w):C&&C.length===1&&(C=C[0])),w&&!C?w:C)}function u(w,C){const I=e.params.navigation;w=fn(w),w.forEach(T=>{T&&(T.classList[C?"add":"remove"](...I.disabledClass.split(" ")),T.tagName==="BUTTON"&&(T.disabled=C),e.params.watchOverflow&&e.enabled&&T.classList[e.isLocked?"add":"remove"](I.lockClass))})}function d(){const{nextEl:w,prevEl:C}=e.navigation;if(e.params.loop){u(C,!1),u(w,!1);return}u(C,e.isBeginning&&!e.params.rewind),u(w,e.isEnd&&!e.params.rewind)}function f(w){w.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function h(w){w.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function m(){const w=e.params.navigation;if(e.params.navigation=XC(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(w.nextEl||w.prevEl))return;let C=o(w.nextEl),I=o(w.prevEl);Object.assign(e.navigation,{nextEl:C,prevEl:I}),C=fn(C),I=fn(I);const T=(S,N)=>{S&&S.addEventListener("click",N==="next"?h:f),!e.enabled&&S&&S.classList.add(...w.lockClass.split(" "))};C.forEach(S=>T(S,"next")),I.forEach(S=>T(S,"prev"))}function b(){let{nextEl:w,prevEl:C}=e.navigation;w=fn(w),C=fn(C);const I=(T,S)=>{T.removeEventListener("click",S==="next"?h:f),T.classList.remove(...e.params.navigation.disabledClass.split(" "))};w.forEach(T=>I(T,"next")),C.forEach(T=>I(T,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?x():(m(),d())}),r("toEdge fromEdge lock unlock",()=>{d()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{nextEl:w,prevEl:C}=e.navigation;if(w=fn(w),C=fn(C),e.enabled){d();return}[...w,...C].filter(I=>!!I).forEach(I=>I.classList.add(e.params.navigation.lockClass))}),r("click",(w,C)=>{let{nextEl:I,prevEl:T}=e.navigation;I=fn(I),T=fn(T);const S=C.target;let N=T.includes(S)||I.includes(S);if(e.isElement&&!N){const z=C.path||C.composedPath&&C.composedPath();z&&(N=z.find(V=>I.includes(V)||T.includes(V)))}if(e.params.navigation.hideOnClick&&!N){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===S||e.pagination.el.contains(S)))return;let z;I.length?z=I[0].classList.contains(e.params.navigation.hiddenClass):T.length&&(z=T[0].classList.contains(e.params.navigation.hiddenClass)),s(z===!0?"navigationShow":"navigationHide"),[...I,...T].filter(V=>!!V).forEach(V=>V.classList.toggle(e.params.navigation.hiddenClass))}});const _=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),m(),d()},x=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(e.navigation,{enable:_,disable:x,update:d,init:m,destroy:b})}function nc(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function WC(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:S=>S,formatFractionTotal:S=>S,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,d=0;function f(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(S,N){const{bulletActiveClass:z}=e.params.pagination;S&&(S=S[`${N==="prev"?"previous":"next"}ElementSibling`],S&&(S.classList.add(`${z}-${N}`),S=S[`${N==="prev"?"previous":"next"}ElementSibling`],S&&S.classList.add(`${z}-${N}-${N}`)))}function m(S,N,z){if(S=S%z,N=N%z,N===S+1)return"next";if(N===S-1)return"previous"}function b(S){const N=S.target.closest(nc(e.params.pagination.bulletClass));if(!N)return;S.preventDefault();const z=Mh(N)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===z)return;const V=m(e.realIndex,z,e.slides.length);V==="next"?e.slideNext():V==="previous"?e.slidePrev():e.slideToLoop(z)}else e.slideTo(z)}function _(){const S=e.rtl,N=e.params.pagination;if(f())return;let z=e.pagination.el;z=fn(z);let V,K;const P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,O=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(K=e.previousRealIndex||0,V=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(V=e.snapIndex,K=e.previousSnapIndex):(K=e.previousIndex||0,V=e.activeIndex||0),N.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const M=e.pagination.bullets;let L,B,F;if(N.dynamicBullets&&(u=ty(M[0],e.isHorizontal()?"width":"height"),z.forEach(U=>{U.style[e.isHorizontal()?"width":"height"]=`${u*(N.dynamicMainBullets+4)}px`}),N.dynamicMainBullets>1&&K!==void 0&&(d+=V-(K||0),d>N.dynamicMainBullets-1?d=N.dynamicMainBullets-1:d<0&&(d=0)),L=Math.max(V-d,0),B=L+(Math.min(M.length,N.dynamicMainBullets)-1),F=(B+L)/2),M.forEach(U=>{const pe=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ge=>`${N.bulletActiveClass}${ge}`)].map(ge=>typeof ge=="string"&&ge.includes(" ")?ge.split(" "):ge).flat();U.classList.remove(...pe)}),z.length>1)M.forEach(U=>{const pe=Mh(U);pe===V?U.classList.add(...N.bulletActiveClass.split(" ")):e.isElement&&U.setAttribute("part","bullet"),N.dynamicBullets&&(pe>=L&&pe<=B&&U.classList.add(...`${N.bulletActiveClass}-main`.split(" ")),pe===L&&h(U,"prev"),pe===B&&h(U,"next"))});else{const U=M[V];if(U&&U.classList.add(...N.bulletActiveClass.split(" ")),e.isElement&&M.forEach((pe,ge)=>{pe.setAttribute("part",ge===V?"bullet-active":"bullet")}),N.dynamicBullets){const pe=M[L],ge=M[B];for(let G=L;G<=B;G+=1)M[G]&&M[G].classList.add(...`${N.bulletActiveClass}-main`.split(" "));h(pe,"prev"),h(ge,"next")}}if(N.dynamicBullets){const U=Math.min(M.length,N.dynamicMainBullets+4),pe=(u*U-u)/2-F*u,ge=S?"right":"left";M.forEach(G=>{G.style[e.isHorizontal()?ge:"top"]=`${pe}px`})}}z.forEach((M,L)=>{if(N.type==="fraction"&&(M.querySelectorAll(nc(N.currentClass)).forEach(B=>{B.textContent=N.formatFractionCurrent(V+1)}),M.querySelectorAll(nc(N.totalClass)).forEach(B=>{B.textContent=N.formatFractionTotal(O)})),N.type==="progressbar"){let B;N.progressbarOpposite?B=e.isHorizontal()?"vertical":"horizontal":B=e.isHorizontal()?"horizontal":"vertical";const F=(V+1)/O;let U=1,pe=1;B==="horizontal"?U=F:pe=F,M.querySelectorAll(nc(N.progressbarFillClass)).forEach(ge=>{ge.style.transform=`translate3d(0,0,0) scaleX(${U}) scaleY(${pe})`,ge.style.transitionDuration=`${e.params.speed}ms`})}N.type==="custom"&&N.renderCustom?(Dh(M,N.renderCustom(e,V+1,O)),L===0&&s("paginationRender",M)):(L===0&&s("paginationRender",M),s("paginationUpdate",M)),e.params.watchOverflow&&e.enabled&&M.classList[e.isLocked?"add":"remove"](N.lockClass)})}function x(){const S=e.params.pagination;if(f())return;const N=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let z=e.pagination.el;z=fn(z);let V="";if(S.type==="bullets"){let K=e.params.loop?Math.ceil(N/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&K>N&&(K=N);for(let P=0;P<K;P+=1)S.renderBullet?V+=S.renderBullet.call(e,P,S.bulletClass):V+=`<${S.bulletElement} ${e.isElement?'part="bullet"':""} class="${S.bulletClass}"></${S.bulletElement}>`}S.type==="fraction"&&(S.renderFraction?V=S.renderFraction.call(e,S.currentClass,S.totalClass):V=`<span class="${S.currentClass}"></span> / <span class="${S.totalClass}"></span>`),S.type==="progressbar"&&(S.renderProgressbar?V=S.renderProgressbar.call(e,S.progressbarFillClass):V=`<span class="${S.progressbarFillClass}"></span>`),e.pagination.bullets=[],z.forEach(K=>{S.type!=="custom"&&Dh(K,V||""),S.type==="bullets"&&e.pagination.bullets.push(...K.querySelectorAll(nc(S.bulletClass)))}),S.type!=="custom"&&s("paginationRender",z[0])}function w(){e.params.pagination=XC(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const S=e.params.pagination;if(!S.el)return;let N;typeof S.el=="string"&&e.isElement&&(N=e.el.querySelector(S.el)),!N&&typeof S.el=="string"&&(N=[...document.querySelectorAll(S.el)]),N||(N=S.el),!(!N||N.length===0)&&(e.params.uniqueNavElements&&typeof S.el=="string"&&Array.isArray(N)&&N.length>1&&(N=[...e.el.querySelectorAll(S.el)],N.length>1&&(N=N.find(z=>LC(z,".swiper")[0]===e.el))),Array.isArray(N)&&N.length===1&&(N=N[0]),Object.assign(e.pagination,{el:N}),N=fn(N),N.forEach(z=>{S.type==="bullets"&&S.clickable&&z.classList.add(...(S.clickableClass||"").split(" ")),z.classList.add(S.modifierClass+S.type),z.classList.add(e.isHorizontal()?S.horizontalClass:S.verticalClass),S.type==="bullets"&&S.dynamicBullets&&(z.classList.add(`${S.modifierClass}${S.type}-dynamic`),d=0,S.dynamicMainBullets<1&&(S.dynamicMainBullets=1)),S.type==="progressbar"&&S.progressbarOpposite&&z.classList.add(S.progressbarOppositeClass),S.clickable&&z.addEventListener("click",b),e.enabled||z.classList.add(S.lockClass)}))}function C(){const S=e.params.pagination;if(f())return;let N=e.pagination.el;N&&(N=fn(N),N.forEach(z=>{z.classList.remove(S.hiddenClass),z.classList.remove(S.modifierClass+S.type),z.classList.remove(e.isHorizontal()?S.horizontalClass:S.verticalClass),S.clickable&&(z.classList.remove(...(S.clickableClass||"").split(" ")),z.removeEventListener("click",b))})),e.pagination.bullets&&e.pagination.bullets.forEach(z=>z.classList.remove(...S.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const S=e.params.pagination;let{el:N}=e.pagination;N=fn(N),N.forEach(z=>{z.classList.remove(S.horizontalClass,S.verticalClass),z.classList.add(e.isHorizontal()?S.horizontalClass:S.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?T():(w(),x(),_())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),r("snapIndexChange",()=>{_()}),r("snapGridLengthChange",()=>{x(),_()}),r("destroy",()=>{C()}),r("enable disable",()=>{let{el:S}=e.pagination;S&&(S=fn(S),S.forEach(N=>N.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{_()}),r("click",(S,N)=>{const z=N.target,V=fn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&V&&V.length>0&&!z.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&z===e.navigation.nextEl||e.navigation.prevEl&&z===e.navigation.prevEl))return;const K=V[0].classList.contains(e.params.pagination.hiddenClass);s(K===!0?"paginationShow":"paginationHide"),V.forEach(P=>P.classList.toggle(e.params.pagination.hiddenClass))}});const I=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:S}=e.pagination;S&&(S=fn(S),S.forEach(N=>N.classList.remove(e.params.pagination.paginationDisabledClass))),w(),x(),_()},T=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:S}=e.pagination;S&&(S=fn(S),S.forEach(N=>N.classList.add(e.params.pagination.paginationDisabledClass))),C()};Object.assign(e.pagination,{enable:I,disable:T,render:x,update:_,init:w,destroy:C})}function vS(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,o=!1;e.thumbs={swiper:null};function u(){const h=e.thumbs.swiper;if(!h||h.destroyed)return;const m=h.clickedIndex,b=h.clickedSlide;if(b&&b.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof m>"u"||m===null)return;let _;h.params.loop?_=parseInt(h.clickedSlide.getAttribute("data-swiper-slide-index"),10):_=m,e.params.loop?e.slideToLoop(_):e.slideTo(_)}function d(){const{thumbs:h}=e.params;if(s)return!1;s=!0;const m=e.constructor;if(h.swiper instanceof m){if(h.swiper.destroyed)return s=!1,!1;e.thumbs.swiper=h.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(hc(h.swiper)){const b=Object.assign({},h.swiper);Object.assign(b,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new m(b),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function f(h){const m=e.thumbs.swiper;if(!m||m.destroyed)return;const b=m.params.slidesPerView==="auto"?m.slidesPerViewDynamic():m.params.slidesPerView;let _=1;const x=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(_=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(_=1),_=Math.floor(_),m.slides.forEach(I=>I.classList.remove(x)),m.params.loop||m.params.virtual&&m.params.virtual.enabled)for(let I=0;I<_;I+=1)qr(m.slidesEl,`[data-swiper-slide-index="${e.realIndex+I}"]`).forEach(T=>{T.classList.add(x)});else for(let I=0;I<_;I+=1)m.slides[e.realIndex+I]&&m.slides[e.realIndex+I].classList.add(x);const w=e.params.thumbs.autoScrollOffset,C=w&&!m.params.loop;if(e.realIndex!==m.realIndex||C){const I=m.activeIndex;let T,S;if(m.params.loop){const N=m.slides.find(z=>z.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);T=m.slides.indexOf(N),S=e.activeIndex>e.previousIndex?"next":"prev"}else T=e.realIndex,S=T>e.previousIndex?"next":"prev";C&&(T+=S==="next"?w:-1*w),m.visibleSlidesIndexes&&m.visibleSlidesIndexes.indexOf(T)<0&&(m.params.centeredSlides?T>I?T=T-Math.floor(b/2)+1:T=T+Math.floor(b/2)-1:T>I&&m.params.slidesPerGroup,m.slideTo(T,h?0:void 0))}}r("beforeInit",()=>{const{thumbs:h}=e.params;if(!(!h||!h.swiper))if(typeof h.swiper=="string"||h.swiper instanceof HTMLElement){const m=_a(),b=()=>{const x=typeof h.swiper=="string"?m.querySelector(h.swiper):h.swiper;if(x&&x.swiper)h.swiper=x.swiper,d(),f(!0);else if(x){const w=`${e.params.eventsPrefix}init`,C=I=>{h.swiper=I.detail[0],x.removeEventListener(w,C),d(),f(!0),h.swiper.update(),e.update()};x.addEventListener(w,C)}return x},_=()=>{if(e.destroyed)return;b()||requestAnimationFrame(_)};requestAnimationFrame(_)}else d(),f(!0)}),r("slideChange update resize observerUpdate",()=>{f()}),r("setTransition",(h,m)=>{const b=e.thumbs.swiper;!b||b.destroyed||b.setTransition(m)}),r("beforeDestroy",()=>{const h=e.thumbs.swiper;!h||h.destroyed||o&&h.destroy()}),Object.assign(e.thumbs,{init:d,update:f})}function pU(n){let{swiper:e,extendParams:t,emit:r,once:s}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const f=e.getTranslate();e.setTranslate(f),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function u(){if(e.params.cssMode)return;const{touchEventsData:f,touches:h}=e;f.velocities.length===0&&f.velocities.push({position:h[e.isHorizontal()?"startX":"startY"],time:f.touchStartTime}),f.velocities.push({position:h[e.isHorizontal()?"currentX":"currentY"],time:no()})}function d(f){let{currentPos:h}=f;if(e.params.cssMode)return;const{params:m,wrapperEl:b,rtlTranslate:_,snapGrid:x,touchEventsData:w}=e,I=no()-w.touchStartTime;if(h<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(h>-e.maxTranslate()){e.slides.length<x.length?e.slideTo(x.length-1):e.slideTo(e.slides.length-1);return}if(m.freeMode.momentum){if(w.velocities.length>1){const O=w.velocities.pop(),M=w.velocities.pop(),L=O.position-M.position,B=O.time-M.time;e.velocity=L/B,e.velocity/=2,Math.abs(e.velocity)<m.freeMode.minimumVelocity&&(e.velocity=0),(B>150||no()-O.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=m.freeMode.momentumVelocityRatio,w.velocities.length=0;let T=1e3*m.freeMode.momentumRatio;const S=e.velocity*T;let N=e.translate+S;_&&(N=-N);let z=!1,V;const K=Math.abs(e.velocity)*20*m.freeMode.momentumBounceRatio;let P;if(N<e.maxTranslate())m.freeMode.momentumBounce?(N+e.maxTranslate()<-K&&(N=e.maxTranslate()-K),V=e.maxTranslate(),z=!0,w.allowMomentumBounce=!0):N=e.maxTranslate(),m.loop&&m.centeredSlides&&(P=!0);else if(N>e.minTranslate())m.freeMode.momentumBounce?(N-e.minTranslate()>K&&(N=e.minTranslate()+K),V=e.minTranslate(),z=!0,w.allowMomentumBounce=!0):N=e.minTranslate(),m.loop&&m.centeredSlides&&(P=!0);else if(m.freeMode.sticky){let O;for(let M=0;M<x.length;M+=1)if(x[M]>-N){O=M;break}Math.abs(x[O]-N)<Math.abs(x[O-1]-N)||e.swipeDirection==="next"?N=x[O]:N=x[O-1],N=-N}if(P&&s("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(_?T=Math.abs((-N-e.translate)/e.velocity):T=Math.abs((N-e.translate)/e.velocity),m.freeMode.sticky){const O=Math.abs((_?-N:N)-e.translate),M=e.slidesSizesGrid[e.activeIndex];O<M?T=m.speed:O<2*M?T=m.speed*1.5:T=m.speed*2.5}}else if(m.freeMode.sticky){e.slideToClosest();return}m.freeMode.momentumBounce&&z?(e.updateProgress(V),e.setTransition(T),e.setTranslate(N),e.transitionStart(!0,e.swipeDirection),e.animating=!0,Wg(b,()=>{!e||e.destroyed||!w.allowMomentumBounce||(r("momentumBounce"),e.setTransition(m.speed),setTimeout(()=>{e.setTranslate(V),Wg(b,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(N),e.setTransition(T),e.setTranslate(N),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,Wg(b,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(N),e.updateActiveIndex(),e.updateSlidesClasses()}else if(m.freeMode.sticky){e.slideToClosest();return}else m.freeMode&&r("_freeModeNoMomentumRelease");(!m.freeMode.momentum||I>=m.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:u,onTouchEnd:d}})}const mU="/nikos/assets/banner-1-DTPlrS7y.png",gU="/nikos/assets/banner1_small-CCBtV6oB.png",vU="/nikos/assets/banner-2-DRYg38-f.png",yU="/nikos/assets/banner2_small-CcaYcGmp.png",bU="/nikos/assets/banner-4-DKsyLWdi.png",_U="/nikos/assets/banner4_small-4inaOCxD.png";function EU(){const[n,e]=D.useState(0),t=[{id:1,image:{small:gU,medium:mU},title:"Activa tu ritmo",textColor:"primary-btn"},{id:2,image:{small:yU,medium:vU},title:"Distinción en cada paso",description:"",textColor:"primary-btn"},{id:3,image:{small:_U,medium:bU},title:"Nikos Kids",description:"",textColor:"secondary-btn"}],r=o=>window.innerWidth<780?o.small:o.medium,s=({image:o})=>{const[u,d]=D.useState(r(o));return D.useEffect(()=>{const f=()=>{d(r(o))};return window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[o]),v.jsx("img",{src:u,alt:""})};return v.jsx("main",{id:"#banner",children:v.jsx("div",{className:"slider",children:v.jsx("div",{className:"sliderbox",children:v.jsx("div",{className:"wrap",children:v.jsx(Vc,{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{clickable:!0},modules:[WC],onSlideChange:o=>{e(o.realIndex)},children:t.map((o,u)=>v.jsx(Lc,{children:v.jsx("div",{className:"item",children:v.jsxs("div",{className:"image",children:[v.jsx("div",{className:"ob-cover",children:v.jsx(s,{image:o.image})}),v.jsx("div",{className:`title-info transition-all duration-[700ms] ease-[cubic-bezier(0.25,0.1,0.25,1)] 
                            ${n===u?"opacity-100 translate-y-0":"opacity-0 translate-y-6 pointer-events-none"}
                          `,children:v.jsx("div",{className:"wide",children:v.jsxs("div",{className:"wrap",children:[v.jsx("h3",{className:`title ${o.textColor==="primary-btn"?"md:text-white":"md:text-black"}`,children:o.title}),v.jsx("div",{className:"button",children:v.jsx("a",{href:"/nikos/productos",className:`btn ${o.textColor==="primary-btn"?"primary-btn":"secondary-btn"}`,children:"Compra Ahora"})})]})})})]})})},o.id))})})})})})}function ZC({producto:n,onClose:e}){const t=Xt();if(!n||!n.nombre||!n.precio)return null;const{nombre:r="Producto sin nombre",precio:s=0,precioDescuento:o,descuento:u=0,imagenes:d=[],slug:f=""}=n,h=()=>{t(`/productos/${f}`),e&&e()},m=o&&o<s?s:null,b=o&&o<s?Math.round(100-o/s*100):u;return v.jsxs("div",{className:"item",onClick:h,children:[v.jsxs("div",{className:"dot-images",children:[v.jsx("div",{className:"thumbnail",children:v.jsx("img",{className:"mx-auto",src:(d==null?void 0:d[0])||Pl,alt:r})}),v.jsx("div",{className:"thumbnail hover",children:v.jsx("img",{className:"mx-auto",src:(d==null?void 0:d[1])||(d==null?void 0:d[0])||Pl,alt:`${r} hover`})}),b>0&&(d==null?void 0:d[0])&&v.jsx("div",{className:"label",children:v.jsxs("span",{children:[b,"%"]})})]}),v.jsxs("div",{className:"dot-info",children:[v.jsx("h2",{className:"dot-title",children:r}),v.jsxs("div",{className:"product-price",children:[m&&v.jsxs("span",{className:"before",children:["s/.",m.toFixed(2)]}),v.jsxs("span",{className:"current",children:["s/.",(o&&o<s?o:s).toFixed(2)]})]})]})]})}function wU({productos:n}){const e=n.filter(b=>b.creadoEn).sort((b,_)=>new Date(_.creadoEn)-new Date(b.creadoEn)).slice(0,8),t=D.useRef(null),r=D.useRef(null),[s,o]=D.useState(null),[u,d]=D.useState(!0),[f,h]=D.useState(!1),m=b=>{d(b.isBeginning),h(b.isEnd)};return v.jsx("div",{className:"products-carousel",children:v.jsxs("div",{className:"wrap",children:[v.jsx("div",{className:"mt-5 md:mt-0 heading",children:v.jsx("h2",{className:"title",children:"🆕 Nuevos ingresos"})}),v.jsx("div",{className:"inner-wrapper",children:v.jsx("div",{className:"dotgrid carouselbox",children:v.jsxs("div",{className:"wrapper relative",children:[v.jsxs("div",{className:"swiper-nav-buttons flex justify-between items-center mb-4",children:[!u&&v.jsx("button",{ref:t,onClick:()=>s.slidePrev(),className:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10 border border-black rounded-full w-10 h-10 flex items-center justify-center bg-transparent",children:v.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),!f&&v.jsx("button",{ref:r,onClick:()=>s.slideNext(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 z-10 border border-black rounded-full w-10 h-10 flex items-center justify-center bg-transparent",children:v.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),v.jsx(Vc,{slidesPerView:1,slidesPerGroup:1,spaceBetween:20,loop:!1,navigation:{prevEl:t.current,nextEl:r.current},onSlideChange:m,onSwiper:b=>o(b),breakpoints:{640:{slidesPerView:2,slidesPerGroup:2},768:{slidesPerView:2,slidesPerGroup:2},992:{slidesPerView:3,slidesPerGroup:3},1024:{slidesPerView:4,slidesPerGroup:4}},modules:[hU],children:e.map((b,_)=>v.jsx(Lc,{children:v.jsx(ZC,{producto:b})},_))})]})})})]})})}function xU({options:n,initial:e,onSelect:t}){const[r,s]=D.useState(!1),[o,u]=D.useState(e);D.useEffect(()=>{u(e)},[e]);const d=f=>{u(f),s(!1),t&&t(f)};return v.jsxs("div",{className:"relative max-w-[150px] inline-block text-left",children:[v.jsxs("h3",{className:"opt-trigger cursor-pointer flex items-center gap-2",onClick:()=>s(!r),children:[v.jsx("span",{className:"value font-medium",children:o==null?void 0:o.nombre}),v.jsx("i",{className:"bx bx-chevron-down text-[20px]"})]}),r&&v.jsx("ul",{className:"absolute mt-2 bg-white border border-gray-300 shadow-md z-10 min-w-[120px]",children:n.map(f=>v.jsx("li",{className:"text-[1rem]",children:v.jsx("button",{className:`tabbed-trigger px-4 py-2 block w-full text-left hover:bg-black hover:text-white ${(o==null?void 0:o.nombre)===f.nombre?"font-semibold bg-black text-white":""}`,onClick:()=>d(f),children:f==null?void 0:f.nombre})},f.id||f.nombre))})]})}const SU="/nikos/assets/marca_puma-BcNRuER3.png",TU="/nikos/assets/marca_adidas-CMSHdlMX.png",AU="/nikos/assets/marca_converse-DwpBJRZI.png",CU="/nikos/assets/marca_crocs-vcxEypYz.png",RU="/nikos/assets/marca_jordan-DCTcuM9M.png",IU="/nikos/assets/marca_nike-BxV0vUIs.png",NU="/nikos/assets/marca_pierrecardin-BjODdOTL.png",OU="/nikos/assets/marca_timberland-B5LvreQw.png",MU="/nikos/assets/marca_vans-Bm_53LBe.png",JC=[{id:"M0001",nombre:"NIKE",image:IU},{id:"M0002",nombre:"PUMA",image:SU},{id:"M0003",nombre:"JORDAN",image:RU},{id:"M0004",nombre:"VANS",image:MU},{id:"M0005",nombre:"PIERRE CARDIN",image:NU},{id:"M0006",nombre:"TIMBERLAND",image:OU},{id:"M0007",nombre:"ADIDAS",image:TU},{id:"M0008",nombre:"CONVERSE",image:AU},{id:"M0009",nombre:"CROCS",image:CU}],sv=[{id:"U0001",nombre:"Hombre"},{id:"U0002",nombre:"Mujer"},{id:"U0003",nombre:"Niño/a"},{id:"U0004",nombre:"Juvenil"},{id:"U0005",nombre:"Bebé"}],DU=[{nombre:"Urbano"},{nombre:"Deportivo"},{nombre:"Escolar"},{nombre:"Elegante"},{nombre:"Casual"},{nombre:"Chimpún"},{nombre:"Sandalias"}],PU=[{nombre:"Hombre"},{nombre:"Mujer"},{nombre:"Niño"},{nombre:"Niña"},{nombre:"Unisex"}],kU=[{nombre:"Cuero"},{nombre:"Sintético"},{nombre:"Textil"},{nombre:"Malla"},{nombre:"Lona"},{nombre:"Gamuza"}],VU=[{nombre:"Para correr"},{nombre:"Para el día a día"},{nombre:"Escolar"},{nombre:"Casual"},{nombre:"Deportivo"},{nombre:"Trabajo"},{nombre:"Oficina"}],LU=[{nombre:"Nacional"},{nombre:"Importado"}],jU=[{nombre:"Blanco"},{nombre:"Negro"},{nombre:"Azul"},{nombre:"red"},{nombre:"Gris"},{nombre:"Verde"},{nombre:"Marrón"},{nombre:"Beige"}];function UU(){const n=Xt(),[e,t]=D.useState([]),[r,s]=D.useState([]),[o,u]=D.useState(sv[0]),d=()=>{n("/productos")},f=()=>{const m=window.innerWidth;return m>=1024?8:m>=768?3:2},h=m=>{!m||!m.nombre||u(m)};return D.useEffect(()=>{if(!o||e.length===0)return;const m=o.nombre;let b;m==="Niño/a"?b=e.filter(x=>x.usuario==="Niño"||x.usuario==="Niña"):b=e.filter(x=>x.usuario===m);const _=f();s(b.slice(0,_))},[e,o]),D.useEffect(()=>{(async()=>{try{const _=(await Xr(jn(wt,"productos"))).docs.map(x=>({id:x.id,...x.data()}));t(_)}catch(b){console.error("Error al cargar productos:",b)}})()},[]),v.jsx("div",{className:"bycats",children:v.jsxs("div",{className:"wrap",children:[v.jsxs("div",{className:"mt-5 md:mt-0 heading sort-list tabs",children:[v.jsx("span",{className:"grey-color mr-3",children:"in"}),v.jsx(xU,{options:sv,initial:sv[0],onSelect:h})]}),v.jsx("div",{className:"tabbed",children:v.jsx("div",{className:"sort-data",children:v.jsxs("div",{className:"dotgrid",children:[v.jsx("div",{className:`wrapper grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 ${r.length>0?"animate-fadeIn":""}`,children:r.map((m,b)=>v.jsx(ZC,{producto:m},m.id||b))}),v.jsx("div",{onClick:d,className:"button my-3 mx-auto min-w-[150px] w-[150px] cursor-pointer",children:v.jsx("div",{className:"btn primary-btn",children:"Ver más"})})]})})})]})})}function BU(){return D.useEffect(()=>{const n=document.getElementById("scrolling-container");let e=0;const t=.5,r=()=>{n&&(n.scrollLeft+=t,e+=t,e>=n.scrollWidth-n.clientWidth&&(n.scrollLeft=0,e=0)),requestAnimationFrame(r)};r()},[]),v.jsx("div",{className:"brandssection",id:"marcas",children:v.jsx("div",{className:"wrap",children:v.jsx("div",{className:"dotgrid",children:v.jsx("div",{id:"scrolling-container",className:"wrapper overflow-x-auto whitespace-nowrap max-w-full",children:v.jsx("div",{className:"flex gap-2 py-2",children:JC.map((n,e)=>v.jsx("div",{className:"flex-shrink-0 max-w-[220px] w-full bg-gray-100 rounded shadow p-4 flex items-center justify-center",children:v.jsx("img",{src:n.image,alt:"",className:"w-32 h-32 object-contain"})},e))})})})})})}const FU=()=>{const[n,e]=D.useState([]);return D.useEffect(()=>{(async()=>{const s=(await Xr(jn(wt,"productos"))).docs.map(o=>({id:o.id,...o.data()}));e(s)})()},[]),v.jsxs(v.Fragment,{children:[v.jsx(EU,{}),v.jsx(wU,{productos:n}),v.jsx(UU,{productos:n}),v.jsx(BU,{})]})};function zU({producto:n}){return v.jsx("div",{className:"wrap",children:v.jsx("div",{className:"breadcrumb list-inline py-4 py-2 md:px-0",children:v.jsxs("ul",{className:"flex justify-left md992:justify-center gap-[10px]",children:[v.jsx("li",{children:v.jsx("a",{href:"/nikos",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{href:"/nikos/productos",children:"Productos"})}),v.jsx("li",{children:v.jsx("a",{href:`/nikos/productos/${n.slug}`,children:v.jsx("span",{children:n.nombre})})})]})})})}function HU({producto:n}){const[e,t]=D.useState(null),r=Array.isArray(n.imagenes)&&n.imagenes.length>0?n.imagenes:[Pl];return v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-3xl",children:[v.jsx("div",{className:"hidden sm:block w-20 h-[500px]",children:v.jsx(Vc,{onSwiper:t,direction:"vertical",spaceBetween:10,slidesPerView:5.5,freeMode:!0,modules:[vS,pU],watchSlidesProgress:!0,className:"h-full",children:r.map((s,o)=>v.jsx(Lc,{children:v.jsx("img",{src:s,className:"object-cover w-full h-20 cursor-pointer",alt:`Imagen ${o}`})},o))})}),v.jsx(Vc,{thumbs:{swiper:e&&!e.destroyed?e:null},spaceBetween:0,modules:[vS,WC],pagination:{clickable:!0},className:"w-full max-w-full md992:max-w-[500px] h-full md992:h-[500px] rounded-md overflow-hidden bg-white",children:r.map((s,o)=>v.jsx(Lc,{children:v.jsx("img",{src:s,className:"object-contain md:object-left w-full h-full",alt:`Imagen ${o}`})},o))})]})}function eR({isOpen:n,onClose:e,children:t}){return n?v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[v.jsx("div",{className:"absolute inset-0 bg-opacity-50 backdrop-blur-sm transition-opacity",onClick:e}),v.jsxs("div",{className:"relative z-10 bg-white p-6 rounded shadow-lg w-full max-w-md mx-4",children:[v.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-black text-xl",children:"×"}),t]})]}):null}function qU({producto:n}){var K,P,O;const{agregarAlCarrito:e}=Tp(),[t,r]=D.useState(""),[s,o]=D.useState(""),[u,d]=D.useState(1),[f,h]=D.useState(!1),[m,b]=D.useState(!1),[_,x]=D.useState(""),[w,C]=D.useState(""),[I,T]=D.useState(!1),S=window.location.href,N=()=>{navigator.clipboard.writeText(S),b(!0),setTimeout(()=>b(!1),2e3)},z=M=>{if(!s||!t){x("Selecciona talla y color");return}x(""),T(!0);const L={slug:M.slug,nombre:M.nombre,imagen:M.imagenes[0],talla:s,color:t,cantidad:parseInt(u),precio:M.precioDescuento||M.precio};e(L),C("Producto añadido al carrito"),setTimeout(()=>{C(""),T(!1)},2e3)},V=(K=n.variantes)==null?void 0:K.find(M=>M.codigoColor===t);return v.jsxs("div",{className:"summary",children:[v.jsxs("div",{className:"entry",children:[v.jsx("h1",{className:"title",children:n.nombre}),v.jsx("div",{className:"product-grow",children:v.jsxs("div",{className:"product-price",children:[v.jsxs("span",{className:"current",children:["s/.",n.precioDescuento]}),n.precioDescuento&&v.jsxs("div",{className:"wrap",children:[v.jsxs("span",{className:"before",children:["s/.",n.precio]}),v.jsxs("span",{className:"discount",children:["-",Math.round(100-n.precioDescuento/n.precio*100),"%"]})]})]})}),v.jsxs("div",{className:"product-color",children:[v.jsx("span",{children:"Colores:"}),v.jsx("div",{className:"wrap",children:(P=n.variantes)==null?void 0:P.map((M,L)=>v.jsx("button",{style:{backgroundColor:M.codigoColor},className:`cursor-pointer border rounded-full transition-shadow relative w-10 h-10 ${t===M.codigoColor?"selected shadow-[inset_0_0_0_4px_var(--white-color)]":""}`,onClick:()=>{r(M.codigoColor),o(""),x("")}},L))})]}),t&&v.jsxs("div",{className:"product-size mt-4",children:[v.jsx("span",{children:"Tallas:"}),v.jsx("div",{className:"wrap",children:(O=V==null?void 0:V.tallas)==null?void 0:O.map(({talla:M,stock:L})=>v.jsx("button",{onClick:()=>{L>0&&(o(M),x(""))},disabled:L===0,className:`px-3 py-1 border rounded mx-1 my-1 
                    ${L===0?"opacity-50 cursor-not-allowed bg-gray-200 text-gray-500":"cursor-pointer"} 
                    ${s===M?"selected":""}`,children:M},M))})]}),v.jsxs("div",{className:"product-action flex gap-6 justify-left items-center mt-2",children:[v.jsxs("div",{className:"qty flex flex-wrap",children:[v.jsx("button",{onClick:()=>d(M=>Math.max(1,M-1)),className:"cursor-pointer decrease h-[40px] w-[40px] bg-[#f1f1f1]",children:"-"}),v.jsx("input",{className:"w-[50px] border text-center",readOnly:!0,type:"number",value:u}),v.jsx("button",{onClick:()=>d(M=>M+1),className:"cursor-pointer increase h-[40px] w-[40px] bg-[#f1f1f1]",children:"+"})]}),v.jsx("div",{className:"addcart button",children:v.jsx("button",{onClick:()=>z(n),type:"button",className:"cursor-pointer btn primary-btn min-w-[201px]",disabled:I,children:I?"Agregando...":"Añadir al carrito"})})]}),_&&v.jsx("p",{className:"text-sm text-red-600 m-0",children:_}),w&&v.jsx("p",{className:"text-sm text-green-600 m-0",children:w}),v.jsx("div",{className:"product-control list-inline mt-4",children:v.jsx("ul",{children:v.jsx("li",{children:v.jsxs("button",{onClick:()=>h(!0),className:"cursor-pointer flex items-center gap-1",children:[v.jsx("i",{className:"bx bx-share"}),v.jsx("span",{children:"Compartir Producto"})]})})})})]}),v.jsx(eR,{isOpen:f,onClose:()=>h(!1),children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Comparte este producto"}),v.jsx("input",{readOnly:!0,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm text-gray-700",value:S}),v.jsx("button",{onClick:N,className:"mt-4 w-full bg-black text-white py-2 rounded hover:bg-gray-800 transition",children:"Copiar enlace"}),m&&v.jsx("p",{className:"text-green-600 mt-2 text-sm",children:"¡Copiado!"})]})})]})}function $U({producto:n}){var o,u,d,f,h;const[e,t]=D.useState("description"),r=((o=n.variantes)==null?void 0:o.map(m=>({nombre:m.color,codigo:m.codigoColor})))||[],s=((u=n.variantes)==null?void 0:u.flatMap(m=>m.tallas.map(b=>({talla:b.talla,stock:b.stock,color:m.color}))))||[];return v.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[v.jsx("nav",{className:"border-b border-gray-300",children:v.jsxs("ul",{className:"flex flex-wrap gap-4",children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>t("description"),className:`pb-2 border-b-2 font-semibold transition-colors ${e==="description"?"border-black text-black":"border-transparent text-gray-500 hover:text-black"}`,children:"Detalle del producto"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>t("additional"),className:`pb-2 border-b-2 font-semibold transition-colors ${e==="additional"?"border-black text-black":"border-transparent text-gray-500 hover:text-black"}`,children:"Información adicional"})})]})}),v.jsxs("div",{className:"mt-6 text-gray-700 space-y-6",children:[e==="description"&&v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-bold",children:n.nombre}),v.jsx("p",{className:"text-base",children:n.descripcion}),v.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Marca:"})," ",n.marca]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Precio:"})," s/.",n.precio,n.precioDescuento&&v.jsxs("span",{className:"text-sm text-red-500 ml-2",children:["-",Math.round(100-n.precioDescuento/n.precio*100),"% OFF"]})]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Usuario:"})," ",n.usuario]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Uso:"})," ",(d=n.uso)==null?void 0:d.join(", ")]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Tipo de calzado:"})," ",n.tipoCalzado]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Origen:"})," ",n.origen]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("h4",{className:"font-semibold mb-2",children:"Colores disponibles:"}),v.jsx("div",{className:"flex gap-2",children:r.map((m,b)=>v.jsx("div",{className:"w-6 h-6 rounded-full border border-gray-300",style:{backgroundColor:m.codigo},title:m.nombre},b))})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("h4",{className:"font-semibold mb-2",children:"Stock por talla:"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(({talla:m,stock:b,color:_},x)=>v.jsxs("div",{className:`px-3 py-1 rounded border text-sm ${b>0?"bg-green-100 border-green-500 text-green-700":"bg-gray-200 text-gray-500 line-through"}`,children:[m," (",_,"): ",b," ",b===1?"unidad":"unidades"]},`${m}-${x}`))})]})]}),e==="additional"&&v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-bold",children:"Información adicional"}),v.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Materiales:"})," ",(f=n.material)==null?void 0:f.join(", ")]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Fecha de agregado:"})," ",new Date(n.fechaAgregado*1e3).toLocaleDateString()]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Etiquetas:"})," ",(h=n.etiquetas)==null?void 0:h.join(", ")]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Destacado:"})," ",n.destacado?"Sí":"No"]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Slug:"})," ",v.jsx("code",{children:n.slug})]}),v.jsxs("li",{children:[v.jsx("strong",{children:"ID del producto:"})," ",n.id]})]})]})]})]})}const GU=()=>{const{slug:n}=m2(),[e,t]=D.useState(null),[r,s]=D.useState(!0);return D.useEffect(()=>{(async()=>{try{const u=jn(wt,"productos"),d=bp(u,xl("slug","==",n)),f=await Xr(d);if(f.empty)t(null);else{const h=f.docs[0];t({id:h.id,...h.data()})}}catch(u){console.error("Error al obtener el producto por slug:",u),t(null)}finally{s(!1)}})()},[n]),r?v.jsx("p",{className:"text-center mt-10",children:"Cargando producto..."}):e?v.jsxs("main",{className:"m-2",children:[v.jsx(zU,{producto:e}),v.jsx("div",{className:"dotgrid",children:v.jsxs("div",{className:"wrapper flex gap-[20px] flex-col md992:flex-row justify-center",children:[v.jsx(HU,{producto:e}),v.jsx(qU,{producto:e})]})}),v.jsx($U,{producto:e})]}):v.jsx("h2",{className:"text-center mt-10",children:"Producto no encontrado"})},yS=4,Xa=({titulo:n,items:e,campo:t,valoresSeleccionados:r,toggleFiltro:s})=>{const[o,u]=D.useState(!0),[d,f]=D.useState(!1),h=d?e:e.slice(0,yS);return v.jsxs("div",{className:"pb-4",children:[v.jsxs("div",{className:"flex justify-between items-center cursor-pointer mb-2",onClick:()=>u(!o),children:[v.jsx("h3",{className:"font-semibold text-gray-800",children:n}),v.jsx("i",{className:`bx text-lg ${o?"bx-chevron-up":"bx-chevron-down"}`})]}),o&&v.jsxs("div",{className:"space-y-2 pl-1",children:[h.map(m=>v.jsxs("label",{className:"flex items-center text-sm text-gray-700",children:[v.jsx("input",{type:"checkbox",className:"mr-2 accent-blue-600",checked:r.includes(m.nombre),onChange:()=>s(t,m.nombre)}),m.nombre]},m.nombre)),e.length>yS&&v.jsx("button",{onClick:()=>f(!d),className:"text-blue-600 text-xs hover:underline mt-1",children:d?"Ver menos":"Ver más"})]})]})};function bS({filters:n,toggleFiltro:e,setFilters:t,onFiltrar:r}){return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"max-h-[75vh] overflow-y-auto pr-2 space-y-6 text-sm text-gray-800",children:[v.jsx(Xa,{titulo:"Tipo de Calzado",items:DU,campo:"tipo",valoresSeleccionados:n.tipo,toggleFiltro:e}),v.jsx(Xa,{titulo:"Marca",items:JC,campo:"marca",valoresSeleccionados:n.marca,toggleFiltro:e}),v.jsx(Xa,{titulo:"Usuario / Talla",items:PU,campo:"usuario",valoresSeleccionados:n.usuario,toggleFiltro:e}),v.jsx(Xa,{titulo:"Material",items:kU,campo:"material",valoresSeleccionados:n.material,toggleFiltro:e}),v.jsx(Xa,{titulo:"Uso",items:VU,campo:"uso",valoresSeleccionados:n.uso,toggleFiltro:e}),v.jsx(Xa,{titulo:"Origen",items:LU,campo:"origen",valoresSeleccionados:n.origen,toggleFiltro:e}),v.jsx(Xa,{titulo:"Colores",items:jU,campo:"color",valoresSeleccionados:n.color,toggleFiltro:e}),v.jsxs("div",{className:"pb-4",children:[v.jsxs("h3",{className:"font-semibold mb-2 flex justify-between items-center",children:["Precio máximo: ",v.jsxs("span",{className:"text-blue-700",children:["S/. ",n.precioMax]})]}),v.jsx("input",{type:"range",min:"50",max:"500",step:"10",value:n.precioMax,onChange:s=>t({...n,precioMax:parseInt(s.target.value)}),className:"w-full accent-blue-600"})]})]}),v.jsx("div",{className:"button pt-4",children:v.jsx("button",{onClick:r,className:"btn primary-btn",children:"Filtrar"})})]})}function YU(){const[n,e]=D.useState({tipo:[],marca:[],usuario:[],material:[],uso:[],origen:[],color:[],precioMax:500}),[t,r]=D.useState([]),[s,o]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState(6),[m,b]=D.useState(!0),_=Xt(),x=()=>{d(!0),setTimeout(()=>{o(!1),d(!1)},400)},w=T=>{_(`/productos/${T.slug}`)},C=()=>{const T=jn(wt,"productos"),S=[];return n.marca.length===1&&S.push(xl("marca","==",n.marca[0])),n.usuario.length===1&&S.push(xl("usuario","==",n.usuario[0])),n.precioMax<500&&S.push(xl("precio","<=",n.precioMax)),S.length>0?bp(T,...S):T},I=async()=>{try{b(!0);const T=C(),z=(await Xr(T)).docs.map(V=>({id:V.id,...V.data()})).filter(V=>{const K=n.tipo.length===0||n.tipo.some(B=>{var F;return(F=V.tipoCalzado)==null?void 0:F.includes(B)}),P=n.material.length===0||n.material.some(B=>{var F;return(F=V.material)==null?void 0:F.includes(B)}),O=n.uso.length===0||n.uso.some(B=>{var F;return(F=V.uso)==null?void 0:F.includes(B)}),M=n.origen.length===0||n.origen.includes(V.origen),L=n.color.length===0||n.color.some(B=>{var F;return(F=V.variantes)==null?void 0:F.some(U=>{var pe;return((pe=U.color)==null?void 0:pe.toLowerCase())===B.toLowerCase()})});return K&&P&&O&&M&&L});r(z),h(6)}catch(T){console.error("Error al filtrar productos:",T)}finally{b(!1)}};return D.useEffect(()=>{I()},[]),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 px-4 py-1",children:[v.jsx(N0,{mostrarModalFiltros:s,animatingClose:u,cerrarModalConAnimacion:x,filters:n,toggleFiltro:(T,S)=>{e(N=>{const V=N[T].includes(S)?N[T].filter(K=>K!==S):[...N[T],S];return{...N,[T]:V}})},setFilters:e,children:v.jsx(bS,{filters:n,setFilters:e,toggleFiltro:(T,S)=>{e(N=>{const V=N[T].includes(S)?N[T].filter(K=>K!==S):[...N[T],S];return{...N,[T]:V}})},onFiltrar:I})}),v.jsx("aside",{className:"hidden md992:block w-full max-w-[250px]",children:v.jsx(bS,{filters:n,setFilters:e,toggleFiltro:(T,S)=>{e(N=>{const V=N[T].includes(S)?N[T].filter(K=>K!==S):[...N[T],S];return{...N,[T]:V}})},onFiltrar:I})}),v.jsx("main",{className:"flex-1",children:m?v.jsx("p",{className:"text-center mt-10",children:"Cargando productos..."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsxs("h1",{className:"text-md font-light",children:["Mostrando 1 - ",Math.min(f,t.length)," de"," ",t.length," productos"]}),v.jsx("button",{className:"md992:hidden btn border px-3 py-2",onClick:()=>o(!0),children:v.jsx("i",{className:"bx bx-filter"})})]}),v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.slice(0,f).map(T=>{var S;return v.jsxs("div",{onClick:()=>w(T),className:"cursor-pointer bg-white transition duration-300 flex flex-col",children:[v.jsx("div",{className:"w-full aspect-square overflow-hidden",children:v.jsx("img",{src:((S=T.imagenes)==null?void 0:S[0])||Pl,alt:T.nombre,className:"w-full h-full object-cover"})}),v.jsxs("div",{className:"p-2",children:[v.jsx("h2",{className:"text-base text-gray-900 leading-snug break-words mb-1",children:T.nombre}),v.jsx("div",{className:"text-sm text-gray-500 mb-2",children:T.marca}),v.jsxs("div",{className:"flex flex-wrap items-center space-x-2",children:[v.jsxs("span",{className:"font-semibold text-gray-800 mr-2",children:["s/.",T.precio]}),T.precioDescuento&&v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"text-sm text-gray-400 line-through",children:["s/.",T.precioDescuento]}),v.jsxs("span",{className:"text-sm text-green-500 font-semibold w-full",children:["-",Math.round(100-T.precioDescuento/T.precio*100),"%"]})]})]})]})]},T.id)})}),f<t.length&&v.jsx("div",{className:"button text-center mt-6",children:v.jsx("button",{onClick:()=>h(f+6),className:"btn secondary-btn border px-4 py-2",children:"Ver más"})})]})})]})}var rd=n=>n.type==="checkbox",eo=n=>n instanceof Date,Vn=n=>n==null;const tR=n=>typeof n=="object";var Ft=n=>!Vn(n)&&!Array.isArray(n)&&tR(n)&&!eo(n),nR=n=>Ft(n)&&n.target?rd(n.target)?n.target.checked:n.target.value:n,KU=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,rR=(n,e)=>n.has(KU(e)),QU=n=>{const e=n.constructor&&n.constructor.prototype;return Ft(e)&&e.hasOwnProperty("isPrototypeOf")},D0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bn(n){let e;const t=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(D0&&(n instanceof Blob||r))&&(t||Ft(n)))if(e=t?[]:{},!t&&!QU(n))e=n;else for(const s in n)n.hasOwnProperty(s)&&(e[s]=bn(n[s]));else return n;return e}var Ap=n=>/^\w*$/.test(n),Bt=n=>n===void 0,P0=n=>Array.isArray(n)?n.filter(Boolean):[],k0=n=>P0(n.replace(/["|']|\]/g,"").split(/\.|\[/)),we=(n,e,t)=>{if(!e||!Ft(n))return t;const r=(Ap(e)?[e]:k0(e)).reduce((s,o)=>Vn(s)?s:s[o],n);return Bt(r)||r===n?Bt(n[e])?t:n[e]:r},lr=n=>typeof n=="boolean",Et=(n,e,t)=>{let r=-1;const s=Ap(e)?[e]:k0(e),o=s.length,u=o-1;for(;++r<o;){const d=s[r];let f=t;if(r!==u){const h=n[d];f=Ft(h)||Array.isArray(h)?h:isNaN(+s[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;n[d]=f,n=n[d]}};const kh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},iR=je.createContext(null);iR.displayName="HookFormContext";const V0=()=>je.useContext(iR);var sR=(n,e,t,r=!0)=>{const s={defaultValues:e._defaultValues};for(const o in n)Object.defineProperty(s,o,{get:()=>{const u=o;return e._proxyFormState[u]!==Fr.all&&(e._proxyFormState[u]=!r||Fr.all),t&&(t[u]=!0),n[u]}});return s};const L0=typeof window<"u"?D.useLayoutEffect:D.useEffect;function XU(n){const e=V0(),{control:t=e.control,disabled:r,name:s,exact:o}=n||{},[u,d]=je.useState(t._formState),f=je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return L0(()=>t._subscribe({name:s,formState:f.current,exact:o,callback:h=>{!r&&d({...t._formState,...h})}}),[s,r,o]),je.useEffect(()=>{f.current.isValid&&t._setValid(!0)},[t]),je.useMemo(()=>sR(u,t,f.current,!1),[u,t])}var bi=n=>typeof n=="string",aR=(n,e,t,r,s)=>bi(n)?(r&&e.watch.add(n),we(t,n,s)):Array.isArray(n)?n.map(o=>(r&&e.watch.add(o),we(t,o))):(r&&(e.watchAll=!0),t);function WU(n){const e=V0(),{control:t=e.control,name:r,defaultValue:s,disabled:o,exact:u}=n||{},d=je.useRef(s),[f,h]=je.useState(t._getWatch(r,d.current));return L0(()=>t._subscribe({name:r,formState:{values:!0},exact:u,callback:m=>!o&&h(aR(r,t._names,m.values||t._formValues,!1,d.current))}),[r,t,o,u]),je.useEffect(()=>t._removeUnmounted()),f}function ZU(n){const e=V0(),{name:t,disabled:r,control:s=e.control,shouldUnregister:o}=n,u=rR(s._names.array,t),d=WU({control:s,name:t,defaultValue:we(s._formValues,t,we(s._defaultValues,t,n.defaultValue)),exact:!0}),f=XU({control:s,name:t,exact:!0}),h=je.useRef(n),m=je.useRef(s.register(t,{...n.rules,value:d,...lr(n.disabled)?{disabled:n.disabled}:{}})),b=je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!we(f.errors,t)},isDirty:{enumerable:!0,get:()=>!!we(f.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!we(f.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!we(f.validatingFields,t)},error:{enumerable:!0,get:()=>we(f.errors,t)}}),[f,t]),_=je.useCallback(I=>m.current.onChange({target:{value:nR(I),name:t},type:kh.CHANGE}),[t]),x=je.useCallback(()=>m.current.onBlur({target:{value:we(s._formValues,t),name:t},type:kh.BLUR}),[t,s._formValues]),w=je.useCallback(I=>{const T=we(s._fields,t);T&&I&&(T._f.ref={focus:()=>I.focus&&I.focus(),select:()=>I.select&&I.select(),setCustomValidity:S=>I.setCustomValidity(S),reportValidity:()=>I.reportValidity()})},[s._fields,t]),C=je.useMemo(()=>({name:t,value:d,...lr(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:_,onBlur:x,ref:w}),[t,r,f.disabled,_,x,w,d]);return je.useEffect(()=>{const I=s._options.shouldUnregister||o;s.register(t,{...h.current.rules,...lr(h.current.disabled)?{disabled:h.current.disabled}:{}});const T=(S,N)=>{const z=we(s._fields,S);z&&z._f&&(z._f.mount=N)};if(T(t,!0),I){const S=bn(we(s._options.defaultValues,t));Et(s._defaultValues,t,S),Bt(we(s._formValues,t))&&Et(s._formValues,t,S)}return!u&&s.register(t),()=>{(u?I&&!s._state.action:I)?s.unregister(t):T(t,!1)}},[t,s,u,o]),je.useEffect(()=>{s._setDisabledField({disabled:r,name:t})},[r,t,s]),je.useMemo(()=>({field:C,formState:f,fieldState:b}),[C,f,b])}const JU=n=>n.render(ZU(n));var e9=(n,e,t,r,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:s||!0}}:{},xc=n=>Array.isArray(n)?n:[n],_S=()=>{let n=[];return{get observers(){return n},next:s=>{for(const o of n)o.next&&o.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(o=>o!==s)}}),unsubscribe:()=>{n=[]}}},iy=n=>Vn(n)||!tR(n);function na(n,e){if(iy(n)||iy(e))return n===e;if(eo(n)&&eo(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const s of t){const o=n[s];if(!r.includes(s))return!1;if(s!=="ref"){const u=e[s];if(eo(o)&&eo(u)||Ft(o)&&Ft(u)||Array.isArray(o)&&Array.isArray(u)?!na(o,u):o!==u)return!1}}return!0}var Gn=n=>Ft(n)&&!Object.keys(n).length,j0=n=>n.type==="file",zr=n=>typeof n=="function",Vh=n=>{if(!D0)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},oR=n=>n.type==="select-multiple",U0=n=>n.type==="radio",t9=n=>U0(n)||rd(n),av=n=>Vh(n)&&n.isConnected;function n9(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=Bt(n)?r++:n[e[r++]];return n}function r9(n){for(const e in n)if(n.hasOwnProperty(e)&&!Bt(n[e]))return!1;return!0}function nn(n,e){const t=Array.isArray(e)?e:Ap(e)?[e]:k0(e),r=t.length===1?n:n9(n,t),s=t.length-1,o=t[s];return r&&delete r[o],s!==0&&(Ft(r)&&Gn(r)||Array.isArray(r)&&r9(r))&&nn(n,t.slice(0,-1)),n}var lR=n=>{for(const e in n)if(zr(n[e]))return!0;return!1};function Lh(n,e={}){const t=Array.isArray(n);if(Ft(n)||t)for(const r in n)Array.isArray(n[r])||Ft(n[r])&&!lR(n[r])?(e[r]=Array.isArray(n[r])?[]:{},Lh(n[r],e[r])):Vn(n[r])||(e[r]=!0);return e}function uR(n,e,t){const r=Array.isArray(n);if(Ft(n)||r)for(const s in n)Array.isArray(n[s])||Ft(n[s])&&!lR(n[s])?Bt(e)||iy(t[s])?t[s]=Array.isArray(n[s])?Lh(n[s],[]):{...Lh(n[s])}:uR(n[s],Vn(e)?{}:e[s],t[s]):t[s]=!na(n[s],e[s]);return t}var rc=(n,e)=>uR(n,e,Lh(e));const ES={value:!1,isValid:!1},wS={value:!0,isValid:!0};var cR=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Bt(n[0].attributes.value)?Bt(n[0].value)||n[0].value===""?wS:{value:n[0].value,isValid:!0}:wS:ES}return ES},dR=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>Bt(n)?n:e?n===""?NaN:n&&+n:t&&bi(n)?new Date(n):r?r(n):n;const xS={isValid:!1,value:null};var fR=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,xS):xS;function SS(n){const e=n.ref;return j0(e)?e.files:U0(e)?fR(n.refs).value:oR(e)?[...e.selectedOptions].map(({value:t})=>t):rd(e)?cR(n.refs).value:dR(Bt(e.value)?n.ref.value:e.value,n)}var i9=(n,e,t,r)=>{const s={};for(const o of n){const u=we(e,o);u&&Et(s,o,u._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:r}},jh=n=>n instanceof RegExp,ic=n=>Bt(n)?n:jh(n)?n.source:Ft(n)?jh(n.value)?n.value.source:n.value:n,TS=n=>({isOnSubmit:!n||n===Fr.onSubmit,isOnBlur:n===Fr.onBlur,isOnChange:n===Fr.onChange,isOnAll:n===Fr.all,isOnTouch:n===Fr.onTouched});const AS="AsyncFunction";var s9=n=>!!n&&!!n.validate&&!!(zr(n.validate)&&n.validate.constructor.name===AS||Ft(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===AS)),a9=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),CS=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const Sc=(n,e,t,r)=>{for(const s of t||Object.keys(n)){const o=we(n,s);if(o){const{_f:u,...d}=o;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],s)&&!r)return!0;if(u.ref&&e(u.ref,u.name)&&!r)return!0;if(Sc(d,e))break}else if(Ft(d)&&Sc(d,e))break}}};function RS(n,e,t){const r=we(n,t);if(r||Ap(t))return{error:r,name:t};const s=t.split(".");for(;s.length;){const o=s.join("."),u=we(e,o),d=we(n,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(d&&d.type)return{name:o,error:d};if(d&&d.root&&d.root.type)return{name:`${o}.root`,error:d.root};s.pop()}return{name:t}}var o9=(n,e,t,r)=>{t(n);const{name:s,...o}=n;return Gn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(u=>e[u]===(!r||Fr.all))},l9=(n,e,t)=>!n||!e||n===e||xc(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),u9=(n,e,t,r,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?r.isOnBlur:s.isOnBlur)?!n:(t?r.isOnChange:s.isOnChange)?n:!0,c9=(n,e)=>!P0(we(n,e)).length&&nn(n,e),d9=(n,e,t)=>{const r=xc(we(n,t));return Et(r,"root",e[t]),Et(n,t,r),n},rh=n=>bi(n);function IS(n,e,t="validate"){if(rh(n)||Array.isArray(n)&&n.every(rh)||lr(n)&&!n)return{type:t,message:rh(n)?n:"",ref:e}}var ul=n=>Ft(n)&&!jh(n)?n:{value:n,message:""},NS=async(n,e,t,r,s,o)=>{const{ref:u,refs:d,required:f,maxLength:h,minLength:m,min:b,max:_,pattern:x,validate:w,name:C,valueAsNumber:I,mount:T}=n._f,S=we(t,C);if(!T||e.has(C))return{};const N=d?d[0]:u,z=F=>{s&&N.reportValidity&&(N.setCustomValidity(lr(F)?"":F||""),N.reportValidity())},V={},K=U0(u),P=rd(u),O=K||P,M=(I||j0(u))&&Bt(u.value)&&Bt(S)||Vh(u)&&u.value===""||S===""||Array.isArray(S)&&!S.length,L=e9.bind(null,C,r,V),B=(F,U,pe,ge=rs.maxLength,G=rs.minLength)=>{const oe=F?U:pe;V[C]={type:F?ge:G,message:oe,ref:u,...L(F?ge:G,oe)}};if(o?!Array.isArray(S)||!S.length:f&&(!O&&(M||Vn(S))||lr(S)&&!S||P&&!cR(d).isValid||K&&!fR(d).isValid)){const{value:F,message:U}=rh(f)?{value:!!f,message:f}:ul(f);if(F&&(V[C]={type:rs.required,message:U,ref:N,...L(rs.required,U)},!r))return z(U),V}if(!M&&(!Vn(b)||!Vn(_))){let F,U;const pe=ul(_),ge=ul(b);if(!Vn(S)&&!isNaN(S)){const G=u.valueAsNumber||S&&+S;Vn(pe.value)||(F=G>pe.value),Vn(ge.value)||(U=G<ge.value)}else{const G=u.valueAsDate||new Date(S),oe=H=>new Date(new Date().toDateString()+" "+H),me=u.type=="time",ie=u.type=="week";bi(pe.value)&&S&&(F=me?oe(S)>oe(pe.value):ie?S>pe.value:G>new Date(pe.value)),bi(ge.value)&&S&&(U=me?oe(S)<oe(ge.value):ie?S<ge.value:G<new Date(ge.value))}if((F||U)&&(B(!!F,pe.message,ge.message,rs.max,rs.min),!r))return z(V[C].message),V}if((h||m)&&!M&&(bi(S)||o&&Array.isArray(S))){const F=ul(h),U=ul(m),pe=!Vn(F.value)&&S.length>+F.value,ge=!Vn(U.value)&&S.length<+U.value;if((pe||ge)&&(B(pe,F.message,U.message),!r))return z(V[C].message),V}if(x&&!M&&bi(S)){const{value:F,message:U}=ul(x);if(jh(F)&&!S.match(F)&&(V[C]={type:rs.pattern,message:U,ref:u,...L(rs.pattern,U)},!r))return z(U),V}if(w){if(zr(w)){const F=await w(S,t),U=IS(F,N);if(U&&(V[C]={...U,...L(rs.validate,U.message)},!r))return z(U.message),V}else if(Ft(w)){let F={};for(const U in w){if(!Gn(F)&&!r)break;const pe=IS(await w[U](S,t),N,U);pe&&(F={...pe,...L(U,pe.message)},z(pe.message),r&&(V[C]=F))}if(!Gn(F)&&(V[C]={ref:N,...F},!r))return V}}return z(!0),V};const f9={mode:Fr.onSubmit,reValidateMode:Fr.onChange,shouldFocusError:!0};function h9(n={}){let e={...f9,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:zr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=Ft(e.defaultValues)||Ft(e.values)?bn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:bn(s),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...m};const _={array:_S(),state:_S()},x=e.criteriaMode===Fr.all,w=$=>J=>{clearTimeout(h),h=setTimeout($,J)},C=async $=>{if(!e.disabled&&(m.isValid||b.isValid||$)){const J=e.resolver?Gn((await P()).errors):await M(r,!0);J!==t.isValid&&_.state.next({isValid:J})}},I=($,J)=>{!e.disabled&&(m.isValidating||m.validatingFields||b.isValidating||b.validatingFields)&&(($||Array.from(d.mount)).forEach(se=>{se&&(J?Et(t.validatingFields,se,J):nn(t.validatingFields,se))}),_.state.next({validatingFields:t.validatingFields,isValidating:!Gn(t.validatingFields)}))},T=($,J=[],se,Ee,be=!0,ve=!0)=>{if(Ee&&se&&!e.disabled){if(u.action=!0,ve&&Array.isArray(we(r,$))){const _e=se(we(r,$),Ee.argA,Ee.argB);be&&Et(r,$,_e)}if(ve&&Array.isArray(we(t.errors,$))){const _e=se(we(t.errors,$),Ee.argA,Ee.argB);be&&Et(t.errors,$,_e),c9(t.errors,$)}if((m.touchedFields||b.touchedFields)&&ve&&Array.isArray(we(t.touchedFields,$))){const _e=se(we(t.touchedFields,$),Ee.argA,Ee.argB);be&&Et(t.touchedFields,$,_e)}(m.dirtyFields||b.dirtyFields)&&(t.dirtyFields=rc(s,o)),_.state.next({name:$,isDirty:B($,J),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Et(o,$,J)},S=($,J)=>{Et(t.errors,$,J),_.state.next({errors:t.errors})},N=$=>{t.errors=$,_.state.next({errors:t.errors,isValid:!1})},z=($,J,se,Ee)=>{const be=we(r,$);if(be){const ve=we(o,$,Bt(se)?we(s,$):se);Bt(ve)||Ee&&Ee.defaultChecked||J?Et(o,$,J?ve:SS(be._f)):pe($,ve),u.mount&&C()}},V=($,J,se,Ee,be)=>{let ve=!1,_e=!1;const Re={name:$};if(!e.disabled){if(!se||Ee){(m.isDirty||b.isDirty)&&(_e=t.isDirty,t.isDirty=Re.isDirty=B(),ve=_e!==Re.isDirty);const Ge=na(we(s,$),J);_e=!!we(t.dirtyFields,$),Ge?nn(t.dirtyFields,$):Et(t.dirtyFields,$,!0),Re.dirtyFields=t.dirtyFields,ve=ve||(m.dirtyFields||b.dirtyFields)&&_e!==!Ge}if(se){const Ge=we(t.touchedFields,$);Ge||(Et(t.touchedFields,$,se),Re.touchedFields=t.touchedFields,ve=ve||(m.touchedFields||b.touchedFields)&&Ge!==se)}ve&&be&&_.state.next(Re)}return ve?Re:{}},K=($,J,se,Ee)=>{const be=we(t.errors,$),ve=(m.isValid||b.isValid)&&lr(J)&&t.isValid!==J;if(e.delayError&&se?(f=w(()=>S($,se)),f(e.delayError)):(clearTimeout(h),f=null,se?Et(t.errors,$,se):nn(t.errors,$)),(se?!na(be,se):be)||!Gn(Ee)||ve){const _e={...Ee,...ve&&lr(J)?{isValid:J}:{},errors:t.errors,name:$};t={...t,..._e},_.state.next(_e)}},P=async $=>{I($,!0);const J=await e.resolver(o,e.context,i9($||d.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return I($),J},O=async $=>{const{errors:J}=await P($);if($)for(const se of $){const Ee=we(J,se);Ee?Et(t.errors,se,Ee):nn(t.errors,se)}else t.errors=J;return J},M=async($,J,se={valid:!0})=>{for(const Ee in $){const be=$[Ee];if(be){const{_f:ve,..._e}=be;if(ve){const Re=d.array.has(ve.name),Ge=be._f&&s9(be._f);Ge&&m.validatingFields&&I([Ee],!0);const ft=await NS(be,d.disabled,o,x,e.shouldUseNativeValidation&&!J,Re);if(Ge&&m.validatingFields&&I([Ee]),ft[ve.name]&&(se.valid=!1,J))break;!J&&(we(ft,ve.name)?Re?d9(t.errors,ft,ve.name):Et(t.errors,ve.name,ft[ve.name]):nn(t.errors,ve.name))}!Gn(_e)&&await M(_e,J,se)}}return se.valid},L=()=>{for(const $ of d.unMount){const J=we(r,$);J&&(J._f.refs?J._f.refs.every(se=>!av(se)):!av(J._f.ref))&&it($)}d.unMount=new Set},B=($,J)=>!e.disabled&&($&&J&&Et(o,$,J),!na(H(),s)),F=($,J,se)=>aR($,d,{...u.mount?o:Bt(J)?s:bi($)?{[$]:J}:J},se,J),U=$=>P0(we(u.mount?o:s,$,e.shouldUnregister?we(s,$,[]):[])),pe=($,J,se={})=>{const Ee=we(r,$);let be=J;if(Ee){const ve=Ee._f;ve&&(!ve.disabled&&Et(o,$,dR(J,ve)),be=Vh(ve.ref)&&Vn(J)?"":J,oR(ve.ref)?[...ve.ref.options].forEach(_e=>_e.selected=be.includes(_e.value)):ve.refs?rd(ve.ref)?ve.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(be)?_e.checked=!!be.find(Re=>Re===_e.value):_e.checked=be===_e.value||!!be)}):ve.refs.forEach(_e=>_e.checked=_e.value===be):j0(ve.ref)?ve.ref.value="":(ve.ref.value=be,ve.ref.type||_.state.next({name:$,values:bn(o)})))}(se.shouldDirty||se.shouldTouch)&&V($,be,se.shouldTouch,se.shouldDirty,!0),se.shouldValidate&&ie($)},ge=($,J,se)=>{for(const Ee in J){if(!J.hasOwnProperty(Ee))return;const be=J[Ee],ve=$+"."+Ee,_e=we(r,ve);(d.array.has($)||Ft(be)||_e&&!_e._f)&&!eo(be)?ge(ve,be,se):pe(ve,be,se)}},G=($,J,se={})=>{const Ee=we(r,$),be=d.array.has($),ve=bn(J);Et(o,$,ve),be?(_.array.next({name:$,values:bn(o)}),(m.isDirty||m.dirtyFields||b.isDirty||b.dirtyFields)&&se.shouldDirty&&_.state.next({name:$,dirtyFields:rc(s,o),isDirty:B($,ve)})):Ee&&!Ee._f&&!Vn(ve)?ge($,ve,se):pe($,ve,se),CS($,d)&&_.state.next({...t}),_.state.next({name:u.mount?$:void 0,values:bn(o)})},oe=async $=>{u.mount=!0;const J=$.target;let se=J.name,Ee=!0;const be=we(r,se),ve=Ge=>{Ee=Number.isNaN(Ge)||eo(Ge)&&isNaN(Ge.getTime())||na(Ge,we(o,se,Ge))},_e=TS(e.mode),Re=TS(e.reValidateMode);if(be){let Ge,ft;const Ri=J.type?SS(be._f):nR($),mr=$.type===kh.BLUR||$.type===kh.FOCUS_OUT,Ii=!a9(be._f)&&!e.resolver&&!we(t.errors,se)&&!be._f.deps||u9(mr,we(t.touchedFields,se),t.isSubmitted,Re,_e),Pr=CS(se,d,mr);Et(o,se,Ri),mr?(be._f.onBlur&&be._f.onBlur($),f&&f(0)):be._f.onChange&&be._f.onChange($);const kr=V(se,Ri,mr),Zn=!Gn(kr)||Pr;if(!mr&&_.state.next({name:se,type:$.type,values:bn(o)}),Ii)return(m.isValid||b.isValid)&&(e.mode==="onBlur"?mr&&C():mr||C()),Zn&&_.state.next({name:se,...Pr?{}:kr});if(!mr&&Pr&&_.state.next({...t}),e.resolver){const{errors:Ni}=await P([se]);if(ve(Ri),Ee){const Oi=RS(t.errors,r,se),Es=RS(Ni,r,Oi.name||se);Ge=Es.error,se=Es.name,ft=Gn(Ni)}}else I([se],!0),Ge=(await NS(be,d.disabled,o,x,e.shouldUseNativeValidation))[se],I([se]),ve(Ri),Ee&&(Ge?ft=!1:(m.isValid||b.isValid)&&(ft=await M(r,!0)));Ee&&(be._f.deps&&ie(be._f.deps),K(se,ft,Ge,kr))}},me=($,J)=>{if(we(t.errors,J)&&$.focus)return $.focus(),1},ie=async($,J={})=>{let se,Ee;const be=xc($);if(e.resolver){const ve=await O(Bt($)?$:be);se=Gn(ve),Ee=$?!be.some(_e=>we(ve,_e)):se}else $?(Ee=(await Promise.all(be.map(async ve=>{const _e=we(r,ve);return await M(_e&&_e._f?{[ve]:_e}:_e)}))).every(Boolean),!(!Ee&&!t.isValid)&&C()):Ee=se=await M(r);return _.state.next({...!bi($)||(m.isValid||b.isValid)&&se!==t.isValid?{}:{name:$},...e.resolver||!$?{isValid:se}:{},errors:t.errors}),J.shouldFocus&&!Ee&&Sc(r,me,$?be:d.mount),Ee},H=$=>{const J={...u.mount?o:s};return Bt($)?J:bi($)?we(J,$):$.map(se=>we(J,se))},ne=($,J)=>({invalid:!!we((J||t).errors,$),isDirty:!!we((J||t).dirtyFields,$),error:we((J||t).errors,$),isValidating:!!we(t.validatingFields,$),isTouched:!!we((J||t).touchedFields,$)}),le=$=>{$&&xc($).forEach(J=>nn(t.errors,J)),_.state.next({errors:$?t.errors:{}})},ue=($,J,se)=>{const Ee=(we(r,$,{_f:{}})._f||{}).ref,be=we(t.errors,$)||{},{ref:ve,message:_e,type:Re,...Ge}=be;Et(t.errors,$,{...Ge,...J,ref:Ee}),_.state.next({name:$,errors:t.errors,isValid:!1}),se&&se.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},xe=($,J)=>zr($)?_.state.subscribe({next:se=>$(F(void 0,J),se)}):F($,J,!0),De=$=>_.state.subscribe({next:J=>{l9($.name,J.name,$.exact)&&o9(J,$.formState||m,zn,$.reRenderRoot)&&$.callback({values:{...o},...t,...J})}}).unsubscribe,Ae=$=>(u.mount=!0,b={...b,...$.formState},De({...$,formState:b})),it=($,J={})=>{for(const se of $?xc($):d.mount)d.mount.delete(se),d.array.delete(se),J.keepValue||(nn(r,se),nn(o,se)),!J.keepError&&nn(t.errors,se),!J.keepDirty&&nn(t.dirtyFields,se),!J.keepTouched&&nn(t.touchedFields,se),!J.keepIsValidating&&nn(t.validatingFields,se),!e.shouldUnregister&&!J.keepDefaultValue&&nn(s,se);_.state.next({values:bn(o)}),_.state.next({...t,...J.keepDirty?{isDirty:B()}:{}}),!J.keepIsValid&&C()},qe=({disabled:$,name:J})=>{(lr($)&&u.mount||$||d.disabled.has(J))&&($?d.disabled.add(J):d.disabled.delete(J))},bt=($,J={})=>{let se=we(r,$);const Ee=lr(J.disabled)||lr(e.disabled);return Et(r,$,{...se||{},_f:{...se&&se._f?se._f:{ref:{name:$}},name:$,mount:!0,...J}}),d.mount.add($),se?qe({disabled:lr(J.disabled)?J.disabled:e.disabled,name:$}):z($,!0,J.value),{...Ee?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:ic(J.min),max:ic(J.max),minLength:ic(J.minLength),maxLength:ic(J.maxLength),pattern:ic(J.pattern)}:{},name:$,onChange:oe,onBlur:oe,ref:be=>{if(be){bt($,J),se=we(r,$);const ve=Bt(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,_e=t9(ve),Re=se._f.refs||[];if(_e?Re.find(Ge=>Ge===ve):ve===se._f.ref)return;Et(r,$,{_f:{...se._f,..._e?{refs:[...Re.filter(av),ve,...Array.isArray(we(s,$))?[{}]:[]],ref:{type:ve.type,name:$}}:{ref:ve}}}),z($,!1,void 0,ve)}else se=we(r,$,{}),se._f&&(se._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(rR(d.array,$)&&u.action)&&d.unMount.add($)}}},Bn=()=>e.shouldFocusError&&Sc(r,me,d.mount),Fn=$=>{lr($)&&(_.state.next({disabled:$}),Sc(r,(J,se)=>{const Ee=we(r,se);Ee&&(J.disabled=Ee._f.disabled||$,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(be=>{be.disabled=Ee._f.disabled||$}))},0,!1))},Xn=($,J)=>async se=>{let Ee;se&&(se.preventDefault&&se.preventDefault(),se.persist&&se.persist());let be=bn(o);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:ve,values:_e}=await P();t.errors=ve,be=_e}else await M(r);if(d.disabled.size)for(const ve of d.disabled)Et(be,ve,void 0);if(nn(t.errors,"root"),Gn(t.errors)){_.state.next({errors:{}});try{await $(be,se)}catch(ve){Ee=ve}}else J&&await J({...t.errors},se),Bn(),setTimeout(Bn);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Gn(t.errors)&&!Ee,submitCount:t.submitCount+1,errors:t.errors}),Ee)throw Ee},Dr=($,J={})=>{we(r,$)&&(Bt(J.defaultValue)?G($,bn(we(s,$))):(G($,J.defaultValue),Et(s,$,bn(J.defaultValue))),J.keepTouched||nn(t.touchedFields,$),J.keepDirty||(nn(t.dirtyFields,$),t.isDirty=J.defaultValue?B($,bn(we(s,$))):B()),J.keepError||(nn(t.errors,$),m.isValid&&C()),_.state.next({...t}))},Wn=($,J={})=>{const se=$?bn($):s,Ee=bn(se),be=Gn($),ve=be?s:Ee;if(J.keepDefaultValues||(s=se),!J.keepValues){if(J.keepDirtyValues){const _e=new Set([...d.mount,...Object.keys(rc(s,o))]);for(const Re of Array.from(_e))we(t.dirtyFields,Re)?Et(ve,Re,we(o,Re)):G(Re,we(ve,Re))}else{if(D0&&Bt($))for(const _e of d.mount){const Re=we(r,_e);if(Re&&Re._f){const Ge=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(Vh(Ge)){const ft=Ge.closest("form");if(ft){ft.reset();break}}}}for(const _e of d.mount)G(_e,we(ve,_e))}o=bn(ve),_.array.next({values:{...ve}}),_.state.next({values:{...ve}})}d={mount:J.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!m.isValid||!!J.keepIsValid||!!J.keepDirtyValues,u.watch=!!e.shouldUnregister,_.state.next({submitCount:J.keepSubmitCount?t.submitCount:0,isDirty:be?!1:J.keepDirty?t.isDirty:!!(J.keepDefaultValues&&!na($,s)),isSubmitted:J.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:be?{}:J.keepDirtyValues?J.keepDefaultValues&&o?rc(s,o):t.dirtyFields:J.keepDefaultValues&&$?rc(s,$):J.keepDirty?t.dirtyFields:{},touchedFields:J.keepTouched?t.touchedFields:{},errors:J.keepErrors?t.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Wr=($,J)=>Wn(zr($)?$(o):$,J),bo=($,J={})=>{const se=we(r,$),Ee=se&&se._f;if(Ee){const be=Ee.refs?Ee.refs[0]:Ee.ref;be.focus&&(be.focus(),J.shouldSelect&&zr(be.select)&&be.select())}},zn=$=>{t={...t,...$}},_s={control:{register:bt,unregister:it,getFieldState:ne,handleSubmit:Xn,setError:ue,_subscribe:De,_runSchema:P,_focusError:Bn,_getWatch:F,_getDirty:B,_setValid:C,_setFieldArray:T,_setDisabledField:qe,_setErrors:N,_getFieldArray:U,_reset:Wn,_resetDefaultValues:()=>zr(e.defaultValues)&&e.defaultValues().then($=>{Wr($,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Fn,_subjects:_,_proxyFormState:m,get _fields(){return r},get _formValues(){return o},get _state(){return u},set _state($){u=$},get _defaultValues(){return s},get _names(){return d},set _names($){d=$},get _formState(){return t},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ae,trigger:ie,register:bt,handleSubmit:Xn,watch:xe,setValue:G,getValues:H,reset:Wr,resetField:Dr,clearErrors:le,unregister:it,setError:ue,setFocus:bo,getFieldState:ne};return{..._s,formControl:_s}}function B0(n={}){const e=je.useRef(void 0),t=je.useRef(void 0),[r,s]=je.useState({isDirty:!1,isValidating:!1,isLoading:zr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:zr(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!zr(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:u,...d}=h9(n);e.current={...d,formState:r}}const o=e.current.control;return o._options=n,L0(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(d=>({...d,isReady:!0})),o._formState.isReady=!0,u},[o]),je.useEffect(()=>o._disableForm(n.disabled),[o,n.disabled]),je.useEffect(()=>{n.mode&&(o._options.mode=n.mode),n.reValidateMode&&(o._options.reValidateMode=n.reValidateMode)},[o,n.mode,n.reValidateMode]),je.useEffect(()=>{n.errors&&(o._setErrors(n.errors),o._focusError())},[o,n.errors]),je.useEffect(()=>{n.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,n.shouldUnregister]),je.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==r.isDirty&&o._subjects.state.next({isDirty:u})}},[o,r.isDirty]),je.useEffect(()=>{n.values&&!na(n.values,t.current)?(o._reset(n.values,o._options.resetOptions),t.current=n.values,s(u=>({...u}))):o._resetDefaultValues()},[o,n.values]),je.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=sR(r,o),e.current}function Rr({name:n,label:e,register:t,rules:r={},type:s="text",error:o}){return v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{htmlFor:n,className:"text-sm font-medium text-gray-700",children:e}),v.jsx("input",{type:s,id:n,...t(n,r),className:`border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black ${o?"border-red-500":"border-gray-300"}`}),o&&v.jsx("span",{className:"text-xs text-red-500 mt-1",children:o.message})]})}function Uh({name:n,label:e,options:t=[],register:r,required:s=!1,error:o}){return v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{htmlFor:n,className:"text-sm font-medium text-gray-700",children:e}),v.jsxs("select",{id:n,...r(n,{required:s?"Este campo es obligatorio":!1}),className:`border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black ${o?"border-red-500":"border-gray-300"}`,children:[v.jsx("option",{value:"",children:"Seleccione una opción"}),t.map((u,d)=>v.jsx("option",{value:u,children:u},d))]}),o&&v.jsx("span",{className:"text-xs text-red-500 mt-1",children:o.message})]})}const Bh={Lima:["Miraflores","San Isidro","Barranco","Surco","San Borja","La Molina","Lince","Jesus María","Pueblo Libre","San Miguel","Callao"],Arequipa:["Cercado","Yanahuara","Cayma","José Luis Bustamante y Rivero","Miraflores (Arequipa)"],Trujillo:["Trujillo Centro","El Porvenir","Florencia de Mora","La Esperanza"],Cusco:["Cusco Centro","San Sebastián","San Jerónimo","Santiago"],Piura:["Piura Centro","Castilla","Veintiséis de Octubre"]},p9=async()=>{const n=pr(wt,"config","ordenes"),e=await Ep(n);if(e.exists()){const t=e.data().ultimoNumero||0;return await nd(n,{ultimoNumero:I4(1)}),t+1}else return await rC(n,{ultimoNumero:1}),1},m9=(n,e,t,r)=>{const s=`${e.nombre} ${e.apellido}`,o=t.map(u=>`• ${u.nombre} x${u.cantidad} – S/ ${u.precio*u.cantidad}`).join(`
`);return`Hola! se envía la orden N°${String(n).padStart(4,"0")} de ${s}

 Productos:
${o}

 Total: S/. ${r}`},g9=n=>n.toLowerCase().normalize("NFD").replace(/[^\w\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-"),v9=async(n,e=null)=>{const t=g9(n);let r=t,s=1;for(;;){const o=bp(jn(wt,"productos"),xl("slug","==",r));if(!(await Xr(o)).docs.find(f=>f.id!==e))break;r=`${t}-${s++}`}return r},y9=void 0;function b9(){const{carrito:n,vaciarCarrito:e}=Tp(),t=Xt(),{register:r,handleSubmit:s,watch:o,reset:u,formState:{errors:d,isValid:f}}=B0({mode:"onChange"}),[h,m]=D.useState(!1),[b,_]=D.useState(!1),x=Object.keys(Bh),w=o("ciudad")?Bh[o("ciudad")]:[];D.useEffect(()=>{const S=hn.currentUser;S&&(async()=>{const z=pr(wt,"usuarios",S.uid),V=await Ep(z);if(V.exists()){const K=V.data(),P=S.displayName||"",[O,M]=P.split(" ");u({nombre:O||"",apellido:M||"",telefono:K.telefono||"",dni:K.dni||"",direccion:K.direccion||"",codigopostal:K.codigopostal||"",ciudad:K.ciudad||"",notas:K.notas||""}),setTimeout(()=>{u(L=>({...L,distrito:K.distrito||""}))},50)}})()},[u]);const C=async S=>{var N;if(_(!0),!f){console.warn("Formulario inválido. Revisa los campos."),_(!1);return}try{const z=await p9();await wp(jn(wt,"ordenes"),{uid:((N=hn.currentUser)==null?void 0:N.uid)||"",numeroOrden:z,cliente:S,estado:"pendiente",carrito:n,total:T,creadoEn:R4()});const V=m9(z,S,n,T),P=`https://wa.me/${y9||"51944788568"}?text=${encodeURIComponent(V)}`;window.open(P,"_blank"),_(!1),m(!0)}catch(z){console.error("Error al registrar la orden:",z)}},I=()=>{e(),m(!1),u(),t("/")},T=n.reduce((S,N)=>S+N.precio*N.cantidad,0);return v.jsxs("div",{className:"p-4 max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("form",{onSubmit:s(C),className:"p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Información de Envío"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(Rr,{label:"Nombre",name:"nombre",register:r,rules:{required:"El nombre es obligatorio",pattern:{value:/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,message:"Solo se permiten letras"}},error:d.nombre}),v.jsx(Rr,{label:"Apellido",name:"apellido",register:r,rules:{required:"El apellido es obligatorio",pattern:{value:/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,message:"Solo se permiten letras"}},error:d.apellido}),v.jsx(Rr,{label:"DNI",name:"dni",register:r,rules:{required:"El DNI es obligatorio",pattern:{value:/^[0-9]{8}$/,message:"Debe tener exactamente 8 dígitos"}},error:d.dni}),v.jsx(Rr,{label:"Teléfono",name:"telefono",register:r,rules:{required:"El teléfono es obligatorio",pattern:{value:/^[0-9]+$/,message:"Solo se permiten números"}},error:d.telefono}),v.jsx(Rr,{label:"Dirección",name:"direccion",register:r,rules:{required:"La dirección es obligatoria"},error:d.direccion}),v.jsx(Rr,{label:"Código Postal",name:"codigopostal",register:r,rules:{required:"El código postal es obligatorio",pattern:{value:/^[0-9]{1,6}$/,message:"Máximo 6 dígitos numéricos"}},error:d.codigopostal}),v.jsx(Uh,{label:"Ciudad",name:"ciudad",options:x,register:r,error:d.ciudad,required:!0}),v.jsx(Uh,{label:"Distrito",name:"distrito",options:w,register:r,error:d.distrito,required:!0})]}),v.jsxs("div",{className:"mt-3",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales (opcional)"}),v.jsx("textarea",{...r("notas"),rows:4,className:"w-full border border-gray-300 rounded px-3 py-2 resize-none focus:outline-none focus:ring focus:border-blue-500",placeholder:"Ej. indicar si desea factura, punto de referencia, etc."})]}),v.jsx("div",{className:"pt-4",children:v.jsx("button",{type:"submit",disabled:!f||b,className:`w-full py-3 rounded transition ${f&&!b?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:b?"Enviando...":"Enviar compra"})})]}),v.jsxs("div",{className:"bg-gray-100 p-4 rounded shadow-md",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumen de compra"}),n.map((S,N)=>v.jsxs("div",{className:"flex items-center gap-4 mb-3 border-b pb-2",children:[v.jsx("img",{src:S.imagen||Pl,alt:S.nombre,className:"w-16 h-16 object-cover rounded"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold",children:S.nombre}),v.jsxs("div",{className:"text-sm text-gray-600 flex",children:["Talla: ",S.talla," | Color:",v.jsx("div",{className:"rounded-full h-[20px] w-[20px] border mx-1",style:{backgroundColor:S.color}})]}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",S.cantidad]}),v.jsxs("p",{className:"text-sm text-gray-800 font-medium",children:["S/ ",S.precio*S.cantidad]})]})]},N)),v.jsxs("div",{className:"mt-4 pt-4 text-right font-bold text-lg",children:["Total: S/ ",T.toFixed(2)]}),v.jsx("p",{className:"text-xs text-gray-600 mt-1 text-right",children:"* No incluye delivery"})]}),h&&v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full shadow-lg text-center",children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"¡Gracias por tu compra!"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Por favor no olvides enviar la orden por WhatsApp y uno de nuestros asesores se comunicará contigo para los siguientes pasos."}),v.jsx("button",{onClick:I,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Muchas gracias"})]})})]})}function _9(){const[n,e]=D.useState(""),[t,r]=D.useState(""),[s,o]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState(""),m=Xt(),b=async _=>{_.preventDefault(),h("");try{const w=(await nP(hn,n,t)).user;if(await w.reload(),!w.emailVerified)return await hn.signOut(),h("Debes verificar tu correo antes de iniciar sesión.");const C=pr(wt,"usuarios",w.uid),I=await Ep(C);if(!I.exists())return await hn.signOut(),h("Tu cuenta no tiene rol asignado. Contacta con soporte.");const S=I.data().rol;m(S==="admin"?"/admin/dashboard":"/")}catch(x){console.error(x),h("Correo o contraseña incorrectos")}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:b,className:"w-full max-w-md p-6 border border-gray-200 rounded-xl shadow space-y-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Iniciar sesión"}),f&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:f}),v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1 text-black",children:"Correo electrónico"}),v.jsx("input",{type:"email",placeholder:"ejemplo@correo.com",value:n,onChange:_=>e(_.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1 text-black",children:"Contraseña"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:s?"text":"password",placeholder:"Contraseña",value:t,onChange:_=>r(_.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),v.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-2.5 text-gray-600",children:s?v.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]})]}),v.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 my-2",children:[v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",checked:u,onChange:()=>d(!u),className:"form-checkbox border-gray-400"}),v.jsx("span",{children:"Recuérdame"})]}),v.jsx("button",{type:"button",onClick:()=>m("/forgotPassword"),className:"text-black hover:underline",children:"¿Olvidaste tu contraseña?"})]})]}),v.jsx("button",{type:"submit",className:"w-full py-2 bg-black text-white rounded hover:bg-gray-800 transition",children:"Iniciar sesión"}),v.jsxs("p",{className:"text-center text-sm text-gray-700 my-1",children:["¿No tienes cuenta?"," ",v.jsx("button",{type:"button",onClick:()=>m("/register"),className:"text-black hover:underline",children:"Registrarme"})]})]})})}function E9(){const[n,e]=D.useState({name:"",lastname:"",email:"",password:"",confirmPassword:""}),[t,r]=D.useState(""),[s,o]=D.useState(!1),[u,d]=D.useState(!1),[f,h]=D.useState(!1),m=Xt(),b=x=>{e({...n,[x.target.name]:x.target.value})},_=async x=>{if(x.preventDefault(),r(""),n.password!==n.confirmPassword)return r("Las contraseñas no coinciden.");h(!0);try{const C=(await tP(hn,n.email,n.password)).user;await u1(C,{displayName:`${n.name} ${n.lastname}`}),await rC(pr(wt,"usuarios",C.uid),{uid:C.uid,email:C.email,rol:"cliente",nombre:n.name,apellido:n.lastname,creadoEn:new Date}),await rP(C),m("/confirmar")}catch(w){console.error(w),w.code==="auth/email-already-in-use"?r("Este correo ya está registrado."):r("No se pudo registrar el usuario.")}finally{h(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:_,className:"flex flex-col w-full max-w-md p-6 gap-2 border border-gray-200 rounded-xl shadow space-y-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Crear cuenta"}),t&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:t}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{name:"name",type:"text",placeholder:"Nombre",value:n.name,onChange:b,required:!0,className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),v.jsx("input",{name:"lastname",type:"text",placeholder:"Apellido",value:n.lastname,onChange:b,required:!0,className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),v.jsx("input",{name:"email",type:"email",placeholder:"Correo electrónico",value:n.email,onChange:b,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{name:"password",type:s?"text":"password",placeholder:"Contraseña",value:n.password,onChange:b,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),v.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-2.5 text-gray-600",children:s?v.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{name:"confirmPassword",type:u?"text":"password",placeholder:"Confirmar contraseña",value:n.confirmPassword,onChange:b,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),v.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-2.5 text-gray-600",children:u?v.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsx("button",{type:"submit",disabled:f,className:`w-full py-2 text-white rounded transition ${f?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:f?"Creando cuenta...":"Registrarme"}),v.jsxs("p",{className:"text-sm text-center text-gray-600",children:["¿Ya tienes cuenta?"," ",v.jsx("a",{href:"/nikos/login",className:"text-black underline",children:"Inicia sesión"})]})]})})}function w9(){const[n,e]=D.useState(""),[t,r]=D.useState(""),[s,o]=D.useState(!1),u=Xt(),d=async f=>{f.preventDefault(),o(!0),r("");try{await ZD(hn,n,{url:`${window.location.origin}/reset`,handleCodeInApp:!0}),r("📬 Se ha enviado un enlace para restablecer tu contraseña. Redirigiendo..."),setTimeout(()=>u("/login"),3e3)}catch(h){r("❌ Ocurrió un error: "+h.message)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:d,className:"flex flex-col gap-2 w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-black text-center",children:"Recuperar Contraseña"}),t&&v.jsx("p",{className:`text-sm text-center ${t.startsWith("❌")?"text-red-500":"text-green-600"}`,children:t}),v.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:f=>e(f.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),v.jsx("button",{type:"submit",disabled:s,className:`w-full py-2 text-white rounded transition ${s?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:s?"Enviando...":"Enviar enlace"}),v.jsxs("p",{className:"text-sm text-center text-gray-600",children:["¿Ya recordaste tu contraseña?"," ",v.jsx("button",{type:"button",onClick:()=>u("/login"),className:"text-black underline",children:"Inicia sesión"})]})]})})}function x9(){const[n]=Ey(),[e,t]=D.useState(""),[r,s]=D.useState(""),[o,u]=D.useState(!1),[d,f]=D.useState(!1),[h,m]=D.useState(""),[b,_]=D.useState(!1),x=Xt(),w=n.get("oobCode"),C=async T=>{if(T.preventDefault(),m(""),e!==r)return m("Las contraseñas no coinciden.");_(!0);try{await JD(hn,w,e),m("Contraseña restablecida. Redirigiendo..."),setTimeout(()=>x("/login"),3e3)}catch(S){console.log(S),m("Error al cambiar la contraseña. Ya ha usado este enlace. Redirigiendo..."),setTimeout(()=>x("/login"),3e3)}};D.useEffect(()=>{w||m("Código inválido.")},[w]);const I=h.toLowerCase().includes("error")||h.toLowerCase().includes("inválido")||h.toLowerCase().includes("coinciden")||h.toLowerCase().includes("enlace");return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:C,className:"flex flex-col gap-2 w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-black text-center",children:"Nueva Contraseña"}),h&&v.jsx("p",{className:`text-sm text-center ${I?"text-red-500":"text-green-600"}`,children:h}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:o?"text":"password",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Nueva contraseña",value:e,onChange:T=>t(T.target.value),required:!0}),v.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:o?v.jsx("i",{className:"bx  bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:d?"text":"password",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Confirmar contraseña",value:r,onChange:T=>s(T.target.value),required:!0}),v.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:d?v.jsx("i",{className:"bx  bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsx("button",{type:"submit",disabled:b,className:`w-full py-2 text-white rounded transition ${b?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:b?"Cambiando...":"Cambiar Contraseña"})]})})}function S9(){return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("div",{className:"w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Verifica tu correo"}),v.jsx("p",{className:"text-gray-700 text-center",children:"Te hemos enviado un correo con un enlace para verificar tu cuenta."})]})})}function T9(){const n=Xt(),[e]=Ey();return D.useEffect(()=>{const t=e.get("mode"),r=e.get("oobCode");console.log("mode",t),t==="verifyEmail"&&r?n(`/verify-email?oobCode=${r}`):t==="resetPassword"&&r&&n(`/reset?oobCode=${r}`)},[e,n]),null}function A9(){const[n]=Ey(),e=Xt(),[t,r]=D.useState("Verificando...");return D.useEffect(()=>{const s=n.get("oobCode");if(!s){r("❌ Código inválido.");return}ep(hn,o=>{o!=null&&o.emailVerified?(r("✅ Tu correo ya está verificado. Redirigiendo..."),setTimeout(()=>e("/login"),3e3)):eP(hn,s).then(()=>{r("✅ Correo verificado exitosamente. Redirigiendo..."),setTimeout(()=>e("/login"),3e3)}).catch(u=>{u.code==="auth/invalid-action-code"?r("✅ Enlace verificado. Redirigiendo..."):r("❌ Ocurrió un error inesperado.")})})},[n,e]),v.jsx("div",{className:"min-h-screen flex items-center justify-center text-black",children:v.jsx("p",{className:"text-lg",children:t})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function C9(n,e,t,r){function s(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function d(m){try{h(r.next(m))}catch(b){u(b)}}function f(m){try{h(r.throw(m))}catch(b){u(b)}}function h(m){m.done?o(m.value):s(m.value).then(d,f)}h((r=r.apply(n,[])).next())})}function R9(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,u;return u={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function d(h){return function(m){return f([h,m])}}function f(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,s=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(m){h=[6,m],s=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yl=function(){return yl=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},yl.apply(this,arguments)},hR=function(n){return{loading:n==null,value:n}},I9=function(){return function(n,e){switch(e.type){case"error":return yl(yl({},n),{error:e.error,loading:!1,value:void 0});case"reset":return hR(e.defaultValue);case"value":return yl(yl({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},N9=function(n){var e=n?n():void 0,t=D.useReducer(I9(),hR(e)),r=t[0],s=t[1],o=D.useCallback(function(){var f=n?n():void 0;s({type:"reset",defaultValue:f})},[n]),u=D.useCallback(function(f){s({type:"error",error:f})},[]),d=D.useCallback(function(f){s({type:"value",value:f})},[]);return D.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:d,value:r.value}},[r.error,r.loading,o,u,d,r.value])},O9=function(n,e){var t=N9(function(){return n.currentUser}),r=t.error,s=t.loading,o=t.setError,u=t.setValue,d=t.value;return D.useEffect(function(){var f=ep(n,function(h){return C9(void 0,void 0,void 0,function(){var m;return R9(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return b.sent(),[3,4];case 3:return m=b.sent(),o(m),[3,4];case 4:return u(h),[2]}})})},o);return function(){f()}},[n]),[d,s,r]};function OS({children:n}){const[e,t]=O9(hn);return t?v.jsx("div",{className:"text-center mt-10",children:"Cargando..."}):e?n:v.jsx(I2,{to:"/login"})}function M9(){const[n,e]=D.useState(null),[t,r]=D.useState(!0),[s,o]=D.useState(!1),[u,d]=D.useState(""),f=Xt(),{register:h,handleSubmit:m,watch:b,reset:_,formState:{errors:x}}=B0({mode:"onChange"}),w=b("ciudad"),C=Object.keys(Bh),I=w?Bh[w]:[];D.useEffect(()=>{const S=hn.onAuthStateChanged(async N=>{if(!N)f("/login");else{e(N);try{const z=pr(wt,"usuarios",N.uid),V=await Ep(z),K=N.displayName||"",[P,O]=K.split(" ");if(V.exists()){const M=V.data();_({nombre:P||"",apellido:O||"",dni:M.dni||"",telefono:M.telefono||"",direccion:M.direccion||"",codigopostal:M.codigopostal||"",ciudad:M.ciudad||"",distrito:M.distrito||""})}else d("No se encontraron datos del usuario.")}catch(z){console.error("Error al obtener datos del usuario:",z),d("Ocurrió un error al cargar tu perfil.")}finally{r(!1)}}});return()=>S()},[f,_]);const T=async S=>{if(o(!0),!n)return;d("");const N=`${S.nombre} ${S.apellido}`.trim();try{const z=pr(wt,"usuarios",n.uid);await nd(z,S),await u1(n,{displayName:N}),d("Datos actualizados correctamente."),setTimeout(()=>d(""),3e3),o(!1)}catch(z){console.error("Error al guardar:",z),o(!1),d("Error al guardar los cambios.")}};return t?v.jsx("div",{className:"text-center mt-10",children:"Cargando perfil..."}):v.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white rounded shadow mt-10",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Mi Perfil"}),u&&v.jsx("p",{className:"text-center text-sm text-blue-600 mb-4",children:u}),v.jsxs("form",{onSubmit:m(T),className:"p-6 space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(Rr,{label:"Nombre",name:"nombre",register:h,rules:{required:"El nombre es obligatorio",pattern:{value:/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,message:"Solo se permiten letras"}},error:x.nombre}),v.jsx(Rr,{label:"Apellido",name:"apellido",register:h,rules:{required:"El apellido es obligatorio",pattern:{value:/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,message:"Solo se permiten letras"}},error:x.apellido}),v.jsx(Rr,{label:"DNI",name:"dni",register:h,rules:{required:"El DNI es obligatorio",pattern:{value:/^[0-9]{8}$/,message:"Debe tener exactamente 8 dígitos"}},error:x.dni}),v.jsx(Rr,{label:"Teléfono",name:"telefono",register:h,rules:{required:"El teléfono es obligatorio",pattern:{value:/^[0-9]+$/,message:"Solo se permiten números"}},error:x.telefono}),v.jsx(Rr,{label:"Dirección",name:"direccion",register:h,rules:{required:"La dirección es obligatoria"},error:x.direccion}),v.jsx(Rr,{label:"Código Postal",name:"codigopostal",register:h,rules:{required:"El código postal es obligatorio",pattern:{value:/^[0-9]{1,6}$/,message:"Máximo 6 dígitos numéricos"}},error:x.codigopostal}),v.jsx(Uh,{label:"Ciudad",name:"ciudad",options:C,register:h,error:x.ciudad,required:!0}),v.jsx(Uh,{label:"Distrito",name:"distrito",options:I,register:h,error:x.distrito,required:!0})]}),v.jsx("button",{type:"submit",disabled:t||s,className:`w-full py-3 my-3 rounded transition ${!t&&!s?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s?"Guardando...":"Guardar información"})]})]})}function D9(){const[n,e]=D.useState([]),[t,r]=D.useState(!0),[s,o]=D.useState(1),[u,d]=D.useState(null),f=Xt(),h=5;D.useEffect(()=>{const x=hn.currentUser;if(!x){f("/login");return}(async()=>{try{const C=bp(jn(wt,"ordenes"),xl("uid","==",x.uid)),T=(await Xr(C)).docs.map(S=>({id:S.id,...S.data()}));e(T)}catch(C){console.error("Error al obtener las compras:",C)}finally{r(!1)}})()},[f]),D.useEffect(()=>{document.body.style.overflow=u?"hidden":"auto"},[u]);const m=(s-1)*h,b=n.slice(m,m+h),_=Math.ceil(n.length/h);return t?v.jsx("p",{className:"text-center mt-10",children:"Cargando tus compras..."}):n.length===0?v.jsx("p",{className:"text-center mt-10",children:"No tienes compras registradas."}):v.jsxs("div",{className:"max-w-5xl mx-auto mt-10 p-4",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Mis Compras"}),v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"min-w-full border",children:[v.jsx("thead",{className:"bg-gray-200",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Orden"}),v.jsx("th",{className:"py-2 px-4 border",children:"Fecha"}),v.jsx("th",{className:"py-2 px-4 border",children:"Total"}),v.jsx("th",{className:"py-2 px-4 border",children:"Detalles"})]})}),v.jsx("tbody",{children:b.map(x=>{var w;return v.jsxs("tr",{className:"border-t",children:[v.jsx("td",{className:"py-2 px-4 border",children:x.numeroOrden}),v.jsx("td",{className:"py-2 px-4 border",children:(w=x.creadoEn)==null?void 0:w.toDate().toLocaleDateString()}),v.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",x.total]}),v.jsx("td",{className:"py-2 px-4 border",children:v.jsx("button",{onClick:()=>d(x),className:"text-blue-600 hover:underline",children:"Ver productos"})})]},x.id)})})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4",children:[v.jsx("button",{className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",onClick:()=>o(x=>Math.max(x-1,1)),disabled:s===1,children:"Anterior"}),v.jsxs("span",{className:"text-sm text-gray-600",children:["Página ",s," de ",_]}),v.jsx("button",{className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",onClick:()=>o(x=>Math.min(x+1,_)),disabled:s===_,children:"Siguiente"})]})]}),u&&v.jsx("div",{className:"fixed inset-0 backdrop-blur-lg flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white max-w-3xl w-full rounded shadow-lg p-6 relative max-h-[80vh] overflow-y-auto",children:[v.jsx("button",{onClick:()=>d(null),className:"absolute top-3 right-4 text-gray-600 hover:text-black text-xl",children:"×"}),v.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Detalle de productos"}),v.jsxs("table",{className:"min-w-full border",children:[v.jsx("thead",{className:"bg-gray-100",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Producto"}),v.jsx("th",{className:"py-2 px-4 border",children:"Cantidad"}),v.jsx("th",{className:"py-2 px-4 border",children:"Color"}),v.jsx("th",{className:"py-2 px-4 border",children:"Talla"})]})}),v.jsx("tbody",{children:u.carrito.map((x,w)=>v.jsxs("tr",{className:"border-t",children:[v.jsx("td",{className:"py-2 px-4 border",children:x.nombre}),v.jsx("td",{className:"py-2 px-4 border",children:x.cantidad}),v.jsx("td",{className:"py-2 px-4 border",children:x.color?v.jsx("div",{className:"w-4 h-4 rounded-full mx-auto",style:{backgroundColor:x.color}}):"N/A"}),v.jsx("td",{className:"py-2 px-4 border",children:x.talla||"N/A"})]},w))})]})]})})]})}function P9(){const[n,e]=D.useState(!1),[t,r]=D.useState(null),s=Xt();D.useEffect(()=>{const u=ep(hn,d=>{d?r(d):s("/login")});return()=>u()},[s]);const o=async()=>{await ky(hn),s("/login")};return v.jsxs("div",{className:"flex h-screen bg-white text-black",children:[v.jsxs("aside",{className:`z-10 flex flex-col bg-black text-white p-4 ${n?"w-16":"w-64 absolute md:relative h-full"} transition-all duration-300`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[!n&&v.jsx("div",{className:"flex items-center justify-center font-[Anton] uppercase italic text-[40px]",children:"Nikos"}),v.jsx("button",{onClick:()=>e(!n),className:"text-white text-lg focus:outline-none",children:v.jsx("i",{className:"bx bx-menu"})})]}),v.jsxs("nav",{className:"flex-1 flex flex-col gap-4 text-sm",children:[v.jsxs(gl,{to:"/admin/dashboard",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-dashboard text-lg"}),!n&&"Dashboard"]}),v.jsxs(gl,{to:"/admin/filtros",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-menu-filter text-lg"}),!n&&"Filtros"]}),v.jsxs(gl,{to:"/admin/ventas",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-receipt text-lg"}),!n&&"Ventas"]}),v.jsxs(gl,{to:"/admin/productos",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-box text-lg"}),!n&&"Productos"]})]}),v.jsx("div",{className:"mt-auto",children:v.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-white hover:text-gray-300 text-lg",children:[v.jsx("i",{className:"bx bx-door-open text-lg"}),!n&&"Cerrar Sesión"]})})]}),v.jsxs("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-100",children:[v.jsx("header",{className:"flex justify-between items-center mb-6 border-b pb-2",children:v.jsxs("h1",{className:"text-lg font-bold whitespace-nowrap",children:["Hola ",(t==null?void 0:t.displayName)||"Admin"]})}),v.jsx(_T,{})]})]})}function k9(){return v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[v.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Total Ventas"}),v.jsx("p",{className:"text-2xl font-bold",children:"S/ 8,230"})]}),v.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[v.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Productos"}),v.jsx("p",{className:"text-2xl font-bold",children:"125"})]}),v.jsxs("div",{className:"bg-white p-6 rounded shadow",children:[v.jsx("h3",{className:"text-sm text-gray-600 mb-1",children:"Usuarios"}),v.jsx("p",{className:"text-2xl font-bold",children:"320"})]})]})}function ho(n){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ho(n)}function V9(n,e){if(ho(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function pR(n){var e=V9(n,"string");return ho(e)=="symbol"?e:e+""}function pc(n,e,t){return(e=pR(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function MS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Pe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MS(Object(t),!0).forEach(function(r){pc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function L9(n){if(Array.isArray(n))return n}function j9(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,u,d=[],f=!0,h=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;f=!1}else for(;!(f=(r=o.call(t)).done)&&(d.push(r.value),d.length!==e);f=!0);}catch(m){h=!0,s=m}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(h)throw s}}return d}}function sy(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function mR(n,e){if(n){if(typeof n=="string")return sy(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?sy(n,e):void 0}}function U9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cs(n,e){return L9(n)||j9(n,e)||mR(n,e)||U9()}function B9(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function bs(n,e){if(n==null)return{};var t,r,s=B9(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var F9=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function z9(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,s=r===void 0?!1:r,o=n.defaultValue,u=o===void 0?null:o,d=n.inputValue,f=n.menuIsOpen,h=n.onChange,m=n.onInputChange,b=n.onMenuClose,_=n.onMenuOpen,x=n.value,w=bs(n,F9),C=D.useState(d!==void 0?d:t),I=cs(C,2),T=I[0],S=I[1],N=D.useState(f!==void 0?f:s),z=cs(N,2),V=z[0],K=z[1],P=D.useState(x!==void 0?x:u),O=cs(P,2),M=O[0],L=O[1],B=D.useCallback(function(me,ie){typeof h=="function"&&h(me,ie),L(me)},[h]),F=D.useCallback(function(me,ie){var H;typeof m=="function"&&(H=m(me,ie)),S(H!==void 0?H:me)},[m]),U=D.useCallback(function(){typeof _=="function"&&_(),K(!0)},[_]),pe=D.useCallback(function(){typeof b=="function"&&b(),K(!1)},[b]),ge=d!==void 0?d:T,G=f!==void 0?f:V,oe=x!==void 0?x:M;return Pe(Pe({},w),{},{inputValue:ge,menuIsOpen:G,onChange:B,onInputChange:F,onMenuClose:pe,onMenuOpen:U,value:oe})}function Le(){return Le=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Le.apply(null,arguments)}function H9(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function DS(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,pR(r.key),r)}}function q9(n,e,t){return e&&DS(n.prototype,e),t&&DS(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ay(n,e){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},ay(n,e)}function $9(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ay(n,e)}function Fh(n){return Fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fh(n)}function gR(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gR=function(){return!!n})()}function G9(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Y9(n,e){if(e&&(ho(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G9(n)}function K9(n){var e=gR();return function(){var t,r=Fh(n);if(e){var s=Fh(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return Y9(this,t)}}function Q9(n){if(Array.isArray(n))return sy(n)}function X9(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function W9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F0(n){return Q9(n)||X9(n)||mR(n)||W9()}function Z9(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function J9(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var e5=function(){function n(t){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(J9(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=Z9(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Cn="-ms-",zh="-moz-",ot="-webkit-",vR="comm",z0="rule",H0="decl",t5="@import",yR="@keyframes",n5="@layer",r5=Math.abs,Cp=String.fromCharCode,i5=Object.assign;function s5(n,e){return En(n,0)^45?(((e<<2^En(n,0))<<2^En(n,1))<<2^En(n,2))<<2^En(n,3):0}function bR(n){return n.trim()}function a5(n,e){return(n=e.exec(n))?n[0]:n}function lt(n,e,t){return n.replace(e,t)}function oy(n,e){return n.indexOf(e)}function En(n,e){return n.charCodeAt(e)|0}function jc(n,e,t){return n.slice(e,t)}function mi(n){return n.length}function q0(n){return n.length}function Uf(n,e){return e.push(n),n}function o5(n,e){return n.map(e).join("")}var Rp=1,kl=1,_R=0,Qn=0,Kt=0,$l="";function Ip(n,e,t,r,s,o,u){return{value:n,root:e,parent:t,type:r,props:s,children:o,line:Rp,column:kl,length:u,return:""}}function sc(n,e){return i5(Ip("",null,null,"",null,null,0),n,{length:-n.length},e)}function l5(){return Kt}function u5(){return Kt=Qn>0?En($l,--Qn):0,kl--,Kt===10&&(kl=1,Rp--),Kt}function hr(){return Kt=Qn<_R?En($l,Qn++):0,kl++,Kt===10&&(kl=1,Rp++),Kt}function Ti(){return En($l,Qn)}function ih(){return Qn}function id(n,e){return jc($l,n,e)}function Uc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ER(n){return Rp=kl=1,_R=mi($l=n),Qn=0,[]}function wR(n){return $l="",n}function sh(n){return bR(id(Qn-1,ly(n===91?n+2:n===40?n+1:n)))}function c5(n){for(;(Kt=Ti())&&Kt<33;)hr();return Uc(n)>2||Uc(Kt)>3?"":" "}function d5(n,e){for(;--e&&hr()&&!(Kt<48||Kt>102||Kt>57&&Kt<65||Kt>70&&Kt<97););return id(n,ih()+(e<6&&Ti()==32&&hr()==32))}function ly(n){for(;hr();)switch(Kt){case n:return Qn;case 34:case 39:n!==34&&n!==39&&ly(Kt);break;case 40:n===41&&ly(n);break;case 92:hr();break}return Qn}function f5(n,e){for(;hr()&&n+Kt!==57;)if(n+Kt===84&&Ti()===47)break;return"/*"+id(e,Qn-1)+"*"+Cp(n===47?n:hr())}function h5(n){for(;!Uc(Ti());)hr();return id(n,Qn)}function p5(n){return wR(ah("",null,null,null,[""],n=ER(n),0,[0],n))}function ah(n,e,t,r,s,o,u,d,f){for(var h=0,m=0,b=u,_=0,x=0,w=0,C=1,I=1,T=1,S=0,N="",z=s,V=o,K=r,P=N;I;)switch(w=S,S=hr()){case 40:if(w!=108&&En(P,b-1)==58){oy(P+=lt(sh(S),"&","&\f"),"&\f")!=-1&&(T=-1);break}case 34:case 39:case 91:P+=sh(S);break;case 9:case 10:case 13:case 32:P+=c5(w);break;case 92:P+=d5(ih()-1,7);continue;case 47:switch(Ti()){case 42:case 47:Uf(m5(f5(hr(),ih()),e,t),f);break;default:P+="/"}break;case 123*C:d[h++]=mi(P)*T;case 125*C:case 59:case 0:switch(S){case 0:case 125:I=0;case 59+m:T==-1&&(P=lt(P,/\f/g,"")),x>0&&mi(P)-b&&Uf(x>32?kS(P+";",r,t,b-1):kS(lt(P," ","")+";",r,t,b-2),f);break;case 59:P+=";";default:if(Uf(K=PS(P,e,t,h,m,s,d,N,z=[],V=[],b),o),S===123)if(m===0)ah(P,e,K,K,z,o,b,d,V);else switch(_===99&&En(P,3)===110?100:_){case 100:case 108:case 109:case 115:ah(n,K,K,r&&Uf(PS(n,K,K,0,0,s,d,N,s,z=[],b),V),s,V,b,d,r?z:V);break;default:ah(P,K,K,K,[""],V,0,d,V)}}h=m=x=0,C=T=1,N=P="",b=u;break;case 58:b=1+mi(P),x=w;default:if(C<1){if(S==123)--C;else if(S==125&&C++==0&&u5()==125)continue}switch(P+=Cp(S),S*C){case 38:T=m>0?1:(P+="\f",-1);break;case 44:d[h++]=(mi(P)-1)*T,T=1;break;case 64:Ti()===45&&(P+=sh(hr())),_=Ti(),m=b=mi(N=P+=h5(ih())),S++;break;case 45:w===45&&mi(P)==2&&(C=0)}}return o}function PS(n,e,t,r,s,o,u,d,f,h,m){for(var b=s-1,_=s===0?o:[""],x=q0(_),w=0,C=0,I=0;w<r;++w)for(var T=0,S=jc(n,b+1,b=r5(C=u[w])),N=n;T<x;++T)(N=bR(C>0?_[T]+" "+S:lt(S,/&\f/g,_[T])))&&(f[I++]=N);return Ip(n,e,t,s===0?z0:d,f,h,m)}function m5(n,e,t){return Ip(n,e,t,vR,Cp(l5()),jc(n,2,-2),0)}function kS(n,e,t,r){return Ip(n,e,t,H0,jc(n,0,r),jc(n,r+1,-1),r)}function Tl(n,e){for(var t="",r=q0(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function g5(n,e,t,r){switch(n.type){case n5:if(n.children.length)break;case t5:case H0:return n.return=n.return||n.value;case vR:return"";case yR:return n.return=n.value+"{"+Tl(n.children,r)+"}";case z0:n.value=n.props.join(",")}return mi(t=Tl(n.children,r))?n.return=n.value+"{"+t+"}":""}function v5(n){var e=q0(n);return function(t,r,s,o){for(var u="",d=0;d<e;d++)u+=n[d](t,r,s,o)||"";return u}}function y5(n){return function(e){e.root||(e=e.return)&&n(e)}}function b5(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var _5=function(e,t,r){for(var s=0,o=0;s=o,o=Ti(),s===38&&o===12&&(t[r]=1),!Uc(o);)hr();return id(e,Qn)},E5=function(e,t){var r=-1,s=44;do switch(Uc(s)){case 0:s===38&&Ti()===12&&(t[r]=1),e[r]+=_5(Qn-1,t,r);break;case 2:e[r]+=sh(s);break;case 4:if(s===44){e[++r]=Ti()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Cp(s)}while(s=hr());return e},w5=function(e,t){return wR(E5(ER(e),t))},VS=new WeakMap,x5=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!VS.get(r))&&!s){VS.set(e,!0);for(var o=[],u=w5(t,o),d=r.props,f=0,h=0;f<u.length;f++)for(var m=0;m<d.length;m++,h++)e.props[h]=o[f]?u[f].replace(/&\f/g,d[m]):d[m]+" "+u[f]}}},S5=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function xR(n,e){switch(s5(n,e)){case 5103:return ot+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ot+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return ot+n+zh+n+Cn+n+n;case 6828:case 4268:return ot+n+Cn+n+n;case 6165:return ot+n+Cn+"flex-"+n+n;case 5187:return ot+n+lt(n,/(\w+).+(:[^]+)/,ot+"box-$1$2"+Cn+"flex-$1$2")+n;case 5443:return ot+n+Cn+"flex-item-"+lt(n,/flex-|-self/,"")+n;case 4675:return ot+n+Cn+"flex-line-pack"+lt(n,/align-content|flex-|-self/,"")+n;case 5548:return ot+n+Cn+lt(n,"shrink","negative")+n;case 5292:return ot+n+Cn+lt(n,"basis","preferred-size")+n;case 6060:return ot+"box-"+lt(n,"-grow","")+ot+n+Cn+lt(n,"grow","positive")+n;case 4554:return ot+lt(n,/([^-])(transform)/g,"$1"+ot+"$2")+n;case 6187:return lt(lt(lt(n,/(zoom-|grab)/,ot+"$1"),/(image-set)/,ot+"$1"),n,"")+n;case 5495:case 3959:return lt(n,/(image-set\([^]*)/,ot+"$1$`$1");case 4968:return lt(lt(n,/(.+:)(flex-)?(.*)/,ot+"box-pack:$3"+Cn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ot+n+n;case 4095:case 3583:case 4068:case 2532:return lt(n,/(.+)-inline(.+)/,ot+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mi(n)-1-e>6)switch(En(n,e+1)){case 109:if(En(n,e+4)!==45)break;case 102:return lt(n,/(.+:)(.+)-([^]+)/,"$1"+ot+"$2-$3$1"+zh+(En(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~oy(n,"stretch")?xR(lt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(En(n,e+1)!==115)break;case 6444:switch(En(n,mi(n)-3-(~oy(n,"!important")&&10))){case 107:return lt(n,":",":"+ot)+n;case 101:return lt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ot+(En(n,14)===45?"inline-":"")+"box$3$1"+ot+"$2$3$1"+Cn+"$2box$3")+n}break;case 5936:switch(En(n,e+11)){case 114:return ot+n+Cn+lt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return ot+n+Cn+lt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return ot+n+Cn+lt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return ot+n+Cn+n+n}return n}var T5=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case H0:e.return=xR(e.value,e.length);break;case yR:return Tl([sc(e,{value:lt(e.value,"@","@"+ot)})],s);case z0:if(e.length)return o5(e.props,function(o){switch(a5(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Tl([sc(e,{props:[lt(o,/:(read-\w+)/,":"+zh+"$1")]})],s);case"::placeholder":return Tl([sc(e,{props:[lt(o,/:(plac\w+)/,":"+ot+"input-$1")]}),sc(e,{props:[lt(o,/:(plac\w+)/,":"+zh+"$1")]}),sc(e,{props:[lt(o,/:(plac\w+)/,Cn+"input-$1")]})],s)}return""})}},A5=[T5],C5=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(C){var I=C.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(C),C.setAttribute("data-s",""))})}var s=e.stylisPlugins||A5,o={},u,d=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(C){for(var I=C.getAttribute("data-emotion").split(" "),T=1;T<I.length;T++)o[I[T]]=!0;d.push(C)});var f,h=[x5,S5];{var m,b=[g5,y5(function(C){m.insert(C)})],_=v5(h.concat(s,b)),x=function(I){return Tl(p5(I),_)};f=function(I,T,S,N){m=S,x(I?I+"{"+T.styles+"}":T.styles),N&&(w.inserted[T.name]=!0)}}var w={key:t,sheet:new e5({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:f};return w.sheet.hydrate(d),w},ov={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS;function R5(){if(LS)return ct;LS=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,b=n?Symbol.for("react.suspense"):60113,_=n?Symbol.for("react.suspense_list"):60120,x=n?Symbol.for("react.memo"):60115,w=n?Symbol.for("react.lazy"):60116,C=n?Symbol.for("react.block"):60121,I=n?Symbol.for("react.fundamental"):60117,T=n?Symbol.for("react.responder"):60118,S=n?Symbol.for("react.scope"):60119;function N(V){if(typeof V=="object"&&V!==null){var K=V.$$typeof;switch(K){case e:switch(V=V.type,V){case f:case h:case r:case o:case s:case b:return V;default:switch(V=V&&V.$$typeof,V){case d:case m:case w:case x:case u:return V;default:return K}}case t:return K}}}function z(V){return N(V)===h}return ct.AsyncMode=f,ct.ConcurrentMode=h,ct.ContextConsumer=d,ct.ContextProvider=u,ct.Element=e,ct.ForwardRef=m,ct.Fragment=r,ct.Lazy=w,ct.Memo=x,ct.Portal=t,ct.Profiler=o,ct.StrictMode=s,ct.Suspense=b,ct.isAsyncMode=function(V){return z(V)||N(V)===f},ct.isConcurrentMode=z,ct.isContextConsumer=function(V){return N(V)===d},ct.isContextProvider=function(V){return N(V)===u},ct.isElement=function(V){return typeof V=="object"&&V!==null&&V.$$typeof===e},ct.isForwardRef=function(V){return N(V)===m},ct.isFragment=function(V){return N(V)===r},ct.isLazy=function(V){return N(V)===w},ct.isMemo=function(V){return N(V)===x},ct.isPortal=function(V){return N(V)===t},ct.isProfiler=function(V){return N(V)===o},ct.isStrictMode=function(V){return N(V)===s},ct.isSuspense=function(V){return N(V)===b},ct.isValidElementType=function(V){return typeof V=="string"||typeof V=="function"||V===r||V===h||V===o||V===s||V===b||V===_||typeof V=="object"&&V!==null&&(V.$$typeof===w||V.$$typeof===x||V.$$typeof===u||V.$$typeof===d||V.$$typeof===m||V.$$typeof===I||V.$$typeof===T||V.$$typeof===S||V.$$typeof===C)},ct.typeOf=N,ct}var jS;function I5(){return jS||(jS=1,ov.exports=R5()),ov.exports}var lv,US;function N5(){if(US)return lv;US=1;var n=I5(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=r,o[n.Memo]=s;function u(w){return n.isMemo(w)?s:o[w.$$typeof]||e}var d=Object.defineProperty,f=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,_=Object.prototype;function x(w,C,I){if(typeof C!="string"){if(_){var T=b(C);T&&T!==_&&x(w,T,I)}var S=f(C);h&&(S=S.concat(h(C)));for(var N=u(w),z=u(C),V=0;V<S.length;++V){var K=S[V];if(!t[K]&&!(I&&I[K])&&!(z&&z[K])&&!(N&&N[K])){var P=m(C,K);try{d(w,K,P)}catch{}}}}return w}return lv=x,lv}N5();var O5=!0;function M5(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var SR=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||O5===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},D5=function(e,t,r){SR(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function P5(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var k5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},V5=/[A-Z]|^ms/g,L5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,TR=function(e){return e.charCodeAt(1)===45},BS=function(e){return e!=null&&typeof e!="boolean"},uv=b5(function(n){return TR(n)?n:n.replace(V5,"-$&").toLowerCase()}),FS=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(L5,function(r,s,o){return gi={name:s,styles:o,next:gi},s})}return k5[e]!==1&&!TR(e)&&typeof t=="number"&&t!==0?t+"px":t};function Bc(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return gi={name:s.name,styles:s.styles,next:gi},s.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)gi={name:u.name,styles:u.styles,next:gi},u=u.next;var d=o.styles+";";return d}return j5(n,e,t)}case"function":{if(n!==void 0){var f=gi,h=t(n);return gi=f,Bc(n,e,h)}break}}var m=t;return m}function j5(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=Bc(n,e,t[s])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var d=u;BS(d)&&(r+=uv(o)+":"+FS(o,d)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var f=0;f<u.length;f++)BS(u[f])&&(r+=uv(o)+":"+FS(o,u[f])+";");else{var h=Bc(n,e,u);switch(o){case"animation":case"animationName":{r+=uv(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var zS=/label:\s*([^\s;{]+)\s*(;|$)/g,gi;function AR(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";gi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,s+=Bc(t,e,o);else{var u=o;s+=u[0]}for(var d=1;d<n.length;d++)if(s+=Bc(t,e,n[d]),r){var f=o;s+=f[d]}zS.lastIndex=0;for(var h="",m;(m=zS.exec(s))!==null;)h+="-"+m[1];var b=P5(s)+h;return{name:b,styles:s,next:gi}}var U5=function(e){return e()},B5=fw.useInsertionEffect?fw.useInsertionEffect:!1,F5=B5||U5,CR=D.createContext(typeof HTMLElement<"u"?C5({key:"css"}):null);CR.Provider;var z5=function(e){return D.forwardRef(function(t,r){var s=D.useContext(CR);return e(t,s,r)})},H5=D.createContext({}),$0={}.hasOwnProperty,uy="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",q5=function(e,t){var r={};for(var s in t)$0.call(t,s)&&(r[s]=t[s]);return r[uy]=e,r},$5=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return SR(t,r,s),F5(function(){return D5(t,r,s)}),null},G5=z5(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=n[uy],o=[r],u="";typeof n.className=="string"?u=M5(e.registered,o,n.className):n.className!=null&&(u=n.className+" ");var d=AR(o,void 0,D.useContext(H5));u+=e.key+"-"+d.name;var f={};for(var h in n)$0.call(n,h)&&h!=="css"&&h!==uy&&(f[h]=n[h]);return f.className=u,t&&(f.ref=t),D.createElement(D.Fragment,null,D.createElement($5,{cache:e,serialized:d,isStringTag:typeof s=="string"}),D.createElement(s,f))}),Y5=G5,Ne=function(e,t){var r=arguments;if(t==null||!$0.call(t,"css"))return D.createElement.apply(void 0,r);var s=r.length,o=new Array(s);o[0]=Y5,o[1]=q5(e,t);for(var u=2;u<s;u++)o[u]=r[u];return D.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Ne||(Ne={}));function G0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return AR(e)}function K5(){var n=G0.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Q5(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const X5=Math.min,W5=Math.max,Hh=Math.round,Bf=Math.floor,qh=n=>({x:n,y:n});function Z5(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Np(){return typeof window<"u"}function RR(n){return NR(n)?(n.nodeName||"").toLowerCase():"#document"}function vs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function IR(n){var e;return(e=(NR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function NR(n){return Np()?n instanceof Node||n instanceof vs(n).Node:!1}function J5(n){return Np()?n instanceof Element||n instanceof vs(n).Element:!1}function Y0(n){return Np()?n instanceof HTMLElement||n instanceof vs(n).HTMLElement:!1}function HS(n){return!Np()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof vs(n).ShadowRoot}function OR(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=K0(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function eB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tB(n){return["html","body","#document"].includes(RR(n))}function K0(n){return vs(n).getComputedStyle(n)}function nB(n){if(RR(n)==="html")return n;const e=n.assignedSlot||n.parentNode||HS(n)&&n.host||IR(n);return HS(e)?e.host:e}function MR(n){const e=nB(n);return tB(e)?n.ownerDocument?n.ownerDocument.body:n.body:Y0(e)&&OR(e)?e:MR(e)}function $h(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=MR(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),u=vs(s);if(o){const d=cy(u);return e.concat(u,u.visualViewport||[],OR(s)?s:[],d&&t?$h(d):[])}return e.concat(s,$h(s,[],t))}function cy(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function rB(n){const e=K0(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Y0(n),o=s?n.offsetWidth:t,u=s?n.offsetHeight:r,d=Hh(t)!==o||Hh(r)!==u;return d&&(t=o,r=u),{width:t,height:r,$:d}}function Q0(n){return J5(n)?n:n.contextElement}function qS(n){const e=Q0(n);if(!Y0(e))return qh(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=rB(e);let u=(o?Hh(t.width):t.width)/r,d=(o?Hh(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const iB=qh(0);function sB(n){const e=vs(n);return!eB()||!e.visualViewport?iB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aB(n,e,t){return!1}function $S(n,e,t,r){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),o=Q0(n);let u=qh(1);e&&(u=qS(n));const d=aB()?sB(o):qh(0);let f=(s.left+d.x)/u.x,h=(s.top+d.y)/u.y,m=s.width/u.x,b=s.height/u.y;if(o){const _=vs(o),x=r;let w=_,C=cy(w);for(;C&&r&&x!==w;){const I=qS(C),T=C.getBoundingClientRect(),S=K0(C),N=T.left+(C.clientLeft+parseFloat(S.paddingLeft))*I.x,z=T.top+(C.clientTop+parseFloat(S.paddingTop))*I.y;f*=I.x,h*=I.y,m*=I.x,b*=I.y,f+=N,h+=z,w=vs(C),C=cy(w)}}return Z5({width:m,height:b,x:f,y:h})}function DR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function oB(n,e){let t=null,r;const s=IR(n);function o(){var d;clearTimeout(r),(d=t)==null||d.disconnect(),t=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),o();const h=n.getBoundingClientRect(),{left:m,top:b,width:_,height:x}=h;if(d||e(),!_||!x)return;const w=Bf(b),C=Bf(s.clientWidth-(m+_)),I=Bf(s.clientHeight-(b+x)),T=Bf(m),N={rootMargin:-w+"px "+-C+"px "+-I+"px "+-T+"px",threshold:W5(0,X5(1,f))||1};let z=!0;function V(K){const P=K[0].intersectionRatio;if(P!==f){if(!z)return u();P?u(!1,P):r=setTimeout(()=>{u(!1,1e-7)},1e3)}P===1&&!DR(h,n.getBoundingClientRect())&&u(),z=!1}try{t=new IntersectionObserver(V,{...N,root:s.ownerDocument})}catch{t=new IntersectionObserver(V,N)}t.observe(n)}return u(!0),o}function lB(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=Q0(n),m=s||o?[...h?$h(h):[],...$h(e)]:[];m.forEach(T=>{s&&T.addEventListener("scroll",t,{passive:!0}),o&&T.addEventListener("resize",t)});const b=h&&d?oB(h,t):null;let _=-1,x=null;u&&(x=new ResizeObserver(T=>{let[S]=T;S&&S.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var N;(N=x)==null||N.observe(e)})),t()}),h&&!f&&x.observe(h),x.observe(e));let w,C=f?$S(n):null;f&&I();function I(){const T=$S(n);C&&!DR(C,T)&&t(),C=T,w=requestAnimationFrame(I)}return t(),()=>{var T;m.forEach(S=>{s&&S.removeEventListener("scroll",t),o&&S.removeEventListener("resize",t)}),b==null||b(),(T=x)==null||T.disconnect(),x=null,f&&cancelAnimationFrame(w)}}var dy=D.useLayoutEffect,uB=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Gh=function(){};function cB(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function dB(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];var o=[].concat(r);if(e&&n)for(var u in e)e.hasOwnProperty(u)&&e[u]&&o.push("".concat(cB(n,u)));return o.filter(function(d){return d}).map(function(d){return String(d).trim()}).join(" ")}var GS=function(e){return _B(e)?e.filter(Boolean):ho(e)==="object"&&e!==null?[e]:[]},PR=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=bs(e,uB);return Pe({},t)},Dt=function(e,t,r){var s=e.cx,o=e.getStyles,u=e.getClassNames,d=e.className;return{css:o(t,e),className:s(r??{},u(t,e),d)}};function Op(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function fB(n){return Op(n)?window.innerHeight:n.clientHeight}function kR(n){return Op(n)?window.pageYOffset:n.scrollTop}function Yh(n,e){if(Op(n)){window.scrollTo(0,e);return}n.scrollTop=e}function hB(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function pB(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function Ff(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Gh,s=kR(n),o=e-s,u=10,d=0;function f(){d+=u;var h=pB(d,s,o,t);Yh(n,h),d<t?window.requestAnimationFrame(f):r(n)}f()}function YS(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>t.bottom?Yh(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):r.top-s<t.top&&Yh(n,Math.max(e.offsetTop-s,0))}function mB(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function KS(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function gB(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var VR=!1,vB={get passive(){return VR=!0}},zf=typeof window<"u"?window:{};zf.addEventListener&&zf.removeEventListener&&(zf.addEventListener("p",Gh,vB),zf.removeEventListener("p",Gh,!1));var yB=VR;function bB(n){return n!=null}function _B(n){return Array.isArray(n)}function Hf(n,e,t){return n?e:t}var EB=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];var o=Object.entries(e).filter(function(u){var d=cs(u,1),f=d[0];return!r.includes(f)});return o.reduce(function(u,d){var f=cs(d,2),h=f[0],m=f[1];return u[h]=m,u},{})},wB=["children","innerProps"],xB=["children","innerProps"];function SB(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,s=n.placement,o=n.shouldScroll,u=n.isFixedPosition,d=n.controlHeight,f=hB(t),h={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return h;var m=f.getBoundingClientRect(),b=m.height,_=t.getBoundingClientRect(),x=_.bottom,w=_.height,C=_.top,I=t.offsetParent.getBoundingClientRect(),T=I.top,S=u?window.innerHeight:fB(f),N=kR(f),z=parseInt(getComputedStyle(t).marginBottom,10),V=parseInt(getComputedStyle(t).marginTop,10),K=T-V,P=S-C,O=K+N,M=b-N-C,L=x-S+N+z,B=N+C-V,F=160;switch(s){case"auto":case"bottom":if(P>=w)return{placement:"bottom",maxHeight:e};if(M>=w&&!u)return o&&Ff(f,L,F),{placement:"bottom",maxHeight:e};if(!u&&M>=r||u&&P>=r){o&&Ff(f,L,F);var U=u?P-z:M-z;return{placement:"bottom",maxHeight:U}}if(s==="auto"||u){var pe=e,ge=u?K:O;return ge>=r&&(pe=Math.min(ge-z-d,e)),{placement:"top",maxHeight:pe}}if(s==="bottom")return o&&Yh(f,L),{placement:"bottom",maxHeight:e};break;case"top":if(K>=w)return{placement:"top",maxHeight:e};if(O>=w&&!u)return o&&Ff(f,B,F),{placement:"top",maxHeight:e};if(!u&&O>=r||u&&K>=r){var G=e;return(!u&&O>=r||u&&K>=r)&&(G=u?K-V:O-V),o&&Ff(f,B,F),{placement:"top",maxHeight:G}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return h}function TB(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var LR=function(e){return e==="auto"?"bottom":e},AB=function(e,t){var r,s=e.placement,o=e.theme,u=o.borderRadius,d=o.spacing,f=o.colors;return Pe((r={label:"menu"},pc(r,TB(s),"100%"),pc(r,"position","absolute"),pc(r,"width","100%"),pc(r,"zIndex",1),r),t?{}:{backgroundColor:f.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:d.menuGutter,marginTop:d.menuGutter})},jR=D.createContext(null),CB=function(e){var t=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,o=e.menuPlacement,u=e.menuPosition,d=e.menuShouldScrollIntoView,f=e.theme,h=D.useContext(jR)||{},m=h.setPortalPlacement,b=D.useRef(null),_=D.useState(s),x=cs(_,2),w=x[0],C=x[1],I=D.useState(null),T=cs(I,2),S=T[0],N=T[1],z=f.spacing.controlHeight;return dy(function(){var V=b.current;if(V){var K=u==="fixed",P=d&&!K,O=SB({maxHeight:s,menuEl:V,minHeight:r,placement:o,shouldScroll:P,isFixedPosition:K,controlHeight:z});C(O.maxHeight),N(O.placement),m==null||m(O.placement)}},[s,o,u,d,r,m,z]),t({ref:b,placerProps:Pe(Pe({},e),{},{placement:S||LR(o),maxHeight:w})})},RB=function(e){var t=e.children,r=e.innerRef,s=e.innerProps;return Ne("div",Le({},Dt(e,"menu",{menu:!0}),{ref:r},s),t)},IB=RB,NB=function(e,t){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return Pe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},OB=function(e){var t=e.children,r=e.innerProps,s=e.innerRef,o=e.isMulti;return Ne("div",Le({},Dt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:s},r),t)},UR=function(e,t){var r=e.theme,s=r.spacing.baseUnit,o=r.colors;return Pe({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},MB=UR,DB=UR,PB=function(e){var t=e.children,r=t===void 0?"No options":t,s=e.innerProps,o=bs(e,wB);return Ne("div",Le({},Dt(Pe(Pe({},o),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},kB=function(e){var t=e.children,r=t===void 0?"Loading...":t,s=e.innerProps,o=bs(e,xB);return Ne("div",Le({},Dt(Pe(Pe({},o),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},VB=function(e){var t=e.rect,r=e.offset,s=e.position;return{left:t.left,position:s,top:r,width:t.width,zIndex:1}},LB=function(e){var t=e.appendTo,r=e.children,s=e.controlElement,o=e.innerProps,u=e.menuPlacement,d=e.menuPosition,f=D.useRef(null),h=D.useRef(null),m=D.useState(LR(u)),b=cs(m,2),_=b[0],x=b[1],w=D.useMemo(function(){return{setPortalPlacement:x}},[]),C=D.useState(null),I=cs(C,2),T=I[0],S=I[1],N=D.useCallback(function(){if(s){var P=mB(s),O=d==="fixed"?0:window.pageYOffset,M=P[_]+O;(M!==(T==null?void 0:T.offset)||P.left!==(T==null?void 0:T.rect.left)||P.width!==(T==null?void 0:T.rect.width))&&S({offset:M,rect:P})}},[s,d,_,T==null?void 0:T.offset,T==null?void 0:T.rect.left,T==null?void 0:T.rect.width]);dy(function(){N()},[N]);var z=D.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),s&&f.current&&(h.current=lB(s,f.current,N,{elementResize:"ResizeObserver"in window}))},[s,N]);dy(function(){z()},[z]);var V=D.useCallback(function(P){f.current=P,z()},[z]);if(!t&&d!=="fixed"||!T)return null;var K=Ne("div",Le({ref:V},Dt(Pe(Pe({},e),{},{offset:T.offset,position:d,rect:T.rect}),"menuPortal",{"menu-portal":!0}),o),r);return Ne(jR.Provider,{value:w},t?fO.createPortal(K,t):K)},jB=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},UB=function(e){var t=e.children,r=e.innerProps,s=e.isDisabled,o=e.isRtl;return Ne("div",Le({},Dt(e,"container",{"--is-disabled":s,"--is-rtl":o}),r),t)},BB=function(e,t){var r=e.theme.spacing,s=e.isMulti,o=e.hasValue,u=e.selectProps.controlShouldRenderValue;return Pe({alignItems:"center",display:s&&o&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},FB=function(e){var t=e.children,r=e.innerProps,s=e.isMulti,o=e.hasValue;return Ne("div",Le({},Dt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":o}),r),t)},zB=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},HB=function(e){var t=e.children,r=e.innerProps;return Ne("div",Le({},Dt(e,"indicatorsContainer",{indicators:!0}),r),t)},QS,qB=["size"],$B=["innerProps","isRtl","size"],GB={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},BR=function(e){var t=e.size,r=bs(e,qB);return Ne("svg",Le({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:GB},r))},X0=function(e){return Ne(BR,Le({size:20},e),Ne("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},FR=function(e){return Ne(BR,Le({size:20},e),Ne("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},zR=function(e,t){var r=e.isFocused,s=e.theme,o=s.spacing.baseUnit,u=s.colors;return Pe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?u.neutral60:u.neutral20,padding:o*2,":hover":{color:r?u.neutral80:u.neutral40}})},YB=zR,KB=function(e){var t=e.children,r=e.innerProps;return Ne("div",Le({},Dt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||Ne(FR,null))},QB=zR,XB=function(e){var t=e.children,r=e.innerProps;return Ne("div",Le({},Dt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||Ne(X0,null))},WB=function(e,t){var r=e.isDisabled,s=e.theme,o=s.spacing.baseUnit,u=s.colors;return Pe({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:o*2,marginTop:o*2})},ZB=function(e){var t=e.innerProps;return Ne("span",Le({},t,Dt(e,"indicatorSeparator",{"indicator-separator":!0})))},JB=K5(QS||(QS=Q5([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),eF=function(e,t){var r=e.isFocused,s=e.size,o=e.theme,u=o.colors,d=o.spacing.baseUnit;return Pe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?u.neutral60:u.neutral20,padding:d*2})},cv=function(e){var t=e.delay,r=e.offset;return Ne("span",{css:G0({animation:"".concat(JB," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},tF=function(e){var t=e.innerProps,r=e.isRtl,s=e.size,o=s===void 0?4:s,u=bs(e,$B);return Ne("div",Le({},Dt(Pe(Pe({},u),{},{innerProps:t,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Ne(cv,{delay:0,offset:r}),Ne(cv,{delay:160,offset:!0}),Ne(cv,{delay:320,offset:!r}))},nF=function(e,t){var r=e.isDisabled,s=e.isFocused,o=e.theme,u=o.colors,d=o.borderRadius,f=o.spacing;return Pe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:f.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:s?u.primary:u.neutral20,borderRadius:d,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:s?u.primary:u.neutral30}})},rF=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,o=e.innerRef,u=e.innerProps,d=e.menuIsOpen;return Ne("div",Le({ref:o},Dt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":d}),u,{"aria-disabled":r||void 0}),t)},iF=rF,sF=["data"],aF=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},oF=function(e){var t=e.children,r=e.cx,s=e.getStyles,o=e.getClassNames,u=e.Heading,d=e.headingProps,f=e.innerProps,h=e.label,m=e.theme,b=e.selectProps;return Ne("div",Le({},Dt(e,"group",{group:!0}),f),Ne(u,Le({},d,{selectProps:b,theme:m,getStyles:s,getClassNames:o,cx:r}),h),Ne("div",null,t))},lF=function(e,t){var r=e.theme,s=r.colors,o=r.spacing;return Pe({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},uF=function(e){var t=PR(e);t.data;var r=bs(t,sF);return Ne("div",Le({},Dt(e,"groupHeading",{"group-heading":!0}),r))},cF=oF,dF=["innerRef","isDisabled","isHidden","inputClassName"],fF=function(e,t){var r=e.isDisabled,s=e.value,o=e.theme,u=o.spacing,d=o.colors;return Pe(Pe({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},hF),t?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:d.neutral80})},HR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},hF={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Pe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},HR)},pF=function(e){return Pe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},HR)},mF=function(e){var t=e.cx,r=e.value,s=PR(e),o=s.innerRef,u=s.isDisabled,d=s.isHidden,f=s.inputClassName,h=bs(s,dF);return Ne("div",Le({},Dt(e,"input",{"input-container":!0}),{"data-value":r||""}),Ne("input",Le({className:t({input:!0},f),ref:o,style:pF(d),disabled:u},h)))},gF=mF,vF=function(e,t){var r=e.theme,s=r.spacing,o=r.borderRadius,u=r.colors;return Pe({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:u.neutral10,borderRadius:o/2,margin:s.baseUnit/2})},yF=function(e,t){var r=e.theme,s=r.borderRadius,o=r.colors,u=e.cropWithEllipsis;return Pe({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},bF=function(e,t){var r=e.theme,s=r.spacing,o=r.borderRadius,u=r.colors,d=e.isFocused;return Pe({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:d?u.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},qR=function(e){var t=e.children,r=e.innerProps;return Ne("div",r,t)},_F=qR,EF=qR;function wF(n){var e=n.children,t=n.innerProps;return Ne("div",Le({role:"button"},t),e||Ne(X0,{size:14}))}var xF=function(e){var t=e.children,r=e.components,s=e.data,o=e.innerProps,u=e.isDisabled,d=e.removeProps,f=e.selectProps,h=r.Container,m=r.Label,b=r.Remove;return Ne(h,{data:s,innerProps:Pe(Pe({},Dt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),o),selectProps:f},Ne(m,{data:s,innerProps:Pe({},Dt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:f},t),Ne(b,{data:s,innerProps:Pe(Pe({},Dt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},d),selectProps:f}))},SF=xF,TF=function(e,t){var r=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.theme,d=u.spacing,f=u.colors;return Pe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?f.primary:s?f.primary25:"transparent",color:r?f.neutral20:o?f.neutral0:"inherit",padding:"".concat(d.baseUnit*2,"px ").concat(d.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?f.primary:f.primary50}})},AF=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.innerRef,d=e.innerProps;return Ne("div",Le({},Dt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":o}),{ref:u,"aria-disabled":r},d),t)},CF=AF,RF=function(e,t){var r=e.theme,s=r.spacing,o=r.colors;return Pe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},IF=function(e){var t=e.children,r=e.innerProps;return Ne("div",Le({},Dt(e,"placeholder",{placeholder:!0}),r),t)},NF=IF,OF=function(e,t){var r=e.isDisabled,s=e.theme,o=s.spacing,u=s.colors;return Pe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?u.neutral40:u.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},MF=function(e){var t=e.children,r=e.isDisabled,s=e.innerProps;return Ne("div",Le({},Dt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),t)},DF=MF,PF={ClearIndicator:XB,Control:iF,DropdownIndicator:KB,DownChevron:FR,CrossIcon:X0,Group:cF,GroupHeading:uF,IndicatorsContainer:HB,IndicatorSeparator:ZB,Input:gF,LoadingIndicator:tF,Menu:IB,MenuList:OB,MenuPortal:LB,LoadingMessage:kB,NoOptionsMessage:PB,MultiValue:SF,MultiValueContainer:_F,MultiValueLabel:EF,MultiValueRemove:wF,Option:CF,Placeholder:NF,SelectContainer:UB,SingleValue:DF,ValueContainer:FB},kF=function(e){return Pe(Pe({},PF),e.components)},XS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function VF(n,e){return!!(n===e||XS(n)&&XS(e))}function LF(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!VF(n[t],e[t]))return!1;return!0}function jF(n,e){e===void 0&&(e=LF);var t=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var u=n.apply(this,s);return t={lastResult:u,lastArgs:s,lastThis:this},u}return r.clear=function(){t=null},r}var UF={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},BF=function(e){return Ne("span",Le({css:UF},e))},WS=BF,FF={guidance:function(e){var t=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,o=e.context,u=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,s=r===void 0?"":r,o=e.labels,u=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,s=e.options,o=e.label,u=o===void 0?"":o,d=e.selectValue,f=e.isDisabled,h=e.isSelected,m=e.isAppleDevice,b=function(C,I){return C&&C.length?"".concat(C.indexOf(I)+1," of ").concat(C.length):""};if(t==="value"&&d)return"value ".concat(u," focused, ").concat(b(d,r),".");if(t==="menu"&&m){var _=f?" disabled":"",x="".concat(h?" selected":"").concat(_);return"".concat(u).concat(x,", ").concat(b(s,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},zF=function(e){var t=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,o=e.focusableOptions,u=e.isFocused,d=e.selectValue,f=e.selectProps,h=e.id,m=e.isAppleDevice,b=f.ariaLiveMessages,_=f.getOptionLabel,x=f.inputValue,w=f.isMulti,C=f.isOptionDisabled,I=f.isSearchable,T=f.menuIsOpen,S=f.options,N=f.screenReaderStatus,z=f.tabSelectsValue,V=f.isLoading,K=f["aria-label"],P=f["aria-live"],O=D.useMemo(function(){return Pe(Pe({},FF),b||{})},[b]),M=D.useMemo(function(){var ge="";if(t&&O.onChange){var G=t.option,oe=t.options,me=t.removedValue,ie=t.removedValues,H=t.value,ne=function(qe){return Array.isArray(qe)?null:qe},le=me||G||ne(H),ue=le?_(le):"",xe=oe||ie||void 0,De=xe?xe.map(_):[],Ae=Pe({isDisabled:le&&C(le,d),label:ue,labels:De},t);ge=O.onChange(Ae)}return ge},[t,O,C,d,_]),L=D.useMemo(function(){var ge="",G=r||s,oe=!!(r&&d&&d.includes(r));if(G&&O.onFocus){var me={focused:G,label:_(G),isDisabled:C(G,d),isSelected:oe,options:o,context:G===r?"menu":"value",selectValue:d,isAppleDevice:m};ge=O.onFocus(me)}return ge},[r,s,_,C,O,o,d,m]),B=D.useMemo(function(){var ge="";if(T&&S.length&&!V&&O.onFilter){var G=N({count:o.length});ge=O.onFilter({inputValue:x,resultsMessage:G})}return ge},[o,x,T,O,S,N,V]),F=(t==null?void 0:t.action)==="initial-input-focus",U=D.useMemo(function(){var ge="";if(O.guidance){var G=s?"value":T?"menu":"input";ge=O.guidance({"aria-label":K,context:G,isDisabled:r&&C(r,d),isMulti:w,isSearchable:I,tabSelectsValue:z,isInitialFocus:F})}return ge},[K,r,s,w,C,I,T,O,d,z,F]),pe=Ne(D.Fragment,null,Ne("span",{id:"aria-selection"},M),Ne("span",{id:"aria-focused"},L),Ne("span",{id:"aria-results"},B),Ne("span",{id:"aria-guidance"},U));return Ne(D.Fragment,null,Ne(WS,{id:h},F&&pe),Ne(WS,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!F&&pe))},HF=zF,fy=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],qF=new RegExp("["+fy.map(function(n){return n.letters}).join("")+"]","g"),$R={};for(var dv=0;dv<fy.length;dv++)for(var fv=fy[dv],hv=0;hv<fv.letters.length;hv++)$R[fv.letters[hv]]=fv.base;var GR=function(e){return e.replace(qF,function(t){return $R[t]})},$F=jF(GR),ZS=function(e){return e.replace(/^\s+|\s+$/g,"")},GF=function(e){return"".concat(e.label," ").concat(e.value)},YF=function(e){return function(t,r){if(t.data.__isNew__)return!0;var s=Pe({ignoreCase:!0,ignoreAccents:!0,stringify:GF,trim:!0,matchFrom:"any"},e),o=s.ignoreCase,u=s.ignoreAccents,d=s.stringify,f=s.trim,h=s.matchFrom,m=f?ZS(r):r,b=f?ZS(d(t)):d(t);return o&&(m=m.toLowerCase(),b=b.toLowerCase()),u&&(m=$F(m),b=GR(b)),h==="start"?b.substr(0,m.length)===m:b.indexOf(m)>-1}},KF=["innerRef"];function QF(n){var e=n.innerRef,t=bs(n,KF),r=EB(t,"onExited","in","enter","exit","appear");return Ne("input",Le({ref:e},r,{css:G0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var XF=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function WF(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,s=n.onTopArrive,o=n.onTopLeave,u=D.useRef(!1),d=D.useRef(!1),f=D.useRef(0),h=D.useRef(null),m=D.useCallback(function(I,T){if(h.current!==null){var S=h.current,N=S.scrollTop,z=S.scrollHeight,V=S.clientHeight,K=h.current,P=T>0,O=z-V-N,M=!1;O>T&&u.current&&(r&&r(I),u.current=!1),P&&d.current&&(o&&o(I),d.current=!1),P&&T>O?(t&&!u.current&&t(I),K.scrollTop=z,M=!0,u.current=!0):!P&&-T>N&&(s&&!d.current&&s(I),K.scrollTop=0,M=!0,d.current=!0),M&&XF(I)}},[t,r,s,o]),b=D.useCallback(function(I){m(I,I.deltaY)},[m]),_=D.useCallback(function(I){f.current=I.changedTouches[0].clientY},[]),x=D.useCallback(function(I){var T=f.current-I.changedTouches[0].clientY;m(I,T)},[m]),w=D.useCallback(function(I){if(I){var T=yB?{passive:!1}:!1;I.addEventListener("wheel",b,T),I.addEventListener("touchstart",_,T),I.addEventListener("touchmove",x,T)}},[x,_,b]),C=D.useCallback(function(I){I&&(I.removeEventListener("wheel",b,!1),I.removeEventListener("touchstart",_,!1),I.removeEventListener("touchmove",x,!1))},[x,_,b]);return D.useEffect(function(){if(e){var I=h.current;return w(I),function(){C(I)}}},[e,w,C]),function(I){h.current=I}}var JS=["boxSizing","height","overflow","paddingRight","position"],eT={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function tT(n){n.cancelable&&n.preventDefault()}function nT(n){n.stopPropagation()}function rT(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function iT(){return"ontouchstart"in window||navigator.maxTouchPoints}var sT=!!(typeof window<"u"&&window.document&&window.document.createElement),ac=0,cl={capture:!1,passive:!1};function ZF(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,s=D.useRef({}),o=D.useRef(null),u=D.useCallback(function(f){if(sT){var h=document.body,m=h&&h.style;if(r&&JS.forEach(function(w){var C=m&&m[w];s.current[w]=C}),r&&ac<1){var b=parseInt(s.current.paddingRight,10)||0,_=document.body?document.body.clientWidth:0,x=window.innerWidth-_+b||0;Object.keys(eT).forEach(function(w){var C=eT[w];m&&(m[w]=C)}),m&&(m.paddingRight="".concat(x,"px"))}h&&iT()&&(h.addEventListener("touchmove",tT,cl),f&&(f.addEventListener("touchstart",rT,cl),f.addEventListener("touchmove",nT,cl))),ac+=1}},[r]),d=D.useCallback(function(f){if(sT){var h=document.body,m=h&&h.style;ac=Math.max(ac-1,0),r&&ac<1&&JS.forEach(function(b){var _=s.current[b];m&&(m[b]=_)}),h&&iT()&&(h.removeEventListener("touchmove",tT,cl),f&&(f.removeEventListener("touchstart",rT,cl),f.removeEventListener("touchmove",nT,cl)))}},[r]);return D.useEffect(function(){if(e){var f=o.current;return u(f),function(){d(f)}}},[e,u,d]),function(f){o.current=f}}var JF=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},ez={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function tz(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,s=r===void 0?!0:r,o=n.onBottomArrive,u=n.onBottomLeave,d=n.onTopArrive,f=n.onTopLeave,h=WF({isEnabled:s,onBottomArrive:o,onBottomLeave:u,onTopArrive:d,onTopLeave:f}),m=ZF({isEnabled:t}),b=function(x){h(x),m(x)};return Ne(D.Fragment,null,t&&Ne("div",{onClick:JF,css:ez}),e(b))}var nz={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},rz=function(e){var t=e.name,r=e.onFocus;return Ne("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:nz,value:"",onChange:function(){}})},iz=rz;function W0(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function sz(){return W0(/^iPhone/i)}function YR(){return W0(/^Mac/i)}function az(){return W0(/^iPad/i)||YR()&&navigator.maxTouchPoints>1}function oz(){return sz()||az()}function lz(){return YR()||oz()}var uz=function(e){return e.label},cz=function(e){return e.label},dz=function(e){return e.value},fz=function(e){return!!e.isDisabled},hz={clearIndicator:QB,container:jB,control:nF,dropdownIndicator:YB,group:aF,groupHeading:lF,indicatorsContainer:zB,indicatorSeparator:WB,input:fF,loadingIndicator:eF,loadingMessage:DB,menu:AB,menuList:NB,menuPortal:VB,multiValue:vF,multiValueLabel:yF,multiValueRemove:bF,noOptionsMessage:MB,option:TF,placeholder:RF,singleValue:OF,valueContainer:BB},pz={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},mz=4,KR=4,gz=38,vz=KR*2,yz={baseUnit:KR,controlHeight:gz,menuGutter:vz},pv={borderRadius:mz,colors:pz,spacing:yz},bz={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:KS(),captureMenuScroll:!KS(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:YF(),formatGroupLabel:uz,getOptionLabel:cz,getOptionValue:dz,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:fz,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!gB(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function aT(n,e,t,r){var s=WR(n,e,t),o=ZR(n,e,t),u=XR(n,e),d=Kh(n,e);return{type:"option",data:e,isDisabled:s,isSelected:o,label:u,value:d,index:r}}function oh(n,e){return n.options.map(function(t,r){if("options"in t){var s=t.options.map(function(u,d){return aT(n,u,e,d)}).filter(function(u){return lT(n,u)});return s.length>0?{type:"group",data:t,options:s,index:r}:void 0}var o=aT(n,t,e,r);return lT(n,o)?o:void 0}).filter(bB)}function QR(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,F0(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function oT(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,F0(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function _z(n,e){return QR(oh(n,e))}function lT(n,e){var t=n.inputValue,r=t===void 0?"":t,s=e.data,o=e.isSelected,u=e.label,d=e.value;return(!eI(n)||!o)&&JR(n,{label:u,value:d,data:s},r)}function Ez(n,e){var t=n.focusedValue,r=n.selectValue,s=r.indexOf(t);if(s>-1){var o=e.indexOf(t);if(o>-1)return t;if(s<e.length)return e[s]}return null}function wz(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var mv=function(e,t){var r,s=(r=e.find(function(o){return o.data===t}))===null||r===void 0?void 0:r.id;return s||null},XR=function(e,t){return e.getOptionLabel(t)},Kh=function(e,t){return e.getOptionValue(t)};function WR(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function ZR(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=Kh(n,e);return t.some(function(s){return Kh(n,s)===r})}function JR(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var eI=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},xz=1,tI=function(n){$9(t,n);var e=K9(t);function t(r){var s;if(H9(this,t),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=lz(),s.controlRef=null,s.getControlRef=function(f){s.controlRef=f},s.focusedOptionRef=null,s.getFocusedOptionRef=function(f){s.focusedOptionRef=f},s.menuListRef=null,s.getMenuListRef=function(f){s.menuListRef=f},s.inputRef=null,s.getInputRef=function(f){s.inputRef=f},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(f,h){var m=s.props,b=m.onChange,_=m.name;h.name=_,s.ariaOnChange(f,h),b(f,h)},s.setValue=function(f,h,m){var b=s.props,_=b.closeMenuOnSelect,x=b.isMulti,w=b.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:w}),_&&(s.setState({inputIsHiddenAfterUpdate:!x}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(f,{action:h,option:m})},s.selectOption=function(f){var h=s.props,m=h.blurInputOnSelect,b=h.isMulti,_=h.name,x=s.state.selectValue,w=b&&s.isOptionSelected(f,x),C=s.isOptionDisabled(f,x);if(w){var I=s.getOptionValue(f);s.setValue(x.filter(function(T){return s.getOptionValue(T)!==I}),"deselect-option",f)}else if(!C)b?s.setValue([].concat(F0(x),[f]),"select-option",f):s.setValue(f,"select-option");else{s.ariaOnChange(f,{action:"select-option",option:f,name:_});return}m&&s.blurInput()},s.removeValue=function(f){var h=s.props.isMulti,m=s.state.selectValue,b=s.getOptionValue(f),_=m.filter(function(w){return s.getOptionValue(w)!==b}),x=Hf(h,_,_[0]||null);s.onChange(x,{action:"remove-value",removedValue:f}),s.focusInput()},s.clearValue=function(){var f=s.state.selectValue;s.onChange(Hf(s.props.isMulti,[],null),{action:"clear",removedValues:f})},s.popValue=function(){var f=s.props.isMulti,h=s.state.selectValue,m=h[h.length-1],b=h.slice(0,h.length-1),_=Hf(f,b,b[0]||null);m&&s.onChange(_,{action:"pop-value",removedValue:m})},s.getFocusedOptionId=function(f){return mv(s.state.focusableOptionsWithIds,f)},s.getFocusableOptionsWithIds=function(){return oT(oh(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var f=arguments.length,h=new Array(f),m=0;m<f;m++)h[m]=arguments[m];return dB.apply(void 0,[s.props.classNamePrefix].concat(h))},s.getOptionLabel=function(f){return XR(s.props,f)},s.getOptionValue=function(f){return Kh(s.props,f)},s.getStyles=function(f,h){var m=s.props.unstyled,b=hz[f](h,m);b.boxSizing="border-box";var _=s.props.styles[f];return _?_(b,h):b},s.getClassNames=function(f,h){var m,b;return(m=(b=s.props.classNames)[f])===null||m===void 0?void 0:m.call(b,h)},s.getElementId=function(f){return"".concat(s.state.instancePrefix,"-").concat(f)},s.getComponents=function(){return kF(s.props)},s.buildCategorizedOptions=function(){return oh(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return QR(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(f,h){s.setState({ariaSelection:Pe({value:f},h)})},s.onMenuMouseDown=function(f){f.button===0&&(f.stopPropagation(),f.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(f){s.blockOptionHover=!1},s.onControlMouseDown=function(f){if(!f.defaultPrevented){var h=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&s.onMenuClose():h&&s.openMenu("first"):(h&&(s.openAfterFocus=!0),s.focusInput()),f.target.tagName!=="INPUT"&&f.target.tagName!=="TEXTAREA"&&f.preventDefault()}},s.onDropdownIndicatorMouseDown=function(f){if(!(f&&f.type==="mousedown"&&f.button!==0)&&!s.props.isDisabled){var h=s.props,m=h.isMulti,b=h.menuIsOpen;s.focusInput(),b?(s.setState({inputIsHiddenAfterUpdate:!m}),s.onMenuClose()):s.openMenu("first"),f.preventDefault()}},s.onClearIndicatorMouseDown=function(f){f&&f.type==="mousedown"&&f.button!==0||(s.clearValue(),f.preventDefault(),s.openAfterFocus=!1,f.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(f){typeof s.props.closeMenuOnScroll=="boolean"?f.target instanceof HTMLElement&&Op(f.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(f)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(f){var h=f.touches,m=h&&h.item(0);m&&(s.initialTouchX=m.clientX,s.initialTouchY=m.clientY,s.userIsDragging=!1)},s.onTouchMove=function(f){var h=f.touches,m=h&&h.item(0);if(m){var b=Math.abs(m.clientX-s.initialTouchX),_=Math.abs(m.clientY-s.initialTouchY),x=5;s.userIsDragging=b>x||_>x}},s.onTouchEnd=function(f){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(f.target)&&s.menuListRef&&!s.menuListRef.contains(f.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(f){s.userIsDragging||s.onControlMouseDown(f)},s.onClearIndicatorTouchEnd=function(f){s.userIsDragging||s.onClearIndicatorMouseDown(f)},s.onDropdownIndicatorTouchEnd=function(f){s.userIsDragging||s.onDropdownIndicatorMouseDown(f)},s.handleInputChange=function(f){var h=s.props.inputValue,m=f.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(m,{action:"input-change",prevInputValue:h}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(f){s.props.onFocus&&s.props.onFocus(f),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(f){var h=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(f),s.onInputChange("",{action:"input-blur",prevInputValue:h}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(f){if(!(s.blockOptionHover||s.state.focusedOption===f)){var h=s.getFocusableOptions(),m=h.indexOf(f);s.setState({focusedOption:f,focusedOptionId:m>-1?s.getFocusedOptionId(f):null})}},s.shouldHideSelectedOptions=function(){return eI(s.props)},s.onValueInputFocus=function(f){f.preventDefault(),f.stopPropagation(),s.focus()},s.onKeyDown=function(f){var h=s.props,m=h.isMulti,b=h.backspaceRemovesValue,_=h.escapeClearsValue,x=h.inputValue,w=h.isClearable,C=h.isDisabled,I=h.menuIsOpen,T=h.onKeyDown,S=h.tabSelectsValue,N=h.openMenuOnFocus,z=s.state,V=z.focusedOption,K=z.focusedValue,P=z.selectValue;if(!C&&!(typeof T=="function"&&(T(f),f.defaultPrevented))){switch(s.blockOptionHover=!0,f.key){case"ArrowLeft":if(!m||x)return;s.focusValue("previous");break;case"ArrowRight":if(!m||x)return;s.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(K)s.removeValue(K);else{if(!b)return;m?s.popValue():w&&s.clearValue()}break;case"Tab":if(s.isComposing||f.shiftKey||!I||!S||!V||N&&s.isOptionSelected(V,P))return;s.selectOption(V);break;case"Enter":if(f.keyCode===229)break;if(I){if(!V||s.isComposing)return;s.selectOption(V);break}return;case"Escape":I?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:x}),s.onMenuClose()):w&&_&&s.clearValue();break;case" ":if(x)return;if(!I){s.openMenu("first");break}if(!V)return;s.selectOption(V);break;case"ArrowUp":I?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":I?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!I)return;s.focusOption("pageup");break;case"PageDown":if(!I)return;s.focusOption("pagedown");break;case"Home":if(!I)return;s.focusOption("first");break;case"End":if(!I)return;s.focusOption("last");break;default:return}f.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++xz),s.state.selectValue=GS(r.value),r.menuIsOpen&&s.state.selectValue.length){var o=s.getFocusableOptionsWithIds(),u=s.buildFocusableOptions(),d=u.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=o,s.state.focusedOption=u[d],s.state.focusedOptionId=mv(o,u[d])}return s}return q9(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&YS(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var o=this.props,u=o.isDisabled,d=o.menuIsOpen,f=this.state.isFocused;(f&&!u&&s.isDisabled||f&&d&&!s.menuIsOpen)&&this.focusInput(),f&&u&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!f&&!u&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(YS(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,o){this.props.onInputChange(s,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var o=this,u=this.state,d=u.selectValue,f=u.isFocused,h=this.buildFocusableOptions(),m=s==="first"?0:h.length-1;if(!this.props.isMulti){var b=h.indexOf(d[0]);b>-1&&(m=b)}this.scrollToFocusedOptionOnUpdate=!(f&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[m],focusedOptionId:this.getFocusedOptionId(h[m])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(s){var o=this.state,u=o.selectValue,d=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var f=u.indexOf(d);d||(f=-1);var h=u.length-1,m=-1;if(u.length){switch(s){case"previous":f===0?m=0:f===-1?m=h:m=f-1;break;case"next":f>-1&&f<h&&(m=f+1);break}this.setState({inputIsHidden:m!==-1,focusedValue:u[m]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,u=this.state.focusedOption,d=this.getFocusableOptions();if(d.length){var f=0,h=d.indexOf(u);u||(h=-1),s==="up"?f=h>0?h-1:d.length-1:s==="down"?f=(h+1)%d.length:s==="pageup"?(f=h-o,f<0&&(f=0)):s==="pagedown"?(f=h+o,f>d.length-1&&(f=d.length-1)):s==="last"&&(f=d.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:d[f],focusedValue:null,focusedOptionId:this.getFocusedOptionId(d[f])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(pv):Pe(Pe({},pv),this.props.theme):pv}},{key:"getCommonProps",value:function(){var s=this.clearValue,o=this.cx,u=this.getStyles,d=this.getClassNames,f=this.getValue,h=this.selectOption,m=this.setValue,b=this.props,_=b.isMulti,x=b.isRtl,w=b.options,C=this.hasValue();return{clearValue:s,cx:o,getStyles:u,getClassNames:d,getValue:f,hasValue:C,isMulti:_,isRtl:x,options:w,selectOption:h,selectProps:b,setValue:m,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,o=s.isClearable,u=s.isMulti;return o===void 0?u:o}},{key:"isOptionDisabled",value:function(s,o){return WR(this.props,s,o)}},{key:"isOptionSelected",value:function(s,o){return ZR(this.props,s,o)}},{key:"filterOption",value:function(s,o){return JR(this.props,s,o)}},{key:"formatOptionLabel",value:function(s,o){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,d=this.state.selectValue;return this.props.formatOptionLabel(s,{context:o,inputValue:u,selectValue:d})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,o=s.isDisabled,u=s.isSearchable,d=s.inputId,f=s.inputValue,h=s.tabIndex,m=s.form,b=s.menuIsOpen,_=s.required,x=this.getComponents(),w=x.Input,C=this.state,I=C.inputIsHidden,T=C.ariaSelection,S=this.commonProps,N=d||this.getElementId("input"),z=Pe(Pe(Pe({"aria-autocomplete":"list","aria-expanded":b,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":_,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},b&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(T==null?void 0:T.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?D.createElement(w,Le({},S,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:N,innerRef:this.getInputRef,isDisabled:o,isHidden:I,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:m,type:"text",value:f},z)):D.createElement(QF,Le({id:N,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Gh,onFocus:this.onInputFocus,disabled:o,tabIndex:h,inputMode:"none",form:m,value:""},z))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,o=this.getComponents(),u=o.MultiValue,d=o.MultiValueContainer,f=o.MultiValueLabel,h=o.MultiValueRemove,m=o.SingleValue,b=o.Placeholder,_=this.commonProps,x=this.props,w=x.controlShouldRenderValue,C=x.isDisabled,I=x.isMulti,T=x.inputValue,S=x.placeholder,N=this.state,z=N.selectValue,V=N.focusedValue,K=N.isFocused;if(!this.hasValue()||!w)return T?null:D.createElement(b,Le({},_,{key:"placeholder",isDisabled:C,isFocused:K,innerProps:{id:this.getElementId("placeholder")}}),S);if(I)return z.map(function(O,M){var L=O===V,B="".concat(s.getOptionLabel(O),"-").concat(s.getOptionValue(O));return D.createElement(u,Le({},_,{components:{Container:d,Label:f,Remove:h},isFocused:L,isDisabled:C,key:B,index:M,removeProps:{onClick:function(){return s.removeValue(O)},onTouchEnd:function(){return s.removeValue(O)},onMouseDown:function(U){U.preventDefault()}},data:O}),s.formatOptionLabel(O,"value"))});if(T)return null;var P=z[0];return D.createElement(m,Le({},_,{data:P,isDisabled:C}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),o=s.ClearIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,h=d.isLoading,m=this.state.isFocused;if(!this.isClearable()||!o||f||!this.hasValue()||h)return null;var b={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return D.createElement(o,Le({},u,{innerProps:b,isFocused:m}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),o=s.LoadingIndicator,u=this.commonProps,d=this.props,f=d.isDisabled,h=d.isLoading,m=this.state.isFocused;if(!o||!h)return null;var b={"aria-hidden":"true"};return D.createElement(o,Le({},u,{innerProps:b,isDisabled:f,isFocused:m}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator,u=s.IndicatorSeparator;if(!o||!u)return null;var d=this.commonProps,f=this.props.isDisabled,h=this.state.isFocused;return D.createElement(u,Le({},d,{isDisabled:f,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator;if(!o)return null;var u=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return D.createElement(o,Le({},u,{innerProps:h,isDisabled:d,isFocused:f}))}},{key:"renderMenu",value:function(){var s=this,o=this.getComponents(),u=o.Group,d=o.GroupHeading,f=o.Menu,h=o.MenuList,m=o.MenuPortal,b=o.LoadingMessage,_=o.NoOptionsMessage,x=o.Option,w=this.commonProps,C=this.state.focusedOption,I=this.props,T=I.captureMenuScroll,S=I.inputValue,N=I.isLoading,z=I.loadingMessage,V=I.minMenuHeight,K=I.maxMenuHeight,P=I.menuIsOpen,O=I.menuPlacement,M=I.menuPosition,L=I.menuPortalTarget,B=I.menuShouldBlockScroll,F=I.menuShouldScrollIntoView,U=I.noOptionsMessage,pe=I.onMenuScrollToTop,ge=I.onMenuScrollToBottom;if(!P)return null;var G=function(ue,xe){var De=ue.type,Ae=ue.data,it=ue.isDisabled,qe=ue.isSelected,bt=ue.label,Bn=ue.value,Fn=C===Ae,Xn=it?void 0:function(){return s.onOptionHover(Ae)},Dr=it?void 0:function(){return s.selectOption(Ae)},Wn="".concat(s.getElementId("option"),"-").concat(xe),Wr={id:Wn,onClick:Dr,onMouseMove:Xn,onMouseOver:Xn,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:qe};return D.createElement(x,Le({},w,{innerProps:Wr,data:Ae,isDisabled:it,isSelected:qe,key:Wn,label:bt,type:De,value:Bn,isFocused:Fn,innerRef:Fn?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(ue.data,"menu"))},oe;if(this.hasOptions())oe=this.getCategorizedOptions().map(function(le){if(le.type==="group"){var ue=le.data,xe=le.options,De=le.index,Ae="".concat(s.getElementId("group"),"-").concat(De),it="".concat(Ae,"-heading");return D.createElement(u,Le({},w,{key:Ae,data:ue,options:xe,Heading:d,headingProps:{id:it,data:le.data},label:s.formatGroupLabel(le.data)}),le.options.map(function(qe){return G(qe,"".concat(De,"-").concat(qe.index))}))}else if(le.type==="option")return G(le,"".concat(le.index))});else if(N){var me=z({inputValue:S});if(me===null)return null;oe=D.createElement(b,w,me)}else{var ie=U({inputValue:S});if(ie===null)return null;oe=D.createElement(_,w,ie)}var H={minMenuHeight:V,maxMenuHeight:K,menuPlacement:O,menuPosition:M,menuShouldScrollIntoView:F},ne=D.createElement(CB,Le({},w,H),function(le){var ue=le.ref,xe=le.placerProps,De=xe.placement,Ae=xe.maxHeight;return D.createElement(f,Le({},w,H,{innerRef:ue,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:N,placement:De}),D.createElement(tz,{captureEnabled:T,onTopArrive:pe,onBottomArrive:ge,lockEnabled:B},function(it){return D.createElement(h,Le({},w,{innerRef:function(bt){s.getMenuListRef(bt),it(bt)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:s.getElementId("listbox")},isLoading:N,maxHeight:Ae,focusedOption:C}),oe)}))});return L||M==="fixed"?D.createElement(m,Le({},w,{appendTo:L,controlElement:this.controlRef,menuPlacement:O,menuPosition:M}),ne):ne}},{key:"renderFormField",value:function(){var s=this,o=this.props,u=o.delimiter,d=o.isDisabled,f=o.isMulti,h=o.name,m=o.required,b=this.state.selectValue;if(m&&!this.hasValue()&&!d)return D.createElement(iz,{name:h,onFocus:this.onValueInputFocus});if(!(!h||d))if(f)if(u){var _=b.map(function(C){return s.getOptionValue(C)}).join(u);return D.createElement("input",{name:h,type:"hidden",value:_})}else{var x=b.length>0?b.map(function(C,I){return D.createElement("input",{key:"i-".concat(I),name:h,type:"hidden",value:s.getOptionValue(C)})}):D.createElement("input",{name:h,type:"hidden",value:""});return D.createElement("div",null,x)}else{var w=b[0]?this.getOptionValue(b[0]):"";return D.createElement("input",{name:h,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,o=this.state,u=o.ariaSelection,d=o.focusedOption,f=o.focusedValue,h=o.isFocused,m=o.selectValue,b=this.getFocusableOptions();return D.createElement(HF,Le({},s,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:d,focusedValue:f,isFocused:h,selectValue:m,focusableOptions:b,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),o=s.Control,u=s.IndicatorsContainer,d=s.SelectContainer,f=s.ValueContainer,h=this.props,m=h.className,b=h.id,_=h.isDisabled,x=h.menuIsOpen,w=this.state.isFocused,C=this.commonProps=this.getCommonProps();return D.createElement(d,Le({},C,{className:m,innerProps:{id:b,onKeyDown:this.onKeyDown},isDisabled:_,isFocused:w}),this.renderLiveRegion(),D.createElement(o,Le({},C,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:_,isFocused:w,menuIsOpen:x}),D.createElement(f,Le({},C,{isDisabled:_}),this.renderPlaceholderOrValue(),this.renderInput()),D.createElement(u,Le({},C,{isDisabled:_}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,o){var u=o.prevProps,d=o.clearFocusValueOnUpdate,f=o.inputIsHiddenAfterUpdate,h=o.ariaSelection,m=o.isFocused,b=o.prevWasFocused,_=o.instancePrefix,x=s.options,w=s.value,C=s.menuIsOpen,I=s.inputValue,T=s.isMulti,S=GS(w),N={};if(u&&(w!==u.value||x!==u.options||C!==u.menuIsOpen||I!==u.inputValue)){var z=C?_z(s,S):[],V=C?oT(oh(s,S),"".concat(_,"-option")):[],K=d?Ez(o,S):null,P=wz(o,z),O=mv(V,P);N={selectValue:S,focusedOption:P,focusedOptionId:O,focusableOptionsWithIds:V,focusedValue:K,clearFocusValueOnUpdate:!1}}var M=f!=null&&s!==u?{inputIsHidden:f,inputIsHiddenAfterUpdate:void 0}:{},L=h,B=m&&b;return m&&!B&&(L={value:Hf(T,S,S[0]||null),options:S,action:"initial-input-focus"},B=!b),(h==null?void 0:h.action)==="initial-input-focus"&&(L=null),Pe(Pe(Pe({},N),M),{},{prevProps:s,ariaSelection:L,prevWasFocused:B})}}]),t}(D.Component);tI.defaultProps=bz;var Sz=D.forwardRef(function(n,e){var t=z9(n);return D.createElement(tI,Le({ref:e},t))}),Tz=Sz;function dl({name:n,label:e,control:t,options:r,errors:s,isMulti:o=!1,rules:u={}}){var d;return v.jsxs("div",{className:"mb-4",children:[e&&v.jsx("label",{className:"block text-sm font-medium mb-1",children:e}),v.jsx(JU,{name:n,control:t,rules:u,render:({field:f})=>v.jsx(Tz,{...f,isMulti:o,options:r,placeholder:e,classNamePrefix:"react-select"})}),(s==null?void 0:s[n])&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:(d=s[n])==null?void 0:d.message})]})}const Gl=n=>n.map(e=>({value:e,label:e})),Az=Gl(["Urbano","Deportivo","Casual","Formal"]),Cz=Gl(["Zapatillas","Botas","Sandalias","Tacones"]),Rz=Gl(["Cuero","Sintético","Lona","Malla"]),Iz=Gl(["Nacional","Importado"]),Nz=Gl(["Nike","Adidas","Puma"]),Oz=Gl(["Hombre","Mujer","Niño/a","Juvenil","Bebé"]),gv=n=>Array.isArray(n)?n.map(e=>({value:e,label:e})):[],vv=n=>n?{value:n,label:n}:null;function Mz({isOpen:n,onClose:e,editarProducto:t}){const[r,s]=D.useState([]),[o,u]=D.useState([]),[d,f]=D.useState(!1),[h,m]=D.useState([]),[b,_]=D.useState(""),[x,w]=D.useState([]),[C,I]=D.useState(null),{register:T,handleSubmit:S,control:N,reset:z,formState:{errors:V}}=B0();D.useEffect(()=>{n&&(t?(z({...t,tipoCalzado:vv(t.tipoCalzado),material:gv(t.material),uso:gv(t.uso),origen:gv(t.origen),marca:vv(t.marca),usuario:vv(t.usuario)}),u(t.imagenes||[]),m(t.variantes||[]),w(t.etiquetas||[])):(z({nombre:"",descripcion:"",precio:"",precioDescuento:"",precioMayorista:"",tipoCalzado:null,material:[],uso:[],origen:[],marca:null,usuario:null}),u([]),m([]),w([])),s([]))},[n,t,z]);const K=ie=>{const H=ie.target.files[0];H&&o.length<9&&(s([...r,H]),u([...o,URL.createObjectURL(H)])),ie.target.value=""},P=async ie=>{const H="https://api.cloudinary.com/v1_1/ddebdvfcg/upload",ne=new FormData;return ne.append("file",ie),ne.append("upload_preset","nikosperu_preset"),(await(await fetch(H,{method:"POST",body:ne})).json()).secure_url},O=async()=>{const ie=[];for(const H of r){const ne=await P(H);ie.push(ne)}return ie},M=()=>{b.trim()&&(w([...x,b.trim()]),_(""))},L=ie=>{w(x.filter((H,ne)=>ne!==ie))},B=()=>{m([...h,{color:"",codigoColor:"#000000",tallas:[]}])},F=()=>{if(h.length===0)return I("Debes agregar al menos una variante."),!1;for(const ie of h){if(!ie.color||!ie.codigoColor||!Array.isArray(ie.tallas)||ie.tallas.length===0)return I("Cada variante debe tener color, código de color y al menos una talla."),!1;for(const H of ie.tallas)if(!H.talla||H.stock===void 0||H.stock===null||H.stock==="")return I("Cada talla debe tener un valor de talla y stock."),!1}return I(null),!0},U=ie=>{m(h.filter((H,ne)=>ne!==ie))},pe=(ie,H,ne)=>{const le=[...h];le[ie][H]=ne,m(le)},ge=ie=>{const H=[...h];H[ie].tallas.push({talla:"",stock:0}),m(H)},G=(ie,H,ne,le)=>{const ue=[...h];ue[ie].tallas[H][ne]=le,m(ue)},oe=(ie,H)=>{const ne=[...h];ne[ie].tallas.splice(H,1),m(ne)},me=async ie=>{var H,ne,le,ue,xe,De;if(F()){f(!0);try{const Ae=r.length>0?await O():(t==null?void 0:t.imagenes)||[],it=await v9(ie.nombre,t==null?void 0:t.id),qe={...ie,slug:it,precio:parseFloat(ie.precio),precioDescuento:parseFloat(ie.precioDescuento),precioMayorista:parseFloat(ie.precioMayorista),imagenes:Ae,variantes:h,etiquetas:x,marca:((H=ie.marca)==null?void 0:H.value)||"",usuario:((ne=ie.usuario)==null?void 0:ne.value)||"",tipoCalzado:((le=ie.tipoCalzado)==null?void 0:le.value)||"",material:(ue=ie.material)==null?void 0:ue.map(bt=>bt.value),uso:(xe=ie.uso)==null?void 0:xe.map(bt=>bt.value),origen:(De=ie.origen)==null?void 0:De.map(bt=>bt.value),actualizadoEn:new Date};if(t){const bt=pr(wt,"productos",t.id);await nd(bt,qe)}else qe.creadoEn=new Date,await wp(jn(wt,"productos"),qe);e()}catch(Ae){console.error("Error al guardar producto:",Ae)}finally{f(!1)}}};return n?v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[v.jsx("div",{className:"absolute inset-0 bg-opacity-50 backdrop-blur-sm transition-opacity"}),v.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-lg p-6 shadow relative max-h-[90vh] flex flex-col",children:[v.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[t?"Editar":"Nuevo"," Producto"]}),v.jsxs("form",{onSubmit:S(me),id:"form-producto",className:"space-y-4 flex-1 overflow-y-auto pr-1",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Nombre"}),v.jsx("input",{...T("nombre",{required:"Nombre requerido"}),className:"w-full border px-3 py-2 rounded"}),V.nombre&&v.jsx("p",{className:"text-red-500 text-sm",children:V.nombre.message})]}),v.jsx(dl,{name:"marca",label:"Marca",control:N,options:Nz,errors:V,rules:{required:"La marca es requerida"}}),v.jsx(dl,{name:"usuario",label:"Usuario",control:N,options:Oz,errors:V,rules:{required:"Debe seleccionar al usuario"}}),v.jsx(dl,{name:"tipoCalzado",label:"Tipo de calzado",control:N,options:Cz,errors:V,rules:{required:"Debe seleccionar el tipo de calzado"}}),v.jsx(dl,{name:"material",label:"Material",control:N,options:Rz,errors:V,isMulti:!0,rules:{required:"Debe seleccionar al menos un material"}}),v.jsx(dl,{name:"uso",label:"Usos",control:N,options:Az,errors:V,isMulti:!0,rules:{required:"Debe seleccionar al menos un uso"}}),v.jsx(dl,{name:"origen",label:"Origen",control:N,options:Iz,errors:V,isMulti:!0,rules:{required:"Debe seleccionar el origen"}})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Precio original"}),v.jsx("input",{type:"number",...T("precio",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),V.precio&&v.jsx("p",{className:"text-red-500 text-sm",children:V.precio.message})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Precio Mayorista"}),v.jsx("input",{type:"number",...T("precioMayorista",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),V.precioMayorista&&v.jsx("p",{className:"text-red-500 text-sm",children:V.precioMayorista.message})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Precio con descuento"}),v.jsx("input",{type:"number",...T("precioDescuento",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),V.precioDescuento&&v.jsx("p",{className:"text-red-500 text-sm",children:V.precioDescuento.message})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Descripcion"}),v.jsx("textarea",{...T("descripcion"),rows:3,className:"w-full border px-3 py-2 rounded",placeholder:"Descripción"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Etiquetas"}),v.jsx("input",{value:b,onChange:ie=>_(ie.target.value),onKeyDown:ie=>ie.key==="Enter"&&(ie.preventDefault(),M()),placeholder:"Agregar etiqueta",className:"border px-2 py-1 rounded w-full"}),v.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.map((ie,H)=>v.jsxs("span",{className:"bg-gray-200 px-3 py-1 rounded-full flex items-center gap-2",children:[ie,v.jsx("button",{type:"button",onClick:()=>L(H),className:"text-red-500",children:"×"})]},H))})]}),v.jsx("label",{className:"block text-sm font-medium mt-2",children:"Imágenes (max. 9)"}),v.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 mt-2",children:[o.map((ie,H)=>v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:ie,className:"w-full h-20 object-cover rounded border"}),v.jsx("button",{type:"button",onClick:()=>{const ne=[...o],le=[...r];ne.splice(H,1),le.splice(H,1),u(ne),s(le)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:"×"})]},H)),o.length<9&&v.jsxs("label",{className:"border-2 border-dashed w-full h-20 flex items-center justify-center rounded cursor-pointer",children:[v.jsx("span",{className:"text-gray-500",children:"+"}),v.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:K})]})]}),v.jsxs("div",{className:"my-2",children:[v.jsx("h3",{className:"text-md font-semibold mb-2",children:"Variantes por color y talla"}),C&&v.jsx("p",{className:"text-red-500 text-sm mb-2",children:C}),h.map((ie,H)=>v.jsxs("div",{className:"border p-3 rounded mb-3",children:[v.jsxs("div",{className:"flex gap-2 mb-2",children:[v.jsx("input",{value:ie.color,onChange:ne=>pe(H,"color",ne.target.value),placeholder:"Color",className:"flex-1 border px-2 py-1 rounded"}),v.jsx("input",{type:"color",value:ie.codigoColor,onChange:ne=>pe(H,"codigoColor",ne.target.value),className:"w-12 h-10 rounded border"}),v.jsx("button",{type:"button",onClick:()=>U(H),className:"text-red-500 ml-auto",children:"Eliminar"})]}),ie.tallas.map((ne,le)=>v.jsxs("div",{className:"flex gap-2 mb-1",children:[v.jsx("input",{value:ne.talla,onChange:ue=>G(H,le,"talla",ue.target.value),placeholder:"Talla",className:"border px-2 py-1 rounded w-24"}),v.jsx("input",{type:"number",value:ne.stock,onChange:ue=>G(H,le,"stock",parseInt(ue.target.value)),placeholder:"Stock",className:"border px-2 py-1 rounded w-24"}),v.jsx("button",{type:"button",onClick:()=>oe(H,le),className:"text-sm text-red-500",children:"Quitar"})]},le)),v.jsx("button",{type:"button",onClick:()=>ge(H),className:"text-blue-500 text-sm",children:"+ Agregar talla"})]},H)),v.jsx("button",{type:"button",onClick:B,className:"bg-gray-100 text-sm px-3 py-1 rounded hover:bg-gray-200",children:"+ Agregar variante"})]})]}),v.jsxs("div",{className:"sticky bottom-0 left-0 bg-white pt-4 mt-4 pb-2 border-t border-gray-200 flex justify-end gap-2 z-10",children:[v.jsx("button",{type:"submit",form:"form-producto",disabled:d,className:`bg-black text-white p-2 rounded hover:bg-gray-800 transition ${d?"opacity-50 cursor-not-allowed":""}`,children:d?"Guardando...":"Guardar Producto"}),v.jsx("button",{type:"button",onClick:e,disabled:d,className:`bg-red-500 text-white p-2 rounded transition ${d?"opacity-50 cursor-not-allowed":""}`,children:"Cancelar"})]})]})]}):null}function Dz(){const[n,e]=D.useState([]),[t,r]=D.useState(""),[s,o]=D.useState("recientes"),[u,d]=D.useState(1),f=6,[h,m]=D.useState(!1),[b,_]=D.useState(null),[x,w]=D.useState(!1),C=()=>{_(null),setTimeout(()=>{m(!0)},0)},I=O=>{_(O),m(!0)},T=O=>{_(O),w(!0)},S=async()=>{b&&(await _0(pr(wt,"productos",b.id)),e(O=>O.filter(M=>M.id!==b.id)),w(!1))};D.useEffect(()=>{(async()=>{const L=(await Xr(jn(wt,"productos"))).docs.map(B=>({id:B.id,...B.data()}));e(L)})()},[h]);const z=(()=>{let O=n.filter(M=>M.nombre.toLowerCase().includes(t.toLowerCase()));return s==="recientes"?O.sort((M,L)=>{var B,F;return((B=L.creadoEn)==null?void 0:B.seconds)-((F=M.creadoEn)==null?void 0:F.seconds)}):O.sort((M,L)=>{var B,F;return((B=M.creadoEn)==null?void 0:B.seconds)-((F=L.creadoEn)==null?void 0:F.seconds)}),O})(),V=Math.ceil(z.length/f),K=(u-1)*f,P=z.slice(K,K+f);return v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Gestión de Productos"}),v.jsx("button",{onClick:C,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"+ Nuevo Producto"})]}),v.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[v.jsx("input",{type:"text",placeholder:"Buscar por nombre",value:t,onChange:O=>r(O.target.value),className:"px-3 py-2 border border-gray-300 rounded w-full md:w-64"}),v.jsxs("select",{value:s,onChange:O=>o(O.target.value),className:"px-3 py-2 border border-gray-300 rounded",children:[v.jsx("option",{value:"recientes",children:"Más recientes"}),v.jsx("option",{value:"antiguos",children:"Más antiguos"})]})]}),v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"min-w-full border text-sm",children:[v.jsx("thead",{className:"bg-gray-100 text-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Nombre"}),v.jsx("th",{className:"py-2 px-4 border",children:"Precio"}),v.jsx("th",{className:"py-2 px-4 border",children:"Marca"}),v.jsx("th",{className:"py-2 px-4 border",children:"Material"}),v.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),v.jsx("tbody",{children:P.map(O=>v.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[v.jsx("td",{className:"py-2 px-4 border",children:O.nombre}),v.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",O.precio]}),v.jsx("td",{className:"py-2 px-4 border",children:O.marca}),v.jsx("td",{className:"py-2 px-4 border",children:(O.material||[]).join(", ")}),v.jsxs("td",{className:"py-2 px-4 flex justify-center gap-2 text-center space-x-2",children:[v.jsx("button",{onClick:()=>I(O),className:"p-2 text-blue-600 hover:underline",children:v.jsx("i",{className:"bx bx-pencil"})}),v.jsx("button",{onClick:()=>T(O),className:"p-2 text-red-600 hover:underline",children:v.jsx("i",{className:"bx bx-trash"})})]})]},O.id))})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[v.jsx("button",{onClick:()=>d(O=>Math.max(O-1,1)),disabled:u===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),v.jsxs("span",{className:"text-gray-600",children:["Página ",u," de ",V]}),v.jsx("button",{onClick:()=>d(O=>Math.min(O+1,V)),disabled:u===V,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),v.jsx(Mz,{isOpen:h,onClose:()=>m(!1),editarProducto:b}),v.jsx(eR,{isOpen:x,onClose:()=>w(!1),children:v.jsxs("div",{className:"w-full max-w-md relative",children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Eliminar producto"}),v.jsxs("p",{className:"mb-4",children:['¿Estás seguro que deseas eliminar el producto "',(b==null?void 0:b.nombre)||"",'"?']}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>w(!1),className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"No, cancelar"}),v.jsx("button",{onClick:S,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Sí, eliminar"})]})]})})]})}function Pz(){const[n,e]=D.useState([]),[t,r]=D.useState({valor:"",tipo:""}),[s,o]=D.useState(null),[u,d]=D.useState(null),[f,h]=D.useState(!1),m=async()=>{const C=(await Xr(jn(wt,"filtros"))).docs.map(I=>({id:I.id,...I.data()}));e(C)};D.useEffect(()=>{m()},[]);const b=async()=>{if(!t.valor||!t.tipo)return;let w=null;if(t.tipo.toLowerCase()==="marca"&&s){h(!0);const I=A0(),T=xC(I,`filtros/marcas/${Date.now()}_${s.name}`);await EC(T,s),w=await wC(T),h(!1)}const C={valor:t.valor,tipo:t.tipo.toLowerCase(),...w&&{imagen:w}};u?await nd(pr(wt,"filtros",u.id),C):await wp(jn(wt,"filtros"),C),r({valor:"",tipo:""}),o(null),d(null),m()},_=w=>{r({valor:w.valor,tipo:w.tipo}),d(w),o(null)},x=async w=>{confirm("¿Estás seguro de eliminar este filtro?")&&(await _0(pr(wt,"filtros",w)),m())};return v.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Gestión de Filtros"}),v.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Valor (ej. Hombre, Casual, Nike)",value:t.valor,onChange:w=>r({...t,valor:w.target.value}),className:"px-3 py-2 border rounded"}),v.jsxs("select",{value:t.tipo,onChange:w=>r({...t,tipo:w.target.value}),className:"px-3 py-2 border rounded",children:[v.jsx("option",{value:"",children:"Tipo de filtro"}),v.jsx("option",{value:"usuario",children:"Usuario"}),v.jsx("option",{value:"estilo",children:"Estilo"}),v.jsx("option",{value:"uso",children:"Uso"}),v.jsx("option",{value:"marca",children:"Marca"}),v.jsx("option",{value:"material",children:"Material"}),v.jsx("option",{value:"tipo",children:"Tipo"})]}),t.tipo==="marca"&&v.jsx("input",{type:"file",onChange:w=>o(w.target.files[0]),className:"block border rounded px-3 py-2"})]}),v.jsx("button",{onClick:b,disabled:f,className:"mb-6 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:u?"Actualizar filtro":"Guardar filtro"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full table-auto border border-gray-200",children:[v.jsx("thead",{className:"bg-gray-100",children:v.jsxs("tr",{children:[v.jsx("th",{className:"border px-4 py-2",children:"Valor"}),v.jsx("th",{className:"border px-4 py-2",children:"Tipo"}),v.jsx("th",{className:"border px-4 py-2",children:"Imagen"}),v.jsx("th",{className:"border px-4 py-2",children:"Acciones"})]})}),v.jsx("tbody",{children:n.map(w=>v.jsxs("tr",{className:"text-center",children:[v.jsx("td",{className:"border px-4 py-2",children:w.valor}),v.jsx("td",{className:"border px-4 py-2 capitalize",children:w.tipo}),v.jsx("td",{className:"border px-4 py-2",children:w.imagen?v.jsx("img",{src:w.imagen,alt:w.valor,className:"w-16 h-10 object-contain mx-auto"}):"—"}),v.jsxs("td",{className:"border px-4 py-2 space-x-2",children:[v.jsx("button",{onClick:()=>_(w),className:"text-blue-600 hover:underline",children:"Editar"}),v.jsx("button",{onClick:()=>x(w.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},w.id))})]})})]})}function kz(){const[n,e]=D.useState([]),[t,r]=D.useState({valor:"",tipo:""}),[s,o]=D.useState(null),[u,d]=D.useState(null),[f,h]=D.useState(!1),m=async()=>{const C=(await Xr(jn(wt,"filtros"))).docs.map(I=>({id:I.id,...I.data()}));e(C)};D.useEffect(()=>{m()},[]);const b=async()=>{if(!t.valor||!t.tipo)return;let w=null;if(t.tipo.toLowerCase()==="marca"&&s){h(!0);const I=A0(),T=xC(I,`filtros/marcas/${Date.now()}_${s.name}`);await EC(T,s),w=await wC(T),h(!1)}const C={valor:t.valor,tipo:t.tipo.toLowerCase(),...w&&{imagen:w}};u?await nd(pr(wt,"filtros",u.id),C):await wp(jn(wt,"filtros"),C),r({valor:"",tipo:""}),o(null),d(null),m()},_=w=>{r({valor:w.valor,tipo:w.tipo}),d(w),o(null)},x=async w=>{confirm("¿Estás seguro de eliminar este filtro?")&&(await _0(pr(wt,"filtros",w)),m())};return v.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Gestión de Filtros"}),v.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Valor (ej. Hombre, Casual, Nike)",value:t.valor,onChange:w=>r({...t,valor:w.target.value}),className:"px-3 py-2 border rounded"}),v.jsxs("select",{value:t.tipo,onChange:w=>r({...t,tipo:w.target.value}),className:"px-3 py-2 border rounded",children:[v.jsx("option",{value:"",children:"Tipo de filtro"}),v.jsx("option",{value:"usuario",children:"Usuario"}),v.jsx("option",{value:"estilo",children:"Estilo"}),v.jsx("option",{value:"uso",children:"Uso"}),v.jsx("option",{value:"marca",children:"Marca"}),v.jsx("option",{value:"material",children:"Material"}),v.jsx("option",{value:"tipo",children:"Tipo"})]}),t.tipo==="marca"&&v.jsx("input",{type:"file",onChange:w=>o(w.target.files[0]),className:"block border rounded px-3 py-2"})]}),v.jsx("button",{onClick:b,disabled:f,className:"mb-6 px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:u?"Actualizar filtro":"Guardar filtro"}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full table-auto border border-gray-200",children:[v.jsx("thead",{className:"bg-gray-100",children:v.jsxs("tr",{children:[v.jsx("th",{className:"border px-4 py-2",children:"Valor"}),v.jsx("th",{className:"border px-4 py-2",children:"Tipo"}),v.jsx("th",{className:"border px-4 py-2",children:"Imagen"}),v.jsx("th",{className:"border px-4 py-2",children:"Acciones"})]})}),v.jsx("tbody",{children:n.map(w=>v.jsxs("tr",{className:"text-center",children:[v.jsx("td",{className:"border px-4 py-2",children:w.valor}),v.jsx("td",{className:"border px-4 py-2 capitalize",children:w.tipo}),v.jsx("td",{className:"border px-4 py-2",children:w.imagen?v.jsx("img",{src:w.imagen,alt:w.valor,className:"w-16 h-10 object-contain mx-auto"}):"—"}),v.jsxs("td",{className:"border px-4 py-2 space-x-2",children:[v.jsx("button",{onClick:()=>_(w),className:"text-blue-600 hover:underline",children:"Editar"}),v.jsx("button",{onClick:()=>x(w.id),className:"text-red-600 hover:underline",children:"Eliminar"})]})]},w.id))})]})})]})}function Vz(){return v.jsx("div",{className:"relative",style:{minHeight:"100dvh"},children:v.jsxs(O2,{children:[v.jsx(Gt,{path:"/redirect",element:v.jsx(T9,{})}),v.jsx(Gt,{path:"/login",element:v.jsx(_9,{})}),v.jsx(Gt,{path:"/register",element:v.jsx(E9,{})}),v.jsx(Gt,{path:"/forgotPassword",element:v.jsx(w9,{})}),v.jsx(Gt,{path:"/reset",element:v.jsx(x9,{})}),v.jsx(Gt,{path:"/verify-email",element:v.jsx(A9,{})}),v.jsx(Gt,{path:"/confirmar",element:v.jsx(S9,{})}),v.jsxs(Gt,{path:"/*",element:v.jsx(j3,{}),children:[v.jsx(Gt,{index:!0,element:v.jsx(FU,{})}),v.jsx(Gt,{path:"productos",element:v.jsx(YU,{})}),v.jsx(Gt,{path:"productos/:slug",element:v.jsx(GU,{})}),v.jsx(Gt,{path:"checkout",element:v.jsx(b9,{})}),v.jsx(Gt,{path:"mi-perfil",element:v.jsx(OS,{children:v.jsx(M9,{})})}),v.jsx(Gt,{path:"mis-compras",element:v.jsx(OS,{children:v.jsx(D9,{})})})]}),v.jsxs(Gt,{path:"/admin",element:v.jsx(P9,{}),children:[v.jsx(Gt,{path:"dashboard",element:v.jsx(k9,{})}),v.jsx(Gt,{path:"productos",element:v.jsx(Dz,{})}),v.jsx(Gt,{path:"filtros",element:v.jsx(Pz,{})}),v.jsx(Gt,{path:"ventas",element:v.jsx(kz,{})})]})]})})}VN.createRoot(document.getElementById("root")).render(v.jsx(je.StrictMode,{children:v.jsx(nO,{basename:"/nikos",children:v.jsx(Hj,{children:v.jsx(qj,{children:v.jsx(Vz,{})})})})}));
