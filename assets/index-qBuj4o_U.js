function WI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function XS(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eg={exports:{}},Qu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function ZI(){if(Kx)return Qu;Kx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var f in s)f!=="key"&&(o[f]=s[f])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Qu.Fragment=e,Qu.jsx=t,Qu.jsxs=t,Qu}var Qx;function JI(){return Qx||(Qx=1,Eg.exports=ZI()),Eg.exports}var v=JI(),Sg={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function eN(){if(Xx)return Ke;Xx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),b=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=b&&$[b]||$["@@iterator"],typeof $=="function"?$:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function I($,le,me){this.props=$,this.context=le,this.refs=T,this.updater=me||w}I.prototype.isReactComponent={},I.prototype.setState=function($,le){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,le,"setState")},I.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function N(){}N.prototype=I.prototype;function C($,le,me){this.props=$,this.context=le,this.refs=T,this.updater=me||w}var S=C.prototype=new N;S.constructor=C,E(S,I.prototype),S.isPureReactComponent=!0;var U=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function P($,le,me,pe,Te,ke){return me=ke.ref,{$$typeof:n,type:$,key:le,ref:me!==void 0?me:null,props:ke}}function M($,le){return P($.type,le,void 0,void 0,void 0,$.props)}function D($){return typeof $=="object"&&$!==null&&$.$$typeof===n}function j($){var le={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(me){return le[me]})}var z=/\/+/g;function B($,le){return typeof $=="object"&&$!==null&&$.key!=null?j(""+$.key):le.toString(36)}function V(){}function ie($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(V,V):($.status="pending",$.then(function(le){$.status==="pending"&&($.status="fulfilled",$.value=le)},function(le){$.status==="pending"&&($.status="rejected",$.reason=le)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ee($,le,me,pe,Te){var ke=typeof $;(ke==="undefined"||ke==="boolean")&&($=null);var Ie=!1;if($===null)Ie=!0;else switch(ke){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch($.$$typeof){case n:case e:Ie=!0;break;case m:return Ie=$._init,ee(Ie($._payload),le,me,pe,Te)}}if(Ie)return Te=Te($),Ie=pe===""?"."+B($,0):pe,U(Te)?(me="",Ie!=null&&(me=Ie.replace(z,"$&/")+"/"),ee(Te,le,me,"",function(Lt){return Lt})):Te!=null&&(D(Te)&&(Te=M(Te,me+(Te.key==null||$&&$.key===Te.key?"":(""+Te.key).replace(z,"$&/")+"/")+Ie)),le.push(Te)),1;Ie=0;var ut=pe===""?".":pe+":";if(U($))for(var Ye=0;Ye<$.length;Ye++)pe=$[Ye],ke=ut+B(pe,Ye),Ie+=ee(pe,le,me,ke,Te);else if(Ye=_($),typeof Ye=="function")for($=Ye.call($),Ye=0;!(pe=$.next()).done;)pe=pe.value,ke=ut+B(pe,Ye++),Ie+=ee(pe,le,me,ke,Te);else if(ke==="object"){if(typeof $.then=="function")return ee(ie($),le,me,pe,Te);throw le=String($),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function H($,le,me){if($==null)return $;var pe=[],Te=0;return ee($,pe,"","",function(ke){return le.call(me,ke,Te++)}),pe}function se($){if($._status===-1){var le=$._result;le=le(),le.then(function(me){($._status===0||$._status===-1)&&($._status=1,$._result=me)},function(me){($._status===0||$._status===-1)&&($._status=2,$._result=me)}),$._status===-1&&($._status=0,$._result=le)}if($._status===1)return $._result.default;throw $._result}var he=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)};function _e(){}return Ke.Children={map:H,forEach:function($,le,me){H($,function(){le.apply(this,arguments)},me)},count:function($){var le=0;return H($,function(){le++}),le},toArray:function($){return H($,function(le){return le})||[]},only:function($){if(!D($))throw Error("React.Children.only expected to receive a single React element child.");return $}},Ke.Component=I,Ke.Fragment=t,Ke.Profiler=s,Ke.PureComponent=C,Ke.StrictMode=r,Ke.Suspense=d,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Ke.__COMPILER_RUNTIME={__proto__:null,c:function($){return k.H.useMemoCache($)}},Ke.cache=function($){return function(){return $.apply(null,arguments)}},Ke.cloneElement=function($,le,me){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var pe=E({},$.props),Te=$.key,ke=void 0;if(le!=null)for(Ie in le.ref!==void 0&&(ke=void 0),le.key!==void 0&&(Te=""+le.key),le)!Y.call(le,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&le.ref===void 0||(pe[Ie]=le[Ie]);var Ie=arguments.length-2;if(Ie===1)pe.children=me;else if(1<Ie){for(var ut=Array(Ie),Ye=0;Ye<Ie;Ye++)ut[Ye]=arguments[Ye+2];pe.children=ut}return P($.type,Te,void 0,void 0,ke,pe)},Ke.createContext=function($){return $={$$typeof:u,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},Ke.createElement=function($,le,me){var pe,Te={},ke=null;if(le!=null)for(pe in le.key!==void 0&&(ke=""+le.key),le)Y.call(le,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Te[pe]=le[pe]);var Ie=arguments.length-2;if(Ie===1)Te.children=me;else if(1<Ie){for(var ut=Array(Ie),Ye=0;Ye<Ie;Ye++)ut[Ye]=arguments[Ye+2];Te.children=ut}if($&&$.defaultProps)for(pe in Ie=$.defaultProps,Ie)Te[pe]===void 0&&(Te[pe]=Ie[pe]);return P($,ke,void 0,void 0,null,Te)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function($){return{$$typeof:f,render:$}},Ke.isValidElement=D,Ke.lazy=function($){return{$$typeof:m,_payload:{_status:-1,_result:$},_init:se}},Ke.memo=function($,le){return{$$typeof:h,type:$,compare:le===void 0?null:le}},Ke.startTransition=function($){var le=k.T,me={};k.T=me;try{var pe=$(),Te=k.S;Te!==null&&Te(me,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(_e,he)}catch(ke){he(ke)}finally{k.T=le}},Ke.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Ke.use=function($){return k.H.use($)},Ke.useActionState=function($,le,me){return k.H.useActionState($,le,me)},Ke.useCallback=function($,le){return k.H.useCallback($,le)},Ke.useContext=function($){return k.H.useContext($)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function($,le){return k.H.useDeferredValue($,le)},Ke.useEffect=function($,le,me){var pe=k.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect($,le)},Ke.useId=function(){return k.H.useId()},Ke.useImperativeHandle=function($,le,me){return k.H.useImperativeHandle($,le,me)},Ke.useInsertionEffect=function($,le){return k.H.useInsertionEffect($,le)},Ke.useLayoutEffect=function($,le){return k.H.useLayoutEffect($,le)},Ke.useMemo=function($,le){return k.H.useMemo($,le)},Ke.useOptimistic=function($,le){return k.H.useOptimistic($,le)},Ke.useReducer=function($,le,me){return k.H.useReducer($,le,me)},Ke.useRef=function($){return k.H.useRef($)},Ke.useState=function($){return k.H.useState($)},Ke.useSyncExternalStore=function($,le,me){return k.H.useSyncExternalStore($,le,me)},Ke.useTransition=function(){return k.H.useTransition()},Ke.version="19.1.0",Ke}var Wx;function ty(){return Wx||(Wx=1,Sg.exports=eN()),Sg.exports}var O=ty();const Fe=XS(O),Zx=WI({__proto__:null,default:Fe},[O]);var Tg={exports:{}},Xu={},Ag={exports:{}},Cg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jx;function tN(){return Jx||(Jx=1,function(n){function e(H,se){var he=H.length;H.push(se);e:for(;0<he;){var _e=he-1>>>1,$=H[_e];if(0<s($,se))H[_e]=se,H[he]=$,he=_e;else break e}}function t(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var se=H[0],he=H.pop();if(he!==se){H[0]=he;e:for(var _e=0,$=H.length,le=$>>>1;_e<le;){var me=2*(_e+1)-1,pe=H[me],Te=me+1,ke=H[Te];if(0>s(pe,he))Te<$&&0>s(ke,pe)?(H[_e]=ke,H[Te]=he,_e=Te):(H[_e]=pe,H[me]=he,_e=me);else if(Te<$&&0>s(ke,he))H[_e]=ke,H[Te]=he,_e=Te;else break e}}return se}function s(H,se){var he=H.sortIndex-se.sortIndex;return he!==0?he:H.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var d=[],h=[],m=1,b=null,_=3,w=!1,E=!1,T=!1,I=!1,N=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function U(H){for(var se=t(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=H)r(h),se.sortIndex=se.expirationTime,e(d,se);else break;se=t(h)}}function k(H){if(T=!1,U(H),!E)if(t(d)!==null)E=!0,Y||(Y=!0,B());else{var se=t(h);se!==null&&ee(k,se.startTime-H)}}var Y=!1,P=-1,M=5,D=-1;function j(){return I?!0:!(n.unstable_now()-D<M)}function z(){if(I=!1,Y){var H=n.unstable_now();D=H;var se=!0;try{e:{E=!1,T&&(T=!1,C(P),P=-1),w=!0;var he=_;try{t:{for(U(H),b=t(d);b!==null&&!(b.expirationTime>H&&j());){var _e=b.callback;if(typeof _e=="function"){b.callback=null,_=b.priorityLevel;var $=_e(b.expirationTime<=H);if(H=n.unstable_now(),typeof $=="function"){b.callback=$,U(H),se=!0;break t}b===t(d)&&r(d),U(H)}else r(d);b=t(d)}if(b!==null)se=!0;else{var le=t(h);le!==null&&ee(k,le.startTime-H),se=!1}}break e}finally{b=null,_=he,w=!1}se=void 0}}finally{se?B():Y=!1}}}var B;if(typeof S=="function")B=function(){S(z)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ie=V.port2;V.port1.onmessage=z,B=function(){ie.postMessage(null)}}else B=function(){N(z,0)};function ee(H,se){P=N(function(){H(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(H){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var he=_;_=se;try{return H()}finally{_=he}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var he=_;_=H;try{return se()}finally{_=he}},n.unstable_scheduleCallback=function(H,se,he){var _e=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?_e+he:_e):he=_e,H){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=he+$,H={id:m++,callback:se,priorityLevel:H,startTime:he,expirationTime:$,sortIndex:-1},he>_e?(H.sortIndex=he,e(h,H),t(d)===null&&H===t(h)&&(T?(C(P),P=-1):T=!0,ee(k,he-_e))):(H.sortIndex=$,e(d,H),E||w||(E=!0,Y||(Y=!0,B()))),H},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(H){var se=_;return function(){var he=_;_=se;try{return H.apply(this,arguments)}finally{_=he}}}}(Cg)),Cg}var ew;function nN(){return ew||(ew=1,Ag.exports=tN()),Ag.exports}var Rg={exports:{}},Mn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function rN(){if(tw)return Mn;tw=1;var n=ty();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,m){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:d,containerInfo:h,implementation:m}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Mn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,m)},Mn.flushSync=function(d){var h=u.T,m=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=h,r.p=m,r.d.f()}},Mn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},Mn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Mn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,b=f(m,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:w}):m==="script"&&r.d.X(d,{crossOrigin:b,integrity:_,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Mn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=f(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},Mn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,b=f(m,h.crossOrigin);r.d.L(d,m,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Mn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=f(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},Mn.requestFormReset=function(d){r.d.r(d)},Mn.unstable_batchedUpdates=function(d,h){return d(h)},Mn.useFormState=function(d,h,m){return u.H.useFormState(d,h,m)},Mn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Mn.version="19.1.0",Mn}var nw;function WS(){if(nw)return Rg.exports;nw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rg.exports=rN(),Rg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function iN(){if(rw)return Xu;rw=1;var n=nN(),e=ty(),t=WS();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(c=g.return,c!==null){l=c;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return f(g),i;if(y===c)return f(g),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=g,c=y;else{for(var R=!1,L=g.child;L;){if(L===l){R=!0,l=g,c=y;break}if(L===c){R=!0,c=g,l=y;break}L=L.sibling}if(!R){for(L=y.child;L;){if(L===l){R=!0,l=y,c=g;break}if(L===c){R=!0,c=y,l=g;break}L=L.sibling}if(!R)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function h(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=h(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function ie(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case I:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case Y:return"SuspenseList";case D:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case S:return(i.displayName||"Context")+".Provider";case C:return(i._context.displayName||"Context")+".Consumer";case U:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case P:return a=i.displayName||null,a!==null?a:ie(i.type)||"Memo";case M:a=i._payload,i=i._init;try{return ie(i(a))}catch{}}return null}var ee=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},_e=[],$=-1;function le(i){return{current:i}}function me(i){0>$||(i.current=_e[$],_e[$]=null,$--)}function pe(i,a){$++,_e[$]=i.current,i.current=a}var Te=le(null),ke=le(null),Ie=le(null),ut=le(null);function Ye(i,a){switch(pe(Ie,a),pe(ke,i),pe(Te,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?wx(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=wx(a),i=Ex(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(Te),pe(Te,i)}function Lt(){me(Te),me(ke),me(Ie)}function Nn(i){i.memoizedState!==null&&pe(ut,i);var a=Te.current,l=Ex(a,i.type);a!==l&&(pe(ke,i),pe(Te,l))}function xe(i){ke.current===i&&(me(Te),me(ke)),ut.current===i&&(me(ut),qu._currentValue=he)}var we=Object.prototype.hasOwnProperty,Ge=n.unstable_scheduleCallback,Ze=n.unstable_cancelCallback,Ct=n.unstable_shouldYield,Ci=n.unstable_requestPaint,yn=n.unstable_now,Ri=n.unstable_getCurrentPriorityLevel,Qr=n.unstable_ImmediatePriority,G=n.unstable_UserBlockingPriority,J=n.unstable_NormalPriority,ae=n.unstable_LowPriority,ve=n.unstable_IdlePriority,ye=n.log,ge=n.unstable_setDisableYieldValue,Ee=null,Ne=null;function Qe(i){if(typeof ye=="function"&&ge(i),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(Ee,i)}catch{}}var vt=Math.clz32?Math.clz32:Ni,Ii=Math.log,pr=Math.LN2;function Ni(i){return i>>>=0,i===0?32:31-(Ii(i)/pr|0)|0}var Mr=256,Dr=4194304;function Jn(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oi(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var g=0,y=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var L=c&134217727;return L!==0?(c=L&~y,c!==0?g=Jn(c):(R&=L,R!==0?g=Jn(R):l||(l=L&~i,l!==0&&(g=Jn(l))))):(L=c&~y,L!==0?g=Jn(L):R!==0?g=Jn(R):l||(l=c&~i,l!==0&&(g=Jn(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function Mi(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function ws(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var i=Mr;return Mr<<=1,(Mr&4194048)===0&&(Mr=256),i}function Gl(){var i=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),i}function Di(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Pi(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Yl(i,a,l,c,g,y){var R=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var L=i.entanglements,q=i.expirationTimes,Z=i.hiddenUpdates;for(l=R&~l;0<l;){var oe=31-vt(l),ce=1<<oe;L[oe]=0,q[oe]=-1;var te=Z[oe];if(te!==null)for(Z[oe]=null,oe=0;oe<te.length;oe++){var ne=te[oe];ne!==null&&(ne.lane&=-536870913)}l&=~ce}c!==0&&Xr(i,c,0),y!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=y&~(R&~a))}function Xr(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-vt(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function Kl(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-vt(l),g=1<<c;g&a|i[c]&a&&(i[c]|=a),l&=~g}}function Es(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function _o(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ss(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:Bx(i.type))}function td(i,a){var l=se.p;try{return se.p=i,a()}finally{se.p=l}}var It=Math.random().toString(36).slice(2),tn="__reactFiber$"+It,Gt="__reactProps$"+It,mr="__reactContainer$"+It,Ql="__reactEvents$"+It,Ap="__reactListeners$"+It,Ts="__reactHandles$"+It,nd="__reactResources$"+It,wa="__reactMarker$"+It;function As(i){delete i[tn],delete i[Gt],delete i[Ql],delete i[Ap],delete i[Ts]}function ki(i){var a=i[tn];if(a)return a;for(var l=i.parentNode;l;){if(a=l[mr]||l[tn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=Cx(i);i!==null;){if(l=i[tn])return l;i=Cx(i)}return a}i=l,l=i.parentNode}return null}function Wr(i){if(i=i[tn]||i[mr]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Zr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Un(i){var a=i[nd];return a||(a=i[nd]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ut(i){i[wa]=!0}var Xl=new Set,xo={};function Pr(i,a){Vi(i,a),Vi(i+"Capture",a)}function Vi(i,a){for(xo[i]=a,i=0;i<a.length;i++)Xl.add(a[i])}var rd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),id={},Ea={};function sd(i){return we.call(Ea,i)?!0:we.call(id,i)?!1:rd.test(i)?Ea[i]=!0:(id[i]=!0,!1)}function Cs(i,a,l){if(sd(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Jr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function bn(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var Sa,ad;function ji(i){if(Sa===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Sa=a&&a[1]||"",ad=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+i+ad}var wo=!1;function Eo(i,a){if(!i||wo)return"";wo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ne){var te=ne}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(ne){te=ne}i.call(ce.prototype)}}else{try{throw Error()}catch(ne){te=ne}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),R=y[0],L=y[1];if(R&&L){var q=R.split(`
`),Z=L.split(`
`);for(g=c=0;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;for(;g<Z.length&&!Z[g].includes("DetermineComponentFrameRoot");)g++;if(c===q.length||g===Z.length)for(c=q.length-1,g=Z.length-1;1<=c&&0<=g&&q[c]!==Z[g];)g--;for(;1<=c&&0<=g;c--,g--)if(q[c]!==Z[g]){if(c!==1||g!==1)do if(c--,g--,0>g||q[c]!==Z[g]){var oe=`
`+q[c].replace(" at new "," at ");return i.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",i.displayName)),oe}while(1<=c&&0<=g);break}}}finally{wo=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ji(l):""}function Wl(i){switch(i.tag){case 26:case 27:case 5:return ji(i.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Eo(i.type,!1);case 11:return Eo(i.type.render,!1);case 1:return Eo(i.type,!0);case 31:return ji("Activity");default:return""}}function So(i){try{var a="";do a+=Wl(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Fn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Zl(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Cp(i){var a=Zl(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var g=l.get,y=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return g.call(this)},set:function(R){c=""+R,y.call(this,R)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(R){c=""+R},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function To(i){i._valueTracker||(i._valueTracker=Cp(i))}function Jl(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=Zl(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Ta(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Rp=/[\n"\\]/g;function Yt(i){return i.replace(Rp,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function er(i,a,l,c,g,y,R,L){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),a!=null?R==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Fn(a)):i.value!==""+Fn(a)&&(i.value=""+Fn(a)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),a!=null?Rs(i,R,Fn(a)):l!=null?Rs(i,R,Fn(l)):c!=null&&i.removeAttribute("value"),g==null&&y!=null&&(i.defaultChecked=!!y),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?i.name=""+Fn(L):i.removeAttribute("name")}function Aa(i,a,l,c,g,y,R,L){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Fn(l):"",a=a!=null?""+Fn(a):l,L||a===i.value||(i.value=a),i.defaultValue=a}c=c??g,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=L?i.checked:!!c,i.defaultChecked=!!c,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function Rs(i,a,l){a==="number"&&Ta(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Li(i,a,l,c){if(i=i.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<i.length;l++)g=a.hasOwnProperty("$"+i[l].value),i[l].selected!==g&&(i[l].selected=g),g&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Fn(l),a=null,g=0;g<i.length;g++){if(i[g].value===l){i[g].selected=!0,c&&(i[g].defaultSelected=!0);return}a!==null||i[g].disabled||(a=i[g])}a!==null&&(a.selected=!0)}}function _t(i,a,l){if(a!=null&&(a=""+Fn(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Fn(l):""}function Ca(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ee(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Fn(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function gr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Ra=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function od(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||Ra.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function eu(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var g in a)c=a[g],a.hasOwnProperty(g)&&l[g]!==c&&od(i,g,c)}else for(var y in a)a.hasOwnProperty(y)&&od(i,y,a[y])}function tu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Np=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(i){return Np.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ui=null;function vr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fi=null,zi=null;function nu(i){var a=Wr(i);if(a&&(i=a.stateNode)){var l=i[Gt]||null;e:switch(i=a.stateNode,a.type){case"input":if(er(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Yt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var g=c[Gt]||null;if(!g)throw Error(r(90));er(c,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&Jl(c)}break e;case"textarea":_t(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Li(i,!!l.multiple,a,!1)}}}var ei=!1;function ld(i,a,l){if(ei)return i(a,l);ei=!0;try{var c=i(a);return c}finally{if(ei=!1,(Fi!==null||zi!==null)&&(tf(),Fi&&(a=Fi,i=zi,zi=Fi=null,nu(a),i)))for(a=0;a<i.length;a++)nu(i[a])}}function Ia(i,a){var l=i.stateNode;if(l===null)return null;var c=l[Gt]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(kr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{yr=!1}var ti=null,Is=null,Bi=null;function ru(){if(Bi)return Bi;var i,a=Is,l=a.length,c,g="value"in ti?ti.value:ti.textContent,y=g.length;for(i=0;i<l&&a[i]===g[i];i++);var R=l-i;for(c=1;c<=R&&a[l-c]===g[y-c];c++);return Bi=g.slice(i,1<c?1-c:void 0)}function ni(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ri(){return!0}function iu(){return!1}function dn(i){function a(l,c,g,y,R){this._reactName=l,this._targetInst=g,this.type=c,this.nativeEvent=y,this.target=R,this.currentTarget=null;for(var L in i)i.hasOwnProperty(L)&&(l=i[L],this[L]=l?l(y):y[L]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ri:iu,this.isPropagationStopped=iu,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),a}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=dn(pt),Oa=m({},pt,{view:0,detail:0}),ud=dn(Oa),Ro,Io,ii,Ma=m({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ka,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ii&&(ii&&i.type==="mousemove"?(Ro=i.screenX-ii.screenX,Io=i.screenY-ii.screenY):Io=Ro=0,ii=i),Ro)},movementY:function(i){return"movementY"in i?i.movementY:Io}}),br=dn(Ma),cd=m({},Ma,{dataTransfer:0}),Op=dn(cd),Da=m({},Oa,{relatedTarget:0}),No=dn(Da),su=m({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),Oo=dn(su),dd=m({},pt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Mo=dn(dd),Mp=m({},pt,{data:0}),au=dn(Mp),Pa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=hd[i])?!!a[i]:!1}function ka(){return ou}var pd=m({},Oa,{key:function(i){if(i.key){var a=Pa[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=ni(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?fd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ka,charCode:function(i){return i.type==="keypress"?ni(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ni(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Do=dn(pd),md=m({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=dn(md),Hi=m({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ka}),gd=dn(Hi),vd=m({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),yd=dn(vd),bd=m({},Ma,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Po=dn(bd),zn=m({},pt,{newState:0,oldState:0}),_d=dn(zn),xd=[9,13,27,32],si=kr&&"CompositionEvent"in window,p=null;kr&&"documentMode"in document&&(p=document.documentMode);var x=kr&&"TextEvent"in window&&!p,A=kr&&(!si||p&&8<p&&11>=p),F=" ",X=!1;function re(i,a){switch(i){case"keyup":return xd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function be(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var st=!1;function nn(i,a){switch(i){case"compositionend":return be(a);case"keypress":return a.which!==32?null:(X=!0,F);case"textInput":return i=a.data,i===F&&X?null:i;default:return null}}function at(i,a){if(st)return i==="compositionend"||!si&&re(i,a)?(i=ru(),Bi=Is=ti=null,st=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return A&&a.locale!=="ko"?null:a.data;default:return null}}var fn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rn(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!fn[i.type]:a==="textarea"}function qi(i,a,l,c){Fi?zi?zi.push(c):zi=[c]:Fi=c,a=lf(a,"onChange"),0<a.length&&(l=new Co("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var _n=null,ai=null;function uu(i){vx(i,0)}function wd(i){var a=Zr(i);if(Jl(a))return i}function Lb(i,a){if(i==="change")return a}var Ub=!1;if(kr){var Dp;if(kr){var Pp="oninput"in document;if(!Pp){var Fb=document.createElement("div");Fb.setAttribute("oninput","return;"),Pp=typeof Fb.oninput=="function"}Dp=Pp}else Dp=!1;Ub=Dp&&(!document.documentMode||9<document.documentMode)}function zb(){_n&&(_n.detachEvent("onpropertychange",Bb),ai=_n=null)}function Bb(i){if(i.propertyName==="value"&&wd(ai)){var a=[];qi(a,ai,i,vr(i)),ld(uu,a)}}function CR(i,a,l){i==="focusin"?(zb(),_n=a,ai=l,_n.attachEvent("onpropertychange",Bb)):i==="focusout"&&zb()}function RR(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wd(ai)}function IR(i,a){if(i==="click")return wd(a)}function NR(i,a){if(i==="input"||i==="change")return wd(a)}function OR(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var tr=typeof Object.is=="function"?Object.is:OR;function cu(i,a){if(tr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var g=l[c];if(!we.call(a,g)||!tr(i[g],a[g]))return!1}return!0}function Hb(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function qb(i,a){var l=Hb(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Hb(l)}}function $b(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?$b(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Gb(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ta(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Ta(i.document)}return a}function kp(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var MR=kr&&"documentMode"in document&&11>=document.documentMode,ko=null,Vp=null,du=null,jp=!1;function Yb(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jp||ko==null||ko!==Ta(c)||(c=ko,"selectionStart"in c&&kp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),du&&cu(du,c)||(du=c,c=lf(Vp,"onSelect"),0<c.length&&(a=new Co("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=ko)))}function Va(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Vo={animationend:Va("Animation","AnimationEnd"),animationiteration:Va("Animation","AnimationIteration"),animationstart:Va("Animation","AnimationStart"),transitionrun:Va("Transition","TransitionRun"),transitionstart:Va("Transition","TransitionStart"),transitioncancel:Va("Transition","TransitionCancel"),transitionend:Va("Transition","TransitionEnd")},Lp={},Kb={};kr&&(Kb=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function ja(i){if(Lp[i])return Lp[i];if(!Vo[i])return i;var a=Vo[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Kb)return Lp[i]=a[l];return i}var Qb=ja("animationend"),Xb=ja("animationiteration"),Wb=ja("animationstart"),DR=ja("transitionrun"),PR=ja("transitionstart"),kR=ja("transitioncancel"),Zb=ja("transitionend"),Jb=new Map,Up="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Up.push("scrollEnd");function Vr(i,a){Jb.set(i,a),Pr(a,[i])}var e0=new WeakMap;function _r(i,a){if(typeof i=="object"&&i!==null){var l=e0.get(i);return l!==void 0?l:(a={value:i,source:a,stack:So(a)},e0.set(i,a),a)}return{value:i,source:a,stack:So(a)}}var xr=[],jo=0,Fp=0;function Ed(){for(var i=jo,a=Fp=jo=0;a<i;){var l=xr[a];xr[a++]=null;var c=xr[a];xr[a++]=null;var g=xr[a];xr[a++]=null;var y=xr[a];if(xr[a++]=null,c!==null&&g!==null){var R=c.pending;R===null?g.next=g:(g.next=R.next,R.next=g),c.pending=g}y!==0&&t0(l,g,y)}}function Sd(i,a,l,c){xr[jo++]=i,xr[jo++]=a,xr[jo++]=l,xr[jo++]=c,Fp|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function zp(i,a,l,c){return Sd(i,a,l,c),Td(i)}function Lo(i,a){return Sd(i,null,null,a),Td(i)}function t0(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var g=!1,y=i.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(g=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,g&&a!==null&&(g=31-vt(l),i=y.hiddenUpdates,c=i[g],c===null?i[g]=[a]:c.push(a),a.lane=l|536870912),y):null}function Td(i){if(50<Vu)throw Vu=0,Ym=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Uo={};function VR(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(i,a,l,c){return new VR(i,a,l,c)}function Bp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function $i(i,a){var l=i.alternate;return l===null?(l=nr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function n0(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Ad(i,a,l,c,g,y){var R=0;if(c=i,typeof i=="function")Bp(i)&&(R=1);else if(typeof i=="string")R=LI(i,l,Te.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case D:return i=nr(31,l,a,g),i.elementType=D,i.lanes=y,i;case E:return La(l.children,g,y,a);case T:R=8,g|=24;break;case I:return i=nr(12,l,a,g|2),i.elementType=I,i.lanes=y,i;case k:return i=nr(13,l,a,g),i.elementType=k,i.lanes=y,i;case Y:return i=nr(19,l,a,g),i.elementType=Y,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case S:R=10;break e;case C:R=9;break e;case U:R=11;break e;case P:R=14;break e;case M:R=16,c=null;break e}R=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=nr(R,l,a,g),a.elementType=i,a.type=c,a.lanes=y,a}function La(i,a,l,c){return i=nr(7,i,c,a),i.lanes=l,i}function Hp(i,a,l){return i=nr(6,i,null,a),i.lanes=l,i}function qp(i,a,l){return a=nr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Fo=[],zo=0,Cd=null,Rd=0,wr=[],Er=0,Ua=null,Gi=1,Yi="";function Fa(i,a){Fo[zo++]=Rd,Fo[zo++]=Cd,Cd=i,Rd=a}function r0(i,a,l){wr[Er++]=Gi,wr[Er++]=Yi,wr[Er++]=Ua,Ua=i;var c=Gi;i=Yi;var g=32-vt(c)-1;c&=~(1<<g),l+=1;var y=32-vt(a)+g;if(30<y){var R=g-g%5;y=(c&(1<<R)-1).toString(32),c>>=R,g-=R,Gi=1<<32-vt(a)+g|l<<g|c,Yi=y+i}else Gi=1<<y|l<<g|c,Yi=i}function $p(i){i.return!==null&&(Fa(i,1),r0(i,1,0))}function Gp(i){for(;i===Cd;)Cd=Fo[--zo],Fo[zo]=null,Rd=Fo[--zo],Fo[zo]=null;for(;i===Ua;)Ua=wr[--Er],wr[Er]=null,Yi=wr[--Er],wr[Er]=null,Gi=wr[--Er],wr[Er]=null}var Bn=null,kt=null,dt=!1,za=null,oi=!1,Yp=Error(r(519));function Ba(i){var a=Error(r(418,""));throw pu(_r(a,i)),Yp}function i0(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[tn]=i,a[Gt]=c,l){case"dialog":tt("cancel",a),tt("close",a);break;case"iframe":case"object":case"embed":tt("load",a);break;case"video":case"audio":for(l=0;l<Lu.length;l++)tt(Lu[l],a);break;case"source":tt("error",a);break;case"img":case"image":case"link":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"input":tt("invalid",a),Aa(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),To(a);break;case"select":tt("invalid",a);break;case"textarea":tt("invalid",a),Ca(a,c.value,c.defaultValue,c.children),To(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||xx(a.textContent,l)?(c.popover!=null&&(tt("beforetoggle",a),tt("toggle",a)),c.onScroll!=null&&tt("scroll",a),c.onScrollEnd!=null&&tt("scrollend",a),c.onClick!=null&&(a.onclick=uf),a=!0):a=!1,a||Ba(i)}function s0(i){for(Bn=i.return;Bn;)switch(Bn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:Bn=Bn.return}}function fu(i){if(i!==Bn)return!1;if(!dt)return s0(i),dt=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||ug(i.type,i.memoizedProps)),l=!l),l&&kt&&Ba(i),s0(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){kt=Lr(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}kt=null}}else a===27?(a=kt,$s(i.type)?(i=hg,hg=null,kt=i):kt=a):kt=Bn?Lr(i.stateNode.nextSibling):null;return!0}function hu(){kt=Bn=null,dt=!1}function a0(){var i=za;return i!==null&&(Kn===null?Kn=i:Kn.push.apply(Kn,i),za=null),i}function pu(i){za===null?za=[i]:za.push(i)}var Kp=le(null),Ha=null,Ki=null;function Ns(i,a,l){pe(Kp,a._currentValue),a._currentValue=l}function Qi(i){i._currentValue=Kp.current,me(Kp)}function Qp(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function Xp(i,a,l,c){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var y=g.dependencies;if(y!==null){var R=g.child;y=y.firstContext;e:for(;y!==null;){var L=y;y=g;for(var q=0;q<a.length;q++)if(L.context===a[q]){y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),Qp(y.return,l,i),c||(R=null);break e}y=L.next}}else if(g.tag===18){if(R=g.return,R===null)throw Error(r(341));R.lanes|=l,y=R.alternate,y!==null&&(y.lanes|=l),Qp(R,l,i),R=null}else R=g.child;if(R!==null)R.return=g;else for(R=g;R!==null;){if(R===i){R=null;break}if(g=R.sibling,g!==null){g.return=R.return,R=g;break}R=R.return}g=R}}function mu(i,a,l,c){i=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var R=g.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var L=g.type;tr(g.pendingProps.value,R.value)||(i!==null?i.push(L):i=[L])}}else if(g===ut.current){if(R=g.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(qu):i=[qu])}g=g.return}i!==null&&Xp(a,i,l,c),a.flags|=262144}function Id(i){for(i=i.firstContext;i!==null;){if(!tr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function qa(i){Ha=i,Ki=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function On(i){return o0(Ha,i)}function Nd(i,a){return Ha===null&&qa(i),o0(i,a)}function o0(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Ki===null){if(i===null)throw Error(r(308));Ki=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Ki=Ki.next=a;return l}var jR=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},LR=n.unstable_scheduleCallback,UR=n.unstable_NormalPriority,sn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wp(){return{controller:new jR,data:new Map,refCount:0}}function gu(i){i.refCount--,i.refCount===0&&LR(UR,function(){i.controller.abort()})}var vu=null,Zp=0,Bo=0,Ho=null;function FR(i,a){if(vu===null){var l=vu=[];Zp=0,Bo=eg(),Ho={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Zp++,a.then(l0,l0),a}function l0(){if(--Zp===0&&vu!==null){Ho!==null&&(Ho.status="fulfilled");var i=vu;vu=null,Bo=0,Ho=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function zR(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(c.status="rejected",c.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),c}var u0=H.S;H.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&FR(i,a),u0!==null&&u0(i,a)};var $a=le(null);function Jp(){var i=$a.current;return i!==null?i:At.pooledCache}function Od(i,a){a===null?pe($a,$a.current):pe($a,a.pool)}function c0(){var i=Jp();return i===null?null:{parent:sn._currentValue,pool:i}}var yu=Error(r(460)),d0=Error(r(474)),Md=Error(r(542)),em={then:function(){}};function f0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Dd(){}function h0(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Dd,Dd),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,m0(i),i;default:if(typeof a.status=="string")a.then(Dd,Dd);else{if(i=At,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=c}},function(c){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,m0(i),i}throw bu=a,yu}}var bu=null;function p0(){if(bu===null)throw Error(r(459));var i=bu;return bu=null,i}function m0(i){if(i===yu||i===Md)throw Error(r(483))}var Os=!1;function tm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nm(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ms(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ds(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(yt&2)!==0){var g=c.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),c.pending=a,a=Td(i),t0(i,null,l),a}return Sd(i,c,a,l),Td(i)}function _u(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Kl(i,l)}}function rm(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var R={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=R:y=y.next=R,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:c.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var im=!1;function xu(){if(im){var i=Ho;if(i!==null)throw i}}function wu(i,a,l,c){im=!1;var g=i.updateQueue;Os=!1;var y=g.firstBaseUpdate,R=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var q=L,Z=q.next;q.next=null,R===null?y=Z:R.next=Z,R=q;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,L=oe.lastBaseUpdate,L!==R&&(L===null?oe.firstBaseUpdate=Z:L.next=Z,oe.lastBaseUpdate=q))}if(y!==null){var ce=g.baseState;R=0,oe=Z=q=null,L=y;do{var te=L.lane&-536870913,ne=te!==L.lane;if(ne?(ot&te)===te:(c&te)===te){te!==0&&te===Bo&&(im=!0),oe!==null&&(oe=oe.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var Be=i,je=L;te=a;var Et=l;switch(je.tag){case 1:if(Be=je.payload,typeof Be=="function"){ce=Be.call(Et,ce,te);break e}ce=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=je.payload,te=typeof Be=="function"?Be.call(Et,ce,te):Be,te==null)break e;ce=m({},ce,te);break e;case 2:Os=!0}}te=L.callback,te!==null&&(i.flags|=64,ne&&(i.flags|=8192),ne=g.callbacks,ne===null?g.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:L.tag,payload:L.payload,callback:L.callback,next:null},oe===null?(Z=oe=ne,q=ce):oe=oe.next=ne,R|=te;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ne=L,L=ne.next,ne.next=null,g.lastBaseUpdate=ne,g.shared.pending=null}}while(!0);oe===null&&(q=ce),g.baseState=q,g.firstBaseUpdate=Z,g.lastBaseUpdate=oe,y===null&&(g.shared.lanes=0),zs|=R,i.lanes=R,i.memoizedState=ce}}function g0(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function v0(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)g0(l[i],a)}var qo=le(null),Pd=le(0);function y0(i,a){i=ns,pe(Pd,i),pe(qo,a),ns=i|a.baseLanes}function sm(){pe(Pd,ns),pe(qo,qo.current)}function am(){ns=Pd.current,me(qo),me(Pd)}var Ps=0,Xe=null,xt=null,Kt=null,kd=!1,$o=!1,Ga=!1,Vd=0,Eu=0,Go=null,BR=0;function Ft(){throw Error(r(321))}function om(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!tr(i[l],a[l]))return!1;return!0}function lm(i,a,l,c,g,y){return Ps=y,Xe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=i===null||i.memoizedState===null?t_:n_,Ga=!1,y=l(c,g),Ga=!1,$o&&(y=_0(a,l,c,g)),b0(i),y}function b0(i){H.H=Bd;var a=xt!==null&&xt.next!==null;if(Ps=0,Kt=xt=Xe=null,kd=!1,Eu=0,Go=null,a)throw Error(r(300));i===null||hn||(i=i.dependencies,i!==null&&Id(i)&&(hn=!0))}function _0(i,a,l,c){Xe=i;var g=0;do{if($o&&(Go=null),Eu=0,$o=!1,25<=g)throw Error(r(301));if(g+=1,Kt=xt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}H.H=QR,y=a(l,c)}while($o);return y}function HR(){var i=H.H,a=i.useState()[0];return a=typeof a.then=="function"?Su(a):a,i=i.useState()[0],(xt!==null?xt.memoizedState:null)!==i&&(Xe.flags|=1024),a}function um(){var i=Vd!==0;return Vd=0,i}function cm(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function dm(i){if(kd){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}kd=!1}Ps=0,Kt=xt=Xe=null,$o=!1,Eu=Vd=0,Go=null}function Gn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Xe.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function Qt(){if(xt===null){var i=Xe.alternate;i=i!==null?i.memoizedState:null}else i=xt.next;var a=Kt===null?Xe.memoizedState:Kt.next;if(a!==null)Kt=a,xt=i;else{if(i===null)throw Xe.alternate===null?Error(r(467)):Error(r(310));xt=i,i={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Kt===null?Xe.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function fm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Su(i){var a=Eu;return Eu+=1,Go===null&&(Go=[]),i=h0(Go,i,a),a=Xe,(Kt===null?a.memoizedState:Kt.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?t_:n_),i}function jd(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Su(i);if(i.$$typeof===S)return On(i)}throw Error(r(438,String(i)))}function hm(i){var a=null,l=Xe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Xe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=fm(),Xe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=j;return a.index++,l}function Xi(i,a){return typeof a=="function"?a(i):a}function Ld(i){var a=Qt();return pm(a,xt,i)}function pm(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var g=i.baseQueue,y=c.pending;if(y!==null){if(g!==null){var R=g.next;g.next=y.next,y.next=R}a.baseQueue=g=y,c.pending=null}if(y=i.baseState,g===null)i.memoizedState=y;else{a=g.next;var L=R=null,q=null,Z=a,oe=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(ot&ce)===ce:(Ps&ce)===ce){var te=Z.revertLane;if(te===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===Bo&&(oe=!0);else if((Ps&te)===te){Z=Z.next,te===Bo&&(oe=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(L=q=ce,R=y):q=q.next=ce,Xe.lanes|=te,zs|=te;ce=Z.action,Ga&&l(y,ce),y=Z.hasEagerState?Z.eagerState:l(y,ce)}else te={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},q===null?(L=q=te,R=y):q=q.next=te,Xe.lanes|=ce,zs|=ce;Z=Z.next}while(Z!==null&&Z!==a);if(q===null?R=y:q.next=L,!tr(y,i.memoizedState)&&(hn=!0,oe&&(l=Ho,l!==null)))throw l;i.memoizedState=y,i.baseState=R,i.baseQueue=q,c.lastRenderedState=y}return g===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function mm(i){var a=Qt(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var R=g=g.next;do y=i(y,R.action),R=R.next;while(R!==g);tr(y,a.memoizedState)||(hn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function x0(i,a,l){var c=Xe,g=Qt(),y=dt;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var R=!tr((xt||g).memoizedState,l);R&&(g.memoizedState=l,hn=!0),g=g.queue;var L=S0.bind(null,c,g,i);if(Tu(2048,8,L,[i]),g.getSnapshot!==a||R||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,Yo(9,Ud(),E0.bind(null,c,g,l,a),null),At===null)throw Error(r(349));y||(Ps&124)!==0||w0(c,a,l)}return l}function w0(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Xe.updateQueue,a===null?(a=fm(),Xe.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function E0(i,a,l,c){a.value=l,a.getSnapshot=c,T0(a)&&A0(i)}function S0(i,a,l){return l(function(){T0(a)&&A0(i)})}function T0(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!tr(i,l)}catch{return!0}}function A0(i){var a=Lo(i,2);a!==null&&or(a,i,2)}function gm(i){var a=Gn();if(typeof i=="function"){var l=i;if(i=l(),Ga){Qe(!0);try{l()}finally{Qe(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:i},a}function C0(i,a,l,c){return i.baseState=l,pm(i,xt,typeof c=="function"?c:Xi)}function qR(i,a,l,c,g){if(zd(i))throw Error(r(485));if(i=a.action,i!==null){var y={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){y.listeners.push(R)}};H.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,R0(a,y)):(y.next=l.next,a.pending=l.next=y)}}function R0(i,a){var l=a.action,c=a.payload,g=i.state;if(a.isTransition){var y=H.T,R={};H.T=R;try{var L=l(g,c),q=H.S;q!==null&&q(R,L),I0(i,a,L)}catch(Z){vm(i,a,Z)}finally{H.T=y}}else try{y=l(g,c),I0(i,a,y)}catch(Z){vm(i,a,Z)}}function I0(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){N0(i,a,c)},function(c){return vm(i,a,c)}):N0(i,a,l)}function N0(i,a,l){a.status="fulfilled",a.value=l,O0(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,R0(i,l)))}function vm(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,O0(a),a=a.next;while(a!==c)}i.action=null}function O0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function M0(i,a){return a}function D0(i,a){if(dt){var l=At.formState;if(l!==null){e:{var c=Xe;if(dt){if(kt){t:{for(var g=kt,y=oi;g.nodeType!==8;){if(!y){g=null;break t}if(g=Lr(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){kt=Lr(g.nextSibling),c=g.data==="F!";break e}}Ba(c)}c=!1}c&&(a=l[0])}}return l=Gn(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M0,lastRenderedState:a},l.queue=c,l=Z0.bind(null,Xe,c),c.dispatch=l,c=gm(!1),y=wm.bind(null,Xe,!1,c.queue),c=Gn(),g={state:a,dispatch:null,action:i,pending:null},c.queue=g,l=qR.bind(null,Xe,g,y,l),g.dispatch=l,c.memoizedState=i,[a,l,!1]}function P0(i){var a=Qt();return k0(a,xt,i)}function k0(i,a,l){if(a=pm(i,a,M0)[0],i=Ld(Xi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Su(a)}catch(R){throw R===yu?Md:R}else c=a;a=Qt();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(Xe.flags|=2048,Yo(9,Ud(),$R.bind(null,g,l),null)),[c,y,i]}function $R(i,a){i.action=a}function V0(i){var a=Qt(),l=xt;if(l!==null)return k0(a,l,i);Qt(),a=a.memoizedState,l=Qt();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function Yo(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=Xe.updateQueue,a===null&&(a=fm(),Xe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function Ud(){return{destroy:void 0,resource:void 0}}function j0(){return Qt().memoizedState}function Fd(i,a,l,c){var g=Gn();c=c===void 0?null:c,Xe.flags|=i,g.memoizedState=Yo(1|a,Ud(),l,c)}function Tu(i,a,l,c){var g=Qt();c=c===void 0?null:c;var y=g.memoizedState.inst;xt!==null&&c!==null&&om(c,xt.memoizedState.deps)?g.memoizedState=Yo(a,y,l,c):(Xe.flags|=i,g.memoizedState=Yo(1|a,y,l,c))}function L0(i,a){Fd(8390656,8,i,a)}function U0(i,a){Tu(2048,8,i,a)}function F0(i,a){return Tu(4,2,i,a)}function z0(i,a){return Tu(4,4,i,a)}function B0(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function H0(i,a,l){l=l!=null?l.concat([i]):null,Tu(4,4,B0.bind(null,a,i),l)}function ym(){}function q0(i,a){var l=Qt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&om(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function $0(i,a){var l=Qt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&om(a,c[1]))return c[0];if(c=i(),Ga){Qe(!0);try{i()}finally{Qe(!1)}}return l.memoizedState=[c,a],c}function bm(i,a,l){return l===void 0||(Ps&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=K_(),Xe.lanes|=i,zs|=i,l)}function G0(i,a,l,c){return tr(l,a)?l:qo.current!==null?(i=bm(i,l,c),tr(i,a)||(hn=!0),i):(Ps&42)===0?(hn=!0,i.memoizedState=l):(i=K_(),Xe.lanes|=i,zs|=i,a)}function Y0(i,a,l,c,g){var y=se.p;se.p=y!==0&&8>y?y:8;var R=H.T,L={};H.T=L,wm(i,!1,a,l);try{var q=g(),Z=H.S;if(Z!==null&&Z(L,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var oe=zR(q,c);Au(i,a,oe,ar(i))}else Au(i,a,c,ar(i))}catch(ce){Au(i,a,{then:function(){},status:"rejected",reason:ce},ar())}finally{se.p=y,H.T=R}}function GR(){}function _m(i,a,l,c){if(i.tag!==5)throw Error(r(476));var g=K0(i).queue;Y0(i,g,a,he,l===null?GR:function(){return Q0(i),l(c)})}function K0(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:he},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function Q0(i){var a=K0(i).next.queue;Au(i,a,{},ar())}function xm(){return On(qu)}function X0(){return Qt().memoizedState}function W0(){return Qt().memoizedState}function YR(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ar();i=Ms(l);var c=Ds(a,i,l);c!==null&&(or(c,a,l),_u(c,a,l)),a={cache:Wp()},i.payload=a;return}a=a.return}}function KR(i,a,l){var c=ar();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},zd(i)?J0(a,l):(l=zp(i,a,l,c),l!==null&&(or(l,i,c),e_(l,a,c)))}function Z0(i,a,l){var c=ar();Au(i,a,l,c)}function Au(i,a,l,c){var g={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(zd(i))J0(a,g);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var R=a.lastRenderedState,L=y(R,l);if(g.hasEagerState=!0,g.eagerState=L,tr(L,R))return Sd(i,a,g,0),At===null&&Ed(),!1}catch{}finally{}if(l=zp(i,a,g,c),l!==null)return or(l,i,c),e_(l,a,c),!0}return!1}function wm(i,a,l,c){if(c={lane:2,revertLane:eg(),action:c,hasEagerState:!1,eagerState:null,next:null},zd(i)){if(a)throw Error(r(479))}else a=zp(i,l,c,2),a!==null&&or(a,i,2)}function zd(i){var a=i.alternate;return i===Xe||a!==null&&a===Xe}function J0(i,a){$o=kd=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function e_(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,Kl(i,l)}}var Bd={readContext:On,use:jd,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft},t_={readContext:On,use:jd,useCallback:function(i,a){return Gn().memoizedState=[i,a===void 0?null:a],i},useContext:On,useEffect:L0,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,Fd(4194308,4,B0.bind(null,a,i),l)},useLayoutEffect:function(i,a){return Fd(4194308,4,i,a)},useInsertionEffect:function(i,a){Fd(4,2,i,a)},useMemo:function(i,a){var l=Gn();a=a===void 0?null:a;var c=i();if(Ga){Qe(!0);try{i()}finally{Qe(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=Gn();if(l!==void 0){var g=l(a);if(Ga){Qe(!0);try{l(a)}finally{Qe(!1)}}}else g=a;return c.memoizedState=c.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},c.queue=i,i=i.dispatch=KR.bind(null,Xe,i),[c.memoizedState,i]},useRef:function(i){var a=Gn();return i={current:i},a.memoizedState=i},useState:function(i){i=gm(i);var a=i.queue,l=Z0.bind(null,Xe,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:ym,useDeferredValue:function(i,a){var l=Gn();return bm(l,i,a)},useTransition:function(){var i=gm(!1);return i=Y0.bind(null,Xe,i.queue,!0,!1),Gn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=Xe,g=Gn();if(dt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),At===null)throw Error(r(349));(ot&124)!==0||w0(c,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,L0(S0.bind(null,c,y,i),[i]),c.flags|=2048,Yo(9,Ud(),E0.bind(null,c,y,l,a),null),l},useId:function(){var i=Gn(),a=At.identifierPrefix;if(dt){var l=Yi,c=Gi;l=(c&~(1<<32-vt(c)-1)).toString(32)+l,a="«"+a+"R"+l,l=Vd++,0<l&&(a+="H"+l.toString(32)),a+="»"}else l=BR++,a="«"+a+"r"+l.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:xm,useFormState:D0,useActionState:D0,useOptimistic:function(i){var a=Gn();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=wm.bind(null,Xe,!0,l),l.dispatch=a,[i,a]},useMemoCache:hm,useCacheRefresh:function(){return Gn().memoizedState=YR.bind(null,Xe)}},n_={readContext:On,use:jd,useCallback:q0,useContext:On,useEffect:U0,useImperativeHandle:H0,useInsertionEffect:F0,useLayoutEffect:z0,useMemo:$0,useReducer:Ld,useRef:j0,useState:function(){return Ld(Xi)},useDebugValue:ym,useDeferredValue:function(i,a){var l=Qt();return G0(l,xt.memoizedState,i,a)},useTransition:function(){var i=Ld(Xi)[0],a=Qt().memoizedState;return[typeof i=="boolean"?i:Su(i),a]},useSyncExternalStore:x0,useId:X0,useHostTransitionStatus:xm,useFormState:P0,useActionState:P0,useOptimistic:function(i,a){var l=Qt();return C0(l,xt,i,a)},useMemoCache:hm,useCacheRefresh:W0},QR={readContext:On,use:jd,useCallback:q0,useContext:On,useEffect:U0,useImperativeHandle:H0,useInsertionEffect:F0,useLayoutEffect:z0,useMemo:$0,useReducer:mm,useRef:j0,useState:function(){return mm(Xi)},useDebugValue:ym,useDeferredValue:function(i,a){var l=Qt();return xt===null?bm(l,i,a):G0(l,xt.memoizedState,i,a)},useTransition:function(){var i=mm(Xi)[0],a=Qt().memoizedState;return[typeof i=="boolean"?i:Su(i),a]},useSyncExternalStore:x0,useId:X0,useHostTransitionStatus:xm,useFormState:V0,useActionState:V0,useOptimistic:function(i,a){var l=Qt();return xt!==null?C0(l,xt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:hm,useCacheRefresh:W0},Ko=null,Cu=0;function Hd(i){var a=Cu;return Cu+=1,Ko===null&&(Ko=[]),h0(Ko,i,a)}function Ru(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function qd(i,a){throw a.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function r_(i){var a=i._init;return a(i._payload)}function i_(i){function a(Q,K){if(i){var W=Q.deletions;W===null?(Q.deletions=[K],Q.flags|=16):W.push(K)}}function l(Q,K){if(!i)return null;for(;K!==null;)a(Q,K),K=K.sibling;return null}function c(Q){for(var K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function g(Q,K){return Q=$i(Q,K),Q.index=0,Q.sibling=null,Q}function y(Q,K,W){return Q.index=W,i?(W=Q.alternate,W!==null?(W=W.index,W<K?(Q.flags|=67108866,K):W):(Q.flags|=67108866,K)):(Q.flags|=1048576,K)}function R(Q){return i&&Q.alternate===null&&(Q.flags|=67108866),Q}function L(Q,K,W,ue){return K===null||K.tag!==6?(K=Hp(W,Q.mode,ue),K.return=Q,K):(K=g(K,W),K.return=Q,K)}function q(Q,K,W,ue){var Re=W.type;return Re===E?oe(Q,K,W.props.children,ue,W.key):K!==null&&(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===M&&r_(Re)===K.type)?(K=g(K,W.props),Ru(K,W),K.return=Q,K):(K=Ad(W.type,W.key,W.props,null,Q.mode,ue),Ru(K,W),K.return=Q,K)}function Z(Q,K,W,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==W.containerInfo||K.stateNode.implementation!==W.implementation?(K=qp(W,Q.mode,ue),K.return=Q,K):(K=g(K,W.children||[]),K.return=Q,K)}function oe(Q,K,W,ue,Re){return K===null||K.tag!==7?(K=La(W,Q.mode,ue,Re),K.return=Q,K):(K=g(K,W),K.return=Q,K)}function ce(Q,K,W){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Hp(""+K,Q.mode,W),K.return=Q,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return W=Ad(K.type,K.key,K.props,null,Q.mode,W),Ru(W,K),W.return=Q,W;case w:return K=qp(K,Q.mode,W),K.return=Q,K;case M:var ue=K._init;return K=ue(K._payload),ce(Q,K,W)}if(ee(K)||B(K))return K=La(K,Q.mode,W,null),K.return=Q,K;if(typeof K.then=="function")return ce(Q,Hd(K),W);if(K.$$typeof===S)return ce(Q,Nd(Q,K),W);qd(Q,K)}return null}function te(Q,K,W,ue){var Re=K!==null?K.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return Re!==null?null:L(Q,K,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return W.key===Re?q(Q,K,W,ue):null;case w:return W.key===Re?Z(Q,K,W,ue):null;case M:return Re=W._init,W=Re(W._payload),te(Q,K,W,ue)}if(ee(W)||B(W))return Re!==null?null:oe(Q,K,W,ue,null);if(typeof W.then=="function")return te(Q,K,Hd(W),ue);if(W.$$typeof===S)return te(Q,K,Nd(Q,W),ue);qd(Q,W)}return null}function ne(Q,K,W,ue,Re){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Q=Q.get(W)||null,L(K,Q,""+ue,Re);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return Q=Q.get(ue.key===null?W:ue.key)||null,q(K,Q,ue,Re);case w:return Q=Q.get(ue.key===null?W:ue.key)||null,Z(K,Q,ue,Re);case M:var Je=ue._init;return ue=Je(ue._payload),ne(Q,K,W,ue,Re)}if(ee(ue)||B(ue))return Q=Q.get(W)||null,oe(K,Q,ue,Re,null);if(typeof ue.then=="function")return ne(Q,K,W,Hd(ue),Re);if(ue.$$typeof===S)return ne(Q,K,W,Nd(K,ue),Re);qd(K,ue)}return null}function Be(Q,K,W,ue){for(var Re=null,Je=null,Oe=K,Le=K=0,mn=null;Oe!==null&&Le<W.length;Le++){Oe.index>Le?(mn=Oe,Oe=null):mn=Oe.sibling;var ct=te(Q,Oe,W[Le],ue);if(ct===null){Oe===null&&(Oe=mn);break}i&&Oe&&ct.alternate===null&&a(Q,Oe),K=y(ct,K,Le),Je===null?Re=ct:Je.sibling=ct,Je=ct,Oe=mn}if(Le===W.length)return l(Q,Oe),dt&&Fa(Q,Le),Re;if(Oe===null){for(;Le<W.length;Le++)Oe=ce(Q,W[Le],ue),Oe!==null&&(K=y(Oe,K,Le),Je===null?Re=Oe:Je.sibling=Oe,Je=Oe);return dt&&Fa(Q,Le),Re}for(Oe=c(Oe);Le<W.length;Le++)mn=ne(Oe,Q,Le,W[Le],ue),mn!==null&&(i&&mn.alternate!==null&&Oe.delete(mn.key===null?Le:mn.key),K=y(mn,K,Le),Je===null?Re=mn:Je.sibling=mn,Je=mn);return i&&Oe.forEach(function(Xs){return a(Q,Xs)}),dt&&Fa(Q,Le),Re}function je(Q,K,W,ue){if(W==null)throw Error(r(151));for(var Re=null,Je=null,Oe=K,Le=K=0,mn=null,ct=W.next();Oe!==null&&!ct.done;Le++,ct=W.next()){Oe.index>Le?(mn=Oe,Oe=null):mn=Oe.sibling;var Xs=te(Q,Oe,ct.value,ue);if(Xs===null){Oe===null&&(Oe=mn);break}i&&Oe&&Xs.alternate===null&&a(Q,Oe),K=y(Xs,K,Le),Je===null?Re=Xs:Je.sibling=Xs,Je=Xs,Oe=mn}if(ct.done)return l(Q,Oe),dt&&Fa(Q,Le),Re;if(Oe===null){for(;!ct.done;Le++,ct=W.next())ct=ce(Q,ct.value,ue),ct!==null&&(K=y(ct,K,Le),Je===null?Re=ct:Je.sibling=ct,Je=ct);return dt&&Fa(Q,Le),Re}for(Oe=c(Oe);!ct.done;Le++,ct=W.next())ct=ne(Oe,Q,Le,ct.value,ue),ct!==null&&(i&&ct.alternate!==null&&Oe.delete(ct.key===null?Le:ct.key),K=y(ct,K,Le),Je===null?Re=ct:Je.sibling=ct,Je=ct);return i&&Oe.forEach(function(XI){return a(Q,XI)}),dt&&Fa(Q,Le),Re}function Et(Q,K,W,ue){if(typeof W=="object"&&W!==null&&W.type===E&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case _:e:{for(var Re=W.key;K!==null;){if(K.key===Re){if(Re=W.type,Re===E){if(K.tag===7){l(Q,K.sibling),ue=g(K,W.props.children),ue.return=Q,Q=ue;break e}}else if(K.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===M&&r_(Re)===K.type){l(Q,K.sibling),ue=g(K,W.props),Ru(ue,W),ue.return=Q,Q=ue;break e}l(Q,K);break}else a(Q,K);K=K.sibling}W.type===E?(ue=La(W.props.children,Q.mode,ue,W.key),ue.return=Q,Q=ue):(ue=Ad(W.type,W.key,W.props,null,Q.mode,ue),Ru(ue,W),ue.return=Q,Q=ue)}return R(Q);case w:e:{for(Re=W.key;K!==null;){if(K.key===Re)if(K.tag===4&&K.stateNode.containerInfo===W.containerInfo&&K.stateNode.implementation===W.implementation){l(Q,K.sibling),ue=g(K,W.children||[]),ue.return=Q,Q=ue;break e}else{l(Q,K);break}else a(Q,K);K=K.sibling}ue=qp(W,Q.mode,ue),ue.return=Q,Q=ue}return R(Q);case M:return Re=W._init,W=Re(W._payload),Et(Q,K,W,ue)}if(ee(W))return Be(Q,K,W,ue);if(B(W)){if(Re=B(W),typeof Re!="function")throw Error(r(150));return W=Re.call(W),je(Q,K,W,ue)}if(typeof W.then=="function")return Et(Q,K,Hd(W),ue);if(W.$$typeof===S)return Et(Q,K,Nd(Q,W),ue);qd(Q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,K!==null&&K.tag===6?(l(Q,K.sibling),ue=g(K,W),ue.return=Q,Q=ue):(l(Q,K),ue=Hp(W,Q.mode,ue),ue.return=Q,Q=ue),R(Q)):l(Q,K)}return function(Q,K,W,ue){try{Cu=0;var Re=Et(Q,K,W,ue);return Ko=null,Re}catch(Oe){if(Oe===yu||Oe===Md)throw Oe;var Je=nr(29,Oe,null,Q.mode);return Je.lanes=ue,Je.return=Q,Je}finally{}}}var Qo=i_(!0),s_=i_(!1),Sr=le(null),li=null;function ks(i){var a=i.alternate;pe(an,an.current&1),pe(Sr,i),li===null&&(a===null||qo.current!==null||a.memoizedState!==null)&&(li=i)}function a_(i){if(i.tag===22){if(pe(an,an.current),pe(Sr,i),li===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(li=i)}}else Vs()}function Vs(){pe(an,an.current),pe(Sr,Sr.current)}function Wi(i){me(Sr),li===i&&(li=null),me(an)}var an=le(0);function $d(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||fg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Em(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:m({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Sm={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=ar(),g=Ms(c);g.payload=a,l!=null&&(g.callback=l),a=Ds(i,g,c),a!==null&&(or(a,i,c),_u(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=ar(),g=Ms(c);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Ds(i,g,c),a!==null&&(or(a,i,c),_u(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ar(),c=Ms(l);c.tag=2,a!=null&&(c.callback=a),a=Ds(i,c,l),a!==null&&(or(a,i,l),_u(a,i,l))}};function o_(i,a,l,c,g,y,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,R):a.prototype&&a.prototype.isPureReactComponent?!cu(l,c)||!cu(g,y):!0}function l_(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Sm.enqueueReplaceState(a,a.state,null)}function Ya(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=m({},l));for(var g in i)l[g]===void 0&&(l[g]=i[g])}return l}var Gd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function u_(i){Gd(i)}function c_(i){console.error(i)}function d_(i){Gd(i)}function Yd(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function f_(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Tm(i,a,l){return l=Ms(l),l.tag=3,l.payload={element:null},l.callback=function(){Yd(i,a)},l}function h_(i){return i=Ms(i),i.tag=3,i}function p_(i,a,l,c){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=c.value;i.payload=function(){return g(y)},i.callback=function(){f_(a,l,c)}}var R=l.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){f_(a,l,c),typeof g!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var L=c.stack;this.componentDidCatch(c.value,{componentStack:L!==null?L:""})})}function XR(i,a,l,c,g){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&mu(a,l,g,!0),l=Sr.current,l!==null){switch(l.tag){case 13:return li===null?Qm():l.alternate===null&&Vt===0&&(Vt=3),l.flags&=-257,l.flags|=65536,l.lanes=g,c===em?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Wm(i,c,g)),!1;case 22:return l.flags|=65536,c===em?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Wm(i,c,g)),!1}throw Error(r(435,l.tag))}return Wm(i,c,g),Qm(),!1}if(dt)return a=Sr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,c!==Yp&&(i=Error(r(422),{cause:c}),pu(_r(i,l)))):(c!==Yp&&(a=Error(r(423),{cause:c}),pu(_r(a,l))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,c=_r(c,l),g=Tm(i.stateNode,c,g),rm(i,g),Vt!==4&&(Vt=2)),!1;var y=Error(r(520),{cause:c});if(y=_r(y,l),ku===null?ku=[y]:ku.push(y),Vt!==4&&(Vt=2),a===null)return!0;c=_r(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=g&-g,l.lanes|=i,i=Tm(l.stateNode,c,i),rm(l,i),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Bs===null||!Bs.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=h_(g),p_(g,i,l,c),rm(l,g),!1}l=l.return}while(l!==null);return!1}var m_=Error(r(461)),hn=!1;function xn(i,a,l,c){a.child=i===null?s_(a,null,l,c):Qo(a,i.child,l,c)}function g_(i,a,l,c,g){l=l.render;var y=a.ref;if("ref"in c){var R={};for(var L in c)L!=="ref"&&(R[L]=c[L])}else R=c;return qa(a),c=lm(i,a,l,R,y,g),L=um(),i!==null&&!hn?(cm(i,a,g),Zi(i,a,g)):(dt&&L&&$p(a),a.flags|=1,xn(i,a,c,g),a.child)}function v_(i,a,l,c,g){if(i===null){var y=l.type;return typeof y=="function"&&!Bp(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,y_(i,a,y,c,g)):(i=Ad(l.type,null,c,a,a.mode,g),i.ref=a.ref,i.return=a,a.child=i)}if(y=i.child,!Dm(i,g)){var R=y.memoizedProps;if(l=l.compare,l=l!==null?l:cu,l(R,c)&&i.ref===a.ref)return Zi(i,a,g)}return a.flags|=1,i=$i(y,c),i.ref=a.ref,i.return=a,a.child=i}function y_(i,a,l,c,g){if(i!==null){var y=i.memoizedProps;if(cu(y,c)&&i.ref===a.ref)if(hn=!1,a.pendingProps=c=y,Dm(i,g))(i.flags&131072)!==0&&(hn=!0);else return a.lanes=i.lanes,Zi(i,a,g)}return Am(i,a,l,c,g)}function b_(i,a,l){var c=a.pendingProps,g=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=y!==null?y.baseLanes|l:l,i!==null){for(g=a.child=i.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return __(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Od(a,y!==null?y.cachePool:null),y!==null?y0(a,y):sm(),a_(a);else return a.lanes=a.childLanes=536870912,__(i,a,y!==null?y.baseLanes|l:l,l)}else y!==null?(Od(a,y.cachePool),y0(a,y),Vs(),a.memoizedState=null):(i!==null&&Od(a,null),sm(),Vs());return xn(i,a,g,l),a.child}function __(i,a,l,c){var g=Jp();return g=g===null?null:{parent:sn._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},i!==null&&Od(a,null),sm(),a_(a),i!==null&&mu(i,a,c,!0),null}function Kd(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Am(i,a,l,c,g){return qa(a),l=lm(i,a,l,c,void 0,g),c=um(),i!==null&&!hn?(cm(i,a,g),Zi(i,a,g)):(dt&&c&&$p(a),a.flags|=1,xn(i,a,l,g),a.child)}function x_(i,a,l,c,g,y){return qa(a),a.updateQueue=null,l=_0(a,c,l,g),b0(i),c=um(),i!==null&&!hn?(cm(i,a,y),Zi(i,a,y)):(dt&&c&&$p(a),a.flags|=1,xn(i,a,l,y),a.child)}function w_(i,a,l,c,g){if(qa(a),a.stateNode===null){var y=Uo,R=l.contextType;typeof R=="object"&&R!==null&&(y=On(R)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Sm,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},tm(a),R=l.contextType,y.context=typeof R=="object"&&R!==null?On(R):Uo,y.state=a.memoizedState,R=l.getDerivedStateFromProps,typeof R=="function"&&(Em(a,l,R,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(R=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),R!==y.state&&Sm.enqueueReplaceState(y,y.state,null),wu(a,c,y,g),xu(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){y=a.stateNode;var L=a.memoizedProps,q=Ya(l,L);y.props=q;var Z=y.context,oe=l.contextType;R=Uo,typeof oe=="object"&&oe!==null&&(R=On(oe));var ce=l.getDerivedStateFromProps;oe=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",L=a.pendingProps!==L,oe||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(L||Z!==R)&&l_(a,y,c,R),Os=!1;var te=a.memoizedState;y.state=te,wu(a,c,y,g),xu(),Z=a.memoizedState,L||te!==Z||Os?(typeof ce=="function"&&(Em(a,l,ce,c),Z=a.memoizedState),(q=Os||o_(a,l,q,c,te,Z,R))?(oe||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Z),y.props=c,y.state=Z,y.context=R,c=q):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,nm(i,a),R=a.memoizedProps,oe=Ya(l,R),y.props=oe,ce=a.pendingProps,te=y.context,Z=l.contextType,q=Uo,typeof Z=="object"&&Z!==null&&(q=On(Z)),L=l.getDerivedStateFromProps,(Z=typeof L=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R!==ce||te!==q)&&l_(a,y,c,q),Os=!1,te=a.memoizedState,y.state=te,wu(a,c,y,g),xu();var ne=a.memoizedState;R!==ce||te!==ne||Os||i!==null&&i.dependencies!==null&&Id(i.dependencies)?(typeof L=="function"&&(Em(a,l,L,c),ne=a.memoizedState),(oe=Os||o_(a,l,oe,c,te,ne,q)||i!==null&&i.dependencies!==null&&Id(i.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ne,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ne,q)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&te===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&te===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ne),y.props=c,y.state=ne,y.context=q,c=oe):(typeof y.componentDidUpdate!="function"||R===i.memoizedProps&&te===i.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&te===i.memoizedState||(a.flags|=1024),c=!1)}return y=c,Kd(i,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,i!==null&&c?(a.child=Qo(a,i.child,null,g),a.child=Qo(a,null,l,g)):xn(i,a,l,g),a.memoizedState=y.state,i=a.child):i=Zi(i,a,g),i}function E_(i,a,l,c){return hu(),a.flags|=256,xn(i,a,l,c),a.child}var Cm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rm(i){return{baseLanes:i,cachePool:c0()}}function Im(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=Tr),i}function S_(i,a,l){var c=a.pendingProps,g=!1,y=(a.flags&128)!==0,R;if((R=y)||(R=i!==null&&i.memoizedState===null?!1:(an.current&2)!==0),R&&(g=!0,a.flags&=-129),R=(a.flags&32)!==0,a.flags&=-33,i===null){if(dt){if(g?ks(a):Vs(),dt){var L=kt,q;if(q=L){e:{for(q=L,L=oi;q.nodeType!==8;){if(!L){L=null;break e}if(q=Lr(q.nextSibling),q===null){L=null;break e}}L=q}L!==null?(a.memoizedState={dehydrated:L,treeContext:Ua!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},q=nr(18,null,null,0),q.stateNode=L,q.return=a,a.child=q,Bn=a,kt=null,q=!0):q=!1}q||Ba(a)}if(L=a.memoizedState,L!==null&&(L=L.dehydrated,L!==null))return fg(L)?a.lanes=32:a.lanes=536870912,null;Wi(a)}return L=c.children,c=c.fallback,g?(Vs(),g=a.mode,L=Qd({mode:"hidden",children:L},g),c=La(c,g,l,null),L.return=a,c.return=a,L.sibling=c,a.child=L,g=a.child,g.memoizedState=Rm(l),g.childLanes=Im(i,R,l),a.memoizedState=Cm,c):(ks(a),Nm(a,L))}if(q=i.memoizedState,q!==null&&(L=q.dehydrated,L!==null)){if(y)a.flags&256?(ks(a),a.flags&=-257,a=Om(i,a,l)):a.memoizedState!==null?(Vs(),a.child=i.child,a.flags|=128,a=null):(Vs(),g=c.fallback,L=a.mode,c=Qd({mode:"visible",children:c.children},L),g=La(g,L,l,null),g.flags|=2,c.return=a,g.return=a,c.sibling=g,a.child=c,Qo(a,i.child,null,l),c=a.child,c.memoizedState=Rm(l),c.childLanes=Im(i,R,l),a.memoizedState=Cm,a=g);else if(ks(a),fg(L)){if(R=L.nextSibling&&L.nextSibling.dataset,R)var Z=R.dgst;R=Z,c=Error(r(419)),c.stack="",c.digest=R,pu({value:c,source:null,stack:null}),a=Om(i,a,l)}else if(hn||mu(i,a,l,!1),R=(l&i.childLanes)!==0,hn||R){if(R=At,R!==null&&(c=l&-l,c=(c&42)!==0?1:Es(c),c=(c&(R.suspendedLanes|l))!==0?0:c,c!==0&&c!==q.retryLane))throw q.retryLane=c,Lo(i,c),or(R,i,c),m_;L.data==="$?"||Qm(),a=Om(i,a,l)}else L.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=q.treeContext,kt=Lr(L.nextSibling),Bn=a,dt=!0,za=null,oi=!1,i!==null&&(wr[Er++]=Gi,wr[Er++]=Yi,wr[Er++]=Ua,Gi=i.id,Yi=i.overflow,Ua=a),a=Nm(a,c.children),a.flags|=4096);return a}return g?(Vs(),g=c.fallback,L=a.mode,q=i.child,Z=q.sibling,c=$i(q,{mode:"hidden",children:c.children}),c.subtreeFlags=q.subtreeFlags&65011712,Z!==null?g=$i(Z,g):(g=La(g,L,l,null),g.flags|=2),g.return=a,c.return=a,c.sibling=g,a.child=c,c=g,g=a.child,L=i.child.memoizedState,L===null?L=Rm(l):(q=L.cachePool,q!==null?(Z=sn._currentValue,q=q.parent!==Z?{parent:Z,pool:Z}:q):q=c0(),L={baseLanes:L.baseLanes|l,cachePool:q}),g.memoizedState=L,g.childLanes=Im(i,R,l),a.memoizedState=Cm,c):(ks(a),l=i.child,i=l.sibling,l=$i(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(R=a.deletions,R===null?(a.deletions=[i],a.flags|=16):R.push(i)),a.child=l,a.memoizedState=null,l)}function Nm(i,a){return a=Qd({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function Qd(i,a){return i=nr(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Om(i,a,l){return Qo(a,i.child,null,l),i=Nm(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function T_(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Qp(i.return,a,l)}function Mm(i,a,l,c,g){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=g)}function A_(i,a,l){var c=a.pendingProps,g=c.revealOrder,y=c.tail;if(xn(i,a,c.children,l),c=an.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&T_(i,l,a);else if(i.tag===19)T_(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(pe(an,c),g){case"forwards":for(l=a.child,g=null;l!==null;)i=l.alternate,i!==null&&$d(i)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),Mm(a,!1,g,l,y);break;case"backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(i=g.alternate,i!==null&&$d(i)===null){a.child=g;break}i=g.sibling,g.sibling=l,l=g,g=i}Mm(a,!0,l,null,y);break;case"together":Mm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Zi(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),zs|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(mu(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=$i(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=$i(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Dm(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Id(i)))}function WR(i,a,l){switch(a.tag){case 3:Ye(a,a.stateNode.containerInfo),Ns(a,sn,i.memoizedState.cache),hu();break;case 27:case 5:Nn(a);break;case 4:Ye(a,a.stateNode.containerInfo);break;case 10:Ns(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(ks(a),a.flags|=128,null):(l&a.child.childLanes)!==0?S_(i,a,l):(ks(a),i=Zi(i,a,l),i!==null?i.sibling:null);ks(a);break;case 19:var g=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(mu(i,a,l,!1),c=(l&a.childLanes)!==0),g){if(c)return A_(i,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),pe(an,an.current),c)break;return null;case 22:case 23:return a.lanes=0,b_(i,a,l);case 24:Ns(a,sn,i.memoizedState.cache)}return Zi(i,a,l)}function C_(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)hn=!0;else{if(!Dm(i,l)&&(a.flags&128)===0)return hn=!1,WR(i,a,l);hn=(i.flags&131072)!==0}else hn=!1,dt&&(a.flags&1048576)!==0&&r0(a,Rd,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,g=c._init;if(c=g(c._payload),a.type=c,typeof c=="function")Bp(c)?(i=Ya(c,i),a.tag=1,a=w_(null,a,c,i,l)):(a.tag=0,a=Am(null,a,c,i,l));else{if(c!=null){if(g=c.$$typeof,g===U){a.tag=11,a=g_(null,a,c,i,l);break e}else if(g===P){a.tag=14,a=v_(null,a,c,i,l);break e}}throw a=ie(c)||c,Error(r(306,a,""))}}return a;case 0:return Am(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,g=Ya(c,a.pendingProps),w_(i,a,c,g,l);case 3:e:{if(Ye(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var y=a.memoizedState;g=y.element,nm(i,a),wu(a,c,null,l);var R=a.memoizedState;if(c=R.cache,Ns(a,sn,c),c!==y.cache&&Xp(a,[sn],l,!0),xu(),c=R.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:R.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=E_(i,a,c,l);break e}else if(c!==g){g=_r(Error(r(424)),a),pu(g),a=E_(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(kt=Lr(i.firstChild),Bn=a,dt=!0,za=null,oi=!0,l=s_(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(hu(),c===g){a=Zi(i,a,l);break e}xn(i,a,c,l)}a=a.child}return a;case 26:return Kd(i,a),i===null?(l=Ox(a.type,null,a.pendingProps,null))?a.memoizedState=l:dt||(l=a.type,i=a.pendingProps,c=cf(Ie.current).createElement(l),c[tn]=a,c[Gt]=i,En(c,l,i),Ut(c),a.stateNode=c):a.memoizedState=Ox(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Nn(a),i===null&&dt&&(c=a.stateNode=Rx(a.type,a.pendingProps,Ie.current),Bn=a,oi=!0,g=kt,$s(a.type)?(hg=g,kt=Lr(c.firstChild)):kt=g),xn(i,a,a.pendingProps.children,l),Kd(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&dt&&((g=c=kt)&&(c=TI(c,a.type,a.pendingProps,oi),c!==null?(a.stateNode=c,Bn=a,kt=Lr(c.firstChild),oi=!1,g=!0):g=!1),g||Ba(a)),Nn(a),g=a.type,y=a.pendingProps,R=i!==null?i.memoizedProps:null,c=y.children,ug(g,y)?c=null:R!==null&&ug(g,R)&&(a.flags|=32),a.memoizedState!==null&&(g=lm(i,a,HR,null,null,l),qu._currentValue=g),Kd(i,a),xn(i,a,c,l),a.child;case 6:return i===null&&dt&&((i=l=kt)&&(l=AI(l,a.pendingProps,oi),l!==null?(a.stateNode=l,Bn=a,kt=null,i=!0):i=!1),i||Ba(a)),null;case 13:return S_(i,a,l);case 4:return Ye(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Qo(a,null,c,l):xn(i,a,c,l),a.child;case 11:return g_(i,a,a.type,a.pendingProps,l);case 7:return xn(i,a,a.pendingProps,l),a.child;case 8:return xn(i,a,a.pendingProps.children,l),a.child;case 12:return xn(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Ns(a,a.type,c.value),xn(i,a,c.children,l),a.child;case 9:return g=a.type._context,c=a.pendingProps.children,qa(a),g=On(g),c=c(g),a.flags|=1,xn(i,a,c,l),a.child;case 14:return v_(i,a,a.type,a.pendingProps,l);case 15:return y_(i,a,a.type,a.pendingProps,l);case 19:return A_(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=Qd(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=$i(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return b_(i,a,l);case 24:return qa(a),c=On(sn),i===null?(g=Jp(),g===null&&(g=At,y=Wp(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:c,cache:g},tm(a),Ns(a,sn,g)):((i.lanes&l)!==0&&(nm(i,a),wu(a,null,null,l),xu()),g=i.memoizedState,y=a.memoizedState,g.parent!==c?(g={parent:c,cache:c},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ns(a,sn,c)):(c=y.cache,Ns(a,sn,c),c!==g.cache&&Xp(a,[sn],l,!0))),xn(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ji(i){i.flags|=4}function R_(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Vx(a)){if(a=Sr.current,a!==null&&((ot&4194048)===ot?li!==null:(ot&62914560)!==ot&&(ot&536870912)===0||a!==li))throw bu=em,d0;i.flags|=8192}}function Xd(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Gl():536870912,i.lanes|=a,Jo|=a)}function Iu(i,a){if(!dt)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Mt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags&65011712,c|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)l|=g.lanes|g.childLanes,c|=g.subtreeFlags,c|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function ZR(i,a,l){var c=a.pendingProps;switch(Gp(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mt(a),null;case 1:return Mt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Qi(sn),Lt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(fu(a)?Ji(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,a0())),Mt(a),null;case 26:return l=a.memoizedState,i===null?(Ji(a),l!==null?(Mt(a),R_(a,l)):(Mt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(Ji(a),Mt(a),R_(a,l)):(Mt(a),a.flags&=-16777217):(i.memoizedProps!==c&&Ji(a),Mt(a),a.flags&=-16777217),null;case 27:xe(a),l=Ie.current;var g=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Ji(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Mt(a),null}i=Te.current,fu(a)?i0(a):(i=Rx(g,c,l),a.stateNode=i,Ji(a))}return Mt(a),null;case 5:if(xe(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Ji(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Mt(a),null}if(i=Te.current,fu(a))i0(a);else{switch(g=cf(Ie.current),i){case 1:i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=g.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=g.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=g.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?g.createElement("select",{is:c.is}):g.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?g.createElement(l,{is:c.is}):g.createElement(l)}}i[tn]=a,i[Gt]=c;e:for(g=a.child;g!==null;){if(g.tag===5||g.tag===6)i.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break e;for(;g.sibling===null;){if(g.return===null||g.return===a)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}a.stateNode=i;e:switch(En(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ji(a)}}return Mt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Ji(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=Ie.current,fu(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,g=Bn,g!==null)switch(g.tag){case 27:case 5:c=g.memoizedProps}i[tn]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||xx(i.nodeValue,l)),i||Ba(a)}else i=cf(i).createTextNode(c),i[tn]=a,a.stateNode=i}return Mt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=fu(a),c!==null&&c.dehydrated!==null){if(i===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[tn]=a}else hu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Mt(a),g=!1}else g=a0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(Wi(a),a):(Wi(a),null)}if(Wi(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,g=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(g=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==g&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),Xd(a,a.updateQueue),Mt(a),null;case 4:return Lt(),i===null&&ig(a.stateNode.containerInfo),Mt(a),null;case 10:return Qi(a.type),Mt(a),null;case 19:if(me(an),g=a.memoizedState,g===null)return Mt(a),null;if(c=(a.flags&128)!==0,y=g.rendering,y===null)if(c)Iu(g,!1);else{if(Vt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(y=$d(i),y!==null){for(a.flags|=128,Iu(g,!1),i=y.updateQueue,a.updateQueue=i,Xd(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)n0(l,i),l=l.sibling;return pe(an,an.current&1|2),a.child}i=i.sibling}g.tail!==null&&yn()>Jd&&(a.flags|=128,c=!0,Iu(g,!1),a.lanes=4194304)}else{if(!c)if(i=$d(y),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,Xd(a,i),Iu(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!dt)return Mt(a),null}else 2*yn()-g.renderingStartTime>Jd&&l!==536870912&&(a.flags|=128,c=!0,Iu(g,!1),a.lanes=4194304);g.isBackwards?(y.sibling=a.child,a.child=y):(i=g.last,i!==null?i.sibling=y:a.child=y,g.last=y)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=yn(),a.sibling=null,i=an.current,pe(an,c?i&1|2:i&1),a):(Mt(a),null);case 22:case 23:return Wi(a),am(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Mt(a),a.subtreeFlags&6&&(a.flags|=8192)):Mt(a),l=a.updateQueue,l!==null&&Xd(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&me($a),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Qi(sn),Mt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function JR(i,a){switch(Gp(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Qi(sn),Lt(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return xe(a),null;case 13:if(Wi(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));hu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return me(an),null;case 4:return Lt(),null;case 10:return Qi(a.type),null;case 22:case 23:return Wi(a),am(),i!==null&&me($a),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Qi(sn),null;case 25:return null;default:return null}}function I_(i,a){switch(Gp(a),a.tag){case 3:Qi(sn),Lt();break;case 26:case 27:case 5:xe(a);break;case 4:Lt();break;case 13:Wi(a);break;case 19:me(an);break;case 10:Qi(a.type);break;case 22:case 23:Wi(a),am(),i!==null&&me($a);break;case 24:Qi(sn)}}function Nu(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var g=c.next;l=g;do{if((l.tag&i)===i){c=void 0;var y=l.create,R=l.inst;c=y(),R.destroy=c}l=l.next}while(l!==g)}}catch(L){St(a,a.return,L)}}function js(i,a,l){try{var c=a.updateQueue,g=c!==null?c.lastEffect:null;if(g!==null){var y=g.next;c=y;do{if((c.tag&i)===i){var R=c.inst,L=R.destroy;if(L!==void 0){R.destroy=void 0,g=a;var q=l,Z=L;try{Z()}catch(oe){St(g,q,oe)}}}c=c.next}while(c!==y)}}catch(oe){St(a,a.return,oe)}}function N_(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{v0(a,l)}catch(c){St(i,i.return,c)}}}function O_(i,a,l){l.props=Ya(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){St(i,a,c)}}function Ou(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(g){St(i,a,g)}}function ui(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(g){St(i,a,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){St(i,a,g)}else l.current=null}function M_(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(g){St(i,i.return,g)}}function Pm(i,a,l){try{var c=i.stateNode;_I(c,i.type,l,a),c[Gt]=a}catch(g){St(i,i.return,g)}}function D_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$s(i.type)||i.tag===4}function km(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||D_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$s(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Vm(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=uf));else if(c!==4&&(c===27&&$s(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Vm(i,a,l),i=i.sibling;i!==null;)Vm(i,a,l),i=i.sibling}function Wd(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&$s(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(Wd(i,a,l),i=i.sibling;i!==null;)Wd(i,a,l),i=i.sibling}function P_(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);En(a,c,l),a[tn]=i,a[Gt]=l}catch(y){St(i,i.return,y)}}var es=!1,zt=!1,jm=!1,k_=typeof WeakSet=="function"?WeakSet:Set,pn=null;function eI(i,a){if(i=i.containerInfo,og=gf,i=Gb(i),kp(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var g=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var R=0,L=-1,q=-1,Z=0,oe=0,ce=i,te=null;t:for(;;){for(var ne;ce!==l||g!==0&&ce.nodeType!==3||(L=R+g),ce!==y||c!==0&&ce.nodeType!==3||(q=R+c),ce.nodeType===3&&(R+=ce.nodeValue.length),(ne=ce.firstChild)!==null;)te=ce,ce=ne;for(;;){if(ce===i)break t;if(te===l&&++Z===g&&(L=R),te===y&&++oe===c&&(q=R),(ne=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ne}l=L===-1||q===-1?null:{start:L,end:q}}else l=null}l=l||{start:0,end:0}}else l=null;for(lg={focusedElem:i,selectionRange:l},gf=!1,pn=a;pn!==null;)if(a=pn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,pn=i;else for(;pn!==null;){switch(a=pn,y=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Be=Ya(l.type,g,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Be,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(je){St(l,l.return,je)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)dg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":dg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,pn=i;break}pn=a.return}}function V_(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:Ls(i,l),c&4&&Nu(5,l);break;case 1:if(Ls(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(R){St(l,l.return,R)}else{var g=Ya(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(g,a,i.__reactInternalSnapshotBeforeUpdate)}catch(R){St(l,l.return,R)}}c&64&&N_(l),c&512&&Ou(l,l.return);break;case 3:if(Ls(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{v0(i,a)}catch(R){St(l,l.return,R)}}break;case 27:a===null&&c&4&&P_(l);case 26:case 5:Ls(i,l),a===null&&c&4&&M_(l),c&512&&Ou(l,l.return);break;case 12:Ls(i,l);break;case 13:Ls(i,l),c&4&&U_(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=uI.bind(null,l),CI(i,l))));break;case 22:if(c=l.memoizedState!==null||es,!c){a=a!==null&&a.memoizedState!==null||zt,g=es;var y=zt;es=c,(zt=a)&&!y?Us(i,l,(l.subtreeFlags&8772)!==0):Ls(i,l),es=g,zt=y}break;case 30:break;default:Ls(i,l)}}function j_(i){var a=i.alternate;a!==null&&(i.alternate=null,j_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&As(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Nt=null,Yn=!1;function ts(i,a,l){for(l=l.child;l!==null;)L_(i,a,l),l=l.sibling}function L_(i,a,l){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(Ee,l)}catch{}switch(l.tag){case 26:zt||ui(l,a),ts(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:zt||ui(l,a);var c=Nt,g=Yn;$s(l.type)&&(Nt=l.stateNode,Yn=!1),ts(i,a,l),Fu(l.stateNode),Nt=c,Yn=g;break;case 5:zt||ui(l,a);case 6:if(c=Nt,g=Yn,Nt=null,ts(i,a,l),Nt=c,Yn=g,Nt!==null)if(Yn)try{(Nt.nodeType===9?Nt.body:Nt.nodeName==="HTML"?Nt.ownerDocument.body:Nt).removeChild(l.stateNode)}catch(y){St(l,a,y)}else try{Nt.removeChild(l.stateNode)}catch(y){St(l,a,y)}break;case 18:Nt!==null&&(Yn?(i=Nt,Ax(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Ku(i)):Ax(Nt,l.stateNode));break;case 4:c=Nt,g=Yn,Nt=l.stateNode.containerInfo,Yn=!0,ts(i,a,l),Nt=c,Yn=g;break;case 0:case 11:case 14:case 15:zt||js(2,l,a),zt||js(4,l,a),ts(i,a,l);break;case 1:zt||(ui(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&O_(l,a,c)),ts(i,a,l);break;case 21:ts(i,a,l);break;case 22:zt=(c=zt)||l.memoizedState!==null,ts(i,a,l),zt=c;break;default:ts(i,a,l)}}function U_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ku(i)}catch(l){St(a,a.return,l)}}function tI(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new k_),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new k_),a;default:throw Error(r(435,i.tag))}}function Lm(i,a){var l=tI(i);a.forEach(function(c){var g=cI.bind(null,i,c);l.has(c)||(l.add(c),c.then(g,g))})}function rr(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var g=l[c],y=i,R=a,L=R;e:for(;L!==null;){switch(L.tag){case 27:if($s(L.type)){Nt=L.stateNode,Yn=!1;break e}break;case 5:Nt=L.stateNode,Yn=!1;break e;case 3:case 4:Nt=L.stateNode.containerInfo,Yn=!0;break e}L=L.return}if(Nt===null)throw Error(r(160));L_(y,R,g),Nt=null,Yn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)F_(a,i),a=a.sibling}var jr=null;function F_(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:rr(a,i),ir(i),c&4&&(js(3,i,i.return),Nu(3,i),js(5,i,i.return));break;case 1:rr(a,i),ir(i),c&512&&(zt||l===null||ui(l,l.return)),c&64&&es&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var g=jr;if(rr(a,i),ir(i),c&512&&(zt||l===null||ui(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,g=g.ownerDocument||g;t:switch(c){case"title":y=g.getElementsByTagName("title")[0],(!y||y[wa]||y[tn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(c),g.head.insertBefore(y,g.querySelector("head > title"))),En(y,c,l),y[tn]=i,Ut(y),c=y;break e;case"link":var R=Px("link","href",g).get(c+(l.href||""));if(R){for(var L=0;L<R.length;L++)if(y=R[L],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){R.splice(L,1);break t}}y=g.createElement(c),En(y,c,l),g.head.appendChild(y);break;case"meta":if(R=Px("meta","content",g).get(c+(l.content||""))){for(L=0;L<R.length;L++)if(y=R[L],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){R.splice(L,1);break t}}y=g.createElement(c),En(y,c,l),g.head.appendChild(y);break;default:throw Error(r(468,c))}y[tn]=i,Ut(y),c=y}i.stateNode=c}else kx(g,i.type,i.stateNode);else i.stateNode=Dx(g,c,i.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?kx(g,i.type,i.stateNode):Dx(g,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Pm(i,i.memoizedProps,l.memoizedProps)}break;case 27:rr(a,i),ir(i),c&512&&(zt||l===null||ui(l,l.return)),l!==null&&c&4&&Pm(i,i.memoizedProps,l.memoizedProps);break;case 5:if(rr(a,i),ir(i),c&512&&(zt||l===null||ui(l,l.return)),i.flags&32){g=i.stateNode;try{gr(g,"")}catch(ne){St(i,i.return,ne)}}c&4&&i.stateNode!=null&&(g=i.memoizedProps,Pm(i,g,l!==null?l.memoizedProps:g)),c&1024&&(jm=!0);break;case 6:if(rr(a,i),ir(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ne){St(i,i.return,ne)}}break;case 3:if(hf=null,g=jr,jr=df(a.containerInfo),rr(a,i),jr=g,ir(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Ku(a.containerInfo)}catch(ne){St(i,i.return,ne)}jm&&(jm=!1,z_(i));break;case 4:c=jr,jr=df(i.stateNode.containerInfo),rr(a,i),ir(i),jr=c;break;case 12:rr(a,i),ir(i);break;case 13:rr(a,i),ir(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(qm=yn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Lm(i,c)));break;case 22:g=i.memoizedState!==null;var q=l!==null&&l.memoizedState!==null,Z=es,oe=zt;if(es=Z||g,zt=oe||q,rr(a,i),zt=oe,es=Z,ir(i),c&8192)e:for(a=i.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||q||es||zt||Ka(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){q=l=a;try{if(y=q.stateNode,g)R=y.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{L=q.stateNode;var ce=q.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;L.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){St(q,q.return,ne)}}}else if(a.tag===6){if(l===null){q=a;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(ne){St(q,q.return,ne)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Lm(i,l))));break;case 19:rr(a,i),ir(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Lm(i,c)));break;case 30:break;case 21:break;default:rr(a,i),ir(i)}}function ir(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(D_(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=km(i);Wd(i,y,g);break;case 5:var R=l.stateNode;l.flags&32&&(gr(R,""),l.flags&=-33);var L=km(i);Wd(i,L,R);break;case 3:case 4:var q=l.stateNode.containerInfo,Z=km(i);Vm(i,Z,q);break;default:throw Error(r(161))}}catch(oe){St(i,i.return,oe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function z_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;z_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ls(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)V_(i,a.alternate,a),a=a.sibling}function Ka(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:js(4,a,a.return),Ka(a);break;case 1:ui(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&O_(a,a.return,l),Ka(a);break;case 27:Fu(a.stateNode);case 26:case 5:ui(a,a.return),Ka(a);break;case 22:a.memoizedState===null&&Ka(a);break;case 30:Ka(a);break;default:Ka(a)}i=i.sibling}}function Us(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,g=i,y=a,R=y.flags;switch(y.tag){case 0:case 11:case 15:Us(g,y,l),Nu(4,y);break;case 1:if(Us(g,y,l),c=y,g=c.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Z){St(c,c.return,Z)}if(c=y,g=c.updateQueue,g!==null){var L=c.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)g0(q[g],L)}catch(Z){St(c,c.return,Z)}}l&&R&64&&N_(y),Ou(y,y.return);break;case 27:P_(y);case 26:case 5:Us(g,y,l),l&&c===null&&R&4&&M_(y),Ou(y,y.return);break;case 12:Us(g,y,l);break;case 13:Us(g,y,l),l&&R&4&&U_(g,y);break;case 22:y.memoizedState===null&&Us(g,y,l),Ou(y,y.return);break;case 30:break;default:Us(g,y,l)}a=a.sibling}}function Um(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&gu(l))}function Fm(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&gu(i))}function ci(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)B_(i,a,l,c),a=a.sibling}function B_(i,a,l,c){var g=a.flags;switch(a.tag){case 0:case 11:case 15:ci(i,a,l,c),g&2048&&Nu(9,a);break;case 1:ci(i,a,l,c);break;case 3:ci(i,a,l,c),g&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&gu(i)));break;case 12:if(g&2048){ci(i,a,l,c),i=a.stateNode;try{var y=a.memoizedProps,R=y.id,L=y.onPostCommit;typeof L=="function"&&L(R,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(q){St(a,a.return,q)}}else ci(i,a,l,c);break;case 13:ci(i,a,l,c);break;case 23:break;case 22:y=a.stateNode,R=a.alternate,a.memoizedState!==null?y._visibility&2?ci(i,a,l,c):Mu(i,a):y._visibility&2?ci(i,a,l,c):(y._visibility|=2,Xo(i,a,l,c,(a.subtreeFlags&10256)!==0)),g&2048&&Um(R,a);break;case 24:ci(i,a,l,c),g&2048&&Fm(a.alternate,a);break;default:ci(i,a,l,c)}}function Xo(i,a,l,c,g){for(g=g&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=i,R=a,L=l,q=c,Z=R.flags;switch(R.tag){case 0:case 11:case 15:Xo(y,R,L,q,g),Nu(8,R);break;case 23:break;case 22:var oe=R.stateNode;R.memoizedState!==null?oe._visibility&2?Xo(y,R,L,q,g):Mu(y,R):(oe._visibility|=2,Xo(y,R,L,q,g)),g&&Z&2048&&Um(R.alternate,R);break;case 24:Xo(y,R,L,q,g),g&&Z&2048&&Fm(R.alternate,R);break;default:Xo(y,R,L,q,g)}a=a.sibling}}function Mu(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,g=c.flags;switch(c.tag){case 22:Mu(l,c),g&2048&&Um(c.alternate,c);break;case 24:Mu(l,c),g&2048&&Fm(c.alternate,c);break;default:Mu(l,c)}a=a.sibling}}var Du=8192;function Wo(i){if(i.subtreeFlags&Du)for(i=i.child;i!==null;)H_(i),i=i.sibling}function H_(i){switch(i.tag){case 26:Wo(i),i.flags&Du&&i.memoizedState!==null&&FI(jr,i.memoizedState,i.memoizedProps);break;case 5:Wo(i);break;case 3:case 4:var a=jr;jr=df(i.stateNode.containerInfo),Wo(i),jr=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=Du,Du=16777216,Wo(i),Du=a):Wo(i));break;default:Wo(i)}}function q_(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Pu(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];pn=c,G_(c,i)}q_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)$_(i),i=i.sibling}function $_(i){switch(i.tag){case 0:case 11:case 15:Pu(i),i.flags&2048&&js(9,i,i.return);break;case 3:Pu(i);break;case 12:Pu(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Zd(i)):Pu(i);break;default:Pu(i)}}function Zd(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];pn=c,G_(c,i)}q_(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:js(8,a,a.return),Zd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Zd(a));break;default:Zd(a)}i=i.sibling}}function G_(i,a){for(;pn!==null;){var l=pn;switch(l.tag){case 0:case 11:case 15:js(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:gu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,pn=c;else e:for(l=i;pn!==null;){c=pn;var g=c.sibling,y=c.return;if(j_(c),c===l){pn=null;break e}if(g!==null){g.return=y,pn=g;break e}pn=y}}}var nI={getCacheForType:function(i){var a=On(sn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},rI=typeof WeakMap=="function"?WeakMap:Map,yt=0,At=null,et=null,ot=0,bt=0,sr=null,Fs=!1,Zo=!1,zm=!1,ns=0,Vt=0,zs=0,Qa=0,Bm=0,Tr=0,Jo=0,ku=null,Kn=null,Hm=!1,qm=0,Jd=1/0,ef=null,Bs=null,wn=0,Hs=null,el=null,tl=0,$m=0,Gm=null,Y_=null,Vu=0,Ym=null;function ar(){if((yt&2)!==0&&ot!==0)return ot&-ot;if(H.T!==null){var i=Bo;return i!==0?i:eg()}return Ss()}function K_(){Tr===0&&(Tr=(ot&536870912)===0||dt?$l():536870912);var i=Sr.current;return i!==null&&(i.flags|=32),Tr}function or(i,a,l){(i===At&&(bt===2||bt===9)||i.cancelPendingCommit!==null)&&(nl(i,0),qs(i,ot,Tr,!1)),Pi(i,l),((yt&2)===0||i!==At)&&(i===At&&((yt&2)===0&&(Qa|=l),Vt===4&&qs(i,ot,Tr,!1)),di(i))}function Q_(i,a,l){if((yt&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||Mi(i,a),g=c?aI(i,a):Xm(i,a,!0),y=c;do{if(g===0){Zo&&!c&&qs(i,a,0,!1);break}else{if(l=i.current.alternate,y&&!iI(l)){g=Xm(i,a,!1),y=!1;continue}if(g===2){if(y=a,i.errorRecoveryDisabledLanes&y)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){a=R;e:{var L=i;g=ku;var q=L.current.memoizedState.isDehydrated;if(q&&(nl(L,R).flags|=256),R=Xm(L,R,!1),R!==2){if(zm&&!q){L.errorRecoveryDisabledLanes|=y,Qa|=y,g=4;break e}y=Kn,Kn=g,y!==null&&(Kn===null?Kn=y:Kn.push.apply(Kn,y))}g=R}if(y=!1,g!==2)continue}}if(g===1){nl(i,0),qs(i,a,0,!0);break}e:{switch(c=i,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:qs(c,a,Tr,!Fs);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=qm+300-yn(),10<g)){if(qs(c,a,Tr,!Fs),Oi(c,0,!0)!==0)break e;c.timeoutHandle=Sx(X_.bind(null,c,l,Kn,ef,Hm,a,Tr,Qa,Jo,Fs,y,2,-0,0),g);break e}X_(c,l,Kn,ef,Hm,a,Tr,Qa,Jo,Fs,y,0,-0,0)}}break}while(!0);di(i)}function X_(i,a,l,c,g,y,R,L,q,Z,oe,ce,te,ne){if(i.timeoutHandle=-1,ce=a.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Hu={stylesheets:null,count:0,unsuspend:UI},H_(a),ce=zI(),ce!==null)){i.cancelPendingCommit=ce(rx.bind(null,i,a,y,l,c,g,R,L,q,oe,1,te,ne)),qs(i,y,R,!Z);return}rx(i,a,y,l,c,g,R,L,q)}function iI(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var g=l[c],y=g.getSnapshot;g=g.value;try{if(!tr(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function qs(i,a,l,c){a&=~Bm,a&=~Qa,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var g=a;0<g;){var y=31-vt(g),R=1<<y;c[y]=-1,g&=~R}l!==0&&Xr(i,l,a)}function tf(){return(yt&6)===0?(ju(0),!1):!0}function Km(){if(et!==null){if(bt===0)var i=et.return;else i=et,Ki=Ha=null,dm(i),Ko=null,Cu=0,i=et;for(;i!==null;)I_(i.alternate,i),i=i.return;et=null}}function nl(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,wI(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Km(),At=i,et=l=$i(i.current,null),ot=a,bt=0,sr=null,Fs=!1,Zo=Mi(i,a),zm=!1,Jo=Tr=Bm=Qa=zs=Vt=0,Kn=ku=null,Hm=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var g=31-vt(c),y=1<<g;a|=i[g],c&=~y}return ns=a,Ed(),l}function W_(i,a){Xe=null,H.H=Bd,a===yu||a===Md?(a=p0(),bt=3):a===d0?(a=p0(),bt=4):bt=a===m_?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,sr=a,et===null&&(Vt=1,Yd(i,_r(a,i.current)))}function Z_(){var i=H.H;return H.H=Bd,i===null?Bd:i}function J_(){var i=H.A;return H.A=nI,i}function Qm(){Vt=4,Fs||(ot&4194048)!==ot&&Sr.current!==null||(Zo=!0),(zs&134217727)===0&&(Qa&134217727)===0||At===null||qs(At,ot,Tr,!1)}function Xm(i,a,l){var c=yt;yt|=2;var g=Z_(),y=J_();(At!==i||ot!==a)&&(ef=null,nl(i,a)),a=!1;var R=Vt;e:do try{if(bt!==0&&et!==null){var L=et,q=sr;switch(bt){case 8:Km(),R=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(a=!0);var Z=bt;if(bt=0,sr=null,rl(i,L,q,Z),l&&Zo){R=0;break e}break;default:Z=bt,bt=0,sr=null,rl(i,L,q,Z)}}sI(),R=Vt;break}catch(oe){W_(i,oe)}while(!0);return a&&i.shellSuspendCounter++,Ki=Ha=null,yt=c,H.H=g,H.A=y,et===null&&(At=null,ot=0,Ed()),R}function sI(){for(;et!==null;)ex(et)}function aI(i,a){var l=yt;yt|=2;var c=Z_(),g=J_();At!==i||ot!==a?(ef=null,Jd=yn()+500,nl(i,a)):Zo=Mi(i,a);e:do try{if(bt!==0&&et!==null){a=et;var y=sr;t:switch(bt){case 1:bt=0,sr=null,rl(i,a,y,1);break;case 2:case 9:if(f0(y)){bt=0,sr=null,tx(a);break}a=function(){bt!==2&&bt!==9||At!==i||(bt=7),di(i)},y.then(a,a);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:f0(y)?(bt=0,sr=null,tx(a)):(bt=0,sr=null,rl(i,a,y,7));break;case 5:var R=null;switch(et.tag){case 26:R=et.memoizedState;case 5:case 27:var L=et;if(!R||Vx(R)){bt=0,sr=null;var q=L.sibling;if(q!==null)et=q;else{var Z=L.return;Z!==null?(et=Z,nf(Z)):et=null}break t}}bt=0,sr=null,rl(i,a,y,5);break;case 6:bt=0,sr=null,rl(i,a,y,6);break;case 8:Km(),Vt=6;break e;default:throw Error(r(462))}}oI();break}catch(oe){W_(i,oe)}while(!0);return Ki=Ha=null,H.H=c,H.A=g,yt=l,et!==null?0:(At=null,ot=0,Ed(),Vt)}function oI(){for(;et!==null&&!Ct();)ex(et)}function ex(i){var a=C_(i.alternate,i,ns);i.memoizedProps=i.pendingProps,a===null?nf(i):et=a}function tx(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=x_(l,a,a.pendingProps,a.type,void 0,ot);break;case 11:a=x_(l,a,a.pendingProps,a.type.render,a.ref,ot);break;case 5:dm(a);default:I_(l,a),a=et=n0(a,ns),a=C_(l,a,ns)}i.memoizedProps=i.pendingProps,a===null?nf(i):et=a}function rl(i,a,l,c){Ki=Ha=null,dm(a),Ko=null,Cu=0;var g=a.return;try{if(XR(i,g,a,l,ot)){Vt=1,Yd(i,_r(l,i.current)),et=null;return}}catch(y){if(g!==null)throw et=g,y;Vt=1,Yd(i,_r(l,i.current)),et=null;return}a.flags&32768?(dt||c===1?i=!0:Zo||(ot&536870912)!==0?i=!1:(Fs=i=!0,(c===2||c===9||c===3||c===6)&&(c=Sr.current,c!==null&&c.tag===13&&(c.flags|=16384))),nx(a,i)):nf(a)}function nf(i){var a=i;do{if((a.flags&32768)!==0){nx(a,Fs);return}i=a.return;var l=ZR(a.alternate,a,ns);if(l!==null){et=l;return}if(a=a.sibling,a!==null){et=a;return}et=a=i}while(a!==null);Vt===0&&(Vt=5)}function nx(i,a){do{var l=JR(i.alternate,i);if(l!==null){l.flags&=32767,et=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){et=i;return}et=i=l}while(i!==null);Vt=6,et=null}function rx(i,a,l,c,g,y,R,L,q){i.cancelPendingCommit=null;do rf();while(wn!==0);if((yt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=Fp,Yl(i,l,y,R,L,q),i===At&&(et=At=null,ot=0),el=a,Hs=i,tl=l,$m=y,Gm=g,Y_=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,dI(J,function(){return lx(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=H.T,H.T=null,g=se.p,se.p=2,R=yt,yt|=4;try{eI(i,a,l)}finally{yt=R,se.p=g,H.T=c}}wn=1,ix(),sx(),ax()}}function ix(){if(wn===1){wn=0;var i=Hs,a=el,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var c=se.p;se.p=2;var g=yt;yt|=4;try{F_(a,i);var y=lg,R=Gb(i.containerInfo),L=y.focusedElem,q=y.selectionRange;if(R!==L&&L&&L.ownerDocument&&$b(L.ownerDocument.documentElement,L)){if(q!==null&&kp(L)){var Z=q.start,oe=q.end;if(oe===void 0&&(oe=Z),"selectionStart"in L)L.selectionStart=Z,L.selectionEnd=Math.min(oe,L.value.length);else{var ce=L.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Be=L.textContent.length,je=Math.min(q.start,Be),Et=q.end===void 0?je:Math.min(q.end,Be);!ne.extend&&je>Et&&(R=Et,Et=je,je=R);var Q=qb(L,je),K=qb(L,Et);if(Q&&K&&(ne.rangeCount!==1||ne.anchorNode!==Q.node||ne.anchorOffset!==Q.offset||ne.focusNode!==K.node||ne.focusOffset!==K.offset)){var W=ce.createRange();W.setStart(Q.node,Q.offset),ne.removeAllRanges(),je>Et?(ne.addRange(W),ne.extend(K.node,K.offset)):(W.setEnd(K.node,K.offset),ne.addRange(W))}}}}for(ce=[],ne=L;ne=ne.parentNode;)ne.nodeType===1&&ce.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<ce.length;L++){var ue=ce[L];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}gf=!!og,lg=og=null}finally{yt=g,se.p=c,H.T=l}}i.current=a,wn=2}}function sx(){if(wn===2){wn=0;var i=Hs,a=el,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var c=se.p;se.p=2;var g=yt;yt|=4;try{V_(i,a.alternate,a)}finally{yt=g,se.p=c,H.T=l}}wn=3}}function ax(){if(wn===4||wn===3){wn=0,Ci();var i=Hs,a=el,l=tl,c=Y_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?wn=5:(wn=0,el=Hs=null,ox(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Bs=null),_o(l),a=a.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(Ee,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=H.T,g=se.p,se.p=2,H.T=null;try{for(var y=i.onRecoverableError,R=0;R<c.length;R++){var L=c[R];y(L.value,{componentStack:L.stack})}}finally{H.T=a,se.p=g}}(tl&3)!==0&&rf(),di(i),g=i.pendingLanes,(l&4194090)!==0&&(g&42)!==0?i===Ym?Vu++:(Vu=0,Ym=i):Vu=0,ju(0)}}function ox(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,gu(a)))}function rf(i){return ix(),sx(),ax(),lx()}function lx(){if(wn!==5)return!1;var i=Hs,a=$m;$m=0;var l=_o(tl),c=H.T,g=se.p;try{se.p=32>l?32:l,H.T=null,l=Gm,Gm=null;var y=Hs,R=tl;if(wn=0,el=Hs=null,tl=0,(yt&6)!==0)throw Error(r(331));var L=yt;if(yt|=4,$_(y.current),B_(y,y.current,R,l),yt=L,ju(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(Ee,y)}catch{}return!0}finally{se.p=g,H.T=c,ox(i,a)}}function ux(i,a,l){a=_r(l,a),a=Tm(i.stateNode,a,2),i=Ds(i,a,2),i!==null&&(Pi(i,2),di(i))}function St(i,a,l){if(i.tag===3)ux(i,i,l);else for(;a!==null;){if(a.tag===3){ux(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Bs===null||!Bs.has(c))){i=_r(l,i),l=h_(2),c=Ds(a,l,2),c!==null&&(p_(l,c,a,i),Pi(c,2),di(c));break}}a=a.return}}function Wm(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new rI;var g=new Set;c.set(a,g)}else g=c.get(a),g===void 0&&(g=new Set,c.set(a,g));g.has(l)||(zm=!0,g.add(l),i=lI.bind(null,i,a,l),a.then(i,i))}function lI(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,At===i&&(ot&l)===l&&(Vt===4||Vt===3&&(ot&62914560)===ot&&300>yn()-qm?(yt&2)===0&&nl(i,0):Bm|=l,Jo===ot&&(Jo=0)),di(i)}function cx(i,a){a===0&&(a=Gl()),i=Lo(i,a),i!==null&&(Pi(i,a),di(i))}function uI(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),cx(i,l)}function cI(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,g=i.memoizedState;g!==null&&(l=g.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),cx(i,l)}function dI(i,a){return Ge(i,a)}var sf=null,il=null,Zm=!1,af=!1,Jm=!1,Xa=0;function di(i){i!==il&&i.next===null&&(il===null?sf=il=i:il=il.next=i),af=!0,Zm||(Zm=!0,hI())}function ju(i,a){if(!Jm&&af){Jm=!0;do for(var l=!1,c=sf;c!==null;){if(i!==0){var g=c.pendingLanes;if(g===0)var y=0;else{var R=c.suspendedLanes,L=c.pingedLanes;y=(1<<31-vt(42|i)+1)-1,y&=g&~(R&~L),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,px(c,y))}else y=ot,y=Oi(c,c===At?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Mi(c,y)||(l=!0,px(c,y));c=c.next}while(l);Jm=!1}}function fI(){dx()}function dx(){af=Zm=!1;var i=0;Xa!==0&&(xI()&&(i=Xa),Xa=0);for(var a=yn(),l=null,c=sf;c!==null;){var g=c.next,y=fx(c,a);y===0?(c.next=null,l===null?sf=g:l.next=g,g===null&&(il=l)):(l=c,(i!==0||(y&3)!==0)&&(af=!0)),c=g}ju(i)}function fx(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,g=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var R=31-vt(y),L=1<<R,q=g[R];q===-1?((L&l)===0||(L&c)!==0)&&(g[R]=ws(L,a)):q<=a&&(i.expiredLanes|=L),y&=~L}if(a=At,l=ot,l=Oi(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(bt===2||bt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&Ze(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||Mi(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&Ze(c),_o(l)){case 2:case 8:l=G;break;case 32:l=J;break;case 268435456:l=ve;break;default:l=J}return c=hx.bind(null,i),l=Ge(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&Ze(c),i.callbackPriority=2,i.callbackNode=null,2}function hx(i,a){if(wn!==0&&wn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(rf()&&i.callbackNode!==l)return null;var c=ot;return c=Oi(i,i===At?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Q_(i,c,a),fx(i,yn()),i.callbackNode!=null&&i.callbackNode===l?hx.bind(null,i):null)}function px(i,a){if(rf())return null;Q_(i,a,!0)}function hI(){EI(function(){(yt&6)!==0?Ge(Qr,fI):dx()})}function eg(){return Xa===0&&(Xa=$l()),Xa}function mx(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ao(""+i)}function gx(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function pI(i,a,l,c,g){if(a==="submit"&&l&&l.stateNode===g){var y=mx((g[Gt]||null).action),R=c.submitter;R&&(a=(a=R[Gt]||null)?mx(a.formAction):R.getAttribute("formAction"),a!==null&&(y=a,R=null));var L=new Co("action","action",null,c,g);i.push({event:L,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Xa!==0){var q=R?gx(g,R):new FormData(g);_m(l,{pending:!0,data:q,method:g.method,action:y},null,q)}}else typeof y=="function"&&(L.preventDefault(),q=R?gx(g,R):new FormData(g),_m(l,{pending:!0,data:q,method:g.method,action:y},y,q))},currentTarget:g}]})}}for(var tg=0;tg<Up.length;tg++){var ng=Up[tg],mI=ng.toLowerCase(),gI=ng[0].toUpperCase()+ng.slice(1);Vr(mI,"on"+gI)}Vr(Qb,"onAnimationEnd"),Vr(Xb,"onAnimationIteration"),Vr(Wb,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(DR,"onTransitionRun"),Vr(PR,"onTransitionStart"),Vr(kR,"onTransitionCancel"),Vr(Zb,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lu));function vx(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],g=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var R=c.length-1;0<=R;R--){var L=c[R],q=L.instance,Z=L.currentTarget;if(L=L.listener,q!==y&&g.isPropagationStopped())break e;y=L,g.currentTarget=Z;try{y(g)}catch(oe){Gd(oe)}g.currentTarget=null,y=q}else for(R=0;R<c.length;R++){if(L=c[R],q=L.instance,Z=L.currentTarget,L=L.listener,q!==y&&g.isPropagationStopped())break e;y=L,g.currentTarget=Z;try{y(g)}catch(oe){Gd(oe)}g.currentTarget=null,y=q}}}}function tt(i,a){var l=a[Ql];l===void 0&&(l=a[Ql]=new Set);var c=i+"__bubble";l.has(c)||(yx(a,i,2,!1),l.add(c))}function rg(i,a,l){var c=0;a&&(c|=4),yx(l,i,c,a)}var of="_reactListening"+Math.random().toString(36).slice(2);function ig(i){if(!i[of]){i[of]=!0,Xl.forEach(function(l){l!=="selectionchange"&&(vI.has(l)||rg(l,!1,i),rg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[of]||(a[of]=!0,rg("selectionchange",!1,a))}}function yx(i,a,l,c){switch(Bx(a)){case 2:var g=qI;break;case 8:g=$I;break;default:g=yg}l=g.bind(null,a,l,i),g=void 0,!yr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),c?g!==void 0?i.addEventListener(a,l,{capture:!0,passive:g}):i.addEventListener(a,l,!0):g!==void 0?i.addEventListener(a,l,{passive:g}):i.addEventListener(a,l,!1)}function sg(i,a,l,c,g){var y=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var R=c.tag;if(R===3||R===4){var L=c.stateNode.containerInfo;if(L===g)break;if(R===4)for(R=c.return;R!==null;){var q=R.tag;if((q===3||q===4)&&R.stateNode.containerInfo===g)return;R=R.return}for(;L!==null;){if(R=ki(L),R===null)return;if(q=R.tag,q===5||q===6||q===26||q===27){c=y=R;continue e}L=L.parentNode}}c=c.return}ld(function(){var Z=y,oe=vr(l),ce=[];e:{var te=Jb.get(i);if(te!==void 0){var ne=Co,Be=i;switch(i){case"keypress":if(ni(l)===0)break e;case"keydown":case"keyup":ne=Do;break;case"focusin":Be="focus",ne=No;break;case"focusout":Be="blur",ne=No;break;case"beforeblur":case"afterblur":ne=No;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=br;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=Op;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=gd;break;case Qb:case Xb:case Wb:ne=Oo;break;case Zb:ne=yd;break;case"scroll":case"scrollend":ne=ud;break;case"wheel":ne=Po;break;case"copy":case"cut":case"paste":ne=Mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=lu;break;case"toggle":case"beforetoggle":ne=_d}var je=(a&4)!==0,Et=!je&&(i==="scroll"||i==="scrollend"),Q=je?te!==null?te+"Capture":null:te;je=[];for(var K=Z,W;K!==null;){var ue=K;if(W=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||W===null||Q===null||(ue=Ia(K,Q),ue!=null&&je.push(Uu(K,ue,W))),Et)break;K=K.return}0<je.length&&(te=new ne(te,Be,null,l,oe),ce.push({event:te,listeners:je}))}}if((a&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ne=i==="mouseout"||i==="pointerout",te&&l!==Ui&&(Be=l.relatedTarget||l.fromElement)&&(ki(Be)||Be[mr]))break e;if((ne||te)&&(te=oe.window===oe?oe:(te=oe.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Be=l.relatedTarget||l.toElement,ne=Z,Be=Be?ki(Be):null,Be!==null&&(Et=o(Be),je=Be.tag,Be!==Et||je!==5&&je!==27&&je!==6)&&(Be=null)):(ne=null,Be=Z),ne!==Be)){if(je=br,ue="onMouseLeave",Q="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(je=lu,ue="onPointerLeave",Q="onPointerEnter",K="pointer"),Et=ne==null?te:Zr(ne),W=Be==null?te:Zr(Be),te=new je(ue,K+"leave",ne,l,oe),te.target=Et,te.relatedTarget=W,ue=null,ki(oe)===Z&&(je=new je(Q,K+"enter",Be,l,oe),je.target=W,je.relatedTarget=Et,ue=je),Et=ue,ne&&Be)t:{for(je=ne,Q=Be,K=0,W=je;W;W=sl(W))K++;for(W=0,ue=Q;ue;ue=sl(ue))W++;for(;0<K-W;)je=sl(je),K--;for(;0<W-K;)Q=sl(Q),W--;for(;K--;){if(je===Q||Q!==null&&je===Q.alternate)break t;je=sl(je),Q=sl(Q)}je=null}else je=null;ne!==null&&bx(ce,te,ne,je,!1),Be!==null&&Et!==null&&bx(ce,Et,Be,je,!0)}}e:{if(te=Z?Zr(Z):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Re=Lb;else if(rn(te))if(Ub)Re=NR;else{Re=RR;var Je=CR}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?Z&&tu(Z.elementType)&&(Re=Lb):Re=IR;if(Re&&(Re=Re(i,Z))){qi(ce,Re,l,oe);break e}Je&&Je(i,te,Z),i==="focusout"&&Z&&te.type==="number"&&Z.memoizedProps.value!=null&&Rs(te,"number",te.value)}switch(Je=Z?Zr(Z):window,i){case"focusin":(rn(Je)||Je.contentEditable==="true")&&(ko=Je,Vp=Z,du=null);break;case"focusout":du=Vp=ko=null;break;case"mousedown":jp=!0;break;case"contextmenu":case"mouseup":case"dragend":jp=!1,Yb(ce,l,oe);break;case"selectionchange":if(MR)break;case"keydown":case"keyup":Yb(ce,l,oe)}var Oe;if(si)e:{switch(i){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else st?re(i,l)&&(Le="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Le="onCompositionStart");Le&&(A&&l.locale!=="ko"&&(st||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&st&&(Oe=ru()):(ti=oe,Is="value"in ti?ti.value:ti.textContent,st=!0)),Je=lf(Z,Le),0<Je.length&&(Le=new au(Le,i,null,l,oe),ce.push({event:Le,listeners:Je}),Oe?Le.data=Oe:(Oe=be(l),Oe!==null&&(Le.data=Oe)))),(Oe=x?nn(i,l):at(i,l))&&(Le=lf(Z,"onBeforeInput"),0<Le.length&&(Je=new au("onBeforeInput","beforeinput",null,l,oe),ce.push({event:Je,listeners:Le}),Je.data=Oe)),pI(ce,i,Z,l,oe)}vx(ce,a)})}function Uu(i,a,l){return{instance:i,listener:a,currentTarget:l}}function lf(i,a){for(var l=a+"Capture",c=[];i!==null;){var g=i,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Ia(i,l),g!=null&&c.unshift(Uu(i,g,y)),g=Ia(i,a),g!=null&&c.push(Uu(i,g,y))),i.tag===3)return c;i=i.return}return[]}function sl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function bx(i,a,l,c,g){for(var y=a._reactName,R=[];l!==null&&l!==c;){var L=l,q=L.alternate,Z=L.stateNode;if(L=L.tag,q!==null&&q===c)break;L!==5&&L!==26&&L!==27||Z===null||(q=Z,g?(Z=Ia(l,y),Z!=null&&R.unshift(Uu(l,Z,q))):g||(Z=Ia(l,y),Z!=null&&R.push(Uu(l,Z,q)))),l=l.return}R.length!==0&&i.push({event:a,listeners:R})}var yI=/\r\n?/g,bI=/\u0000|\uFFFD/g;function _x(i){return(typeof i=="string"?i:""+i).replace(yI,`
`).replace(bI,"")}function xx(i,a){return a=_x(a),_x(i)===a}function uf(){}function wt(i,a,l,c,g,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||gr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&gr(i,""+c);break;case"className":Jr(i,"class",c);break;case"tabIndex":Jr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Jr(i,l,c);break;case"style":eu(i,c,y);break;case"data":if(a!=="object"){Jr(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ao(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&wt(i,a,"name",g.name,g,null),wt(i,a,"formEncType",g.formEncType,g,null),wt(i,a,"formMethod",g.formMethod,g,null),wt(i,a,"formTarget",g.formTarget,g,null)):(wt(i,a,"encType",g.encType,g,null),wt(i,a,"method",g.method,g,null),wt(i,a,"target",g.target,g,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Ao(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=uf);break;case"onScroll":c!=null&&tt("scroll",i);break;case"onScrollEnd":c!=null&&tt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Ao(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":tt("beforetoggle",i),tt("toggle",i),Cs(i,"popover",c);break;case"xlinkActuate":bn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":bn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":bn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":bn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":bn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":bn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":bn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":bn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":bn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Cs(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ip.get(l)||l,Cs(i,l,c))}}function ag(i,a,l,c,g,y){switch(l){case"style":eu(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(g.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?gr(i,c):(typeof c=="number"||typeof c=="bigint")&&gr(i,""+c);break;case"onScroll":c!=null&&tt("scroll",i);break;case"onScrollEnd":c!=null&&tt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=uf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=i[Gt]||null,y=y!=null?y[l]:null,typeof y=="function"&&i.removeEventListener(a,y,g),typeof c=="function")){typeof y!="function"&&y!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,g);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Cs(i,l,c)}}}function En(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",i),tt("load",i);var c=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var R=l[y];if(R!=null)switch(y){case"src":c=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:wt(i,a,y,R,l,null)}}g&&wt(i,a,"srcSet",l.srcSet,l,null),c&&wt(i,a,"src",l.src,l,null);return;case"input":tt("invalid",i);var L=y=R=g=null,q=null,Z=null;for(c in l)if(l.hasOwnProperty(c)){var oe=l[c];if(oe!=null)switch(c){case"name":g=oe;break;case"type":R=oe;break;case"checked":q=oe;break;case"defaultChecked":Z=oe;break;case"value":y=oe;break;case"defaultValue":L=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(r(137,a));break;default:wt(i,a,c,oe,l,null)}}Aa(i,y,L,q,Z,R,g,!1),To(i);return;case"select":tt("invalid",i),c=R=y=null;for(g in l)if(l.hasOwnProperty(g)&&(L=l[g],L!=null))switch(g){case"value":y=L;break;case"defaultValue":R=L;break;case"multiple":c=L;default:wt(i,a,g,L,l,null)}a=y,l=R,i.multiple=!!c,a!=null?Li(i,!!c,a,!1):l!=null&&Li(i,!!c,l,!0);return;case"textarea":tt("invalid",i),y=g=c=null;for(R in l)if(l.hasOwnProperty(R)&&(L=l[R],L!=null))switch(R){case"value":c=L;break;case"defaultValue":g=L;break;case"children":y=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:wt(i,a,R,L,l,null)}Ca(i,c,g,y),To(i);return;case"option":for(q in l)if(l.hasOwnProperty(q)&&(c=l[q],c!=null))switch(q){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:wt(i,a,q,c,l,null)}return;case"dialog":tt("beforetoggle",i),tt("toggle",i),tt("cancel",i),tt("close",i);break;case"iframe":case"object":tt("load",i);break;case"video":case"audio":for(c=0;c<Lu.length;c++)tt(Lu[c],i);break;case"image":tt("error",i),tt("load",i);break;case"details":tt("toggle",i);break;case"embed":case"source":case"link":tt("error",i),tt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in l)if(l.hasOwnProperty(Z)&&(c=l[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:wt(i,a,Z,c,l,null)}return;default:if(tu(a)){for(oe in l)l.hasOwnProperty(oe)&&(c=l[oe],c!==void 0&&ag(i,a,oe,c,l,void 0));return}}for(L in l)l.hasOwnProperty(L)&&(c=l[L],c!=null&&wt(i,a,L,c,l,null))}function _I(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,R=null,L=null,q=null,Z=null,oe=null;for(ne in l){var ce=l[ne];if(l.hasOwnProperty(ne)&&ce!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":q=ce;default:c.hasOwnProperty(ne)||wt(i,a,ne,null,c,ce)}}for(var te in c){var ne=c[te];if(ce=l[te],c.hasOwnProperty(te)&&(ne!=null||ce!=null))switch(te){case"type":y=ne;break;case"name":g=ne;break;case"checked":Z=ne;break;case"defaultChecked":oe=ne;break;case"value":R=ne;break;case"defaultValue":L=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:ne!==ce&&wt(i,a,te,ne,c,ce)}}er(i,R,L,q,Z,oe,y,g);return;case"select":ne=R=L=te=null;for(y in l)if(q=l[y],l.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":ne=q;default:c.hasOwnProperty(y)||wt(i,a,y,null,c,q)}for(g in c)if(y=c[g],q=l[g],c.hasOwnProperty(g)&&(y!=null||q!=null))switch(g){case"value":te=y;break;case"defaultValue":L=y;break;case"multiple":R=y;default:y!==q&&wt(i,a,g,y,c,q)}a=L,l=R,c=ne,te!=null?Li(i,!!l,te,!1):!!c!=!!l&&(a!=null?Li(i,!!l,a,!0):Li(i,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(L in l)if(g=l[L],l.hasOwnProperty(L)&&g!=null&&!c.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:wt(i,a,L,null,c,g)}for(R in c)if(g=c[R],y=l[R],c.hasOwnProperty(R)&&(g!=null||y!=null))switch(R){case"value":te=g;break;case"defaultValue":ne=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&wt(i,a,R,g,c,y)}_t(i,te,ne);return;case"option":for(var Be in l)if(te=l[Be],l.hasOwnProperty(Be)&&te!=null&&!c.hasOwnProperty(Be))switch(Be){case"selected":i.selected=!1;break;default:wt(i,a,Be,null,c,te)}for(q in c)if(te=c[q],ne=l[q],c.hasOwnProperty(q)&&te!==ne&&(te!=null||ne!=null))switch(q){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:wt(i,a,q,te,c,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in l)te=l[je],l.hasOwnProperty(je)&&te!=null&&!c.hasOwnProperty(je)&&wt(i,a,je,null,c,te);for(Z in c)if(te=c[Z],ne=l[Z],c.hasOwnProperty(Z)&&te!==ne&&(te!=null||ne!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,a));break;default:wt(i,a,Z,te,c,ne)}return;default:if(tu(a)){for(var Et in l)te=l[Et],l.hasOwnProperty(Et)&&te!==void 0&&!c.hasOwnProperty(Et)&&ag(i,a,Et,void 0,c,te);for(oe in c)te=c[oe],ne=l[oe],!c.hasOwnProperty(oe)||te===ne||te===void 0&&ne===void 0||ag(i,a,oe,te,c,ne);return}}for(var Q in l)te=l[Q],l.hasOwnProperty(Q)&&te!=null&&!c.hasOwnProperty(Q)&&wt(i,a,Q,null,c,te);for(ce in c)te=c[ce],ne=l[ce],!c.hasOwnProperty(ce)||te===ne||te==null&&ne==null||wt(i,a,ce,te,c,ne)}var og=null,lg=null;function cf(i){return i.nodeType===9?i:i.ownerDocument}function wx(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ex(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function ug(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var cg=null;function xI(){var i=window.event;return i&&i.type==="popstate"?i===cg?!1:(cg=i,!0):(cg=null,!1)}var Sx=typeof setTimeout=="function"?setTimeout:void 0,wI=typeof clearTimeout=="function"?clearTimeout:void 0,Tx=typeof Promise=="function"?Promise:void 0,EI=typeof queueMicrotask=="function"?queueMicrotask:typeof Tx<"u"?function(i){return Tx.resolve(null).then(i).catch(SI)}:Sx;function SI(i){setTimeout(function(){throw i})}function $s(i){return i==="head"}function Ax(i,a){var l=a,c=0,g=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<c&&8>c){l=c;var R=i.ownerDocument;if(l&1&&Fu(R.documentElement),l&2&&Fu(R.body),l&4)for(l=R.head,Fu(l),R=l.firstChild;R;){var L=R.nextSibling,q=R.nodeName;R[wa]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&R.rel.toLowerCase()==="stylesheet"||l.removeChild(R),R=L}}if(g===0){i.removeChild(y),Ku(a);return}g--}else l==="$"||l==="$?"||l==="$!"?g++:c=l.charCodeAt(0)-48;else c=0;l=y}while(l);Ku(a)}function dg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":dg(l),As(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function TI(i,a,l,c){for(;i.nodeType===1;){var g=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[wa])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Lr(i.nextSibling),i===null)break}return null}function AI(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Lr(i.nextSibling),i===null))return null;return i}function fg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function CI(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function Lr(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var hg=null;function Cx(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function Rx(i,a,l){switch(a=cf(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Fu(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);As(i)}var Ar=new Map,Ix=new Set;function df(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var rs=se.d;se.d={f:RI,r:II,D:NI,C:OI,L:MI,m:DI,X:kI,S:PI,M:VI};function RI(){var i=rs.f(),a=tf();return i||a}function II(i){var a=Wr(i);a!==null&&a.tag===5&&a.type==="form"?Q0(a):rs.r(i)}var al=typeof document>"u"?null:document;function Nx(i,a,l){var c=al;if(c&&typeof a=="string"&&a){var g=Yt(a);g='link[rel="'+i+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),Ix.has(g)||(Ix.add(g),i={rel:i,crossOrigin:l,href:a},c.querySelector(g)===null&&(a=c.createElement("link"),En(a,"link",i),Ut(a),c.head.appendChild(a)))}}function NI(i){rs.D(i),Nx("dns-prefetch",i,null)}function OI(i,a){rs.C(i,a),Nx("preconnect",i,a)}function MI(i,a,l){rs.L(i,a,l);var c=al;if(c&&i&&a){var g='link[rel="preload"][as="'+Yt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Yt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Yt(l.imageSizes)+'"]')):g+='[href="'+Yt(i)+'"]';var y=g;switch(a){case"style":y=ol(i);break;case"script":y=ll(i)}Ar.has(y)||(i=m({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Ar.set(y,i),c.querySelector(g)!==null||a==="style"&&c.querySelector(zu(y))||a==="script"&&c.querySelector(Bu(y))||(a=c.createElement("link"),En(a,"link",i),Ut(a),c.head.appendChild(a)))}}function DI(i,a){rs.m(i,a);var l=al;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Yt(c)+'"][href="'+Yt(i)+'"]',y=g;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ll(i)}if(!Ar.has(y)&&(i=m({rel:"modulepreload",href:i},a),Ar.set(y,i),l.querySelector(g)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Bu(y)))return}c=l.createElement("link"),En(c,"link",i),Ut(c),l.head.appendChild(c)}}}function PI(i,a,l){rs.S(i,a,l);var c=al;if(c&&i){var g=Un(c).hoistableStyles,y=ol(i);a=a||"default";var R=g.get(y);if(!R){var L={loading:0,preload:null};if(R=c.querySelector(zu(y)))L.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Ar.get(y))&&pg(i,l);var q=R=c.createElement("link");Ut(q),En(q,"link",i),q._p=new Promise(function(Z,oe){q.onload=Z,q.onerror=oe}),q.addEventListener("load",function(){L.loading|=1}),q.addEventListener("error",function(){L.loading|=2}),L.loading|=4,ff(R,a,c)}R={type:"stylesheet",instance:R,count:1,state:L},g.set(y,R)}}}function kI(i,a){rs.X(i,a);var l=al;if(l&&i){var c=Un(l).hoistableScripts,g=ll(i),y=c.get(g);y||(y=l.querySelector(Bu(g)),y||(i=m({src:i,async:!0},a),(a=Ar.get(g))&&mg(i,a),y=l.createElement("script"),Ut(y),En(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function VI(i,a){rs.M(i,a);var l=al;if(l&&i){var c=Un(l).hoistableScripts,g=ll(i),y=c.get(g);y||(y=l.querySelector(Bu(g)),y||(i=m({src:i,async:!0,type:"module"},a),(a=Ar.get(g))&&mg(i,a),y=l.createElement("script"),Ut(y),En(y,"link",i),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(g,y))}}function Ox(i,a,l,c){var g=(g=Ie.current)?df(g):null;if(!g)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ol(l.href),l=Un(g).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=ol(l.href);var y=Un(g).hoistableStyles,R=y.get(i);if(R||(g=g.ownerDocument||g,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,R),(y=g.querySelector(zu(i)))&&!y._p&&(R.instance=y,R.state.loading=5),Ar.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ar.set(i,l),y||jI(g,i,l,R.state))),a&&c===null)throw Error(r(528,""));return R}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ll(l),l=Un(g).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ol(i){return'href="'+Yt(i)+'"'}function zu(i){return'link[rel="stylesheet"]['+i+"]"}function Mx(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function jI(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),En(a,"link",l),Ut(a),i.head.appendChild(a))}function ll(i){return'[src="'+Yt(i)+'"]'}function Bu(i){return"script[async]"+i}function Dx(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Yt(l.href)+'"]');if(c)return a.instance=c,Ut(c),c;var g=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Ut(c),En(c,"style",g),ff(c,l.precedence,i),a.instance=c;case"stylesheet":g=ol(l.href);var y=i.querySelector(zu(g));if(y)return a.state.loading|=4,a.instance=y,Ut(y),y;c=Mx(l),(g=Ar.get(g))&&pg(c,g),y=(i.ownerDocument||i).createElement("link"),Ut(y);var R=y;return R._p=new Promise(function(L,q){R.onload=L,R.onerror=q}),En(y,"link",c),a.state.loading|=4,ff(y,l.precedence,i),a.instance=y;case"script":return y=ll(l.src),(g=i.querySelector(Bu(y)))?(a.instance=g,Ut(g),g):(c=l,(g=Ar.get(y))&&(c=m({},l),mg(c,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ut(g),En(g,"link",c),i.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,ff(c,l.precedence,i));return a.instance}function ff(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=c.length?c[c.length-1]:null,y=g,R=0;R<c.length;R++){var L=c[R];if(L.dataset.precedence===a)y=L;else if(y!==g)break}y?y.parentNode.insertBefore(i,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function pg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function mg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var hf=null;function Px(i,a,l){if(hf===null){var c=new Map,g=hf=new Map;g.set(l,c)}else g=hf,c=g.get(l),c||(c=new Map,g.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),g=0;g<l.length;g++){var y=l[g];if(!(y[wa]||y[tn]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var R=y.getAttribute(a)||"";R=i+R;var L=c.get(R);L?L.push(y):c.set(R,[y])}}return c}function kx(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function LI(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Vx(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Hu=null;function UI(){}function FI(i,a,l){if(Hu===null)throw Error(r(475));var c=Hu;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=ol(l.href),y=i.querySelector(zu(g));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=pf.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=y,Ut(y);return}y=i.ownerDocument||i,l=Mx(l),(g=Ar.get(g))&&pg(l,g),y=y.createElement("link"),Ut(y);var R=y;R._p=new Promise(function(L,q){R.onload=L,R.onerror=q}),En(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=pf.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function zI(){if(Hu===null)throw Error(r(475));var i=Hu;return i.stylesheets&&i.count===0&&gg(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&gg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function pf(){if(this.count--,this.count===0){if(this.stylesheets)gg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var mf=null;function gg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,mf=new Map,a.forEach(BI,i),mf=null,pf.call(i))}function BI(i,a){if(!(a.state.loading&4)){var l=mf.get(i);if(l)var c=l.get(null);else{l=new Map,mf.set(i,l);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var R=g[y];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(l.set(R.dataset.precedence,R),c=R)}c&&l.set(null,c)}g=a.instance,R=g.getAttribute("data-precedence"),y=l.get(R)||c,y===c&&l.set(null,g),l.set(R,g),this.count++,c=pf.bind(this),g.addEventListener("load",c),g.addEventListener("error",c),y?y.parentNode.insertBefore(g,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),a.state.loading|=4}}var qu={$$typeof:S,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function HI(i,a,l,c,g,y,R,L){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=c,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function jx(i,a,l,c,g,y,R,L,q,Z,oe,ce){return i=new HI(i,a,l,R,L,q,Z,ce),a=1,y===!0&&(a|=24),y=nr(3,null,null,a),i.current=y,y.stateNode=i,a=Wp(),a.refCount++,i.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},tm(y),i}function Lx(i){return i?(i=Uo,i):Uo}function Ux(i,a,l,c,g,y){g=Lx(g),c.context===null?c.context=g:c.pendingContext=g,c=Ms(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=Ds(i,c,a),l!==null&&(or(l,i,a),_u(l,i,a))}function Fx(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function vg(i,a){Fx(i,a),(i=i.alternate)&&Fx(i,a)}function zx(i){if(i.tag===13){var a=Lo(i,67108864);a!==null&&or(a,i,67108864),vg(i,67108864)}}var gf=!0;function qI(i,a,l,c){var g=H.T;H.T=null;var y=se.p;try{se.p=2,yg(i,a,l,c)}finally{se.p=y,H.T=g}}function $I(i,a,l,c){var g=H.T;H.T=null;var y=se.p;try{se.p=8,yg(i,a,l,c)}finally{se.p=y,H.T=g}}function yg(i,a,l,c){if(gf){var g=bg(c);if(g===null)sg(i,a,c,vf,l),Hx(i,c);else if(YI(g,i,a,l,c))c.stopPropagation();else if(Hx(i,c),a&4&&-1<GI.indexOf(i)){for(;g!==null;){var y=Wr(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var R=Jn(y.pendingLanes);if(R!==0){var L=y;for(L.pendingLanes|=2,L.entangledLanes|=2;R;){var q=1<<31-vt(R);L.entanglements[1]|=q,R&=~q}di(y),(yt&6)===0&&(Jd=yn()+500,ju(0))}}break;case 13:L=Lo(y,2),L!==null&&or(L,y,2),tf(),vg(y,2)}if(y=bg(c),y===null&&sg(i,a,c,vf,l),y===g)break;g=y}g!==null&&c.stopPropagation()}else sg(i,a,c,null,l)}}function bg(i){return i=vr(i),_g(i)}var vf=null;function _g(i){if(vf=null,i=ki(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return vf=i,null}function Bx(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ri()){case Qr:return 2;case G:return 8;case J:case ae:return 32;case ve:return 268435456;default:return 32}default:return 32}}var xg=!1,Gs=null,Ys=null,Ks=null,$u=new Map,Gu=new Map,Qs=[],GI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hx(i,a){switch(i){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":$u.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gu.delete(a.pointerId)}}function Yu(i,a,l,c,g,y){return i===null||i.nativeEvent!==y?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Wr(a),a!==null&&zx(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),i)}function YI(i,a,l,c,g){switch(a){case"focusin":return Gs=Yu(Gs,i,a,l,c,g),!0;case"dragenter":return Ys=Yu(Ys,i,a,l,c,g),!0;case"mouseover":return Ks=Yu(Ks,i,a,l,c,g),!0;case"pointerover":var y=g.pointerId;return $u.set(y,Yu($u.get(y)||null,i,a,l,c,g)),!0;case"gotpointercapture":return y=g.pointerId,Gu.set(y,Yu(Gu.get(y)||null,i,a,l,c,g)),!0}return!1}function qx(i){var a=ki(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,td(i.priority,function(){if(l.tag===13){var c=ar();c=Es(c);var g=Lo(l,c);g!==null&&or(g,l,c),vg(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function yf(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=bg(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);Ui=c,l.target.dispatchEvent(c),Ui=null}else return a=Wr(l),a!==null&&zx(a),i.blockedOn=l,!1;a.shift()}return!0}function $x(i,a,l){yf(i)&&l.delete(a)}function KI(){xg=!1,Gs!==null&&yf(Gs)&&(Gs=null),Ys!==null&&yf(Ys)&&(Ys=null),Ks!==null&&yf(Ks)&&(Ks=null),$u.forEach($x),Gu.forEach($x)}function bf(i,a){i.blockedOn===a&&(i.blockedOn=null,xg||(xg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,KI)))}var _f=null;function Gx(i){_f!==i&&(_f=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){_f===i&&(_f=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],g=i[a+2];if(typeof c!="function"){if(_g(c||l)===null)continue;break}var y=Wr(l);y!==null&&(i.splice(a,3),a-=3,_m(y,{pending:!0,data:g,method:l.method,action:c},c,g))}}))}function Ku(i){function a(q){return bf(q,i)}Gs!==null&&bf(Gs,i),Ys!==null&&bf(Ys,i),Ks!==null&&bf(Ks,i),$u.forEach(a),Gu.forEach(a);for(var l=0;l<Qs.length;l++){var c=Qs[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Qs.length&&(l=Qs[0],l.blockedOn===null);)qx(l),l.blockedOn===null&&Qs.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var g=l[c],y=l[c+1],R=g[Gt]||null;if(typeof y=="function")R||Gx(l);else if(R){var L=null;if(y&&y.hasAttribute("formAction")){if(g=y,R=y[Gt]||null)L=R.formAction;else if(_g(g)!==null)continue}else L=R.action;typeof L=="function"?l[c+1]=L:(l.splice(c,3),c-=3),Gx(l)}}}function wg(i){this._internalRoot=i}xf.prototype.render=wg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=ar();Ux(l,c,i,a,null,null)},xf.prototype.unmount=wg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Ux(i.current,2,null,i,null,null),tf(),a[mr]=null}};function xf(i){this._internalRoot=i}xf.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ss();i={blockedOn:null,target:i,priority:a};for(var l=0;l<Qs.length&&a!==0&&a<Qs[l].priority;l++);Qs.splice(l,0,i),l===0&&qx(i)}};var Yx=e.version;if(Yx!=="19.1.0")throw Error(r(527,Yx,"19.1.0"));se.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var QI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{Ee=wf.inject(QI),Ne=wf}catch{}}return Xu.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",g=u_,y=c_,R=d_,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(R=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(L=a.unstable_transitionCallbacks)),a=jx(i,1,!1,null,null,l,c,g,y,R,L,null),i[mr]=a.current,ig(i),new wg(a)},Xu.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,g="",y=u_,R=c_,L=d_,q=null,Z=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(R=l.onCaughtError),l.onRecoverableError!==void 0&&(L=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(q=l.unstable_transitionCallbacks),l.formState!==void 0&&(Z=l.formState)),a=jx(i,1,!0,a,l??null,c,g,y,R,L,q,Z),a.context=Lx(null),l=a.current,c=ar(),c=Es(c),g=Ms(c),g.callback=null,Ds(l,g,c),l=c,a.current.lanes=l,Pi(a,l),di(a),i[mr]=a.current,ig(i),new xf(a)},Xu.version="19.1.0",Xu}var iw;function sN(){if(iw)return Tg.exports;iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Tg.exports=iN(),Tg.exports}var aN=sN();const oN=XS(aN);var Wu={},sw;function lN(){if(sw)return Wu;sw=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.parse=u,Wu.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,w){const E=new o,T=_.length;if(T<2)return E;const I=(w==null?void 0:w.decode)||m;let N=0;do{const C=_.indexOf("=",N);if(C===-1)break;const S=_.indexOf(";",N),U=S===-1?T:S;if(C>U){N=_.lastIndexOf(";",C-1)+1;continue}const k=f(_,N,C),Y=d(_,C,k),P=_.slice(k,Y);if(E[P]===void 0){let M=f(_,C+1,U),D=d(_,U,M);const j=I(_.slice(M,D));E[P]=j}N=U+1}while(N<T);return E}function f(_,w,E){do{const T=_.charCodeAt(w);if(T!==32&&T!==9)return w}while(++w<E);return E}function d(_,w,E){for(;w>E;){const T=_.charCodeAt(--w);if(T!==32&&T!==9)return w+1}return E}function h(_,w,E){const T=(E==null?void 0:E.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const I=T(w);if(!e.test(I))throw new TypeError(`argument val is invalid: ${w}`);let N=_+"="+I;if(!E)return N;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);N+="; Max-Age="+E.maxAge}if(E.domain){if(!t.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);N+="; Domain="+E.domain}if(E.path){if(!r.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);N+="; Path="+E.path}if(E.expires){if(!b(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);N+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(N+="; HttpOnly"),E.secure&&(N+="; Secure"),E.partitioned&&(N+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return N}function m(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return s.call(_)==="[object Date]"}return Wu}lN();var aw="popstate";function uN(n={}){function e(r,s){let{pathname:o,search:u,hash:f}=r.location;return lv("",{pathname:o,search:u,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:xc(s)}return dN(e,t,null,n)}function Ot(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ir(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cN(){return Math.random().toString(36).substring(2,10)}function ow(n,e){return{usr:n.state,key:n.key,idx:e}}function lv(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Pl(e):e,state:t,key:e&&e.key||r||cN()}}function xc({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Pl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function dN(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,f="POP",d=null,h=m();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function m(){return(u.state||{idx:null}).idx}function b(){f="POP";let I=m(),N=I==null?null:I-h;h=I,d&&d({action:f,location:T.location,delta:N})}function _(I,N){f="PUSH";let C=lv(T.location,I,N);h=m()+1;let S=ow(C,h),U=T.createHref(C);try{u.pushState(S,"",U)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(U)}o&&d&&d({action:f,location:T.location,delta:1})}function w(I,N){f="REPLACE";let C=lv(T.location,I,N);h=m();let S=ow(C,h),U=T.createHref(C);u.replaceState(S,"",U),o&&d&&d({action:f,location:T.location,delta:0})}function E(I){return fN(I)}let T={get action(){return f},get location(){return n(s,u)},listen(I){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(aw,b),d=I,()=>{s.removeEventListener(aw,b),d=null}},createHref(I){return e(s,I)},createURL:E,encodeLocation(I){let N=E(I);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:w,go(I){return u.go(I)}};return T}function fN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Ot(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:xc(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function ZS(n,e,t="/"){return hN(n,e,t,!1)}function hN(n,e,t,r){let s=typeof e=="string"?Pl(e):e,o=hs(s.pathname||"/",t);if(o==null)return null;let u=JS(n);pN(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let h=TN(o);f=EN(u[d],h,r)}return f}function JS(n,e=[],t=[],r=""){let s=(o,u,f)=>{let d={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(Ot(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=us([r,d.relativePath]),m=t.concat(d);o.children&&o.children.length>0&&(Ot(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),JS(o.children,e,m,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:xN(h,o.index),routesMeta:m})};return n.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))s(o,u);else for(let d of eT(o.path))s(o,u,d)}),e}function eT(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=eT(r.join("/")),f=[];return f.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&f.push(...u),f.map(d=>n.startsWith("/")&&d===""?"/":d)}function pN(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wN(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var mN=/^:[\w-]+$/,gN=3,vN=2,yN=1,bN=10,_N=-2,lw=n=>n==="*";function xN(n,e){let t=n.split("/"),r=t.length;return t.some(lw)&&(r+=_N),e&&(r+=vN),t.filter(s=>!lw(s)).reduce((s,o)=>s+(mN.test(o)?gN:o===""?yN:bN),r)}function wN(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function EN(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],h=f===r.length-1,m=o==="/"?e:e.slice(o.length)||"/",b=nh({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),_=d.route;if(!b&&h&&t&&!r[r.length-1].route.index&&(b=nh({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!b)return null;Object.assign(s,b.params),u.push({params:s,pathname:us([o,b.pathname]),pathnameBase:IN(us([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=us([o,b.pathnameBase]))}return u}function nh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=SN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:b},_)=>{if(m==="*"){let E=f[_]||"";u=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const w=f[_];return b&&!w?h[m]=void 0:h[m]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:n}}function SN(n,e=!1,t=!0){Ir(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function TN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ir(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function hs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function AN(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Pl(n):n;return{pathname:t?t.startsWith("/")?t:CN(t,e):e,search:NN(r),hash:ON(s)}}function CN(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ig(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ny(n){let e=RN(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function ry(n,e,t,r=!1){let s;typeof n=="string"?s=Pl(n):(s={...n},Ot(!s.pathname||!s.pathname.includes("?"),Ig("?","pathname","search",s)),Ot(!s.pathname||!s.pathname.includes("#"),Ig("#","pathname","hash",s)),Ot(!s.search||!s.search.includes("#"),Ig("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,f;if(u==null)f=t;else{let b=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;s.pathname=_.join("/")}f=b>=0?e[b]:"/"}let d=AN(s,f),h=u&&u!=="/"&&u.endsWith("/"),m=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var us=n=>n.join("/").replace(/\/\/+/g,"/"),IN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),NN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ON=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function MN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var tT=["POST","PUT","PATCH","DELETE"];new Set(tT);var DN=["GET",...tT];new Set(DN);var kl=O.createContext(null);kl.displayName="DataRouter";var $h=O.createContext(null);$h.displayName="DataRouterState";var nT=O.createContext({isTransitioning:!1});nT.displayName="ViewTransition";var PN=O.createContext(new Map);PN.displayName="Fetchers";var kN=O.createContext(null);kN.displayName="Await";var Yr=O.createContext(null);Yr.displayName="Navigation";var Lc=O.createContext(null);Lc.displayName="Location";var Nr=O.createContext({outlet:null,matches:[],isDataRoute:!1});Nr.displayName="Route";var iy=O.createContext(null);iy.displayName="RouteError";function VN(n,{relative:e}={}){Ot(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Yr),{hash:s,pathname:o,search:u}=Uc(n,{relative:e}),f=o;return t!=="/"&&(f=o==="/"?t:us([t,o])),r.createHref({pathname:f,search:u,hash:s})}function Vl(){return O.useContext(Lc)!=null}function _s(){return Ot(Vl(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Lc).location}var rT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iT(n){O.useContext(Yr).static||O.useLayoutEffect(n)}function cn(){let{isDataRoute:n}=O.useContext(Nr);return n?ZN():jN()}function jN(){Ot(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(kl),{basename:e,navigator:t}=O.useContext(Yr),{matches:r}=O.useContext(Nr),{pathname:s}=_s(),o=JSON.stringify(ny(r)),u=O.useRef(!1);return iT(()=>{u.current=!0}),O.useCallback((d,h={})=>{if(Ir(u.current,rT),!u.current)return;if(typeof d=="number"){t.go(d);return}let m=ry(d,JSON.parse(o),s,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:us([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,o,s,n])}var LN=O.createContext(null);function UN(n){let e=O.useContext(Nr).outlet;return e&&O.createElement(LN.Provider,{value:n},e)}function FN(){let{matches:n}=O.useContext(Nr),e=n[n.length-1];return e?e.params:{}}function Uc(n,{relative:e}={}){let{matches:t}=O.useContext(Nr),{pathname:r}=_s(),s=JSON.stringify(ny(t));return O.useMemo(()=>ry(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function zN(n,e){return sT(n,e)}function sT(n,e,t,r){var N;Ot(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=O.useContext(Yr),{matches:o}=O.useContext(Nr),u=o[o.length-1],f=u?u.params:{},d=u?u.pathname:"/",h=u?u.pathnameBase:"/",m=u&&u.route;{let C=m&&m.path||"";aT(d,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let b=_s(),_;if(e){let C=typeof e=="string"?Pl(e):e;Ot(h==="/"||((N=C.pathname)==null?void 0:N.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${C.pathname}" was given in the \`location\` prop.`),_=C}else _=b;let w=_.pathname||"/",E=w;if(h!=="/"){let C=h.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(C.length).join("/")}let T=ZS(n,{pathname:E});Ir(m||T!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ir(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=GN(T&&T.map(C=>Object.assign({},C,{params:Object.assign({},f,C.params),pathname:us([h,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?h:us([h,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),o,t,r);return e&&I?O.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},I):I}function BN(){let n=WN(),e=MN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=O.createElement(O.Fragment,null,O.createElement("p",null,"💿 Hey developer 👋"),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:o},"ErrorBoundary")," or"," ",O.createElement("code",{style:o},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,u)}var HN=O.createElement(BN,null),qN=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?O.createElement(Nr.Provider,{value:this.props.routeContext},O.createElement(iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $N({routeContext:n,match:e,children:t}){let r=O.useContext(kl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Nr.Provider,{value:n},t)}function GN(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);Ot(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,d+1))}let u=!1,f=-1;if(t)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=d),h.route.id){let{loaderData:m,errors:b}=t,_=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||_){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((d,h,m)=>{let b,_=!1,w=null,E=null;t&&(b=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||HN,u&&(f<0&&m===0?(aT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):f===m&&(_=!0,E=h.route.hydrateFallbackElement||null)));let T=e.concat(s.slice(0,m+1)),I=()=>{let N;return b?N=w:_?N=E:h.route.Component?N=O.createElement(h.route.Component,null):h.route.element?N=h.route.element:N=d,O.createElement($N,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:t!=null},children:N})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?O.createElement(qN,{location:t.location,revalidation:t.revalidation,component:w,error:b,children:I(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):I()},null)}function sy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YN(n){let e=O.useContext(kl);return Ot(e,sy(n)),e}function KN(n){let e=O.useContext($h);return Ot(e,sy(n)),e}function QN(n){let e=O.useContext(Nr);return Ot(e,sy(n)),e}function ay(n){let e=QN(n),t=e.matches[e.matches.length-1];return Ot(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function XN(){return ay("useRouteId")}function WN(){var r;let n=O.useContext(iy),e=KN("useRouteError"),t=ay("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function ZN(){let{router:n}=YN("useNavigate"),e=ay("useNavigate"),t=O.useRef(!1);return iT(()=>{t.current=!0}),O.useCallback(async(s,o={})=>{Ir(t.current,rT),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var uw={};function aT(n,e,t){!e&&!uw[n]&&(uw[n]=!0,Ir(!1,t))}O.memo(JN);function JN({routes:n,future:e,state:t}){return sT(n,void 0,t,e)}function e2({to:n,replace:e,state:t,relative:r}){Ot(Vl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Yr);Ir(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=O.useContext(Nr),{pathname:u}=_s(),f=cn(),d=ry(n,ny(o),u,r==="path"),h=JSON.stringify(d);return O.useEffect(()=>{f(JSON.parse(h),{replace:e,state:t,relative:r})},[f,h,r,e,t]),null}function oT(n){return UN(n.context)}function Bt(n){Ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t2({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){Ot(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=Pl(t));let{pathname:d="/",search:h="",hash:m="",state:b=null,key:_="default"}=t,w=O.useMemo(()=>{let E=hs(d,u);return E==null?null:{location:{pathname:E,search:h,hash:m,state:b,key:_},navigationType:r}},[u,d,h,m,b,_,r]);return Ir(w!=null,`<Router basename="${u}"> is not able to match the URL "${d}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:O.createElement(Yr.Provider,{value:f},O.createElement(Lc.Provider,{children:e,value:w}))}function n2({children:n,location:e}){return zN(uv(n),e)}function uv(n,e=[]){let t=[];return O.Children.forEach(n,(r,s)=>{if(!O.isValidElement(r))return;let o=[...e,s];if(r.type===O.Fragment){t.push.apply(t,uv(r.props.children,o));return}Ot(r.type===Bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ot(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=uv(r.props.children,o)),t.push(u)}),t}var Lf="get",Uf="application/x-www-form-urlencoded";function Gh(n){return n!=null&&typeof n.tagName=="string"}function r2(n){return Gh(n)&&n.tagName.toLowerCase()==="button"}function i2(n){return Gh(n)&&n.tagName.toLowerCase()==="form"}function s2(n){return Gh(n)&&n.tagName.toLowerCase()==="input"}function a2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function o2(n,e){return n.button===0&&(!e||e==="_self")&&!a2(n)}function cv(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function l2(n,e){let t=cv(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var Ef=null;function u2(){if(Ef===null)try{new FormData(document.createElement("form"),0),Ef=!1}catch{Ef=!0}return Ef}var c2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(n){return n!=null&&!c2.has(n)?(Ir(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Uf}"`),null):n}function d2(n,e){let t,r,s,o,u;if(i2(n)){let f=n.getAttribute("action");r=f?hs(f,e):null,t=n.getAttribute("method")||Lf,s=Ng(n.getAttribute("enctype"))||Uf,o=new FormData(n)}else if(r2(n)||s2(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||f.getAttribute("action");if(r=d?hs(d,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Lf,s=Ng(n.getAttribute("formenctype"))||Ng(f.getAttribute("enctype"))||Uf,o=new FormData(f,n),!u2()){let{name:h,type:m,value:b}=n;if(m==="image"){let _=h?`${h}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else h&&o.append(h,b)}}else{if(Gh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Lf,r=null,s=Uf,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}function oy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function f2(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function h2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function p2(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await f2(o,t);return u.links?u.links():[]}return[]}));return y2(r.flat(1).filter(h2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function cw(n,e,t,r,s,o){let u=(d,h)=>t[h]?d.route.id!==t[h].route.id:!0,f=(d,h)=>{var m;return t[h].pathname!==d.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,h)=>u(d,h)||f(d,h)):o==="data"?e.filter((d,h)=>{var b;let m=r.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(u(d,h)||f(d,h))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function m2(n,e,{includeHydrateFallback:t}={}){return g2(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function g2(n){return[...new Set(n)]}function v2(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function y2(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(v2(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b2=new Set([100,101,204,205]);function _2(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&hs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function lT(){let n=O.useContext(kl);return oy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function x2(){let n=O.useContext($h);return oy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ly=O.createContext(void 0);ly.displayName="FrameworkContext";function uT(){let n=O.useContext(ly);return oy(n,"You must render this element inside a <HydratedRouter> element"),n}function w2(n,e){let t=O.useContext(ly),[r,s]=O.useState(!1),[o,u]=O.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:b}=e,_=O.useRef(null);O.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let T=N=>{N.forEach(C=>{u(C.isIntersecting)})},I=new IntersectionObserver(T,{threshold:.5});return _.current&&I.observe(_.current),()=>{I.disconnect()}}},[n]),O.useEffect(()=>{if(r){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[r]);let w=()=>{s(!0)},E=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,_,{}]:[o,_,{onFocus:Zu(f,w),onBlur:Zu(d,E),onMouseEnter:Zu(h,w),onMouseLeave:Zu(m,E),onTouchStart:Zu(b,w)}]:[!1,_,{}]}function Zu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function E2({page:n,...e}){let{router:t}=lT(),r=O.useMemo(()=>ZS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(T2,{page:n,matches:r,...e}):null}function S2(n){let{manifest:e,routeModules:t}=uT(),[r,s]=O.useState([]);return O.useEffect(()=>{let o=!1;return p2(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function T2({page:n,matches:e,...t}){let r=_s(),{manifest:s,routeModules:o}=uT(),{basename:u}=lT(),{loaderData:f,matches:d}=x2(),h=O.useMemo(()=>cw(n,e,d,s,r,"data"),[n,e,d,s,r]),m=O.useMemo(()=>cw(n,e,d,s,r,"assets"),[n,e,d,s,r]),b=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,T=!1;if(e.forEach(N=>{var S;let C=s.routes[N.route.id];!C||!C.hasLoader||(!h.some(U=>U.route.id===N.route.id)&&N.route.id in f&&((S=o[N.route.id])!=null&&S.shouldRevalidate)||C.hasClientLoader?T=!0:E.add(N.route.id))}),E.size===0)return[];let I=_2(n,u);return T&&E.size>0&&I.searchParams.set("_routes",e.filter(N=>E.has(N.route.id)).map(N=>N.route.id).join(",")),[I.pathname+I.search]},[u,f,r,s,h,e,n,o]),_=O.useMemo(()=>m2(m,s),[m,s]),w=S2(m);return O.createElement(O.Fragment,null,b.map(E=>O.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),_.map(E=>O.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),w.map(({key:E,link:T})=>O.createElement("link",{key:E,...T})))}function A2(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cT&&(window.__reactRouterVersion="7.6.2")}catch{}function C2({basename:n,children:e,window:t}){let r=O.useRef();r.current==null&&(r.current=uN({window:t,v5Compat:!0}));let s=r.current,[o,u]=O.useState({action:s.action,location:s.location}),f=O.useCallback(d=>{O.startTransition(()=>u(d))},[u]);return O.useLayoutEffect(()=>s.listen(f),[s,f]),O.createElement(t2,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var dT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ja=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:f,target:d,to:h,preventScrollReset:m,viewTransition:b,..._},w){let{basename:E}=O.useContext(Yr),T=typeof h=="string"&&dT.test(h),I,N=!1;if(typeof h=="string"&&T&&(I=h,cT))try{let D=new URL(window.location.href),j=h.startsWith("//")?new URL(D.protocol+h):new URL(h),z=hs(j.pathname,E);j.origin===D.origin&&z!=null?h=z+j.search+j.hash:N=!0}catch{Ir(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=VN(h,{relative:s}),[S,U,k]=w2(r,_),Y=O2(h,{replace:u,state:f,target:d,preventScrollReset:m,relative:s,viewTransition:b});function P(D){e&&e(D),D.defaultPrevented||Y(D)}let M=O.createElement("a",{..._,...k,href:I||C,onClick:N||o?e:P,ref:A2(w,U),target:d,"data-discover":!T&&t==="render"?"true":void 0});return S&&!T?O.createElement(O.Fragment,null,M,O.createElement(E2,{page:C})):M});Ja.displayName="Link";var R2=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:f,children:d,...h},m){let b=Uc(u,{relative:h.relative}),_=_s(),w=O.useContext($h),{navigator:E,basename:T}=O.useContext(Yr),I=w!=null&&V2(b)&&f===!0,N=E.encodeLocation?E.encodeLocation(b).pathname:b.pathname,C=_.pathname,S=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(C=C.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&T&&(S=hs(S,T)||S);const U=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let k=C===N||!s&&C.startsWith(N)&&C.charAt(U)==="/",Y=S!=null&&(S===N||!s&&S.startsWith(N)&&S.charAt(N.length)==="/"),P={isActive:k,isPending:Y,isTransitioning:I},M=k?e:void 0,D;typeof r=="function"?D=r(P):D=[r,k?"active":null,Y?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(P):o;return O.createElement(Ja,{...h,"aria-current":M,className:D,ref:m,style:j,to:u,viewTransition:f},typeof d=="function"?d(P):d)});R2.displayName="NavLink";var I2=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=Lf,action:f,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:b,..._},w)=>{let E=P2(),T=k2(f,{relative:h}),I=u.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&dT.test(f),C=S=>{if(d&&d(S),S.defaultPrevented)return;S.preventDefault();let U=S.nativeEvent.submitter,k=(U==null?void 0:U.getAttribute("formmethod"))||u;E(U||S.currentTarget,{fetcherKey:e,method:k,navigate:t,replace:s,state:o,relative:h,preventScrollReset:m,viewTransition:b})};return O.createElement("form",{ref:w,method:I,action:T,onSubmit:r?d:C,..._,"data-discover":!N&&n==="render"?"true":void 0})});I2.displayName="Form";function N2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fT(n){let e=O.useContext(kl);return Ot(e,N2(n)),e}function O2(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let f=cn(),d=_s(),h=Uc(n,{relative:o});return O.useCallback(m=>{if(o2(m,e)){m.preventDefault();let b=t!==void 0?t:xc(d)===xc(h);f(n,{replace:b,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[d,f,h,t,r,e,n,s,o,u])}function uy(n){Ir(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(cv(n)),t=O.useRef(!1),r=_s(),s=O.useMemo(()=>l2(r.search,t.current?null:e.current),[r.search]),o=cn(),u=O.useCallback((f,d)=>{const h=cv(typeof f=="function"?f(s):f);t.current=!0,o("?"+h,d)},[o,s]);return[s,u]}var M2=0,D2=()=>`__${String(++M2)}__`;function P2(){let{router:n}=fT("useSubmit"),{basename:e}=O.useContext(Yr),t=XN();return O.useCallback(async(r,s={})=>{let{action:o,method:u,encType:f,formData:d,body:h}=d2(r,e);if(s.navigate===!1){let m=s.fetcherKey||D2();await n.fetch(m,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||u,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:d,body:h,formMethod:s.method||u,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function k2(n,{relative:e}={}){let{basename:t}=O.useContext(Yr),r=O.useContext(Nr);Ot(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Uc(n||".",{relative:e})},u=_s();if(n==null){o.search=u.search;let f=new URLSearchParams(o.search),d=f.getAll("index");if(d.some(m=>m==="")){f.delete("index"),d.filter(b=>b).forEach(b=>f.append("index",b));let m=f.toString();o.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:us([t,o.pathname])),xc(o)}function V2(n,e={}){let t=O.useContext(nT);Ot(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=fT("useViewTransitionState"),s=Uc(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=hs(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=hs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return nh(s.pathname,u)!=null||nh(s.pathname,o)!=null}[...b2];var j2=WS();const L2=()=>{};var dw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},U2=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],f=n[t++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},pT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,f=u?n[s+1]:0,d=s+2<n.length,h=d?n[s+2]:0,m=o>>2,b=(o&3)<<4|f>>4;let _=(f&15)<<2|h>>6,w=h&63;d||(w=64,u||(_=64)),r.push(t[m],t[b],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):U2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const b=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||f==null||h==null||b==null)throw new F2;const _=o<<2|f>>4;if(r.push(_),h!==64){const w=f<<4&240|h>>2;if(r.push(w),b!==64){const E=h<<6&192|b;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class F2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z2=function(n){const e=hT(n);return pT.encodeByteArray(e,!0)},rh=function(n){return z2(n).replace(/\./g,"")},mT=function(n){try{return pT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=()=>B2().__FIREBASE_DEFAULTS__,q2=()=>{if(typeof process>"u"||typeof dw>"u")return;const n=dw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&mT(n[1]);return e&&JSON.parse(e)},Yh=()=>{try{return L2()||H2()||q2()||$2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gT=n=>{var e,t;return(t=(e=Yh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vT=n=>{const e=gT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yT=()=>{var n;return(n=Yh())===null||n===void 0?void 0:n.config},bT=n=>{var e;return(e=Yh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(n){return n.endsWith(".cloudworkstations.dev")}async function cy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rh(JSON.stringify(t)),rh(JSON.stringify(u)),""].join(".")}const fc={};function Y2(){const n={prod:[],emulator:[]};for(const e of Object.keys(fc))fc[e]?n.emulator.push(e):n.prod.push(e);return n}function K2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let fw=!1;function dy(n,e){if(typeof window>"u"||typeof document>"u"||!jl(window.location.host)||fc[n]===e||fc[n]||fw)return;fc[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=Y2().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function h(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{fw=!0,u()},_}function m(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=K2(r),w=t("text"),E=document.getElementById(w)||document.createElement("span"),T=t("learnmore"),I=document.getElementById(T)||document.createElement("a"),N=t("preprendIcon"),C=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const S=_.element;f(S),m(I,T);const U=h();d(C,N),S.append(C,E,I,U),document.body.appendChild(S)}o?(E.innerText="Preview backend disconnected.",C.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(C.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function X2(){var n;const e=(n=Yh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z2(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function J2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eO(){const n=Ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tO(){return!X2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nO(){try{return typeof indexedDB=="object"}catch{return!1}}function rO(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO="FirebaseError";class Ti extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=iO,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fc.prototype.create)}}class Fc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?sO(o,r):"Error",f=`${this.serviceName}: ${u} (${s}).`;return new Ti(s,f,r)}}function sO(n,e){return n.replace(aO,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const aO=/\{\$([^}]+)}/g;function oO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function io(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(hw(o)&&hw(u)){if(!io(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function hw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ic(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function sc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lO(n,e){const t=new uO(n,e);return t.subscribe.bind(t)}class uO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");cO(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=Og),s.error===void 0&&(s.error=Og),s.complete===void 0&&(s.complete=Og);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cO(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Og(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(n){return n&&n._delegate?n._delegate:n}class ua{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new G2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hO(e))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Za){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Za){return this.instances.has(e)}getOptions(e=Za){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);r===f&&u.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:fO(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Za){return this.component?this.component.multipleInstances?e:Za:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fO(n){return n===Za?void 0:n}function hO(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nt||(nt={}));const mO={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},gO=nt.INFO,vO={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},yO=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=vO[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fy{constructor(e){this.name=e,this._logLevel=gO,this._logHandler=yO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const bO=(n,e)=>e.some(t=>n instanceof t);let pw,mw;function _O(){return pw||(pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xO(){return mw||(mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xT=new WeakMap,dv=new WeakMap,wT=new WeakMap,Mg=new WeakMap,hy=new WeakMap;function wO(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(sa(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&xT.set(t,n)}).catch(()=>{}),hy.set(e,n),e}function EO(n){if(dv.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});dv.set(n,e)}let fv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||wT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function SO(n){fv=n(fv)}function TO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Dg(this),e,...t);return wT.set(r,e.sort?e.sort():[e]),sa(r)}:xO().includes(n)?function(...e){return n.apply(Dg(this),e),sa(xT.get(this))}:function(...e){return sa(n.apply(Dg(this),e))}}function AO(n){return typeof n=="function"?TO(n):(n instanceof IDBTransaction&&EO(n),bO(n,_O())?new Proxy(n,fv):n)}function sa(n){if(n instanceof IDBRequest)return wO(n);if(Mg.has(n))return Mg.get(n);const e=AO(n);return e!==n&&(Mg.set(n,e),hy.set(e,n)),e}const Dg=n=>hy.get(n);function CO(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),f=sa(u);return r&&u.addEventListener("upgradeneeded",d=>{r(sa(u.result),d.oldVersion,d.newVersion,sa(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),f.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),f}const RO=["get","getKey","getAll","getAllKeys","count"],IO=["put","add","delete","clear"],Pg=new Map;function gw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Pg.get(e))return Pg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=IO.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||RO.includes(t)))return;const o=async function(u,...f){const d=this.transaction(u,s?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(f.shift())),(await Promise.all([h[t](...f),s&&d.done]))[0]};return Pg.set(e,o),o}SO(n=>({...n,get:(e,t,r)=>gw(e,t)||n.get(e,t,r),has:(e,t)=>!!gw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(OO(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function OO(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const hv="@firebase/app",vw="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new fy("@firebase/app"),MO="@firebase/app-compat",DO="@firebase/analytics-compat",PO="@firebase/analytics",kO="@firebase/app-check-compat",VO="@firebase/app-check",jO="@firebase/auth",LO="@firebase/auth-compat",UO="@firebase/database",FO="@firebase/data-connect",zO="@firebase/database-compat",BO="@firebase/functions",HO="@firebase/functions-compat",qO="@firebase/installations",$O="@firebase/installations-compat",GO="@firebase/messaging",YO="@firebase/messaging-compat",KO="@firebase/performance",QO="@firebase/performance-compat",XO="@firebase/remote-config",WO="@firebase/remote-config-compat",ZO="@firebase/storage",JO="@firebase/storage-compat",eM="@firebase/firestore",tM="@firebase/ai",nM="@firebase/firestore-compat",rM="firebase",iM="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="[DEFAULT]",sM={[hv]:"fire-core",[MO]:"fire-core-compat",[PO]:"fire-analytics",[DO]:"fire-analytics-compat",[VO]:"fire-app-check",[kO]:"fire-app-check-compat",[jO]:"fire-auth",[LO]:"fire-auth-compat",[UO]:"fire-rtdb",[FO]:"fire-data-connect",[zO]:"fire-rtdb-compat",[BO]:"fire-fn",[HO]:"fire-fn-compat",[qO]:"fire-iid",[$O]:"fire-iid-compat",[GO]:"fire-fcm",[YO]:"fire-fcm-compat",[KO]:"fire-perf",[QO]:"fire-perf-compat",[XO]:"fire-rc",[WO]:"fire-rc-compat",[ZO]:"fire-gcs",[JO]:"fire-gcs-compat",[eM]:"fire-fst",[nM]:"fire-fst-compat",[tM]:"fire-vertex","fire-js":"fire-js",[rM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,aM=new Map,mv=new Map;function yw(n,e){try{n.container.addComponent(e)}catch(t){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function so(n){const e=n.name;if(mv.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;mv.set(e,n);for(const t of ih.values())yw(t,n);for(const t of aM.values())yw(t,n);return!0}function Kh(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},aa=new Fc("app","Firebase",oM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw aa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=iM;function ET(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pv,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw aa.create("bad-app-name",{appName:String(s)});if(t||(t=yT()),!t)throw aa.create("no-options");const o=ih.get(s);if(o){if(io(t,o.options)&&io(r,o.config))return o;throw aa.create("duplicate-app",{appName:s})}const u=new pO(s);for(const d of mv.values())u.addComponent(d);const f=new lM(t,r,u);return ih.set(s,f),f}function py(n=pv){const e=ih.get(n);if(!e&&n===pv&&yT())return ET();if(!e)throw aa.create("no-app",{appName:n});return e}function vi(n,e,t){var r;let s=(r=sM[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(f.join(" "));return}so(new ua(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="firebase-heartbeat-database",cM=1,wc="firebase-heartbeat-store";let kg=null;function ST(){return kg||(kg=CO(uM,cM,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(wc)}catch(t){console.warn(t)}}}}).catch(n=>{throw aa.create("idb-open",{originalErrorMessage:n.message})})),kg}async function dM(n){try{const t=(await ST()).transaction(wc),r=await t.objectStore(wc).get(TT(n));return await t.done,r}catch(e){if(e instanceof Ti)ps.warn(e.message);else{const t=aa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(t.message)}}}async function bw(n,e){try{const r=(await ST()).transaction(wc,"readwrite");await r.objectStore(wc).put(e,TT(n)),await r.done}catch(t){if(t instanceof Ti)ps.warn(t.message);else{const r=aa.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ps.warn(r.message)}}}function TT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=1024,hM=30;class pM{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gM(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=_w();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>hM){const u=vM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_w(),{heartbeatsToSend:r,unsentEntries:s}=mM(this._heartbeatsCache.heartbeats),o=rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ps.warn(t),""}}}function _w(){return new Date().toISOString().substring(0,10)}function mM(n,e=fM){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),xw(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),xw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class gM{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nO()?rO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dM(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return bw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return bw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xw(n){return rh(JSON.stringify({version:2,heartbeats:n})).length}function vM(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(n){so(new ua("platform-logger",e=>new NO(e),"PRIVATE")),so(new ua("heartbeat",e=>new pM(e),"PRIVATE")),vi(hv,vw,n),vi(hv,vw,"esm2017"),vi("fire-js","")}yM("");var bM="firebase",_M="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi(bM,_M,"app");function my(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function AT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xM=AT,CT=new Fc("auth","Firebase",AT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new fy("@firebase/auth");function wM(n,...e){sh.logLevel<=nt.WARN&&sh.warn(`Auth (${go}): ${n}`,...e)}function Ff(n,...e){sh.logLevel<=nt.ERROR&&sh.error(`Auth (${go}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(n,...e){throw gy(n,...e)}function yi(n,...e){return gy(n,...e)}function RT(n,e,t){const r=Object.assign(Object.assign({},xM()),{[e]:t});return new Fc("auth","Firebase",r).create(e,{appName:n.name})}function cs(n){return RT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gy(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return CT.create(n,...e)}function De(n,e,...t){if(!n)throw gy(e,...t)}function as(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Ff(e),new Error(e)}function ms(n,e){n||as(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function EM(){return ww()==="http:"||ww()==="https:"}function ww(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EM()||Z2()||"connection"in navigator)?navigator.onLine:!0}function TM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ms(t>e,"Short delay should be less than long delay!"),this.isMobile=Q2()||J2()}get(){return SM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n,e){ms(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;as("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;as("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;as("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RM=new Bc(3e4,6e4);function Kr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Or(n,e,t,r,s={}){return NT(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const f=zc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const h=Object.assign({method:e,headers:d},o);return W2()||(h.referrerPolicy="no-referrer"),n.emulatorConfig&&jl(n.emulatorConfig.host)&&(h.credentials="include"),IT.fetch()(await OT(n,n.config.apiHost,t,f),h)})}async function NT(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},AM),e);try{const s=new NM(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Sf(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const f=o.ok?u.errorMessage:u.error.message,[d,h]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Sf(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Sf(n,"user-disabled",u);const m=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw RT(n,m,h);qr(n,m)}}catch(s){if(s instanceof Ti)throw s;qr(n,"network-request-failed",{message:String(s)})}}async function Hc(n,e,t,r,s={}){const o=await Or(n,e,t,r,s);return"mfaPendingCredential"in o&&qr(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function OT(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?vy(n.config,s):`${n.config.apiScheme}://${s}`;return CM.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function IM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),RM.get())})}}function Sf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=yi(n,e,r);return s.customData._tokenResponse=t,s}function Ew(n){return n!==void 0&&n.enterprise!==void 0}class OM{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return IM(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function MM(n,e){return Or(n,"GET","/v2/recaptchaConfig",Kr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DM(n,e){return Or(n,"POST","/v1/accounts:delete",e)}async function ah(n,e){return Or(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PM(n,e=!1){const t=Dt(n),r=await t.getIdToken(e),s=yy(r);De(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:hc(Vg(s.auth_time)),issuedAtTime:hc(Vg(s.iat)),expirationTime:hc(Vg(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Vg(n){return Number(n)*1e3}function yy(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Ff("JWT malformed, contained fewer than 3 sections"),null;try{const s=mT(t);return s?JSON.parse(s):(Ff("Failed to decode base64 JWT payload"),null)}catch(s){return Ff("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Sw(n){const e=yy(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ti&&kM(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function kM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(n){var e;const t=n.auth,r=await n.getIdToken(),s=await Tl(n,ah(t,{idToken:r}));De(s==null?void 0:s.users.length,t,"internal-error");const o=s.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?MT(o.providerUserInfo):[],f=LM(n.providerData,u),d=n.isAnonymous,h=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),m=d?h:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new vv(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(n,b)}async function jM(n){const e=Dt(n);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LM(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function MT(n){return n.map(e=>{var{providerId:t}=e,r=my(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(n,e){const t=await NT(n,{},async()=>{const r=zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await OT(n,s,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",IT.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FM(n,e){return Or(n,"POST","/v2/accounts:revokeToken",Kr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Sw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=Sw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await UM(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new yl;return r&&(De(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(De(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(De(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zr{constructor(e){var{uid:t,auth:r,stsTokenManager:s}=e,o=my(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new VM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vv(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return PM(this,e)}reload(){return jM(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dr(this.auth.app))return Promise.reject(cs(this.auth));const e=await this.getIdToken();return await Tl(this,DM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,s,o,u,f,d,h,m;const b=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(s=t.email)!==null&&s!==void 0?s:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,E=(u=t.photoURL)!==null&&u!==void 0?u:void 0,T=(f=t.tenantId)!==null&&f!==void 0?f:void 0,I=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,N=(h=t.createdAt)!==null&&h!==void 0?h:void 0,C=(m=t.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:S,emailVerified:U,isAnonymous:k,providerData:Y,stsTokenManager:P}=t;De(S&&P,e,"internal-error");const M=yl.fromJSON(this.name,P);De(typeof S=="string",e,"internal-error"),Ws(b,e.name),Ws(_,e.name),De(typeof U=="boolean",e,"internal-error"),De(typeof k=="boolean",e,"internal-error"),Ws(w,e.name),Ws(E,e.name),Ws(T,e.name),Ws(I,e.name),Ws(N,e.name),Ws(C,e.name);const D=new zr({uid:S,auth:e,email:_,emailVerified:U,displayName:b,isAnonymous:k,photoURL:E,phoneNumber:w,tenantId:T,stsTokenManager:M,createdAt:N,lastLoginAt:C});return Y&&Array.isArray(Y)&&(D.providerData=Y.map(j=>Object.assign({},j))),I&&(D._redirectEventId=I),D}static async _fromIdTokenResponse(e,t,r=!1){const s=new yl;s.updateFromServerResponse(t);const o=new zr({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await oh(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];De(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?MT(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),f=new yl;f.updateFromIdToken(r);const d=new zr({uid:s.localId,auth:e,stsTokenManager:f,isAnonymous:u}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new vv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Map;function os(n){ms(n instanceof Function,"Expected a class definition");let e=Tw.get(n);return e?(ms(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}DT.type="NONE";const Aw=DT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n,e,t){return`firebase:${n}:${e}:${t}`}class bl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=zf(this.userKey,s.apiKey,o),this.fullPersistenceKey=zf("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ah(this.auth,{idToken:e}).catch(()=>{});return t?zr._fromGetAccountInfoResponse(this.auth,t,e):null}return zr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new bl(os(Aw),e,r);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||os(Aw);const u=zf(r,e.config.apiKey,e.name);let f=null;for(const h of t)try{const m=await h._get(u);if(m){let b;if(typeof m=="string"){const _=await ah(e,{idToken:m}).catch(()=>{});if(!_)break;b=await zr._fromGetAccountInfoResponse(e,_,m)}else b=zr._fromJSON(e,m);h!==o&&(f=b),o=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new bl(o,e,r):(o=d[0],f&&await o._set(u,f.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(u)}catch{}})),new bl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UT(e))return"Blackberry";if(FT(e))return"Webos";if(kT(e))return"Safari";if((e.includes("chrome/")||VT(e))&&!e.includes("edge/"))return"Chrome";if(LT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PT(n=Ln()){return/firefox\//i.test(n)}function kT(n=Ln()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VT(n=Ln()){return/crios\//i.test(n)}function jT(n=Ln()){return/iemobile/i.test(n)}function LT(n=Ln()){return/android/i.test(n)}function UT(n=Ln()){return/blackberry/i.test(n)}function FT(n=Ln()){return/webos/i.test(n)}function by(n=Ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function zM(n=Ln()){var e;return by(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BM(){return eO()&&document.documentMode===10}function zT(n=Ln()){return by(n)||LT(n)||FT(n)||UT(n)||/windows phone/i.test(n)||jT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(n,e=[]){let t;switch(n){case"Browser":t=Cw(Ln());break;case"Worker":t=`${Cw(Ln())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${go}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,f)=>{try{const d=e(o);u(d)}catch(d){f(d)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qM(n,e={}){return Or(n,"GET","/v2/passwordPolicy",Kr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=6;class GM{constructor(e){var t,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:$M,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,s,o,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rw(this),this.idTokenSubscription=new Rw(this),this.beforeStateQueue=new HM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=os(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await bl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ah(this,{idToken:e}),r=await zr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(dr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dr(this.app))return Promise.reject(cs(this));const t=e?Dt(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dr(this.app)?Promise.reject(cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dr(this.app)?Promise.reject(cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qM(this),t=new GM(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await FM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&os(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[os(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(f,this,"internal-error"),f.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&wM(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ga(n){return Dt(n)}class Rw{constructor(e){this.auth=e,this.observer=null,this.addObserver=lO(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KM(n){Qh=n}function HT(n){return Qh.loadJS(n)}function QM(){return Qh.recaptchaEnterpriseScript}function XM(){return Qh.gapiScript}function WM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class ZM{constructor(){this.enterprise=new JM}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class JM{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const eD="recaptcha-enterprise",qT="NO_RECAPTCHA";class tD{constructor(e){this.type=eD,this.auth=ga(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,f)=>{MM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const h=new OM(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,u(h.siteKey)}}).catch(d=>{f(d)})})}function s(o,u,f){const d=window.grecaptcha;Ew(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{u(h)}).catch(()=>{u(qT)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZM().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(f=>{if(!t&&Ew(window.grecaptcha))s(f,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=QM();d.length!==0&&(d+=f),HT(d).then(()=>{s(f,o,u)}).catch(h=>{u(h)})}}).catch(f=>{u(f)})})}}async function Iw(n,e,t,r=!1,s=!1){const o=new tD(n);let u;if(s)u=qT;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,h=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function lh(n,e,t,r,s){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Iw(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Iw(n,e,t,t==="getOobCode");return r(n,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(n,e){const t=Kh(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(io(o,e??{}))return s;qr(s,"already-initialized")}return t.initialize({options:e})}function rD(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(os);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function iD(n,e,t){const r=ga(n);De(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=$T(e),{host:u,port:f}=sD(e),d=f===null?"":`:${f}`,h={url:`${o}//${u}${d}/`},m=Object.freeze({host:u,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){De(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),De(io(h,r.config.emulator)&&io(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,jl(u)?(cy(`${o}//${u}${d}`),dy("Auth",!0)):aD()}function $T(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function sD(n){const e=$T(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:Nw(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:Nw(u)}}}function Nw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function aD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return as("not implemented")}_getIdTokenResponse(e){return as("not implemented")}_linkToIdToken(e,t){return as("not implemented")}_getReauthenticationResolver(e){return as("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oD(n,e){return Or(n,"POST","/v1/accounts:resetPassword",Kr(n,e))}async function lD(n,e){return Or(n,"POST","/v1/accounts:signUp",e)}async function uD(n,e){return Or(n,"POST","/v1/accounts:update",Kr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(n,e){return Hc(n,"POST","/v1/accounts:signInWithPassword",Kr(n,e))}async function GT(n,e){return Or(n,"POST","/v1/accounts:sendOobCode",Kr(n,e))}async function dD(n,e){return GT(n,e)}async function fD(n,e){return GT(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(n,e){return Hc(n,"POST","/v1/accounts:signInWithEmailLink",Kr(n,e))}async function pD(n,e){return Hc(n,"POST","/v1/accounts:signInWithEmailLink",Kr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends _y{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Ec(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Ec(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lh(e,t,"signInWithPassword",cD);case"emailLink":return hD(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return lh(e,r,"signUpPassword",lD);case"emailLink":return pD(e,{idToken:t,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(n,e){return Hc(n,"POST","/v1/accounts:signInWithIdp",Kr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="http://localhost";class ao extends _y{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=t,o=my(t,["providerId","signInMethod"]);if(!r||!s)return null;const u=new ao(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return _l(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,_l(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_l(e,t)}buildRequest(){const e={requestUri:mD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vD(n){const e=ic(sc(n)).link,t=e?ic(sc(e)).deep_link_id:null,r=ic(sc(n)).deep_link_id;return(r?ic(sc(r)).link:null)||r||t||e||n}class xy{constructor(e){var t,r,s,o,u,f;const d=ic(sc(e)),h=(t=d.apiKey)!==null&&t!==void 0?t:null,m=(r=d.oobCode)!==null&&r!==void 0?r:null,b=gD((s=d.mode)!==null&&s!==void 0?s:null);De(h&&m&&b,"argument-error"),this.apiKey=h,this.operation=b,this.code=m,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=vD(e);try{return new xy(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(e,t){return Ec._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=xy.parseLink(t);return De(r,"argument-error"),Ec._fromEmailAndCode(e,r.code,r.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends YT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends qc{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ao._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Js.credential(t,r)}catch{return null}}}Js.GOOGLE_SIGN_IN_METHOD="google.com";Js.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea extends qc{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:ea.PROVIDER_ID,signInMethod:ea.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ea.credentialFromTaggedObject(e)}static credentialFromError(e){return ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ea.credential(e.oauthAccessToken)}catch{return null}}}ea.GITHUB_SIGN_IN_METHOD="github.com";ea.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta extends qc{constructor(){super("twitter.com")}static credential(e,t){return ao._fromParams({providerId:ta.PROVIDER_ID,signInMethod:ta.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ta.credentialFromTaggedObject(e)}static credentialFromError(e){return ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ta.credential(t,r)}catch{return null}}}ta.TWITTER_SIGN_IN_METHOD="twitter.com";ta.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(n,e){return Hc(n,"POST","/v1/accounts:signUp",Kr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await zr._fromIdTokenResponse(e,r,s),u=Ow(r);return new oo({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Ow(r);return new oo({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Ow(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Ti{constructor(e,t,r,s){var o;super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new uh(e,t,r,s)}}function KT(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(n,o,e,r):o})}async function bD(n,e,t=!1){const r=await Tl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return oo._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(n,e,t=!1){const{auth:r}=n;if(dr(r.app))return Promise.reject(cs(r));const s="reauthenticate";try{const o=await Tl(n,KT(r,s,e,n),t);De(o.idToken,r,"internal-error");const u=yy(o.idToken);De(u,r,"internal-error");const{sub:f}=u;return De(n.uid===f,r,"user-mismatch"),oo._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QT(n,e,t=!1){if(dr(n.app))return Promise.reject(cs(n));const r="signIn",s=await KT(n,r,e),o=await oo._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function xD(n,e){return QT(ga(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(n,e,t){var r;De(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),De(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),De(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(De(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(De(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wy(n){const e=ga(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ED(n,e,t){const r=ga(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&wD(r,s,t),await lh(r,s,"getOobCode",fD)}async function SD(n,e,t){await oD(Dt(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wy(n),r})}async function TD(n,e){await uD(Dt(n),{oobCode:e})}async function AD(n,e,t){if(dr(n.app))return Promise.reject(cs(n));const r=ga(n),u=await lh(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yD).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&wy(n),d}),f=await oo._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function CD(n,e,t){return dr(n.app)?Promise.reject(cs(n)):xD(Dt(n),Ll.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wy(n),r})}async function RD(n,e){const t=Dt(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await dD(t.auth,s);o!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(n,e){return Or(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XT(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Dt(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Tl(r,ID(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const f=r.providerData.find(({providerId:d})=>d==="password");f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function ND(n,e,t,r){return Dt(n).onIdTokenChanged(e,t,r)}function OD(n,e,t){return Dt(n).beforeAuthStateChanged(e,t)}function $c(n,e,t,r){return Dt(n).onAuthStateChanged(e,t,r)}function Ey(n){return Dt(n).signOut()}const ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=1e3,DD=10;class ZT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);BM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,DD):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},MD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZT.type="LOCAL";const PD=ZT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}JT.type="SESSION";const e1=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Xh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const f=Array.from(u).map(async h=>h(t.origin,o)),d=await kD(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((f,d)=>{const h=Sy("",20);s.port1.start();const m=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(b){const _=b;if(_.data.eventId===h)switch(_.data.status){case"ack":clearTimeout(m),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(_.data.response);break;default:clearTimeout(m),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function jD(n){bi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function LD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UD(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function FD(){return t1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",zD=1,dh="firebaseLocalStorage",r1="fbase_key";class Gc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wh(n,e){return n.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function BD(){const n=indexedDB.deleteDatabase(n1);return new Gc(n).toPromise()}function yv(){const n=indexedDB.open(n1,zD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(dh,{keyPath:r1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await BD(),e(await yv()))})})}async function Mw(n,e,t){const r=Wh(n,!0).put({[r1]:e,value:t});return new Gc(r).toPromise()}async function HD(n,e){const t=Wh(n,!1).get(e),r=await new Gc(t).toPromise();return r===void 0?null:r.value}function Dw(n,e){const t=Wh(n,!0).delete(e);return new Gc(t).toPromise()}const qD=800,$D=3;class i1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>$D)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(FD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await LD(),!this.activeServiceWorker)return;this.sender=new VD(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yv();return await Mw(e,ch,"1"),await Dw(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Mw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>HD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Dw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Wh(s,!1).getAll();return new Gc(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i1.type="LOCAL";const GD=i1;new Bc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n,e){return e?os(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends _y{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _l(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _l(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _l(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function KD(n){return QT(n.auth,new Ty(n),n.bypassAuthState)}function QD(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),_D(t,new Ty(n),n.bypassAuthState)}async function XD(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),bD(t,new Ty(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KD;case"linkViaPopup":case"linkViaRedirect":return XD;case"reauthViaPopup":case"reauthViaRedirect":return QD;default:qr(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Bc(2e3,1e4);class gl extends s1{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Sy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WD.get())};e()}}gl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="pendingRedirect",Bf=new Map;class JD extends s1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bf.get(this.auth._key());if(!e){try{const r=await eP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bf.set(this.auth._key(),e)}return this.bypassAuthState||Bf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eP(n,e){const t=rP(e),r=nP(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function tP(n,e){Bf.set(n._key(),e)}function nP(n){return os(n._redirectPersistence)}function rP(n){return zf(ZD,n.config.apiKey,n.name)}async function iP(n,e,t=!1){if(dr(n.app))return Promise.reject(cs(n));const r=ga(n),s=YD(r,e),u=await new JD(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP=10*60*1e3;class aP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oP(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!a1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sP&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pw(e))}saveEventToCache(e){this.cachedEventUids.add(Pw(e)),this.lastProcessedEventTime=Date.now()}}function Pw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function a1({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oP(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a1(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lP(n,e={}){return Or(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cP=/^https?/;async function dP(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lP(n);for(const t of e)try{if(fP(t))return}catch{}qr(n,"unauthorized-domain")}function fP(n){const e=gv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!cP.test(t))return!1;if(uP.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP=new Bc(3e4,6e4);function kw(){const n=bi().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function pP(n){return new Promise((e,t)=>{var r,s,o;function u(){kw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{kw(),t(yi(n,"network-request-failed"))},timeout:hP.get()})}if(!((s=(r=bi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=bi().gapi)===null||o===void 0)&&o.load)u();else{const f=WM("iframefcb");return bi()[f]=()=>{gapi.load?u():t(yi(n,"network-request-failed"))},HT(`${XM()}?onload=${f}`).catch(d=>t(d))}}).catch(e=>{throw Hf=null,e})}let Hf=null;function mP(n){return Hf=Hf||pP(n),Hf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP=new Bc(5e3,15e3),vP="__/auth/iframe",yP="emulator/auth/iframe",bP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_P=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xP(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vy(e,yP):`https://${n.config.authDomain}/${vP}`,r={apiKey:e.apiKey,appName:n.name,v:go},s=_P.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${zc(r).slice(1)}`}async function wP(n){const e=await mP(n),t=bi().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:xP(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bP,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=yi(n,"network-request-failed"),f=bi().setTimeout(()=>{o(u)},gP.get());function d(){bi().clearTimeout(f),s(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SP=500,TP=600,AP="_blank",CP="http://localhost";class Vw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RP(n,e,t,r=SP,s=TP){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},EP),{width:r.toString(),height:s.toString(),top:o,left:u}),h=Ln().toLowerCase();t&&(f=VT(h)?AP:t),PT(h)&&(e=e||CP,d.scrollbars="yes");const m=Object.entries(d).reduce((_,[w,E])=>`${_}${w}=${E},`,"");if(zM(h)&&f!=="_self")return IP(e||"",f),new Vw(null);const b=window.open(e||"",f,m);De(b,n,"popup-blocked");try{b.focus()}catch{}return new Vw(b)}function IP(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP="__/auth/handler",OP="emulator/auth/handler",MP=encodeURIComponent("fac");async function jw(n,e,t,r,s,o){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:go,eventId:s};if(e instanceof YT){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",oO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,b]of Object.entries({}))u[m]=b}if(e instanceof qc){const m=e.getScopes().filter(b=>b!=="");m.length>0&&(u.scopes=m.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const m of Object.keys(f))f[m]===void 0&&delete f[m];const d=await n._getAppCheckToken(),h=d?`#${MP}=${encodeURIComponent(d)}`:"";return`${DP(n)}?${zc(f).slice(1)}${h}`}function DP({config:n}){return n.emulator?vy(n,OP):`https://${n.authDomain}/${NP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="webStorageSupport";class PP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=iP,this._overrideRedirectResult=tP}async _openPopup(e,t,r,s){var o;ms((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await jw(e,t,r,gv(),s);return RP(e,u,Sy())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await jw(e,t,r,gv(),s);return jD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ms(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await wP(e),r=new aP(e);return t.register("authEvent",s=>(De(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jg,{type:jg},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[jg];u!==void 0&&t(!!u),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=dP(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zT()||kT()||by()}}const kP=PP;var Lw="@firebase/auth",Uw="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LP(n){so(new ua("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;De(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BT(n)},h=new YM(r,s,o,d);return rD(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),so(new ua("auth-internal",e=>{const t=ga(e.getProvider("auth").getImmediate());return(r=>new VP(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vi(Lw,Uw,jP(n)),vi(Lw,Uw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP=5*60,FP=bT("authIdTokenMaxAge")||UP;let Fw=null;const zP=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>FP)return;const s=t==null?void 0:t.token;Fw!==s&&(Fw=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function o1(n=py()){const e=Kh(n,"auth");if(e.isInitialized())return e.getImmediate();const t=nD(n,{popupRedirectResolver:kP,persistence:[GD,PD,e1]}),r=bT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=zP(o.toString());OD(t,u,()=>u(t.currentUser)),ND(t,f=>u(f))}}const s=gT("auth");return s&&iD(t,`http://${s}`),t}function BP(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}KM({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=yi("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",BP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LP("Browser");var zw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oa,l1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,M){function D(){}D.prototype=M.prototype,P.D=M.prototype,P.prototype=new D,P.prototype.constructor=P,P.C=function(j,z,B){for(var V=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)V[ie-2]=arguments[ie];return M.prototype[z].apply(j,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,M,D){D||(D=0);var j=Array(16);if(typeof M=="string")for(var z=0;16>z;++z)j[z]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(z=0;16>z;++z)j[z]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=P.g[0],D=P.g[1],z=P.g[2];var B=P.g[3],V=M+(B^D&(z^B))+j[0]+3614090360&4294967295;M=D+(V<<7&4294967295|V>>>25),V=B+(z^M&(D^z))+j[1]+3905402710&4294967295,B=M+(V<<12&4294967295|V>>>20),V=z+(D^B&(M^D))+j[2]+606105819&4294967295,z=B+(V<<17&4294967295|V>>>15),V=D+(M^z&(B^M))+j[3]+3250441966&4294967295,D=z+(V<<22&4294967295|V>>>10),V=M+(B^D&(z^B))+j[4]+4118548399&4294967295,M=D+(V<<7&4294967295|V>>>25),V=B+(z^M&(D^z))+j[5]+1200080426&4294967295,B=M+(V<<12&4294967295|V>>>20),V=z+(D^B&(M^D))+j[6]+2821735955&4294967295,z=B+(V<<17&4294967295|V>>>15),V=D+(M^z&(B^M))+j[7]+4249261313&4294967295,D=z+(V<<22&4294967295|V>>>10),V=M+(B^D&(z^B))+j[8]+1770035416&4294967295,M=D+(V<<7&4294967295|V>>>25),V=B+(z^M&(D^z))+j[9]+2336552879&4294967295,B=M+(V<<12&4294967295|V>>>20),V=z+(D^B&(M^D))+j[10]+4294925233&4294967295,z=B+(V<<17&4294967295|V>>>15),V=D+(M^z&(B^M))+j[11]+2304563134&4294967295,D=z+(V<<22&4294967295|V>>>10),V=M+(B^D&(z^B))+j[12]+1804603682&4294967295,M=D+(V<<7&4294967295|V>>>25),V=B+(z^M&(D^z))+j[13]+4254626195&4294967295,B=M+(V<<12&4294967295|V>>>20),V=z+(D^B&(M^D))+j[14]+2792965006&4294967295,z=B+(V<<17&4294967295|V>>>15),V=D+(M^z&(B^M))+j[15]+1236535329&4294967295,D=z+(V<<22&4294967295|V>>>10),V=M+(z^B&(D^z))+j[1]+4129170786&4294967295,M=D+(V<<5&4294967295|V>>>27),V=B+(D^z&(M^D))+j[6]+3225465664&4294967295,B=M+(V<<9&4294967295|V>>>23),V=z+(M^D&(B^M))+j[11]+643717713&4294967295,z=B+(V<<14&4294967295|V>>>18),V=D+(B^M&(z^B))+j[0]+3921069994&4294967295,D=z+(V<<20&4294967295|V>>>12),V=M+(z^B&(D^z))+j[5]+3593408605&4294967295,M=D+(V<<5&4294967295|V>>>27),V=B+(D^z&(M^D))+j[10]+38016083&4294967295,B=M+(V<<9&4294967295|V>>>23),V=z+(M^D&(B^M))+j[15]+3634488961&4294967295,z=B+(V<<14&4294967295|V>>>18),V=D+(B^M&(z^B))+j[4]+3889429448&4294967295,D=z+(V<<20&4294967295|V>>>12),V=M+(z^B&(D^z))+j[9]+568446438&4294967295,M=D+(V<<5&4294967295|V>>>27),V=B+(D^z&(M^D))+j[14]+3275163606&4294967295,B=M+(V<<9&4294967295|V>>>23),V=z+(M^D&(B^M))+j[3]+4107603335&4294967295,z=B+(V<<14&4294967295|V>>>18),V=D+(B^M&(z^B))+j[8]+1163531501&4294967295,D=z+(V<<20&4294967295|V>>>12),V=M+(z^B&(D^z))+j[13]+2850285829&4294967295,M=D+(V<<5&4294967295|V>>>27),V=B+(D^z&(M^D))+j[2]+4243563512&4294967295,B=M+(V<<9&4294967295|V>>>23),V=z+(M^D&(B^M))+j[7]+1735328473&4294967295,z=B+(V<<14&4294967295|V>>>18),V=D+(B^M&(z^B))+j[12]+2368359562&4294967295,D=z+(V<<20&4294967295|V>>>12),V=M+(D^z^B)+j[5]+4294588738&4294967295,M=D+(V<<4&4294967295|V>>>28),V=B+(M^D^z)+j[8]+2272392833&4294967295,B=M+(V<<11&4294967295|V>>>21),V=z+(B^M^D)+j[11]+1839030562&4294967295,z=B+(V<<16&4294967295|V>>>16),V=D+(z^B^M)+j[14]+4259657740&4294967295,D=z+(V<<23&4294967295|V>>>9),V=M+(D^z^B)+j[1]+2763975236&4294967295,M=D+(V<<4&4294967295|V>>>28),V=B+(M^D^z)+j[4]+1272893353&4294967295,B=M+(V<<11&4294967295|V>>>21),V=z+(B^M^D)+j[7]+4139469664&4294967295,z=B+(V<<16&4294967295|V>>>16),V=D+(z^B^M)+j[10]+3200236656&4294967295,D=z+(V<<23&4294967295|V>>>9),V=M+(D^z^B)+j[13]+681279174&4294967295,M=D+(V<<4&4294967295|V>>>28),V=B+(M^D^z)+j[0]+3936430074&4294967295,B=M+(V<<11&4294967295|V>>>21),V=z+(B^M^D)+j[3]+3572445317&4294967295,z=B+(V<<16&4294967295|V>>>16),V=D+(z^B^M)+j[6]+76029189&4294967295,D=z+(V<<23&4294967295|V>>>9),V=M+(D^z^B)+j[9]+3654602809&4294967295,M=D+(V<<4&4294967295|V>>>28),V=B+(M^D^z)+j[12]+3873151461&4294967295,B=M+(V<<11&4294967295|V>>>21),V=z+(B^M^D)+j[15]+530742520&4294967295,z=B+(V<<16&4294967295|V>>>16),V=D+(z^B^M)+j[2]+3299628645&4294967295,D=z+(V<<23&4294967295|V>>>9),V=M+(z^(D|~B))+j[0]+4096336452&4294967295,M=D+(V<<6&4294967295|V>>>26),V=B+(D^(M|~z))+j[7]+1126891415&4294967295,B=M+(V<<10&4294967295|V>>>22),V=z+(M^(B|~D))+j[14]+2878612391&4294967295,z=B+(V<<15&4294967295|V>>>17),V=D+(B^(z|~M))+j[5]+4237533241&4294967295,D=z+(V<<21&4294967295|V>>>11),V=M+(z^(D|~B))+j[12]+1700485571&4294967295,M=D+(V<<6&4294967295|V>>>26),V=B+(D^(M|~z))+j[3]+2399980690&4294967295,B=M+(V<<10&4294967295|V>>>22),V=z+(M^(B|~D))+j[10]+4293915773&4294967295,z=B+(V<<15&4294967295|V>>>17),V=D+(B^(z|~M))+j[1]+2240044497&4294967295,D=z+(V<<21&4294967295|V>>>11),V=M+(z^(D|~B))+j[8]+1873313359&4294967295,M=D+(V<<6&4294967295|V>>>26),V=B+(D^(M|~z))+j[15]+4264355552&4294967295,B=M+(V<<10&4294967295|V>>>22),V=z+(M^(B|~D))+j[6]+2734768916&4294967295,z=B+(V<<15&4294967295|V>>>17),V=D+(B^(z|~M))+j[13]+1309151649&4294967295,D=z+(V<<21&4294967295|V>>>11),V=M+(z^(D|~B))+j[4]+4149444226&4294967295,M=D+(V<<6&4294967295|V>>>26),V=B+(D^(M|~z))+j[11]+3174756917&4294967295,B=M+(V<<10&4294967295|V>>>22),V=z+(M^(B|~D))+j[2]+718787259&4294967295,z=B+(V<<15&4294967295|V>>>17),V=D+(B^(z|~M))+j[9]+3951481745&4294967295,P.g[0]=P.g[0]+M&4294967295,P.g[1]=P.g[1]+(z+(V<<21&4294967295|V>>>11))&4294967295,P.g[2]=P.g[2]+z&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.u=function(P,M){M===void 0&&(M=P.length);for(var D=M-this.blockSize,j=this.B,z=this.h,B=0;B<M;){if(z==0)for(;B<=D;)s(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<M;)if(j[z++]=P.charCodeAt(B++),z==this.blockSize){s(this,j),z=0;break}}else for(;B<M;)if(j[z++]=P[B++],z==this.blockSize){s(this,j),z=0;break}}this.h=z,this.o+=M},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var M=1;M<P.length-8;++M)P[M]=0;var D=8*this.o;for(M=P.length-8;M<P.length;++M)P[M]=D&255,D/=256;for(this.u(P),P=Array(16),M=D=0;4>M;++M)for(var j=0;32>j;j+=8)P[D++]=this.g[M]>>>j&255;return P};function o(P,M){var D=f;return Object.prototype.hasOwnProperty.call(D,P)?D[P]:D[P]=M(P)}function u(P,M){this.h=M;for(var D=[],j=!0,z=P.length-1;0<=z;z--){var B=P[z]|0;j&&B==M||(D[z]=B,j=!1)}this.g=D}var f={};function d(P){return-128<=P&&128>P?o(P,function(M){return new u([M|0],0>M?-1:0)}):new u([P|0],0>P?-1:0)}function h(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return I(h(-P));for(var M=[],D=1,j=0;P>=D;j++)M[j]=P/D|0,D*=4294967296;return new u(M,0)}function m(P,M){if(P.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(P.charAt(0)=="-")return I(m(P.substring(1),M));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=h(Math.pow(M,8)),j=b,z=0;z<P.length;z+=8){var B=Math.min(8,P.length-z),V=parseInt(P.substring(z,z+B),M);8>B?(B=h(Math.pow(M,B)),j=j.j(B).add(h(V))):(j=j.j(D),j=j.add(h(V)))}return j}var b=d(0),_=d(1),w=d(16777216);n=u.prototype,n.m=function(){if(T(this))return-I(this).m();for(var P=0,M=1,D=0;D<this.g.length;D++){var j=this.i(D);P+=(0<=j?j:4294967296+j)*M,M*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(E(this))return"0";if(T(this))return"-"+I(this).toString(P);for(var M=h(Math.pow(P,6)),D=this,j="";;){var z=U(D,M).g;D=N(D,z.j(M));var B=((0<D.g.length?D.g[0]:D.h)>>>0).toString(P);if(D=z,E(D))return B+j;for(;6>B.length;)B="0"+B;j=B+j}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function E(P){if(P.h!=0)return!1;for(var M=0;M<P.g.length;M++)if(P.g[M]!=0)return!1;return!0}function T(P){return P.h==-1}n.l=function(P){return P=N(this,P),T(P)?-1:E(P)?0:1};function I(P){for(var M=P.g.length,D=[],j=0;j<M;j++)D[j]=~P.g[j];return new u(D,~P.h).add(_)}n.abs=function(){return T(this)?I(this):this},n.add=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],j=0,z=0;z<=M;z++){var B=j+(this.i(z)&65535)+(P.i(z)&65535),V=(B>>>16)+(this.i(z)>>>16)+(P.i(z)>>>16);j=V>>>16,B&=65535,V&=65535,D[z]=V<<16|B}return new u(D,D[D.length-1]&-2147483648?-1:0)};function N(P,M){return P.add(I(M))}n.j=function(P){if(E(this)||E(P))return b;if(T(this))return T(P)?I(this).j(I(P)):I(I(this).j(P));if(T(P))return I(this.j(I(P)));if(0>this.l(w)&&0>P.l(w))return h(this.m()*P.m());for(var M=this.g.length+P.g.length,D=[],j=0;j<2*M;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(var z=0;z<P.g.length;z++){var B=this.i(j)>>>16,V=this.i(j)&65535,ie=P.i(z)>>>16,ee=P.i(z)&65535;D[2*j+2*z]+=V*ee,C(D,2*j+2*z),D[2*j+2*z+1]+=B*ee,C(D,2*j+2*z+1),D[2*j+2*z+1]+=V*ie,C(D,2*j+2*z+1),D[2*j+2*z+2]+=B*ie,C(D,2*j+2*z+2)}for(j=0;j<M;j++)D[j]=D[2*j+1]<<16|D[2*j];for(j=M;j<2*M;j++)D[j]=0;return new u(D,0)};function C(P,M){for(;(P[M]&65535)!=P[M];)P[M+1]+=P[M]>>>16,P[M]&=65535,M++}function S(P,M){this.g=P,this.h=M}function U(P,M){if(E(M))throw Error("division by zero");if(E(P))return new S(b,b);if(T(P))return M=U(I(P),M),new S(I(M.g),I(M.h));if(T(M))return M=U(P,I(M)),new S(I(M.g),M.h);if(30<P.g.length){if(T(P)||T(M))throw Error("slowDivide_ only works with positive integers.");for(var D=_,j=M;0>=j.l(P);)D=k(D),j=k(j);var z=Y(D,1),B=Y(j,1);for(j=Y(j,2),D=Y(D,2);!E(j);){var V=B.add(j);0>=V.l(P)&&(z=z.add(D),B=V),j=Y(j,1),D=Y(D,1)}return M=N(P,z.j(M)),new S(z,M)}for(z=b;0<=P.l(M);){for(D=Math.max(1,Math.floor(P.m()/M.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),B=h(D),V=B.j(M);T(V)||0<V.l(P);)D-=j,B=h(D),V=B.j(M);E(B)&&(B=_),z=z.add(B),P=N(P,V)}return new S(z,P)}n.A=function(P){return U(this,P).h},n.and=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],j=0;j<M;j++)D[j]=this.i(j)&P.i(j);return new u(D,this.h&P.h)},n.or=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],j=0;j<M;j++)D[j]=this.i(j)|P.i(j);return new u(D,this.h|P.h)},n.xor=function(P){for(var M=Math.max(this.g.length,P.g.length),D=[],j=0;j<M;j++)D[j]=this.i(j)^P.i(j);return new u(D,this.h^P.h)};function k(P){for(var M=P.g.length+1,D=[],j=0;j<M;j++)D[j]=P.i(j)<<1|P.i(j-1)>>>31;return new u(D,P.h)}function Y(P,M){var D=M>>5;M%=32;for(var j=P.g.length-D,z=[],B=0;B<j;B++)z[B]=0<M?P.i(B+D)>>>M|P.i(B+D+1)<<32-M:P.i(B+D);return new u(z,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=h,u.fromString=m,oa=u}).apply(typeof zw<"u"?zw:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u1,ac,c1,qf,bv,d1,f1,h1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,x,A){return p==Array.prototype||p==Object.prototype||(p[x]=A.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var x=0;x<p.length;++x){var A=p[x];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function s(p,x){if(x)e:{var A=r;p=p.split(".");for(var F=0;F<p.length-1;F++){var X=p[F];if(!(X in A))break e;A=A[X]}p=p[p.length-1],F=A[p],x=x(F),x!=F&&x!=null&&e(A,p,{configurable:!0,writable:!0,value:x})}}function o(p,x){p instanceof String&&(p+="");var A=0,F=!1,X={next:function(){if(!F&&A<p.length){var re=A++;return{value:x(re,p[re]),done:!1}}return F=!0,{done:!0,value:void 0}}};return X[Symbol.iterator]=function(){return X},X}s("Array.prototype.values",function(p){return p||function(){return o(this,function(x,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(p){var x=typeof p;return x=x!="object"?x:p?Array.isArray(p)?"array":x:"null",x=="array"||x=="object"&&typeof p.length=="number"}function h(p){var x=typeof p;return x=="object"&&p!=null||x=="function"}function m(p,x,A){return p.call.apply(p.bind,arguments)}function b(p,x,A){if(!p)throw Error();if(2<arguments.length){var F=Array.prototype.slice.call(arguments,2);return function(){var X=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(X,F),p.apply(x,X)}}return function(){return p.apply(x,arguments)}}function _(p,x,A){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:b,_.apply(null,arguments)}function w(p,x){var A=Array.prototype.slice.call(arguments,1);return function(){var F=A.slice();return F.push.apply(F,arguments),p.apply(this,F)}}function E(p,x){function A(){}A.prototype=x.prototype,p.aa=x.prototype,p.prototype=new A,p.prototype.constructor=p,p.Qb=function(F,X,re){for(var be=Array(arguments.length-2),st=2;st<arguments.length;st++)be[st-2]=arguments[st];return x.prototype[X].apply(F,be)}}function T(p){const x=p.length;if(0<x){const A=Array(x);for(let F=0;F<x;F++)A[F]=p[F];return A}return[]}function I(p,x){for(let A=1;A<arguments.length;A++){const F=arguments[A];if(d(F)){const X=p.length||0,re=F.length||0;p.length=X+re;for(let be=0;be<re;be++)p[X+be]=F[be]}else p.push(F)}}class N{constructor(x,A){this.i=x,this.j=A,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function C(p){return/^[\s\xa0]*$/.test(p)}function S(){var p=f.navigator;return p&&(p=p.userAgent)?p:""}function U(p){return U[" "](p),p}U[" "]=function(){};var k=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function Y(p,x,A){for(const F in p)x.call(A,p[F],F,p)}function P(p,x){for(const A in p)x.call(void 0,p[A],A,p)}function M(p){const x={};for(const A in p)x[A]=p[A];return x}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(p,x){let A,F;for(let X=1;X<arguments.length;X++){F=arguments[X];for(A in F)p[A]=F[A];for(let re=0;re<D.length;re++)A=D[re],Object.prototype.hasOwnProperty.call(F,A)&&(p[A]=F[A])}}function z(p){var x=1;p=p.split(":");const A=[];for(;0<x&&p.length;)A.push(p.shift()),x--;return p.length&&A.push(p.join(":")),A}function B(p){f.setTimeout(()=>{throw p},0)}function V(){var p=_e;let x=null;return p.g&&(x=p.g,p.g=p.g.next,p.g||(p.h=null),x.next=null),x}class ie{constructor(){this.h=this.g=null}add(x,A){const F=ee.get();F.set(x,A),this.h?this.h.next=F:this.g=F,this.h=F}}var ee=new N(()=>new H,p=>p.reset());class H{constructor(){this.next=this.g=this.h=null}set(x,A){this.h=x,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let se,he=!1,_e=new ie,$=()=>{const p=f.Promise.resolve(void 0);se=()=>{p.then(le)}};var le=()=>{for(var p;p=V();){try{p.h.call(p.g)}catch(A){B(A)}var x=ee;x.j(p),100>x.h&&(x.h++,p.next=x.g,x.g=p)}he=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(p,x){this.type=p,this.g=this.target=x,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var p=!1,x=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const A=()=>{};f.addEventListener("test",A,x),f.removeEventListener("test",A,x)}catch{}return p}();function ke(p,x){if(pe.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var A=this.type=p.type,F=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=x,x=p.relatedTarget){if(k){e:{try{U(x.nodeName);var X=!0;break e}catch{}X=!1}X||(x=null)}}else A=="mouseover"?x=p.fromElement:A=="mouseout"&&(x=p.toElement);this.relatedTarget=x,F?(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:Ie[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&ke.aa.h.call(this)}}E(ke,pe);var Ie={2:"touch",3:"pen",4:"mouse"};ke.prototype.h=function(){ke.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Lt(p,x,A,F,X){this.listener=p,this.proxy=null,this.src=x,this.type=A,this.capture=!!F,this.ha=X,this.key=++Ye,this.da=this.fa=!1}function Nn(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function xe(p){this.src=p,this.g={},this.h=0}xe.prototype.add=function(p,x,A,F,X){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var be=Ge(p,x,F,X);return-1<be?(x=p[be],A||(x.fa=!1)):(x=new Lt(x,this.src,re,!!F,X),x.fa=A,p.push(x)),x};function we(p,x){var A=x.type;if(A in p.g){var F=p.g[A],X=Array.prototype.indexOf.call(F,x,void 0),re;(re=0<=X)&&Array.prototype.splice.call(F,X,1),re&&(Nn(x),p.g[A].length==0&&(delete p.g[A],p.h--))}}function Ge(p,x,A,F){for(var X=0;X<p.length;++X){var re=p[X];if(!re.da&&re.listener==x&&re.capture==!!A&&re.ha==F)return X}return-1}var Ze="closure_lm_"+(1e6*Math.random()|0),Ct={};function Ci(p,x,A,F,X){if(Array.isArray(x)){for(var re=0;re<x.length;re++)Ci(p,x[re],A,F,X);return null}return A=ge(A),p&&p[ut]?p.K(x,A,h(F)?!!F.capture:!1,X):yn(p,x,A,!1,F,X)}function yn(p,x,A,F,X,re){if(!x)throw Error("Invalid event type");var be=h(X)?!!X.capture:!!X,st=ve(p);if(st||(p[Ze]=st=new xe(p)),A=st.add(x,A,F,be,re),A.proxy)return A;if(F=Ri(),A.proxy=F,F.src=p,F.listener=A,p.addEventListener)Te||(X=be),X===void 0&&(X=!1),p.addEventListener(x.toString(),F,X);else if(p.attachEvent)p.attachEvent(J(x.toString()),F);else if(p.addListener&&p.removeListener)p.addListener(F);else throw Error("addEventListener and attachEvent are unavailable.");return A}function Ri(){function p(A){return x.call(p.src,p.listener,A)}const x=ae;return p}function Qr(p,x,A,F,X){if(Array.isArray(x))for(var re=0;re<x.length;re++)Qr(p,x[re],A,F,X);else F=h(F)?!!F.capture:!!F,A=ge(A),p&&p[ut]?(p=p.i,x=String(x).toString(),x in p.g&&(re=p.g[x],A=Ge(re,A,F,X),-1<A&&(Nn(re[A]),Array.prototype.splice.call(re,A,1),re.length==0&&(delete p.g[x],p.h--)))):p&&(p=ve(p))&&(x=p.g[x.toString()],p=-1,x&&(p=Ge(x,A,F,X)),(A=-1<p?x[p]:null)&&G(A))}function G(p){if(typeof p!="number"&&p&&!p.da){var x=p.src;if(x&&x[ut])we(x.i,p);else{var A=p.type,F=p.proxy;x.removeEventListener?x.removeEventListener(A,F,p.capture):x.detachEvent?x.detachEvent(J(A),F):x.addListener&&x.removeListener&&x.removeListener(F),(A=ve(x))?(we(A,p),A.h==0&&(A.src=null,x[Ze]=null)):Nn(p)}}}function J(p){return p in Ct?Ct[p]:Ct[p]="on"+p}function ae(p,x){if(p.da)p=!0;else{x=new ke(x,this);var A=p.listener,F=p.ha||p.src;p.fa&&G(p),p=A.call(F,x)}return p}function ve(p){return p=p[Ze],p instanceof xe?p:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(p){return typeof p=="function"?p:(p[ye]||(p[ye]=function(x){return p.handleEvent(x)}),p[ye])}function Ee(){me.call(this),this.i=new xe(this),this.M=this,this.F=null}E(Ee,me),Ee.prototype[ut]=!0,Ee.prototype.removeEventListener=function(p,x,A,F){Qr(this,p,x,A,F)};function Ne(p,x){var A,F=p.F;if(F)for(A=[];F;F=F.F)A.push(F);if(p=p.M,F=x.type||x,typeof x=="string")x=new pe(x,p);else if(x instanceof pe)x.target=x.target||p;else{var X=x;x=new pe(F,p),j(x,X)}if(X=!0,A)for(var re=A.length-1;0<=re;re--){var be=x.g=A[re];X=Qe(be,F,!0,x)&&X}if(be=x.g=p,X=Qe(be,F,!0,x)&&X,X=Qe(be,F,!1,x)&&X,A)for(re=0;re<A.length;re++)be=x.g=A[re],X=Qe(be,F,!1,x)&&X}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var p=this.i,x;for(x in p.g){for(var A=p.g[x],F=0;F<A.length;F++)Nn(A[F]);delete p.g[x],p.h--}}this.F=null},Ee.prototype.K=function(p,x,A,F){return this.i.add(String(p),x,!1,A,F)},Ee.prototype.L=function(p,x,A,F){return this.i.add(String(p),x,!0,A,F)};function Qe(p,x,A,F){if(x=p.i.g[String(x)],!x)return!0;x=x.concat();for(var X=!0,re=0;re<x.length;++re){var be=x[re];if(be&&!be.da&&be.capture==A){var st=be.listener,nn=be.ha||be.src;be.fa&&we(p.i,be),X=st.call(nn,F)!==!1&&X}}return X&&!F.defaultPrevented}function vt(p,x,A){if(typeof p=="function")A&&(p=_(p,A));else if(p&&typeof p.handleEvent=="function")p=_(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(x)?-1:f.setTimeout(p,x||0)}function Ii(p){p.g=vt(()=>{p.g=null,p.i&&(p.i=!1,Ii(p))},p.l);const x=p.h;p.h=null,p.m.apply(null,x)}class pr extends me{constructor(x,A){super(),this.m=x,this.l=A,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Ii(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ni(p){me.call(this),this.h=p,this.g={}}E(Ni,me);var Mr=[];function Dr(p){Y(p.g,function(x,A){this.g.hasOwnProperty(A)&&G(x)},p),p.g={}}Ni.prototype.N=function(){Ni.aa.N.call(this),Dr(this)},Ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=f.JSON.stringify,Oi=f.JSON.parse,Mi=class{stringify(p){return f.JSON.stringify(p,void 0)}parse(p){return f.JSON.parse(p,void 0)}};function ws(){}ws.prototype.h=null;function $l(p){return p.h||(p.h=p.i())}function Gl(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){pe.call(this,"d")}E(Pi,pe);function Yl(){pe.call(this,"c")}E(Yl,pe);var Xr={},Kl=null;function Es(){return Kl=Kl||new Ee}Xr.La="serverreachability";function _o(p){pe.call(this,Xr.La,p)}E(_o,pe);function Ss(p){const x=Es();Ne(x,new _o(x))}Xr.STAT_EVENT="statevent";function td(p,x){pe.call(this,Xr.STAT_EVENT,p),this.stat=x}E(td,pe);function It(p){const x=Es();Ne(x,new td(x,p))}Xr.Ma="timingevent";function tn(p,x){pe.call(this,Xr.Ma,p),this.size=x}E(tn,pe);function Gt(p,x){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){p()},x)}function mr(){this.g=!0}mr.prototype.xa=function(){this.g=!1};function Ql(p,x,A,F,X,re){p.info(function(){if(p.g)if(re)for(var be="",st=re.split("&"),nn=0;nn<st.length;nn++){var at=st[nn].split("=");if(1<at.length){var fn=at[0];at=at[1];var rn=fn.split("_");be=2<=rn.length&&rn[1]=="type"?be+(fn+"="+at+"&"):be+(fn+"=redacted&")}}else be=null;else be=re;return"XMLHTTP REQ ("+F+") [attempt "+X+"]: "+x+`
`+A+`
`+be})}function Ap(p,x,A,F,X,re,be){p.info(function(){return"XMLHTTP RESP ("+F+") [ attempt "+X+"]: "+x+`
`+A+`
`+re+" "+be})}function Ts(p,x,A,F){p.info(function(){return"XMLHTTP TEXT ("+x+"): "+wa(p,A)+(F?" "+F:"")})}function nd(p,x){p.info(function(){return"TIMEOUT: "+x})}mr.prototype.info=function(){};function wa(p,x){if(!p.g)return x;if(!x)return null;try{var A=JSON.parse(x);if(A){for(p=0;p<A.length;p++)if(Array.isArray(A[p])){var F=A[p];if(!(2>F.length)){var X=F[1];if(Array.isArray(X)&&!(1>X.length)){var re=X[0];if(re!="noop"&&re!="stop"&&re!="close")for(var be=1;be<X.length;be++)X[be]=""}}}}return Jn(A)}catch{return x}}var As={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function Zr(){}E(Zr,ws),Zr.prototype.g=function(){return new XMLHttpRequest},Zr.prototype.i=function(){return{}},Wr=new Zr;function Un(p,x,A,F){this.j=p,this.i=x,this.l=A,this.R=F||1,this.U=new Ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var Xl={},xo={};function Pr(p,x,A){p.L=1,p.v=Ca(er(x)),p.m=A,p.P=!0,Vi(p,null)}function Vi(p,x){p.F=Date.now(),Ea(p),p.A=er(p.v);var A=p.A,F=p.R;Array.isArray(F)||(F=[String(F)]),nu(A.i,"t",F),p.C=0,A=p.j.J,p.h=new Ut,p.g=yd(p.j,A?x:null,!p.m),0<p.O&&(p.M=new pr(_(p.Y,p,p.g),p.O)),x=p.U,A=p.g,F=p.ca;var X="readystatechange";Array.isArray(X)||(X&&(Mr[0]=X.toString()),X=Mr);for(var re=0;re<X.length;re++){var be=Ci(A,X[re],F||x.handleEvent,!1,x.h||x);if(!be)break;x.g[be.key]=be}x=p.H?M(p.H):{},p.m?(p.u||(p.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,x)):(p.u="GET",p.g.ea(p.A,p.u,null,x)),Ss(),Ql(p.i,p.u,p.A,p.l,p.R,p.m)}Un.prototype.ca=function(p){p=p.target;const x=this.M;x&&br(p)==3?x.j():this.Y(p)},Un.prototype.Y=function(p){try{if(p==this.g)e:{const rn=br(this.g);var x=this.g.Ba();const qi=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||cd(this.g)))){this.J||rn!=4||x==7||(x==8||0>=qi?Ss(3):Ss(2)),Cs(this);var A=this.g.Z();this.X=A;t:if(rd(this)){var F=cd(this.g);p="";var X=F.length,re=br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Jr(this);var be="";break t}this.h.i=new f.TextDecoder}for(x=0;x<X;x++)this.h.h=!0,p+=this.h.i.decode(F[x],{stream:!(re&&x==X-1)});F.length=0,this.h.g+=p,this.C=0,be=this.h.g}else be=this.g.oa();if(this.o=A==200,Ap(this.i,this.u,this.A,this.l,this.R,rn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var st,nn=this.g;if((st=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(st)){var at=st;break t}}at=null}if(A=at)Ts(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sa(this,A);else{this.o=!1,this.s=3,It(12),bn(this),Jr(this);break e}}if(this.P){A=!0;let _n;for(;!this.J&&this.C<be.length;)if(_n=id(this,be),_n==xo){rn==4&&(this.s=4,It(14),A=!1),Ts(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Xl){this.s=4,It(15),Ts(this.i,this.l,be,"[Invalid Chunk]"),A=!1;break}else Ts(this.i,this.l,_n,null),Sa(this,_n);if(rd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||be.length!=0||this.h.h||(this.s=1,It(16),A=!1),this.o=this.o&&A,!A)Ts(this.i,this.l,be,"[Invalid Chunked Response]"),bn(this),Jr(this);else if(0<be.length&&!this.W){this.W=!0;var fn=this.j;fn.g==this&&fn.ba&&!fn.M&&(fn.j.info("Great, no buffering proxy detected. Bytes received: "+be.length),ka(fn),fn.M=!0,It(11))}}else Ts(this.i,this.l,be,null),Sa(this,be);rn==4&&bn(this),this.o&&!this.J&&(rn==4?md(this.j,this):(this.o=!1,Ea(this)))}else Op(this.g),A==400&&0<be.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),bn(this),Jr(this)}}}catch{}finally{}};function rd(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function id(p,x){var A=p.C,F=x.indexOf(`
`,A);return F==-1?xo:(A=Number(x.substring(A,F)),isNaN(A)?Xl:(F+=1,F+A>x.length?xo:(x=x.slice(F,F+A),p.C=F+A,x)))}Un.prototype.cancel=function(){this.J=!0,bn(this)};function Ea(p){p.S=Date.now()+p.I,sd(p,p.I)}function sd(p,x){if(p.B!=null)throw Error("WatchDog timer not null");p.B=Gt(_(p.ba,p),x)}function Cs(p){p.B&&(f.clearTimeout(p.B),p.B=null)}Un.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(nd(this.i,this.A),this.L!=2&&(Ss(),It(17)),bn(this),this.s=2,Jr(this)):sd(this,this.S-p)};function Jr(p){p.j.G==0||p.J||md(p.j,p)}function bn(p){Cs(p);var x=p.M;x&&typeof x.ma=="function"&&x.ma(),p.M=null,Dr(p.U),p.g&&(x=p.g,p.g=null,x.abort(),x.ma())}function Sa(p,x){try{var A=p.j;if(A.G!=0&&(A.g==p||Wl(A.h,p))){if(!p.K&&Wl(A.h,p)&&A.G==3){try{var F=A.Da.g.parse(x)}catch{F=null}if(Array.isArray(F)&&F.length==3){var X=F;if(X[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<p.F)Do(A),Oo(A);else break e;ou(A),It(18)}}else A.za=X[1],0<A.za-A.T&&37500>X[2]&&A.F&&A.v==0&&!A.C&&(A.C=Gt(_(A.Za,A),6e3));if(1>=Eo(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Hi(A,11)}else if((p.K||A.g==p)&&Do(A),!C(x))for(X=A.Da.g.parse(x),x=0;x<X.length;x++){let at=X[x];if(A.T=at[0],at=at[1],A.G==2)if(at[0]=="c"){A.K=at[1],A.ia=at[2];const fn=at[3];fn!=null&&(A.la=fn,A.j.info("VER="+A.la));const rn=at[4];rn!=null&&(A.Aa=rn,A.j.info("SVER="+A.Aa));const qi=at[5];qi!=null&&typeof qi=="number"&&0<qi&&(F=1.5*qi,A.L=F,A.j.info("backChannelRequestTimeoutMs_="+F)),F=A;const _n=p.g;if(_n){const ai=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var re=F.h;re.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(So(re,re.h),re.h=null))}if(F.D){const uu=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;uu&&(F.ya=uu,_t(F.I,F.D,uu))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-p.F,A.j.info("Handshake RTT: "+A.R+"ms")),F=A;var be=p;if(F.qa=vd(F,F.J?F.ia:null,F.W),be.K){Fn(F.h,be);var st=be,nn=F.L;nn&&(st.I=nn),st.B&&(Cs(st),Ea(st)),F.g=be}else hd(F);0<A.i.length&&Mo(A)}else at[0]!="stop"&&at[0]!="close"||Hi(A,7);else A.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Hi(A,7):su(A):at[0]!="noop"&&A.l&&A.l.ta(at),A.v=0)}}Ss(4)}catch{}}var ad=class{constructor(p,x){this.g=p,this.map=x}};function ji(p){this.l=p||10,f.PerformanceNavigationTiming?(p=f.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wo(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Eo(p){return p.h?1:p.g?p.g.size:0}function Wl(p,x){return p.h?p.h==x:p.g?p.g.has(x):!1}function So(p,x){p.g?p.g.add(x):p.h=x}function Fn(p,x){p.h&&p.h==x?p.h=null:p.g&&p.g.has(x)&&p.g.delete(x)}ji.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Zl(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let x=p.i;for(const A of p.g.values())x=x.concat(A.D);return x}return T(p.i)}function Cp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var x=[],A=p.length,F=0;F<A;F++)x.push(p[F]);return x}x=[],A=0;for(F in p)x[A++]=p[F];return x}function To(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var x=[];p=p.length;for(var A=0;A<p;A++)x.push(A);return x}x=[],A=0;for(const F in p)x[A++]=F;return x}}}function Jl(p,x){if(p.forEach&&typeof p.forEach=="function")p.forEach(x,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,x,void 0);else for(var A=To(p),F=Cp(p),X=F.length,re=0;re<X;re++)x.call(void 0,F[re],A&&A[re],p)}var Ta=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rp(p,x){if(p){p=p.split("&");for(var A=0;A<p.length;A++){var F=p[A].indexOf("="),X=null;if(0<=F){var re=p[A].substring(0,F);X=p[A].substring(F+1)}else re=p[A];x(re,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function Yt(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof Yt){this.h=p.h,Aa(this,p.j),this.o=p.o,this.g=p.g,Rs(this,p.s),this.l=p.l;var x=p.i,A=new Ui;A.i=x.i,x.g&&(A.g=new Map(x.g),A.h=x.h),Li(this,A),this.m=p.m}else p&&(x=String(p).match(Ta))?(this.h=!1,Aa(this,x[1]||"",!0),this.o=gr(x[2]||""),this.g=gr(x[3]||"",!0),Rs(this,x[4]),this.l=gr(x[5]||"",!0),Li(this,x[6]||"",!0),this.m=gr(x[7]||"")):(this.h=!1,this.i=new Ui(null,this.h))}Yt.prototype.toString=function(){var p=[],x=this.j;x&&p.push(Ra(x,eu,!0),":");var A=this.g;return(A||x=="file")&&(p.push("//"),(x=this.o)&&p.push(Ra(x,eu,!0),"@"),p.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&p.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&p.push("/"),p.push(Ra(A,A.charAt(0)=="/"?Ip:tu,!0))),(A=this.i.toString())&&p.push("?",A),(A=this.m)&&p.push("#",Ra(A,Ao)),p.join("")};function er(p){return new Yt(p)}function Aa(p,x,A){p.j=A?gr(x,!0):x,p.j&&(p.j=p.j.replace(/:$/,""))}function Rs(p,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);p.s=x}else p.s=null}function Li(p,x,A){x instanceof Ui?(p.i=x,ld(p.i,p.h)):(A||(x=Ra(x,Np)),p.i=new Ui(x,p.h))}function _t(p,x,A){p.i.set(x,A)}function Ca(p){return _t(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function gr(p,x){return p?x?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Ra(p,x,A){return typeof p=="string"?(p=encodeURI(p).replace(x,od),A&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function od(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var eu=/[#\/\?@]/g,tu=/[#\?:]/g,Ip=/[#\?]/g,Np=/[#\?@]/g,Ao=/#/g;function Ui(p,x){this.h=this.g=null,this.i=p||null,this.j=!!x}function vr(p){p.g||(p.g=new Map,p.h=0,p.i&&Rp(p.i,function(x,A){p.add(decodeURIComponent(x.replace(/\+/g," ")),A)}))}n=Ui.prototype,n.add=function(p,x){vr(this),this.i=null,p=ei(this,p);var A=this.g.get(p);return A||this.g.set(p,A=[]),A.push(x),this.h+=1,this};function Fi(p,x){vr(p),x=ei(p,x),p.g.has(x)&&(p.i=null,p.h-=p.g.get(x).length,p.g.delete(x))}function zi(p,x){return vr(p),x=ei(p,x),p.g.has(x)}n.forEach=function(p,x){vr(this),this.g.forEach(function(A,F){A.forEach(function(X){p.call(x,X,F,this)},this)},this)},n.na=function(){vr(this);const p=Array.from(this.g.values()),x=Array.from(this.g.keys()),A=[];for(let F=0;F<x.length;F++){const X=p[F];for(let re=0;re<X.length;re++)A.push(x[F])}return A},n.V=function(p){vr(this);let x=[];if(typeof p=="string")zi(this,p)&&(x=x.concat(this.g.get(ei(this,p))));else{p=Array.from(this.g.values());for(let A=0;A<p.length;A++)x=x.concat(p[A])}return x},n.set=function(p,x){return vr(this),this.i=null,p=ei(this,p),zi(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[x]),this.h+=1,this},n.get=function(p,x){return p?(p=this.V(p),0<p.length?String(p[0]):x):x};function nu(p,x,A){Fi(p,x),0<A.length&&(p.i=null,p.g.set(ei(p,x),T(A)),p.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],x=Array.from(this.g.keys());for(var A=0;A<x.length;A++){var F=x[A];const re=encodeURIComponent(String(F)),be=this.V(F);for(F=0;F<be.length;F++){var X=re;be[F]!==""&&(X+="="+encodeURIComponent(String(be[F]))),p.push(X)}}return this.i=p.join("&")};function ei(p,x){return x=String(x),p.j&&(x=x.toLowerCase()),x}function ld(p,x){x&&!p.j&&(vr(p),p.i=null,p.g.forEach(function(A,F){var X=F.toLowerCase();F!=X&&(Fi(this,F),nu(this,X,A))},p)),p.j=x}function Ia(p,x){const A=new mr;if(f.Image){const F=new Image;F.onload=w(yr,A,"TestLoadImage: loaded",!0,x,F),F.onerror=w(yr,A,"TestLoadImage: error",!1,x,F),F.onabort=w(yr,A,"TestLoadImage: abort",!1,x,F),F.ontimeout=w(yr,A,"TestLoadImage: timeout",!1,x,F),f.setTimeout(function(){F.ontimeout&&F.ontimeout()},1e4),F.src=p}else x(!1)}function kr(p,x){const A=new mr,F=new AbortController,X=setTimeout(()=>{F.abort(),yr(A,"TestPingServer: timeout",!1,x)},1e4);fetch(p,{signal:F.signal}).then(re=>{clearTimeout(X),re.ok?yr(A,"TestPingServer: ok",!0,x):yr(A,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(X),yr(A,"TestPingServer: error",!1,x)})}function yr(p,x,A,F,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),F(A)}catch{}}function Na(){this.g=new Mi}function ti(p,x,A){const F=A||"";try{Jl(p,function(X,re){let be=X;h(X)&&(be=Jn(X)),x.push(F+re+"="+encodeURIComponent(be))})}catch(X){throw x.push(F+"type="+encodeURIComponent("_badmap")),X}}function Is(p){this.l=p.Ub||null,this.j=p.eb||!1}E(Is,ws),Is.prototype.g=function(){return new Bi(this.l,this.j)},Is.prototype.i=function(p){return function(){return p}}({});function Bi(p,x){Ee.call(this),this.D=p,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(Bi,Ee),n=Bi.prototype,n.open=function(p,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=x,this.readyState=1,ri(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(x.body=p),(this.D||f).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ru(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function ru(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var x=p.value?p.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!p.done}))&&(this.response=this.responseText+=x)}p.done?ni(this):ri(this),this.readyState==3&&ru(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,ni(this))},n.Qa=function(p){this.g&&(this.response=p,ni(this))},n.ga=function(){this.g&&ni(this)};function ni(p){p.readyState=4,p.l=null,p.j=null,p.v=null,ri(p)}n.setRequestHeader=function(p,x){this.u.append(p,x)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],x=this.h.entries();for(var A=x.next();!A.done;)A=A.value,p.push(A[0]+": "+A[1]),A=x.next();return p.join(`\r
`)};function ri(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function iu(p){let x="";return Y(p,function(A,F){x+=F,x+=":",x+=A,x+=`\r
`}),x}function dn(p,x,A){e:{for(F in A){var F=!1;break e}F=!0}F||(A=iu(A),typeof p=="string"?A!=null&&encodeURIComponent(String(A)):_t(p,x,A))}function pt(p){Ee.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(pt,Ee);var Co=/^https?$/i,Oa=["POST","PUT"];n=pt.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,x,A,F){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);x=x?x.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?$l(this.o):$l(Wr),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(x,String(p),!0),this.B=!1}catch(re){ud(this,re);return}if(p=A||"",A=new Map(this.headers),F)if(Object.getPrototypeOf(F)===Object.prototype)for(var X in F)A.set(X,F[X]);else if(typeof F.keys=="function"&&typeof F.get=="function")for(const re of F.keys())A.set(re,F.get(re));else throw Error("Unknown input type for opt_headers: "+String(F));F=Array.from(A.keys()).find(re=>re.toLowerCase()=="content-type"),X=f.FormData&&p instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Oa,x,void 0))||F||X||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,be]of A)this.g.setRequestHeader(re,be);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ma(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){ud(this,re)}};function ud(p,x){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=x,p.m=5,Ro(p),ii(p)}function Ro(p){p.A||(p.A=!0,Ne(p,"complete"),Ne(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,Ne(this,"complete"),Ne(this,"abort"),ii(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Io(this):this.bb())},n.bb=function(){Io(this)};function Io(p){if(p.h&&typeof u<"u"&&(!p.v[1]||br(p)!=4||p.Z()!=2)){if(p.u&&br(p)==4)vt(p.Ea,0,p);else if(Ne(p,"readystatechange"),br(p)==4){p.h=!1;try{const be=p.Z();e:switch(be){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var A;if(!(A=x)){var F;if(F=be===0){var X=String(p.D).match(Ta)[1]||null;!X&&f.self&&f.self.location&&(X=f.self.location.protocol.slice(0,-1)),F=!Co.test(X?X.toLowerCase():"")}A=F}if(A)Ne(p,"complete"),Ne(p,"success");else{p.m=6;try{var re=2<br(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",Ro(p)}}finally{ii(p)}}}}function ii(p,x){if(p.g){Ma(p);const A=p.g,F=p.v[0]?()=>{}:null;p.g=null,p.v=null,x||Ne(p,"ready");try{A.onreadystatechange=F}catch{}}}function Ma(p){p.I&&(f.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function br(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<br(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var x=this.g.responseText;return p&&x.indexOf(p)==0&&(x=x.substring(p.length)),Oi(x)}};function cd(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Op(p){const x={};p=(p.g&&2<=br(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let F=0;F<p.length;F++){if(C(p[F]))continue;var A=z(p[F]);const X=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const re=x[X]||[];x[X]=re,re.push(A)}P(x,function(F){return F.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Da(p,x,A){return A&&A.internalChannelParams&&A.internalChannelParams[p]||x}function No(p){this.Aa=0,this.i=[],this.j=new mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Da("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Da("baseRetryDelayMs",5e3,p),this.cb=Da("retryDelaySeedMs",1e4,p),this.Wa=Da("forwardChannelMaxRetries",2,p),this.wa=Da("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(p&&p.concurrentRequestLimit),this.Da=new Na,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=No.prototype,n.la=8,n.G=1,n.connect=function(p,x,A,F){It(0),this.W=p,this.H=x||{},A&&F!==void 0&&(this.H.OSID=A,this.H.OAID=F),this.F=this.X,this.I=vd(this,null,this.W),Mo(this)};function su(p){if(dd(p),p.G==3){var x=p.U++,A=er(p.I);if(_t(A,"SID",p.K),_t(A,"RID",x),_t(A,"TYPE","terminate"),Pa(p,A),x=new Un(p,p.j,x),x.L=2,x.v=Ca(er(A)),A=!1,f.navigator&&f.navigator.sendBeacon)try{A=f.navigator.sendBeacon(x.v.toString(),"")}catch{}!A&&f.Image&&(new Image().src=x.v,A=!0),A||(x.g=yd(x.j,null),x.g.ea(x.v)),x.F=Date.now(),Ea(x)}gd(p)}function Oo(p){p.g&&(ka(p),p.g.cancel(),p.g=null)}function dd(p){Oo(p),p.u&&(f.clearTimeout(p.u),p.u=null),Do(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&f.clearTimeout(p.s),p.s=null)}function Mo(p){if(!wo(p.h)&&!p.s){p.s=!0;var x=p.Ga;se||$(),he||(se(),he=!0),_e.add(x,p),p.B=0}}function Mp(p,x){return Eo(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=x.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=Gt(_(p.Ga,p,x),lu(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const X=new Un(this,this.j,p);let re=this.o;if(this.S&&(re?(re=M(re),j(re,this.S)):re=this.S),this.m!==null||this.O||(X.H=re,re=null),this.P)e:{for(var x=0,A=0;A<this.i.length;A++){t:{var F=this.i[A];if("__data__"in F.map&&(F=F.map.__data__,typeof F=="string")){F=F.length;break t}F=void 0}if(F===void 0)break;if(x+=F,4096<x){x=A;break e}if(x===4096||A===this.i.length-1){x=A+1;break e}}x=1e3}else x=1e3;x=fd(this,X,x),A=er(this.I),_t(A,"RID",p),_t(A,"CVER",22),this.D&&_t(A,"X-HTTP-Session-Id",this.D),Pa(this,A),re&&(this.O?x="headers="+encodeURIComponent(String(iu(re)))+"&"+x:this.m&&dn(A,this.m,re)),So(this.h,X),this.Ua&&_t(A,"TYPE","init"),this.P?(_t(A,"$req",x),_t(A,"SID","null"),X.T=!0,Pr(X,A,null)):Pr(X,A,x),this.G=2}}else this.G==3&&(p?au(this,p):this.i.length==0||wo(this.h)||au(this))};function au(p,x){var A;x?A=x.l:A=p.U++;const F=er(p.I);_t(F,"SID",p.K),_t(F,"RID",A),_t(F,"AID",p.T),Pa(p,F),p.m&&p.o&&dn(F,p.m,p.o),A=new Un(p,p.j,A,p.B+1),p.m===null&&(A.H=p.o),x&&(p.i=x.D.concat(p.i)),x=fd(p,A,1e3),A.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),So(p.h,A),Pr(A,F,x)}function Pa(p,x){p.H&&Y(p.H,function(A,F){_t(x,F,A)}),p.l&&Jl({},function(A,F){_t(x,F,A)})}function fd(p,x,A){A=Math.min(p.i.length,A);var F=p.l?_(p.l.Na,p.l,p):null;e:{var X=p.i;let re=-1;for(;;){const be=["count="+A];re==-1?0<A?(re=X[0].g,be.push("ofs="+re)):re=0:be.push("ofs="+re);let st=!0;for(let nn=0;nn<A;nn++){let at=X[nn].g;const fn=X[nn].map;if(at-=re,0>at)re=Math.max(0,X[nn].g-100),st=!1;else try{ti(fn,be,"req"+at+"_")}catch{F&&F(fn)}}if(st){F=be.join("&");break e}}}return p=p.i.splice(0,A),x.D=p,F}function hd(p){if(!p.g&&!p.u){p.Y=1;var x=p.Fa;se||$(),he||(se(),he=!0),_e.add(x,p),p.v=0}}function ou(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=Gt(_(p.Fa,p),lu(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,pd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=Gt(_(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Oo(this),pd(this))};function ka(p){p.A!=null&&(f.clearTimeout(p.A),p.A=null)}function pd(p){p.g=new Un(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var x=er(p.qa);_t(x,"RID","rpc"),_t(x,"SID",p.K),_t(x,"AID",p.T),_t(x,"CI",p.F?"0":"1"),!p.F&&p.ja&&_t(x,"TO",p.ja),_t(x,"TYPE","xmlhttp"),Pa(p,x),p.m&&p.o&&dn(x,p.m,p.o),p.L&&(p.g.I=p.L);var A=p.g;p=p.ia,A.L=1,A.v=Ca(er(x)),A.m=null,A.P=!0,Vi(A,p)}n.Za=function(){this.C!=null&&(this.C=null,Oo(this),ou(this),It(19))};function Do(p){p.C!=null&&(f.clearTimeout(p.C),p.C=null)}function md(p,x){var A=null;if(p.g==x){Do(p),ka(p),p.g=null;var F=2}else if(Wl(p.h,x))A=x.D,Fn(p.h,x),F=1;else return;if(p.G!=0){if(x.o)if(F==1){A=x.m?x.m.length:0,x=Date.now()-x.F;var X=p.B;F=Es(),Ne(F,new tn(F,A)),Mo(p)}else hd(p);else if(X=x.s,X==3||X==0&&0<x.X||!(F==1&&Mp(p,x)||F==2&&ou(p)))switch(A&&0<A.length&&(x=p.h,x.i=x.i.concat(A)),X){case 1:Hi(p,5);break;case 4:Hi(p,10);break;case 3:Hi(p,6);break;default:Hi(p,2)}}}function lu(p,x){let A=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(A*=2),A*x}function Hi(p,x){if(p.j.info("Error code "+x),x==2){var A=_(p.fb,p),F=p.Xa;const X=!F;F=new Yt(F||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Aa(F,"https"),Ca(F),X?Ia(F.toString(),A):kr(F.toString(),A)}else It(2);p.G=0,p.l&&p.l.sa(x),gd(p),dd(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function gd(p){if(p.G=0,p.ka=[],p.l){const x=Zl(p.h);(x.length!=0||p.i.length!=0)&&(I(p.ka,x),I(p.ka,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.ra()}}function vd(p,x,A){var F=A instanceof Yt?er(A):new Yt(A);if(F.g!="")x&&(F.g=x+"."+F.g),Rs(F,F.s);else{var X=f.location;F=X.protocol,x=x?x+"."+X.hostname:X.hostname,X=+X.port;var re=new Yt(null);F&&Aa(re,F),x&&(re.g=x),X&&Rs(re,X),A&&(re.l=A),F=re}return A=p.D,x=p.ya,A&&x&&_t(F,A,x),_t(F,"VER",p.la),Pa(p,F),F}function yd(p,x,A){if(x&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return x=p.Ca&&!p.pa?new pt(new Is({eb:A})):new pt(p.pa),x.Ha(p.J),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function bd(){}n=bd.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Po(){}Po.prototype.g=function(p,x){return new zn(p,x)};function zn(p,x){Ee.call(this),this.g=new No(x),this.l=p,this.h=x&&x.messageUrlParams||null,p=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(p?p["X-WebChannel-Content-Type"]=x.messageContentType:p={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(p?p["X-WebChannel-Client-Profile"]=x.va:p={"X-WebChannel-Client-Profile":x.va}),this.g.S=p,(p=x&&x.Sb)&&!C(p)&&(this.g.m=p),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!C(x)&&(this.g.D=x,p=this.h,p!==null&&x in p&&(p=this.h,x in p&&delete p[x])),this.j=new si(this)}E(zn,Ee),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){su(this.g)},zn.prototype.o=function(p){var x=this.g;if(typeof p=="string"){var A={};A.__data__=p,p=A}else this.u&&(A={},A.__data__=Jn(p),p=A);x.i.push(new ad(x.Ya++,p)),x.G==3&&Mo(x)},zn.prototype.N=function(){this.g.l=null,delete this.j,su(this.g),delete this.g,zn.aa.N.call(this)};function _d(p){Pi.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var x=p.__sm__;if(x){e:{for(const A in x){p=A;break e}p=void 0}(this.i=p)&&(p=this.i,x=x!==null&&p in x?x[p]:void 0),this.data=x}else this.data=p}E(_d,Pi);function xd(){Yl.call(this),this.status=1}E(xd,Yl);function si(p){this.g=p}E(si,bd),si.prototype.ua=function(){Ne(this.g,"a")},si.prototype.ta=function(p){Ne(this.g,new _d(p))},si.prototype.sa=function(p){Ne(this.g,new xd)},si.prototype.ra=function(){Ne(this.g,"b")},Po.prototype.createWebChannel=Po.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,h1=function(){return new Po},f1=function(){return Es()},d1=Xr,bv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},As.NO_ERROR=0,As.TIMEOUT=8,As.HTTP_ERROR=6,qf=As,ki.COMPLETE="complete",c1=ki,Gl.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,ac=Gl,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,u1=pt}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const Bw="@firebase/firestore",Hw="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new fy("@firebase/firestore");function fl(){return lo.logLevel}function Ae(n,...e){if(lo.logLevel<=nt.DEBUG){const t=e.map(Ay);lo.debug(`Firestore (${Ul}): ${n}`,...t)}}function gs(n,...e){if(lo.logLevel<=nt.ERROR){const t=e.map(Ay);lo.error(`Firestore (${Ul}): ${n}`,...t)}}function Al(n,...e){if(lo.logLevel<=nt.WARN){const t=e.map(Ay);lo.warn(`Firestore (${Ul}): ${n}`,...t)}}function Ay(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,p1(n,r,t)}function p1(n,e,t){let r=`FIRESTORE (${Ul}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw gs(r),new Error(r)}function gt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||p1(e,s,r)}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ti{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kn.UNAUTHENTICATED))}shutdown(){}}class qP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $P{constructor(e){this.t=e,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0,42304);let r=this.i;const s=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new ds;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ds,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await s(this.currentUser)})},f=d=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ds)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string",31837,{l:r}),new m1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string",2055,{h:e}),new kn(e)}}class GP{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YP{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new GP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){gt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ae("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new qw(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=QP(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function We(n,e){return n<e?-1:n>e?1:0}function _v(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return We(r,s);{const o=g1(),u=XP(o.encode($w(n,t)),o.encode($w(e,t)));return u!==0?u:We(r,s)}}t+=r>65535?2:1}return We(n.length,e.length)}function $w(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function XP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return We(n[t],e[t]);return We(n.length,e.length)}function Cl(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=-62135596800,Yw=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Yw);return new ln(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gw)throw new Ce(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yw}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Gw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static fromTimestamp(e){return new qe(e)}static min(){return new qe(new ln(0,0))}static max(){return new qe(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="__name__";class fi{constructor(e,t,r){t===void 0?t=0:t>e.length&&ze(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ze(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=fi.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return We(e.length,t.length)}static compareSegments(e,t){const r=fi.isNumericId(e),s=fi.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?fi.extractNumericId(e).compare(fi.extractNumericId(t)):_v(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oa.fromString(e.substring(4,e.length-2))}}class Rt extends fi{construct(e,t,r){return new Rt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ce(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Rt(t)}static emptyPath(){return new Rt([])}}const WP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends fi{construct(e,t,r){return new Cn(e,t,r)}static isValidIdentifier(e){return WP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kw}static keyField(){return new Cn([Kw])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new Ce(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Ce(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ce(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,s+=2}else f==="`"?(u=!u,s++):f!=="."||u?(r+=f,s++):(o(),s++)}if(o(),u)throw new Ce(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cn(t)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Rt.fromString(e))}static fromName(e){return new Pe(Rt.fromString(e).popFirst(5))}static empty(){return new Pe(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Rt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=-1;function ZP(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=qe.fromTimestamp(r===1e9?new ln(t+1,0):new ln(t,r));return new ca(s,Pe.empty(),e)}function JP(n){return new ca(n.readTime,n.key,Sc)}class ca{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ca(qe.min(),Pe.empty(),Sc)}static max(){return new ca(qe.max(),Pe.empty(),Sc)}}function ek(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:We(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==tk)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let s=0,o=0,u=!1;e.forEach(f=>{++s,f.next(()=>{++o,u&&o===s&&t()},d=>r(d))}),u=!0,o===s&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(s=>s?fe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,o)=>{r.push(t.call(this,s,o))}),this.waitFor(r)}static mapArray(e,t){return new fe((r,s)=>{const o=e.length,u=new Array(o);let f=0;for(let d=0;d<o;d++){const h=d;t(e[h]).next(m=>{u[h]=m,++f,f===o&&r(u)},m=>s(m))}})}static doWhile(e,t){return new fe((r,s)=>{const o=()=>{e()===!0?t().next(()=>{o()},s):r()};o()})}}function rk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Zh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=-1;function Jh(n){return n==null}function fh(n){return n===0&&1/n==-1/0}function ik(n){return typeof n=="number"&&Number.isInteger(n)&&!fh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="";function sk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Qw(e)),e=ak(n.get(t),e);return Qw(e)}function ak(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case y1:t+="";break;default:t+=o}}return t}function Qw(n){return n+y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function va(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function b1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e,t){this.comparator=e,this.root=t||Tn.EMPTY}insert(e,t){return new Pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Tn.BLACK,null,null))}remove(e){return new Pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Af(this.root,e,this.comparator,!1)}getReverseIterator(){return new Af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Af(this.root,e,this.comparator,!0)}}class Af{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tn{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??Tn.RED,this.left=s??Tn.EMPTY,this.right=o??Tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new Tn(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Tn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}Tn.EMPTY=null,Tn.RED=!0,Tn.BLACK=!1;Tn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new Tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ww(this.data.getIterator())}getIteratorFrom(e){return new Ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof un)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new un(this.comparator);return t.data=e,t}}class Ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(Cn.comparator)}static empty(){return new fr([])}unionWith(e){let t=new un(Cn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new fr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Cl(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _1("Invalid base64 string: "+o):o}}(e);return new In(t)}static fromUint8Array(e){const t=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new In(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}In.EMPTY_BYTE_STRING=new In("");const ok=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(n){if(gt(!!n,39018),typeof n=="string"){let e=0;const t=ok.exec(n);if(gt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(n.seconds),nanos:Ht(n.nanos)}}function Ht(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fa(n){return typeof n=="string"?In.fromBase64String(n):In.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="server_timestamp",w1="__type__",E1="__previous_value__",S1="__local_write_time__";function Ry(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[w1])===null||t===void 0?void 0:t.stringValue)===x1}function ep(n){const e=n.mapValue.fields[E1];return Ry(e)?ep(e):e}function Tc(n){const e=da(n.mapValue.fields[S1].timestampValue);return new ln(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t,r,s,o,u,f,d,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=m}}const hh="(default)";class Ac{constructor(e,t){this.projectId=e,this.database=t||hh}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===hh}isEqual(e){return e instanceof Ac&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__type__",uk="__max__",Cf={mapValue:{}},A1="__vector__",ph="value";function ha(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ry(n)?4:dk(n)?9007199254740991:ck(n)?10:11:ze(28295,{value:n})}function Ei(n,e){if(n===e)return!0;const t=ha(n);if(t!==ha(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Tc(n).isEqual(Tc(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=da(s.timestampValue),f=da(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,o){return fa(s.bytesValue).isEqual(fa(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,o){return Ht(s.geoPointValue.latitude)===Ht(o.geoPointValue.latitude)&&Ht(s.geoPointValue.longitude)===Ht(o.geoPointValue.longitude)}(n,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return Ht(s.integerValue)===Ht(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Ht(s.doubleValue),f=Ht(o.doubleValue);return u===f?fh(u)===fh(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return Cl(n.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},f=o.mapValue.fields||{};if(Xw(u)!==Xw(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!Ei(u[d],f[d])))return!1;return!0}(n,e);default:return ze(52216,{left:n})}}function Cc(n,e){return(n.values||[]).find(t=>Ei(t,e))!==void 0}function Rl(n,e){if(n===e)return 0;const t=ha(n),r=ha(e);if(t!==r)return We(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return We(n.booleanValue,e.booleanValue);case 2:return function(o,u){const f=Ht(o.integerValue||o.doubleValue),d=Ht(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(n,e);case 3:return Zw(n.timestampValue,e.timestampValue);case 4:return Zw(Tc(n),Tc(e));case 5:return _v(n.stringValue,e.stringValue);case 6:return function(o,u){const f=fa(o),d=fa(u);return f.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),d=u.split("/");for(let h=0;h<f.length&&h<d.length;h++){const m=We(f[h],d[h]);if(m!==0)return m}return We(f.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const f=We(Ht(o.latitude),Ht(u.latitude));return f!==0?f:We(Ht(o.longitude),Ht(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Jw(n.arrayValue,e.arrayValue);case 10:return function(o,u){var f,d,h,m;const b=o.fields||{},_=u.fields||{},w=(f=b[ph])===null||f===void 0?void 0:f.arrayValue,E=(d=_[ph])===null||d===void 0?void 0:d.arrayValue,T=We(((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0,((m=E==null?void 0:E.values)===null||m===void 0?void 0:m.length)||0);return T!==0?T:Jw(w,E)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Cf.mapValue&&u===Cf.mapValue)return 0;if(o===Cf.mapValue)return 1;if(u===Cf.mapValue)return-1;const f=o.fields||{},d=Object.keys(f),h=u.fields||{},m=Object.keys(h);d.sort(),m.sort();for(let b=0;b<d.length&&b<m.length;++b){const _=_v(d[b],m[b]);if(_!==0)return _;const w=Rl(f[d[b]],h[m[b]]);if(w!==0)return w}return We(d.length,m.length)}(n.mapValue,e.mapValue);default:throw ze(23264,{Pe:t})}}function Zw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return We(n,e);const t=da(n),r=da(e),s=We(t.seconds,r.seconds);return s!==0?s:We(t.nanos,r.nanos)}function Jw(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Rl(t[s],r[s]);if(o)return o}return We(t.length,r.length)}function Il(n){return xv(n)}function xv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=da(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return fa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Pe.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=xv(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${xv(t.fields[u])}`;return s+"}"}(n.mapValue):ze(61005,{value:n})}function $f(n){switch(ha(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ep(n);return e?16+$f(e):16;case 5:return 2*n.stringValue.length;case 6:return fa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+$f(o),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return va(r.fields,(o,u)=>{s+=o.length+$f(u)}),s}(n.mapValue);default:throw ze(13486,{value:n})}}function eE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wv(n){return!!n&&"integerValue"in n}function Iy(n){return!!n&&"arrayValue"in n}function tE(n){return!!n&&"nullValue"in n}function nE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gf(n){return!!n&&"mapValue"in n}function ck(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[T1])===null||t===void 0?void 0:t.stringValue)===A1}function pc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return va(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===uk}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(t)}setAll(e){let t=Cn.emptyPath(),r={},s=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const d=this.getFieldsMap(t);this.applyChanges(d,r,s),r={},s=[],t=f.popLast()}u?r[f.lastSegment()]=pc(u):s.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());Gf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Gf(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){va(t,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new Wn(pc(this.value))}}function C1(n){const e=[];return va(n.fields,(t,r)=>{const s=new Cn([t]);if(Gf(r)){const o=C1(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new fr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t,r,s,o,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Vn(e,0,qe.min(),qe.min(),qe.min(),Wn.empty(),0)}static newFoundDocument(e,t,r,s){return new Vn(e,1,t,qe.min(),r,s,0)}static newNoDocument(e,t){return new Vn(e,2,t,qe.min(),qe.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,qe.min(),qe.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t){this.position=e,this.inclusive=t}}function rE(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(u.referenceValue),t.key):r=Rl(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function iE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ei(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t="asc"){this.field=e,this.dir=t}}function fk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{}class Zt extends R1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new pk(e,t,r):t==="array-contains"?new vk(e,r):t==="in"?new yk(e,r):t==="not-in"?new bk(e,r):t==="array-contains-any"?new _k(e,r):new Zt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new mk(e,r):new gk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Rl(t,this.value)):t!==null&&ha(this.value)===ha(t)&&this.matchesComparison(Rl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends R1{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new $r(e,t)}matches(e){return I1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function I1(n){return n.op==="and"}function N1(n){return hk(n)&&I1(n)}function hk(n){for(const e of n.filters)if(e instanceof $r)return!1;return!0}function Ev(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+Il(n.value);if(N1(n))return n.filters.map(e=>Ev(e)).join(",");{const e=n.filters.map(t=>Ev(t)).join(",");return`${n.op}(${e})`}}function O1(n,e){return n instanceof Zt?function(r,s){return s instanceof Zt&&r.op===s.op&&r.field.isEqual(s.field)&&Ei(r.value,s.value)}(n,e):n instanceof $r?function(r,s){return s instanceof $r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,f)=>o&&O1(u,s.filters[f]),!0):!1}(n,e):void ze(19439)}function M1(n){return n instanceof Zt?function(t){return`${t.field.canonicalString()} ${t.op} ${Il(t.value)}`}(n):n instanceof $r?function(t){return t.op.toString()+" {"+t.getFilters().map(M1).join(" ,")+"}"}(n):"Filter"}class pk extends Zt{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class mk extends Zt{constructor(e,t){super(e,"in",t),this.keys=D1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class gk extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=D1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function D1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class vk extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Iy(t)&&Cc(t.arrayValue,this.value)}}class yk extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Cc(this.value.arrayValue,t)}}class bk extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Cc(this.value.arrayValue,t)}}class _k extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Iy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Cc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t=null,r=[],s=[],o=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=f,this.Ie=null}}function sE(n,e=null,t=[],r=[],s=null,o=null,u=null){return new xk(n,e,t,r,s,o,u)}function Ny(n){const e=$e(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ev(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Il(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Il(r)).join(",")),e.Ie=t}return e.Ie}function Oy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!fk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!O1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!iE(n.startAt,e.startAt)&&iE(n.endAt,e.endAt)}function Sv(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t=null,r=[],s=[],o=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=f,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function wk(n,e,t,r,s,o,u,f){return new Bl(n,e,t,r,s,o,u,f)}function My(n){return new Bl(n)}function aE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function P1(n){return n.collectionGroup!==null}function mc(n){const e=$e(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new un(Cn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(f=f.add(h.field))})}),f})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Rc(o,r))}),t.has(Cn.keyField().canonicalString())||e.Ee.push(new Rc(Cn.keyField(),r))}return e.Ee}function _i(n){const e=$e(n);return e.de||(e.de=Ek(e,mc(n))),e.de}function Ek(n,e){if(n.limitType==="F")return sE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new Rc(s.field,o)});const t=n.endAt?new mh(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new mh(n.startAt.position,n.startAt.inclusive):null;return sE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Tv(n,e){const t=n.filters.concat([e]);return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function gh(n,e,t){return new Bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tp(n,e){return Oy(_i(n),_i(e))&&n.limitType===e.limitType}function k1(n){return`${Ny(_i(n))}|lt:${n.limitType}`}function hl(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>M1(s)).join(", ")}]`),Jh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Il(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Il(s)).join(",")),`Target(${r})`}(_i(n))}; limitType=${n.limitType})`}function np(n,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,s){for(const o of mc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(u,f,d){const h=rE(u,f,d);return u.inclusive?h<=0:h<0}(r.startAt,mc(r),s)||r.endAt&&!function(u,f,d){const h=rE(u,f,d);return u.inclusive?h>=0:h>0}(r.endAt,mc(r),s))}(n,e)}function Sk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function V1(n){return(e,t)=>{let r=!1;for(const s of mc(n)){const o=Tk(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Tk(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(o,u,f){const d=u.data.field(o),h=f.data.field(o);return d!==null&&h!==null?Rl(d,h):ze(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ze(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){va(this.inner,(t,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return b1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=new Pt(Pe.comparator);function vs(){return Ak}const j1=new Pt(Pe.comparator);function oc(...n){let e=j1;for(const t of n)e=e.insert(t.key,t);return e}function L1(n){let e=j1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function to(){return gc()}function U1(){return gc()}function gc(){return new vo(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ck=new Pt(Pe.comparator),Rk=new un(Pe.comparator);function rt(...n){let e=Rk;for(const t of n)e=e.add(t);return e}const Ik=new un(We);function Nk(){return Ik}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function F1(n){return{integerValue:""+n}}function z1(n,e){return ik(e)?F1(e):Dy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this._=void 0}}function Ok(n,e,t){return n instanceof Ic?function(s,o){const u={fields:{[w1]:{stringValue:x1},[S1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Ry(o)&&(o=ep(o)),o&&(u.fields[E1]=o),{mapValue:u}}(t,e):n instanceof Nc?H1(n,e):n instanceof Oc?q1(n,e):function(s,o){const u=B1(s,o),f=oE(u)+oE(s.Re);return wv(u)&&wv(s.Re)?F1(f):Dy(s.serializer,f)}(n,e)}function Mk(n,e,t){return n instanceof Nc?H1(n,e):n instanceof Oc?q1(n,e):t}function B1(n,e){return n instanceof Mc?function(r){return wv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ic extends rp{}class Nc extends rp{constructor(e){super(),this.elements=e}}function H1(n,e){const t=$1(e);for(const r of n.elements)t.some(s=>Ei(s,r))||t.push(r);return{arrayValue:{values:t}}}class Oc extends rp{constructor(e){super(),this.elements=e}}function q1(n,e){let t=$1(e);for(const r of n.elements)t=t.filter(s=>!Ei(s,r));return{arrayValue:{values:t}}}class Mc extends rp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function oE(n){return Ht(n.integerValue||n.doubleValue)}function $1(n){return Iy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t){this.field=e,this.transform=t}}function Dk(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof Nc&&s instanceof Nc||r instanceof Oc&&s instanceof Oc?Cl(r.elements,s.elements,Ei):r instanceof Mc&&s instanceof Mc?Ei(r.Re,s.Re):r instanceof Ic&&s instanceof Ic}(n.transform,e.transform)}class Pk{constructor(e,t){this.version=e,this.transformResults=t}}class Rr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ip{}function Y1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Py(n.key,Rr.none()):new Yc(n.key,n.data,Rr.none());{const t=n.data,r=Wn.empty();let s=new un(Cn.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new ya(n.key,r,new fr(s.toArray()),Rr.none())}}function kk(n,e,t){n instanceof Yc?function(s,o,u){const f=s.value.clone(),d=uE(s.fieldTransforms,o,u.transformResults);f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof ya?function(s,o,u){if(!Yf(s.precondition,o))return void o.convertToUnknownDocument(u.version);const f=uE(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(K1(s)),d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function vc(n,e,t,r){return n instanceof Yc?function(o,u,f,d){if(!Yf(o.precondition,u))return f;const h=o.value.clone(),m=cE(o.fieldTransforms,d,u);return h.setAll(m),u.convertToFoundDocument(u.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof ya?function(o,u,f,d){if(!Yf(o.precondition,u))return f;const h=cE(o.fieldTransforms,d,u),m=u.data;return m.setAll(K1(o)),m.setAll(h),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(n,e,t,r):function(o,u,f){return Yf(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(n,e,t)}function Vk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=B1(r.transform,s||null);o!=null&&(t===null&&(t=Wn.empty()),t.set(r.field,o))}return t||null}function lE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Cl(r,s,(o,u)=>Dk(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Yc extends ip{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ya extends ip{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function K1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uE(n,e,t){const r=new Map;gt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,f=e.data.field(o.field);r.set(o.field,Mk(u,f,t[s]))}return r}function cE(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,Ok(o,u,e))}return r}class Py extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jk extends ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&kk(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=vc(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=vc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=U1();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let f=this.applyToLocalView(u,o.mutatedFields);f=t.has(s.key)?null:f;const d=Y1(u,f);d!==null&&r.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rt())}isEqual(e){return this.batchId===e.batchId&&Cl(this.mutations,e.mutations,(t,r)=>lE(t,r))&&Cl(this.baseMutations,e.baseMutations,(t,r)=>lE(t,r))}}class ky{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){gt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return Ck}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new ky(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,lt;function zk(n){switch(n){case de.OK:return ze(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function Q1(n){if(n===void 0)return gs("GRPC error has no .code"),de.UNKNOWN;switch(n){case Xt.OK:return de.OK;case Xt.CANCELLED:return de.CANCELLED;case Xt.UNKNOWN:return de.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return de.INTERNAL;case Xt.UNAVAILABLE:return de.UNAVAILABLE;case Xt.UNAUTHENTICATED:return de.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case Xt.NOT_FOUND:return de.NOT_FOUND;case Xt.ALREADY_EXISTS:return de.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return de.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case Xt.ABORTED:return de.ABORTED;case Xt.OUT_OF_RANGE:return de.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return de.UNIMPLEMENTED;case Xt.DATA_LOSS:return de.DATA_LOSS;default:return ze(39323,{code:n})}}(lt=Xt||(Xt={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new oa([4294967295,4294967295],0);function dE(n){const e=g1().encode(n),t=new l1;return t.update(e),new Uint8Array(t.digest())}function fE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new oa([t,r],0),new oa([s,o],0)]}class Vy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new lc(`Invalid padding: ${t}`);if(r<0)throw new lc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lc(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new lc(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=oa.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(oa.fromNumber(r)));return s.compare(Bk)===1&&(s=new oa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=dE(e),[r,s]=fE(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.Se(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Vy(o,s,t);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const t=dE(e),[r,s]=fE(t);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class lc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new sp(qe.min(),s,new Pt(We),vs(),rt())}}class Kc{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Kc(r,t,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class X1{constructor(e,t){this.targetId=e,this.Ce=t}}class W1{constructor(e,t,r=In.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class hE{constructor(){this.Fe=0,this.Me=pE(),this.xe=In.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=rt(),t=rt(),r=rt();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ze(38017,{changeType:o})}}),new Kc(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=pE()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,gt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Hk{constructor(e){this.ze=e,this.je=new Map,this.He=vs(),this.Je=Rf(),this.Ye=Rf(),this.Ze=new Pt(We)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const o=s.target;if(Sv(o))if(r===0){const u=new Pe(o.path);this.tt(t,u,Vn.newNoDocument(u,qe.min()))}else gt(r===1,20013,{expectedCount:r});else{const u=this.ut(t);if(u!==r){const f=this.ct(e),d=f?this.lt(f,e,u):1;if(d!==0){this.st(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,f;try{u=fa(r).toUint8Array()}catch(d){if(d instanceof _1)return Al("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new Vy(u,s,o)}catch(d){return Al(d instanceof lc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.pe===0?null:f}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(f)||(this.tt(t,o,null),s++)}),s}It(e){const t=new Map;this.je.forEach((o,u)=>{const f=this._t(u);if(f){if(o.current&&Sv(f.target)){const d=new Pe(f.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,Vn.newNoDocument(d,e))}o.Le&&(t.set(u,o.qe()),o.Qe())}});let r=rt();this.Ye.forEach((o,u)=>{let f=!0;u.forEachWhile(d=>{const h=this._t(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new sp(e,t,this.Ze,this.He,r);return this.He=vs(),this.Je=Rf(),this.Ye=Rf(),this.Ze=new Pt(We),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new hE,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new un(We),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new un(We),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new hE),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Rf(){return new Pt(Pe.comparator)}function pE(){return new Pt(Pe.comparator)}const qk={asc:"ASCENDING",desc:"DESCENDING"},$k={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk={and:"AND",or:"OR"};class Yk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Av(n,e){return n.useProto3Json||Jh(e)?e:{value:e}}function vh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Kk(n,e){return vh(n,e.toTimestamp())}function xi(n){return gt(!!n,49232),qe.fromTimestamp(function(t){const r=da(t);return new ln(r.seconds,r.nanos)}(n))}function jy(n,e){return Cv(n,e).canonicalString()}function Cv(n,e){const t=function(s){return new Rt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function J1(n){const e=Rt.fromString(n);return gt(iA(e),10190,{key:e.toString()}),e}function Rv(n,e){return jy(n.databaseId,e.path)}function Lg(n,e){const t=J1(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(tA(t))}function eA(n,e){return jy(n.databaseId,e)}function Qk(n){const e=J1(n);return e.length===4?Rt.emptyPath():tA(e)}function Iv(n){return new Rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function tA(n){return gt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function mE(n,e,t){return{name:Rv(n,e),fields:t.value.mapValue.fields}}function Xk(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ze(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(h,m){return h.useProto3Json?(gt(m===void 0||typeof m=="string",58123),In.fromBase64String(m||"")):(gt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),In.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(h){const m=h.code===void 0?de.UNKNOWN:Q1(h.code);return new Ce(m,h.message||"")}(u);t=new W1(r,s,o,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Lg(n,r.document.name),o=xi(r.document.updateTime),u=r.document.createTime?xi(r.document.createTime):qe.min(),f=new Wn({mapValue:{fields:r.document.fields}}),d=Vn.newFoundDocument(s,o,u,f),h=r.targetIds||[],m=r.removedTargetIds||[];t=new Kf(h,m,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Lg(n,r.document),o=r.readTime?xi(r.readTime):qe.min(),u=Vn.newNoDocument(s,o),f=r.removedTargetIds||[];t=new Kf([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Lg(n,r.document),o=r.removedTargetIds||[];t=new Kf([],o,s,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new Fk(s,o),f=r.targetId;t=new X1(f,u)}}return t}function Wk(n,e){let t;if(e instanceof Yc)t={update:mE(n,e.key,e.value)};else if(e instanceof Py)t={delete:Rv(n,e.key)};else if(e instanceof ya)t={update:mE(n,e.key,e.data),updateMask:aV(e.fieldMask)};else{if(!(e instanceof jk))return ze(16599,{ft:e.type});t={verify:Rv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const f=u.transform;if(f instanceof Ic)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Nc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Oc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Mc)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw ze(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Kk(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ze(27497)}(n,e.precondition)),t}function Zk(n,e){return n&&n.length>0?(gt(e!==void 0,14353),n.map(t=>function(s,o){let u=s.updateTime?xi(s.updateTime):xi(o);return u.isEqual(qe.min())&&(u=xi(o)),new Pk(u,s.transformResults||[])}(t,e))):[]}function Jk(n,e){return{documents:[eA(n,e.path)]}}function eV(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=eA(n,s);const o=function(h){if(h.length!==0)return rA($r.create(h,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(h){if(h.length!==0)return h.map(m=>function(_){return{field:pl(_.field),direction:rV(_.dir)}}(m))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Av(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:s}}function tV(n){let e=Qk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){gt(r===1,65062);const m=t.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let o=[];t.where&&(o=function(b){const _=nA(b);return _ instanceof $r&&N1(_)?_.getFilters():[_]}(t.where));let u=[];t.orderBy&&(u=function(b){return b.map(_=>function(E){return new Rc(ml(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(_))}(t.orderBy));let f=null;t.limit&&(f=function(b){let _;return _=typeof b=="object"?b.value:b,Jh(_)?null:_}(t.limit));let d=null;t.startAt&&(d=function(b){const _=!!b.before,w=b.values||[];return new mh(w,_)}(t.startAt));let h=null;return t.endAt&&(h=function(b){const _=!b.before,w=b.values||[];return new mh(w,_)}(t.endAt)),wk(e,s,u,o,f,"F",d,h)}function nV(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function nA(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=ml(t.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ml(t.unaryFilter.field);return Zt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ml(t.unaryFilter.field);return Zt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ml(t.unaryFilter.field);return Zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(n):n.fieldFilter!==void 0?function(t){return Zt.create(ml(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return $r.create(t.compositeFilter.filters.map(r=>nA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(t.compositeFilter.op))}(n):ze(30097,{filter:n})}function rV(n){return qk[n]}function iV(n){return $k[n]}function sV(n){return Gk[n]}function pl(n){return{fieldPath:n.canonicalString()}}function ml(n){return Cn.fromServerFormat(n.fieldPath)}function rA(n){return n instanceof Zt?function(t){if(t.op==="=="){if(nE(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NAN"}};if(tE(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(nE(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NAN"}};if(tE(t.value))return{unaryFilter:{field:pl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pl(t.field),op:iV(t.op),value:t.value}}}(n):n instanceof $r?function(t){const r=t.getFilters().map(s=>rA(s));return r.length===1?r[0]:{compositeFilter:{op:sV(t.op),filters:r}}}(n):ze(54877,{filter:n})}function aV(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function iA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t,r,s,o=qe.min(),u=qe.min(),f=In.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.wt=e}}function lV(n){const e=tV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(){this.Cn=new cV}addToCollectionParentIndex(e,t){return this.Cn.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(ca.min())}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class cV{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new un(Rt.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new un(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sA=41943040;class Xn{static withCacheSize(e){return new Xn(e,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xn.DEFAULT_COLLECTION_PERCENTILE=10,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xn.DEFAULT=new Xn(sA,Xn.DEFAULT_COLLECTION_PERCENTILE,Xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xn.DISABLED=new Xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Nl(0)}static lr(){return new Nl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",dV=1048576;function yE([n,e],[t,r]){const s=We(n,t);return s===0?We(e,r):s}class fV{constructor(e){this.Er=e,this.buffer=new un(yE),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hV{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ae(vE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zl(t)?Ae(vE,"Ignoring IndexedDB error during garbage collection: ",t):await Fl(t)}await this.mr(3e5)})}}class pV{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return fe.resolve(Zh.le);const r=new fV(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(gE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gE):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,o,u,f,d,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,u=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(r=b,f=Date.now(),this.removeTargets(e,r,t))).next(b=>(o=b,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(h=Date.now(),fl()<=nt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-m}ms
	Determined least recently used ${s} in `+(f-u)+`ms
	Removed ${o} targets in `+(d-f)+`ms
	Removed ${b} documents in `+(h-d)+`ms
Total Duration: ${h-m}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b})))}}function mV(n,e){return new pV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.changes=new vo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&vc(r.mutation,s,fr.empty(),ln.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=rt()){const s=to();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(o=>{let u=oc();return o.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=to();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,rt()))}populateOverlays(e,t,r){const s=[];return r.forEach(o=>{t.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,r,s){let o=vs();const u=gc(),f=function(){return gc()}();return t.forEach((d,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof ya)?o=o.insert(h.key,h):m!==void 0?(u.set(h.key,m.mutation.getFieldMask()),vc(m.mutation,h,m.mutation.getFieldMask(),ln.now())):u.set(h.key,fr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,m)=>u.set(h,m)),t.forEach((h,m)=>{var b;return f.set(h,new vV(m,(b=u.get(h))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,t){const r=gc();let s=new Pt((u,f)=>u-f),o=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(d=>{const h=t.get(d);if(h===null)return;let m=r.get(d)||fr.empty();m=f.applyToLocalView(h,m),r.set(d,m);const b=(s.get(f.batchId)||rt()).add(d);s=s.insert(f.batchId,b)})}).next(()=>{const u=[],f=s.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),h=d.key,m=d.value,b=U1();m.forEach(_=>{if(!o.has(_)){const w=Y1(t.get(_),r.get(_));w!==null&&b.set(_,w),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,h,b))}return fe.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(u){return Pe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):P1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):fe.resolve(to());let f=Sc,d=o;return u.next(h=>fe.forEach(h,(m,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),o.get(m)?fe.resolve():this.remoteDocumentCache.getEntry(e,m).next(_=>{d=d.insert(m,_)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,rt())).next(m=>({batchId:f,changes:L1(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(r=>{let s=oc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=oc();return this.indexManager.getCollectionParents(e,o).next(f=>fe.forEach(f,d=>{const h=function(b,_){return new Bl(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(m=>{m.forEach((b,_)=>{u=u.insert(b,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s))).next(u=>{o.forEach((d,h)=>{const m=h.getKey();u.get(m)===null&&(u=u.insert(m,Vn.newInvalidDocument(m)))});let f=oc();return u.forEach((d,h)=>{const m=o.get(d);m!==void 0&&vc(m.mutation,h,fr.empty(),ln.now()),np(t,h)&&(f=f.insert(d,h))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return fe.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:xi(s.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:lV(s.bundledQuery),readTime:xi(s.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(){this.overlays=new Pt(Pe.comparator),this.Qr=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=to();return fe.forEach(t,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,o)=>{this.bt(e,t,o)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const s=to(),o=t.length+1,u=new Pe(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&s.set(d.getKey(),d)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new Pt((h,m)=>h-m);const u=this.overlays.getIterator();for(;u.hasNext();){const h=u.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=o.get(h.largestBatchId);m===null&&(m=to(),o=o.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const f=to(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,m)=>f.set(h,m)),!(f.size()>=s)););return fe.resolve(f)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Uk(t,r));let o=this.Qr.get(t);o===void 0&&(o=rt(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.sessionToken=In.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.$r=new un(gn.Ur),this.Kr=new un(gn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new gn(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new gn(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Pe(new Rt([])),r=new gn(t,e),s=new gn(t,e+1),o=[];return this.Kr.forEachInRange([r,s],u=>{this.zr(u),o.push(u.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Pe(new Rt([])),r=new gn(t,e),s=new gn(t,e+1);let o=rt();return this.Kr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new gn(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class gn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Pe.comparator(e.key,t.key)||We(e.Zr,t.Zr)}static Wr(e,t){return We(e.Zr,t.Zr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new un(gn.Ur)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Lk(o,t,r,s);this.mutationQueue.push(u);for(const f of s)this.Xr=this.Xr.add(new gn(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),o=s<0?0:s;return fe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?Cy:this.nr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gn(t,0),s=new gn(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,s],u=>{const f=this.ei(u.Zr);o.push(f)}),fe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new un(We);return t.forEach(s=>{const o=new gn(s,0),u=new gn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,u],f=>{r=r.add(f.Zr)})}),fe.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const u=new gn(new Pe(o),0);let f=new un(We);return this.Xr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(f=f.add(d.Zr)),!0)},u),fe.resolve(this.ni(f))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){gt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return fe.forEach(t.mutations,s=>{const o=new gn(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new gn(t,0),s=this.Xr.firstAfterOrEqual(r);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.ii=e,this.docs=function(){return new Pt(Pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let r=vs();return t.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Vn.newInvalidDocument(s))}),fe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=vs();const u=t.path,f=new Pe(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:h,value:{document:m}}=d.getNext();if(!u.isPrefixOf(h.path))break;h.path.length>u.length+1||ek(JP(m),r)<=0||(s.has(m.key)||np(t,m))&&(o=o.insert(m.key,m.mutableCopy()))}return fe.resolve(o)}getAllFromCollectionGroup(e,t,r,s){ze(9500)}si(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new SV(this)}getSize(e){return fe.resolve(this.size)}}class SV extends gV{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.persistence=e,this.oi=new vo(t=>Ny(t),Oy),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this._i=0,this.ai=new Ly,this.targetCount=0,this.ui=Nl.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),fe.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Nl(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Tr(t),fe.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.oi.delete(u),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),fe.waitFor(o).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),fe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t){this.ci={},this.overlays={},this.li=new Zh(0),this.hi=!1,this.hi=!0,this.Pi=new xV,this.referenceDelegate=e(this),this.Ti=new TV(this),this.indexManager=new uV,this.remoteDocumentCache=function(s){return new EV(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new oV(t),this.Ei=new bV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _V,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new wV(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){Ae("MemoryPersistence","Starting transaction:",e);const s=new AV(this.li.next());return this.referenceDelegate.di(),r(s).next(o=>this.referenceDelegate.Ai(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ri(e,t){return fe.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class AV extends nk{constructor(e){super(),this.currentSequenceNumber=e}}class Uy{constructor(e){this.persistence=e,this.Vi=new Ly,this.mi=null}static fi(e){return new Uy(e)}get gi(){if(this.mi)return this.mi;throw ze(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.gi,r=>{const s=Pe.fromPath(r);return this.pi(e,s).next(o=>{o||t.removeEntry(s,qe.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return fe.or([()=>fe.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class yh{constructor(e,t){this.persistence=e,this.yi=new vo(r=>sk(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=mV(this,t)}static fi(e,t){return new yh(e,t)}di(){}Ai(e){return fe.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Sr(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return fe.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(o=>o?fe.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.si(e,u=>this.Dr(e,u,t).next(f=>{f||(r++,o.removeEntry(u,qe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),fe.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),fe.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=$f(e.data.value)),t}Dr(e,t,r){return fe.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return fe.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=rt(),s=rt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Fy(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return tO()?8:rk(Ln())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ws(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Ss(e,t,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new CV;return this.bs(e,t,u).next(f=>{if(o.result=f,this.fs)return this.Ds(e,t,u,f.size)})}).next(()=>o.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(fl()<=nt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",hl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),fe.resolve()):(fl()<=nt.DEBUG&&Ae("QueryEngine","Query:",hl(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(fl()<=nt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",hl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(t))):fe.resolve())}ws(e,t){if(aE(t))return fe.resolve(null);let r=_i(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=gh(t,null,"F"),r=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=rt(...o);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.vs(t,f);return this.Cs(t,h,u,d.readTime)?this.ws(e,gh(t,null,"F")):this.Fs(e,h,t,d)}))})))}Ss(e,t,r,s){return aE(t)||s.isEqual(qe.min())?fe.resolve(null):this.ys.getDocuments(e,r).next(o=>{const u=this.vs(t,o);return this.Cs(t,u,r,s)?fe.resolve(null):(fl()<=nt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hl(t)),this.Fs(e,u,t,ZP(s,Sc)).next(f=>f))})}vs(e,t){let r=new un(V1(e));return t.forEach((s,o)=>{np(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}bs(e,t,r){return fl()<=nt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",hl(t)),this.ys.getDocumentsMatchingQuery(e,t,ca.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="LocalStore",IV=3e8;class NV{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new Pt(We),this.Os=new vo(o=>Ny(o),Oy),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function OV(n,e,t,r){return new NV(n,e,t,r)}async function oA(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],f=[];let d=rt();for(const h of s){u.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}for(const h of o){f.push(h.batchId);for(const m of h.mutations)d=d.add(m.key)}return t.localDocuments.getDocuments(r,d).next(h=>({ks:h,removedBatchIds:u,addedBatchIds:f}))})})}function MV(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(f,d,h,m){const b=h.batch,_=b.keys();let w=fe.resolve();return _.forEach(E=>{w=w.next(()=>m.getEntry(d,E)).next(T=>{const I=h.docVersions.get(E);gt(I!==null,48541),T.version.compareTo(I)<0&&(b.applyToRemoteDocument(T,h),T.isValidDocument()&&(T.setReadTime(h.commitVersion),m.addEntry(T)))})}),w.next(()=>f.mutationQueue.removeMutationBatch(d,b))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=rt();for(let h=0;h<f.mutationResults.length;++h)f.mutationResults[h].transformResults.length>0&&(d=d.add(f.batch.mutations[h].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function lA(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function DV(n,e){const t=$e(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const f=[];e.targetChanges.forEach((m,b)=>{const _=s.get(b);if(!_)return;f.push(t.Ti.removeMatchingKeys(o,m.removedDocuments,b).next(()=>t.Ti.addMatchingKeys(o,m.addedDocuments,b)));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(In.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):m.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(m.resumeToken,r)),s=s.insert(b,w),function(T,I,N){return T.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=IV?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(_,w,m)&&f.push(t.Ti.updateTargetData(o,w))});let d=vs(),h=rt();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,m))}),f.push(PV(o,u,e.documentUpdates).next(m=>{d=m.qs,h=m.Qs})),!r.isEqual(qe.min())){const m=t.Ti.getLastRemoteSnapshotVersion(o).next(b=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(m)}return fe.waitFor(f).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(t.xs=s,o))}function PV(n,e,t){let r=rt(),s=rt();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=vs();return t.forEach((f,d)=>{const h=o.get(f);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(f)),d.isNoDocument()&&d.version.isEqual(qe.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):Ae(zy,"Ignoring outdated watch update for ",f,". Current version:",h.version," Watch version:",d.version)}),{qs:u,Qs:s}})}function kV(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Cy),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VV(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(o=>o?(s=o,fe.resolve(s)):t.Ti.allocateTargetId(r).next(u=>(s=new ra(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Nv(n,e,t){const r=$e(n),s=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!zl(u))throw u;Ae(zy,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function bE(n,e,t){const r=$e(n);let s=qe.min(),o=rt();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,h,m){const b=$e(d),_=b.Os.get(m);return _!==void 0?fe.resolve(b.xs.get(_)):b.Ti.getTargetData(h,m)}(r,u,_i(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,f.targetId).next(d=>{o=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,t?s:qe.min(),t?o:rt())).next(f=>(jV(r,Sk(e),f),{documents:f,$s:o})))}function jV(n,e,t){let r=n.Ns.get(e)||qe.min();t.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}class _E{constructor(){this.activeTargetIds=Nk()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LV{constructor(){this.xo=new _E,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new _E,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="ConnectivityMonitor";class wE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ae(xE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ae(xE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=null;function Ov(){return If===null?If=function(){return 268435456+Math.round(2147483648*Math.random())}():If++,"0x"+If.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ug="RestConnection",FV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zV{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===hh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,o){const u=Ov(),f=this.jo(e,t.toUriEncodedString());Ae(Ug,`Sending RPC '${e}' ${u}:`,f,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,s,o);const{host:h}=new URL(f),m=jl(h);return this.Jo(e,f,d,r,m).then(b=>(Ae(Ug,`Received RPC '${e}' ${u}: `,b),b),b=>{throw Al(Ug,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",r),b})}Yo(e,t,r,s,o,u){return this.zo(e,t,r,s,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ul}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}jo(e,t){const r=FV[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dn="WebChannelConnection";class HV extends zV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=Ov();return new Promise((f,d)=>{const h=new u1;h.setWithCredentials(!0),h.listenOnce(c1.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case qf.NO_ERROR:const b=h.getResponseJson();Ae(Dn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case qf.TIMEOUT:Ae(Dn,`RPC '${e}' ${u} timed out`),d(new Ce(de.DEADLINE_EXCEEDED,"Request time out"));break;case qf.HTTP_ERROR:const _=h.getStatus();if(Ae(Dn,`RPC '${e}' ${u} failed with status:`,_,"response text:",h.getResponseText()),_>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const E=w==null?void 0:w.error;if(E&&E.status&&E.message){const T=function(N){const C=N.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(C)>=0?C:de.UNKNOWN}(E.status);d(new Ce(T,E.message))}else d(new Ce(de.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Ce(de.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:u,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ae(Dn,`RPC '${e}' ${u} completed.`)}});const m=JSON.stringify(s);Ae(Dn,`RPC '${e}' ${u} sending request:`,s),h.send(t,"POST",m,r,15)})}T_(e,t,r){const s=Ov(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=h1(),f=f1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const m=o.join("");Ae(Dn,`Creating RPC '${e}' stream ${s}: ${m}`,d);const b=u.createWebChannel(m,d);let _=!1,w=!1;const E=new BV({Zo:I=>{w?Ae(Dn,`Not sending because RPC '${e}' stream ${s} is closed:`,I):(_||(Ae(Dn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),_=!0),Ae(Dn,`RPC '${e}' stream ${s} sending:`,I),b.send(I))},Xo:()=>b.close()}),T=(I,N,C)=>{I.listen(N,S=>{try{C(S)}catch(U){setTimeout(()=>{throw U},0)}})};return T(b,ac.EventType.OPEN,()=>{w||(Ae(Dn,`RPC '${e}' stream ${s} transport opened.`),E.__())}),T(b,ac.EventType.CLOSE,()=>{w||(w=!0,Ae(Dn,`RPC '${e}' stream ${s} transport closed`),E.u_())}),T(b,ac.EventType.ERROR,I=>{w||(w=!0,Al(Dn,`RPC '${e}' stream ${s} transport errored. Name:`,I.name,"Message:",I.message),E.u_(new Ce(de.UNAVAILABLE,"The operation could not be completed")))}),T(b,ac.EventType.MESSAGE,I=>{var N;if(!w){const C=I.data[0];gt(!!C,16349);const S=C,U=(S==null?void 0:S.error)||((N=S[0])===null||N===void 0?void 0:N.error);if(U){Ae(Dn,`RPC '${e}' stream ${s} received error:`,U);const k=U.status;let Y=function(D){const j=Xt[D];if(j!==void 0)return Q1(j)}(k),P=U.message;Y===void 0&&(Y=de.INTERNAL,P="Unknown error status: "+k+" with message "+U.message),w=!0,E.u_(new Ce(Y,P)),b.close()}else Ae(Dn,`RPC '${e}' stream ${s} received:`,C),E.c_(C)}}),T(f,d1.STAT_EVENT,I=>{I.stat===bv.PROXY?Ae(Dn,`RPC '${e}' stream ${s} detected buffering proxy`):I.stat===bv.NOPROXY&&Ae(Dn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.a_()},0),E}}function Fg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n){return new Yk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,t,r=1e3,s=1.5,o=6e4){this.xi=e,this.timerId=t,this.I_=r,this.E_=s,this.d_=o,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),s=Math.max(0,t-r);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="PersistentStream";class cA{constructor(e,t,r,s,o,u,f,d){this.xi=e,this.y_=r,this.w_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new uA(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(gs(t.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.S_===t&&this.K_(r,s)},r=>{e(()=>{const s=new Ce(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(s)})})}K_(e,t){const r=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.W_(s))}),this.stream.onMessage(s=>{r(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Ae(EE,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Ae(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qV extends cA{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=Xk(this.serializer,e),r=function(o){if(!("targetChange"in o))return qe.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?qe.min():u.readTime?xi(u.readTime):qe.min()}(e);return this.listener.j_(t,r)}H_(e){const t={};t.database=Iv(this.serializer),t.addTarget=function(o,u){let f;const d=u.target;if(f=Sv(d)?{documents:Jk(o,d)}:{query:eV(o,d).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Z1(o,u.resumeToken);const h=Av(o,u.expectedCount);h!==null&&(f.expectedCount=h)}else if(u.snapshotVersion.compareTo(qe.min())>0){f.readTime=vh(o,u.snapshotVersion.toTimestamp());const h=Av(o,u.expectedCount);h!==null&&(f.expectedCount=h)}return f}(this.serializer,e);const r=nV(this.serializer,e);r&&(t.labels=r),this.L_(t)}J_(e){const t={};t.database=Iv(this.serializer),t.removeTarget=e,this.L_(t)}}class $V extends cA{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return gt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){gt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=Zk(e.writeResults,e.commitTime),r=xi(e.commitTime);return this.listener.ea(r,t)}ta(){const e={};e.database=Iv(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Wk(this.serializer,r))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{}class YV extends GV{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.na=!1}ra(){if(this.na)throw new Ce(de.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.zo(e,Cv(t,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ce(de.UNKNOWN,o.toString())})}Yo(e,t,r,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,Cv(t,r),s,u,f,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ce(de.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class KV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(gs(t),this.oa=!1):Ae("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class QV{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=o,this.Ea.No(u=>{r.enqueueAndForget(async()=>{yo(this)&&(Ae(uo,"Restarting streams for network reachability change."),await async function(d){const h=$e(d);h.Ta.add(4),await Qc(h),h.da.set("Unknown"),h.Ta.delete(4),await op(h)}(this))})}),this.da=new KV(r,s)}}async function op(n){if(yo(n))for(const e of n.Ia)await e(!0)}async function Qc(n){for(const e of n.Ia)await e(!1)}function dA(n,e){const t=$e(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),$y(t)?qy(t):Hl(t).M_()&&Hy(t,e))}function By(n,e){const t=$e(n),r=Hl(t);t.Pa.delete(e),r.M_()&&fA(t,e),t.Pa.size===0&&(r.M_()?r.N_():yo(t)&&t.da.set("Unknown"))}function Hy(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Hl(n).H_(e)}function fA(n,e){n.Aa.Ke(e),Hl(n).J_(e)}function qy(n){n.Aa=new Hk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Hl(n).start(),n.da._a()}function $y(n){return yo(n)&&!Hl(n).F_()&&n.Pa.size>0}function yo(n){return $e(n).Ta.size===0}function hA(n){n.Aa=void 0}async function XV(n){n.da.set("Online")}async function WV(n){n.Pa.forEach((e,t)=>{Hy(n,e)})}async function ZV(n,e){hA(n),$y(n)?(n.da.ca(e),qy(n)):n.da.set("Unknown")}async function JV(n,e,t){if(n.da.set("Online"),e instanceof W1&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const f of o.targetIds)s.Pa.has(f)&&(await s.remoteSyncer.rejectListen(f,u),s.Pa.delete(f),s.Aa.removeTarget(f))}(n,e)}catch(r){Ae(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(n,r)}else if(e instanceof Kf?n.Aa.Xe(e):e instanceof X1?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(qe.min()))try{const r=await lA(n.localStore);t.compareTo(r)>=0&&await function(o,u){const f=o.Aa.It(u);return f.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const m=o.Pa.get(h);m&&o.Pa.set(h,m.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,h)=>{const m=o.Pa.get(d);if(!m)return;o.Pa.set(d,m.withResumeToken(In.EMPTY_BYTE_STRING,m.snapshotVersion)),fA(o,d);const b=new ra(m.target,d,h,m.sequenceNumber);Hy(o,b)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(r){Ae(uo,"Failed to raise snapshot:",r),await bh(n,r)}}async function bh(n,e,t){if(!zl(e))throw e;n.Ta.add(1),await Qc(n),n.da.set("Offline"),t||(t=()=>lA(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(uo,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await op(n)})}function pA(n,e){return e().catch(t=>bh(n,t,e))}async function lp(n){const e=$e(n),t=pa(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Cy;for(;ej(e);)try{const s=await kV(e.localStore,r);if(s===null){e.ha.length===0&&t.N_();break}r=s.batchId,tj(e,s)}catch(s){await bh(e,s)}mA(e)&&gA(e)}function ej(n){return yo(n)&&n.ha.length<10}function tj(n,e){n.ha.push(e);const t=pa(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function mA(n){return yo(n)&&!pa(n).F_()&&n.ha.length>0}function gA(n){pa(n).start()}async function nj(n){pa(n).ta()}async function rj(n){const e=pa(n);for(const t of n.ha)e.Z_(t.mutations)}async function ij(n,e,t){const r=n.ha.shift(),s=ky.from(r,e,t);await pA(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await lp(n)}async function sj(n,e){e&&pa(n).Y_&&await async function(r,s){if(function(u){return zk(u)&&u!==de.ABORTED}(s.code)){const o=r.ha.shift();pa(r).O_(),await pA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await lp(r)}}(n,e),mA(n)&&gA(n)}async function SE(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),Ae(uo,"RemoteStore received new credentials");const r=yo(t);t.Ta.add(3),await Qc(t),r&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await op(t)}async function aj(n,e){const t=$e(n);e?(t.Ta.delete(2),await op(t)):e||(t.Ta.add(2),await Qc(t),t.da.set("Unknown"))}function Hl(n){return n.Ra||(n.Ra=function(t,r,s){const o=$e(t);return o.ra(),new qV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:XV.bind(null,n),n_:WV.bind(null,n),i_:ZV.bind(null,n),j_:JV.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),$y(n)?qy(n):n.da.set("Unknown")):(await n.Ra.stop(),hA(n))})),n.Ra}function pa(n){return n.Va||(n.Va=function(t,r,s){const o=$e(t);return o.ra(),new $V(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:nj.bind(null,n),i_:sj.bind(null,n),X_:rj.bind(null,n),ea:ij.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await lp(n)):(await n.Va.stop(),n.ha.length>0&&(Ae(uo,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new ds,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,f=new Gy(e,t,u,s,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yy(n,e){if(gs("AsyncQueue",`${e}: ${n}`),zl(n))return new Ce(de.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{static emptySet(e){return new xl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=oc(),this.sortedSet=new Pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new xl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.ma=new Pt(Pe.comparator)}track(e){const t=e.doc.key,r=this.ma.get(t);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(t,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(t):e.type===1&&r.type===2?this.ma=this.ma.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):ze(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ol{constructor(e,t,r,s,o,u,f,d,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new Ol(e,t,xl.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class lj{constructor(){this.queries=AE(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,r){const s=$e(t),o=s.queries;s.queries=AE(),o.forEach((u,f)=>{for(const d of f.ya)d.onError(r)})})(this,new Ce(de.ABORTED,"Firestore shutting down"))}}function AE(){return new vo(n=>k1(n),tp)}async function vA(n,e){const t=$e(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.wa()&&e.Sa()&&(r=2):(o=new oj,r=e.Sa()?0:1);try{switch(r){case 0:o.pa=await t.onListen(s,!0);break;case 1:o.pa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const f=Yy(u,`Initialization of query '${hl(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,o),o.ya.push(e),e.Da(t.onlineState),o.pa&&e.va(o.pa)&&Ky(t)}async function yA(n,e){const t=$e(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ya.indexOf(e);u>=0&&(o.ya.splice(u,1),o.ya.length===0?s=e.Sa()?0:1:!o.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function uj(n,e){const t=$e(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const f of u.ya)f.va(s)&&(r=!0);u.pa=s}}r&&Ky(t)}function cj(n,e,t){const r=$e(n),s=r.queries.get(e);if(s)for(const o of s.ya)o.onError(t);r.queries.delete(e)}function Ky(n){n.ba.forEach(e=>{e.next()})}var Mv,CE;(CE=Mv||(Mv={})).Ca="default",CE.Cache="cache";class bA{constructor(e,t,r){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ol(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const r=t!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.key=e}}class xA{constructor(e){this.key=e}}class dj{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=rt(),this.mutatedKeys=rt(),this.Ha=V1(e),this.Ja=new xl(this.Ha)}get Ya(){return this.Ga}Za(e,t){const r=t?t.Xa:new TE,s=t?t.Ja:this.Ja;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,f=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,b)=>{const _=s.get(m),w=np(this.query,b)?b:null,E=!!_&&this.mutatedKeys.has(_.key),T=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;_&&w?_.data.isEqual(w.data)?E!==T&&(r.track({type:3,doc:w}),I=!0):this.eu(_,w)||(r.track({type:2,doc:w}),I=!0,(d&&this.Ha(w,d)>0||h&&this.Ha(w,h)<0)&&(f=!0)):!_&&w?(r.track({type:0,doc:w}),I=!0):_&&!w&&(r.track({type:1,doc:_}),I=!0,(d||h)&&(f=!0)),I&&(w?(u=u.add(w),o=T?o.add(m):o.delete(m)):(u=u.delete(m),o=o.delete(m)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const m=this.query.limitType==="F"?u.last():u.first();u=u.delete(m.key),o=o.delete(m.key),r.track({type:1,doc:m})}return{Ja:u,Xa:r,Cs:f,mutatedKeys:o}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((m,b)=>function(w,E){const T=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:I})}};return T(w)-T(E)}(m.type,b.type)||this.Ha(m.doc,b.doc)),this.tu(r),s=s!=null&&s;const f=t&&!s?this.nu():[],d=this.ja.size===0&&this.current&&!s?1:0,h=d!==this.za;return this.za=d,u.length!==0||h?{snapshot:new Ol(this.query,e.Ja,o,u,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:f}:{ru:f}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new TE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=rt(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const t=[];return e.forEach(r=>{this.ja.has(r)||t.push(new xA(r))}),this.ja.forEach(r=>{e.has(r)||t.push(new _A(r))}),t}su(e){this.Ga=e.$s,this.ja=rt();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Ol.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Qy="SyncEngine";class fj{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class hj{constructor(e){this.key=e,this._u=!1}}class pj{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new vo(f=>k1(f),tp),this.cu=new Map,this.lu=new Set,this.hu=new Pt(Pe.comparator),this.Pu=new Map,this.Tu=new Ly,this.Iu={},this.Eu=new Map,this.du=Nl.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function mj(n,e,t=!0){const r=CA(n);let s;const o=r.uu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.ou()):s=await wA(r,e,t,!0),s}async function gj(n,e){const t=CA(n);await wA(t,e,!0,!1)}async function wA(n,e,t,r){const s=await VV(n.localStore,_i(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let f;return r&&(f=await vj(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&dA(n.remoteStore,s),f}async function vj(n,e,t,r,s){n.Ru=(b,_,w)=>async function(T,I,N,C){let S=I.view.Za(N);S.Cs&&(S=await bE(T.localStore,I.query,!1).then(({documents:P})=>I.view.Za(P,S)));const U=C&&C.targetChanges.get(I.targetId),k=C&&C.targetMismatches.get(I.targetId)!=null,Y=I.view.applyChanges(S,T.isPrimaryClient,U,k);return IE(T,I.targetId,Y.ru),Y.snapshot}(n,b,_,w);const o=await bE(n.localStore,e,!0),u=new dj(e,o.$s),f=u.Za(o.documents),d=Kc.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),h=u.applyChanges(f,n.isPrimaryClient,d);IE(n,t,h.ru);const m=new fj(e,t,u);return n.uu.set(e,m),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),h.snapshot}async function yj(n,e,t){const r=$e(n),s=r.uu.get(e),o=r.cu.get(s.targetId);if(o.length>1)return r.cu.set(s.targetId,o.filter(u=>!tp(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Nv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&By(r.remoteStore,s.targetId),Dv(r,s.targetId)}).catch(Fl)):(Dv(r,s.targetId),await Nv(r.localStore,s.targetId,!0))}async function bj(n,e){const t=$e(n),r=t.uu.get(e),s=t.cu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),By(t.remoteStore,r.targetId))}async function _j(n,e,t){const r=Cj(n);try{const s=await function(u,f){const d=$e(u),h=ln.now(),m=f.reduce((w,E)=>w.add(E.key),rt());let b,_;return d.persistence.runTransaction("Locally write mutations","readwrite",w=>{let E=vs(),T=rt();return d.Bs.getEntries(w,m).next(I=>{E=I,E.forEach((N,C)=>{C.isValidDocument()||(T=T.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(w,E)).next(I=>{b=I;const N=[];for(const C of f){const S=Vk(C,b.get(C.key).overlayedDocument);S!=null&&N.push(new ya(C.key,S,C1(S.value.mapValue),Rr.exists(!0)))}return d.mutationQueue.addMutationBatch(w,h,N,f)}).next(I=>{_=I;const N=I.applyToLocalDocumentSet(b,T);return d.documentOverlayCache.saveOverlays(w,I.batchId,N)})}).then(()=>({batchId:_.batchId,changes:L1(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,f,d){let h=u.Iu[u.currentUser.toKey()];h||(h=new Pt(We)),h=h.insert(f,d),u.Iu[u.currentUser.toKey()]=h}(r,s.batchId,t),await Xc(r,s.changes),await lp(r.remoteStore)}catch(s){const o=Yy(s,"Failed to persist write");t.reject(o)}}async function EA(n,e){const t=$e(n);try{const r=await DV(t.localStore,e);e.targetChanges.forEach((s,o)=>{const u=t.Pu.get(o);u&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u._u=!0:s.modifiedDocuments.size>0?gt(u._u,14607):s.removedDocuments.size>0&&(gt(u._u,42227),u._u=!1))}),await Xc(t,r,e)}catch(r){await Fl(r)}}function RE(n,e,t){const r=$e(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.uu.forEach((o,u)=>{const f=u.view.Da(e);f.snapshot&&s.push(f.snapshot)}),function(u,f){const d=$e(u);d.onlineState=f;let h=!1;d.queries.forEach((m,b)=>{for(const _ of b.ya)_.Da(f)&&(h=!0)}),h&&Ky(d)}(r.eventManager,e),s.length&&r.au.j_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xj(n,e,t){const r=$e(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Pu.get(e),o=s&&s.key;if(o){let u=new Pt(Pe.comparator);u=u.insert(o,Vn.newNoDocument(o,qe.min()));const f=rt().add(o),d=new sp(qe.min(),new Map,new Pt(We),u,f);await EA(r,d),r.hu=r.hu.remove(o),r.Pu.delete(e),Xy(r)}else await Nv(r.localStore,e,!1).then(()=>Dv(r,e,t)).catch(Fl)}async function wj(n,e){const t=$e(n),r=e.batch.batchId;try{const s=await MV(t.localStore,e);TA(t,r,null),SA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Xc(t,s)}catch(s){await Fl(s)}}async function Ej(n,e,t){const r=$e(n);try{const s=await function(u,f){const d=$e(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return d.mutationQueue.lookupMutationBatch(h,f).next(b=>(gt(b!==null,37113),m=b.keys(),d.mutationQueue.removeMutationBatch(h,b))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,m,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>d.localDocuments.getDocuments(h,m))})}(r.localStore,e);TA(r,e,t),SA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Xc(r,s)}catch(s){await Fl(s)}}function SA(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function TA(n,e,t){const r=$e(n);let s=r.Iu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Iu[r.currentUser.toKey()]=s}}function Dv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.cu.get(e))n.uu.delete(r),t&&n.au.Vu(r,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(r=>{n.Tu.containsKey(r)||AA(n,r)})}function AA(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(By(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Xy(n))}function IE(n,e,t){for(const r of t)r instanceof _A?(n.Tu.addReference(r.key,e),Sj(n,r)):r instanceof xA?(Ae(Qy,"Document no longer in limbo: "+r.key),n.Tu.removeReference(r.key,e),n.Tu.containsKey(r.key)||AA(n,r.key)):ze(19791,{mu:r})}function Sj(n,e){const t=e.key,r=t.path.canonicalString();n.hu.get(t)||n.lu.has(r)||(Ae(Qy,"New document in limbo: "+t),n.lu.add(r),Xy(n))}function Xy(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new Pe(Rt.fromString(e)),r=n.du.next();n.Pu.set(r,new hj(t)),n.hu=n.hu.insert(t,r),dA(n.remoteStore,new ra(_i(My(t.path)),r,"TargetPurposeLimboResolution",Zh.le))}}async function Xc(n,e,t){const r=$e(n),s=[],o=[],u=[];r.uu.isEmpty()||(r.uu.forEach((f,d)=>{u.push(r.Ru(d,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const b=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(d.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(d.targetId,b?"current":"not-current")}if(h){s.push(h);const b=Fy.Rs(d.targetId,h);o.push(b)}}))}),await Promise.all(u),r.au.j_(s),await async function(d,h){const m=$e(d);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>fe.forEach(h,_=>fe.forEach(_.ds,w=>m.persistence.referenceDelegate.addReference(b,_.targetId,w)).next(()=>fe.forEach(_.As,w=>m.persistence.referenceDelegate.removeReference(b,_.targetId,w)))))}catch(b){if(!zl(b))throw b;Ae(zy,"Failed to update sequence numbers: "+b)}for(const b of h){const _=b.targetId;if(!b.fromCache){const w=m.xs.get(_),E=w.snapshotVersion,T=w.withLastLimboFreeSnapshotVersion(E);m.xs=m.xs.insert(_,T)}}}(r.localStore,o))}async function Tj(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){Ae(Qy,"User change. New user:",e.toKey());const r=await oA(t.localStore,e);t.currentUser=e,function(o,u){o.Eu.forEach(f=>{f.forEach(d=>{d.reject(new Ce(de.CANCELLED,u))})}),o.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Xc(t,r.ks)}}function Aj(n,e){const t=$e(n),r=t.Pu.get(e);if(r&&r._u)return rt().add(r.key);{let s=rt();const o=t.cu.get(e);if(!o)return s;for(const u of o){const f=t.uu.get(u);s=s.unionWith(f.view.Ya)}return s}}function CA(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=EA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Aj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xj.bind(null,e),e.au.j_=uj.bind(null,e.eventManager),e.au.Vu=cj.bind(null,e.eventManager),e}function Cj(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ej.bind(null,e),e}class _h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return OV(this.persistence,new RV,e.initialUser,this.serializer)}yu(e){return new aA(Uy.fi,this.serializer)}pu(e){return new LV}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}_h.provider={build:()=>new _h};class Rj extends _h{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){gt(this.persistence.referenceDelegate instanceof yh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hV(r,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?Xn.withCacheSize(this.cacheSizeBytes):Xn.DEFAULT;return new aA(r=>yh.fi(r,t),this.serializer)}}class Pv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tj.bind(null,this.syncEngine),await aj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lj}()}createDatastore(e){const t=ap(e.databaseInfo.databaseId),r=function(o){return new HV(o)}(e.databaseInfo);return function(o,u,f,d){return new YV(o,u,f,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,o,u,f){return new QV(r,s,o,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>RE(this.syncEngine,t,0),function(){return wE.C()?new wE:new UV}())}createSyncEngine(e,t){return function(s,o,u,f,d,h,m){const b=new pj(s,o,u,f,d,h);return m&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const o=$e(s);Ae(uo,"RemoteStore shutting down."),o.Ta.add(5),await Qc(o),o.Ea.shutdown(),o.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pv.provider={build:()=>new Pv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="FirestoreClient";class Ij{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=kn.UNAUTHENTICATED,this.clientId=v1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{Ae(ma,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ae(ma,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ds;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Yy(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zg(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(ma,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await oA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function NE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await Nj(n);Ae(ma,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>SE(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>SE(e.remoteStore,s)),n._onlineComponents=e}async function Nj(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(ma,"Using user provided OfflineComponentProvider");try{await zg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===de.FAILED_PRECONDITION||s.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Al("Error using user provided cache. Falling back to memory cache: "+t),await zg(n,new _h)}}else Ae(ma,"Using default OfflineComponentProvider"),await zg(n,new Rj(void 0));return n._offlineComponents}async function IA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(ma,"Using user provided OnlineComponentProvider"),await NE(n,n._uninitializedComponentsProvider._online)):(Ae(ma,"Using default OnlineComponentProvider"),await NE(n,new Pv))),n._onlineComponents}function Oj(n){return IA(n).then(e=>e.syncEngine)}async function NA(n){const e=await IA(n),t=e.eventManager;return t.onListen=mj.bind(null,e.syncEngine),t.onUnlisten=yj.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gj.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bj.bind(null,e.syncEngine),t}function Mj(n,e,t={}){const r=new ds;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,f,d,h){const m=new RA({next:_=>{m.Cu(),u.enqueueAndForget(()=>yA(o,b));const w=_.docs.has(f);!w&&_.fromCache?h.reject(new Ce(de.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&d&&d.source==="server"?h.reject(new Ce(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(_)},error:_=>h.reject(_)}),b=new bA(My(f.path),m,{includeMetadataChanges:!0,La:!0});return vA(o,b)}(await NA(n),n.asyncQueue,e,t,r)),r.promise}function Dj(n,e,t={}){const r=new ds;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,f,d,h){const m=new RA({next:_=>{m.Cu(),u.enqueueAndForget(()=>yA(o,b)),_.fromCache&&d.source==="server"?h.reject(new Ce(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(_)},error:_=>h.reject(_)}),b=new bA(f,m,{includeMetadataChanges:!0,La:!0});return vA(o,b)}(await NA(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(n,e,t){if(!t)throw new Ce(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Pj(n,e,t,r){if(e===!0&&r===!0)throw new Ce(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ME(n){if(!Pe.isDocumentKey(n))throw new Ce(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DE(n){if(Pe.isDocumentKey(n))throw new Ce(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function up(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function Gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=up(n);throw new Ce(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="firestore.googleapis.com",PE=!0;class kE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DA,this.ssl=PE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:PE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dV)throw new Ce(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ce(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ce(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ce(de.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new HP;switch(r.type){case"firstParty":return new YP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ce(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=OE.get(t);r&&(Ae("ComponentProvider","Removing Datastore"),OE.delete(t),r.terminate())}(this),Promise.resolve()}}function kj(n,e,t,r={}){var s;n=Gr(n,cp);const o=jl(e),u=n._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;o&&(cy(`https://${d}`),dy("Firestore",!0)),u.host!==DA&&u.host!==d&&Al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},u),{host:d,ssl:o,emulatorOptions:r});if(!io(h,f)&&(n._setSettings(h),r.mockUserToken)){let m,b;if(typeof r.mockUserToken=="string")m=r.mockUserToken,b=kn.MOCK_USER;else{m=_T(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ce(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new kn(_)}n._authCredentials=new qP(new m1(m,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new la(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qn(this.firestore,e,this._key)}}class la extends ba{constructor(e,t,r){super(e,t,My(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qn(this.firestore,null,new Pe(e))}withConverter(e){return new la(this.firestore,e,this._path)}}function en(n,e,...t){if(n=Dt(n),MA("collection","path",e),n instanceof cp){const r=Rt.fromString(e,...t);return DE(r),new la(n,null,r)}{if(!(n instanceof qn||n instanceof la))throw new Ce(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rt.fromString(e,...t));return DE(r),new la(n.firestore,null,r)}}function jn(n,e,...t){if(n=Dt(n),arguments.length===1&&(e=v1.newId()),MA("doc","path",e),n instanceof cp){const r=Rt.fromString(e,...t);return ME(r),new qn(n,null,new Pe(r))}{if(!(n instanceof qn||n instanceof la))throw new Ce(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Rt.fromString(e,...t));return ME(r),new qn(n.firestore,n instanceof la?n.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class jE{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new uA(this,"async_queue_retry"),this.ec=()=>{const r=Fg();r&&Ae(VE,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const t=Fg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Fg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new ds;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!zl(e))throw e;Ae(VE,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,gs("INTERNAL UNHANDLED ERROR: ",LE(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=t,t}enqueueAfterDelay(e,t,r){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const s=Gy.createAndSchedule(this,e,t,r,o=>this.oc(o));return this.Hu.push(s),s}nc(){this.Ju&&ze(47125,{_c:LE(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function LE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class bo extends cp{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new jE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new jE(e),this._firestoreClient=void 0,await e}}}function Vj(n,e){const t=typeof n=="object"?n:py(),r=typeof n=="string"?n:hh,s=Kh(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=vT("firestore");o&&kj(s,...o)}return s}function Wy(n){if(n._terminated)throw new Ce(de.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jj(n),n._firestoreClient}function jj(n){var e,t,r;const s=n._freezeSettings(),o=function(f,d,h,m){return new lk(f,d,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,OA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new Ij(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ml(In.fromBase64String(e))}catch(t){throw new Ce(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ml(In.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=/^__.*__$/;class Uj{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ya(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yc(e,this.data,t,this.fieldTransforms)}}class PA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ya(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{hc:n})}}class eb{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Pc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new eb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.dc(e),s}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:r,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return xh(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(kA(this.hc)&&Lj.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class Fj{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ap(e)}gc(e,t,r,s=!1){return new eb({hc:e,methodName:t,fc:r,path:Cn.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fp(n){const e=n._freezeSettings(),t=ap(n._databaseId);return new Fj(n._databaseId,!!e.ignoreUndefinedProperties,t)}function VA(n,e,t,r,s,o={}){const u=n.gc(o.merge||o.mergeFields?2:0,e,t,s);rb("Data must be an object, but it was:",u,r);const f=jA(r,u);let d,h;if(o.merge)d=new fr(u.fieldMask),h=u.fieldTransforms;else if(o.mergeFields){const m=[];for(const b of o.mergeFields){const _=kv(e,b,t);if(!u.contains(_))throw new Ce(de.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);UA(m,_)||m.push(_)}d=new fr(m),h=u.fieldTransforms.filter(b=>d.covers(b.field))}else d=null,h=u.fieldTransforms;return new Uj(new Wn(f),d,h)}class hp extends Wc{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hp}}class tb extends Wc{_toFieldTransform(e){return new G1(e.path,new Ic)}isEqual(e){return e instanceof tb}}class nb extends Wc{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new Mc(e.serializer,z1(e.serializer,this.wc));return new G1(e.path,t)}isEqual(e){return e instanceof nb&&this.wc===e.wc}}function zj(n,e,t,r){const s=n.gc(1,e,t);rb("Data must be an object, but it was:",s,r);const o=[],u=Wn.empty();va(r,(d,h)=>{const m=ib(e,d,t);h=Dt(h);const b=s.Ac(m);if(h instanceof hp)o.push(m);else{const _=Zc(h,b);_!=null&&(o.push(m),u.set(m,_))}});const f=new fr(o);return new PA(u,f,s.fieldTransforms)}function Bj(n,e,t,r,s,o){const u=n.gc(1,e,t),f=[kv(e,r,t)],d=[s];if(o.length%2!=0)throw new Ce(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)f.push(kv(e,o[_])),d.push(o[_+1]);const h=[],m=Wn.empty();for(let _=f.length-1;_>=0;--_)if(!UA(h,f[_])){const w=f[_];let E=d[_];E=Dt(E);const T=u.Ac(w);if(E instanceof hp)h.push(w);else{const I=Zc(E,T);I!=null&&(h.push(w),m.set(w,I))}}const b=new fr(h);return new PA(m,b,u.fieldTransforms)}function Hj(n,e,t,r=!1){return Zc(t,n.gc(r?4:3,e))}function Zc(n,e){if(LA(n=Dt(n)))return rb("Unsupported field value:",e,n),jA(n,e);if(n instanceof Wc)return function(r,s){if(!kA(s.hc))throw s.Vc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const f of r){let d=Zc(f,s.Rc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,s){if((r=Dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z1(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=ln.fromDate(r);return{timestampValue:vh(s.serializer,o)}}if(r instanceof ln){const o=new ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(s.serializer,o)}}if(r instanceof Zy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ml)return{bytesValue:Z1(s.serializer,r._byteString)};if(r instanceof qn){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Jy)return function(u,f){return{mapValue:{fields:{[T1]:{stringValue:A1},[ph]:{arrayValue:{values:u.toArray().map(h=>{if(typeof h!="number")throw f.Vc("VectorValues must only contain numeric values.");return Dy(f.serializer,h)})}}}}}}(r,s);throw s.Vc(`Unsupported field value: ${up(r)}`)}(n,e)}function jA(n,e){const t={};return b1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(n,(r,s)=>{const o=Zc(s,e.Ic(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function LA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ln||n instanceof Zy||n instanceof Ml||n instanceof qn||n instanceof Wc||n instanceof Jy)}function rb(n,e,t){if(!LA(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=up(t);throw r==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+r)}}function kv(n,e,t){if((e=Dt(e))instanceof dp)return e._internalPath;if(typeof e=="string")return ib(n,e);throw xh("Field path arguments must be of type string or ",n,!1,void 0,t)}const qj=new RegExp("[~\\*/\\[\\]]");function ib(n,e,t){if(e.search(qj)>=0)throw xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dp(...e.split("."))._internalPath}catch{throw xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xh(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${s}`),d+=")"),new Ce(de.INVALID_ARGUMENT,f+n+d)}function UA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $j(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $j extends FA{data(){return super.data()}}function pp(n,e){return typeof e=="string"?ib(n,e):e instanceof dp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sb{}class ab extends sb{}function co(n,e,...t){let r=[];e instanceof sb&&r.push(e),r=r.concat(t),function(o){const u=o.filter(d=>d instanceof ob).length,f=o.filter(d=>d instanceof mp).length;if(u>1||u>0&&f>0)throw new Ce(de.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class mp extends ab{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mp(e,t,r)}_apply(e){const t=this._parse(e);return zA(e._query,t),new ba(e.firestore,e.converter,Tv(e._query,t))}_parse(e){const t=fp(e.firestore);return function(o,u,f,d,h,m,b){let _;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ce(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){zE(b,m);const E=[];for(const T of b)E.push(FE(d,o,T));_={arrayValue:{values:E}}}else _=FE(d,o,b)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||zE(b,m),_=Hj(f,u,b,m==="in"||m==="not-in");return Zt.create(h,m,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wl(n,e,t){const r=e,s=pp("where",n);return mp._create(s,r,t)}class ob extends sb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ob(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:$r.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,o){let u=s;const f=o.getFlattenedFilters();for(const d of f)zA(u,d),u=Tv(u,d)}(e._query,t),new ba(e.firestore,e.converter,Tv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lb extends ab{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new lb(e,t)}_apply(e){const t=function(s,o,u){if(s.startAt!==null)throw new Ce(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Ce(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rc(o,u)}(e._query,this._field,this._direction);return new ba(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new Bl(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function UE(n,e="asc"){const t=e,r=pp("orderBy",n);return lb._create(r,t)}class ub extends ab{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ub(e,t,r)}_apply(e){return new ba(e.firestore,e.converter,gh(e._query,this._limit,this._limitType))}}function Yj(n){return ub._create("limit",n,"F")}function FE(n,e,t){if(typeof(t=Dt(t))=="string"){if(t==="")throw new Ce(de.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P1(e)&&t.indexOf("/")!==-1)throw new Ce(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Rt.fromString(t));if(!Pe.isDocumentKey(r))throw new Ce(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eE(n,new Pe(r))}if(t instanceof qn)return eE(n,t._key);throw new Ce(de.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${up(t)}.`)}function zE(n,e){if(!Array.isArray(n)||n.length===0)throw new Ce(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zA(n,e){const t=function(s,o){for(const u of s)for(const f of u.getFlattenedFilters())if(o.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ce(de.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ce(de.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Kj{convertValue(e,t="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return va(e,(s,o)=>{r[s]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,s;const o=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[ph].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>Ht(u.doubleValue));return new Jy(o)}convertGeoPoint(e){return new Zy(Ht(e.latitude),Ht(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ep(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const t=da(e);return new ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Rt.fromString(e);gt(iA(r),9688,{name:e});const s=new Ac(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return s.isEqual(t)||gs(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class HA extends FA{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Qf extends HA{data(e={}){return super.data(e)}}class Qj{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new uc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Qf(this._firestore,this._userDataWriter,r.key,r,new uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(f=>{const d=new Qf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new uc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const d=new Qf(s._firestore,s._userDataWriter,f.doc.key,f.doc,new uc(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return f.type!==0&&(h=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),m=u.indexOf(f.doc.key)),{type:Xj(f.type),doc:d,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Xj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(n){n=Gr(n,qn);const e=Gr(n.firestore,bo);return Mj(Wy(e),n._key).then(t=>Wj(e,n,t))}class qA extends Kj{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ml(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qn(this.firestore,null,t)}}function Rn(n){n=Gr(n,ba);const e=Gr(n.firestore,bo),t=Wy(e),r=new qA(e);return Gj(n._query),Dj(t,n._query).then(s=>new Qj(e,r,n,s))}function $A(n,e,t){n=Gr(n,qn);const r=Gr(n.firestore,bo),s=BA(n.converter,e);return vp(r,[VA(fp(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Rr.none())])}function ls(n,e,t,...r){n=Gr(n,qn);const s=Gr(n.firestore,bo),o=fp(s);let u;return u=typeof(e=Dt(e))=="string"||e instanceof dp?Bj(o,"updateDoc",n._key,e,t,r):zj(o,"updateDoc",n._key,e),vp(s,[u.toMutation(n._key,Rr.exists(!0))])}function GA(n){return vp(Gr(n.firestore,bo),[new Py(n._key,Rr.none())])}function cb(n,e){const t=Gr(n.firestore,bo),r=jn(n),s=BA(n.converter,e);return vp(t,[VA(fp(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}function vp(n,e){return function(r,s){const o=new ds;return r.asyncQueue.enqueueAndForget(async()=>_j(await Oj(r),s,o)),o.promise}(Wy(n),e)}function Wj(n,e,t){const r=t.docs.get(e._key),s=new qA(n);return new HA(n,s,e._key,r,new uc(t.hasPendingWrites,t.fromCache),e.converter)}function Zj(){return new tb("serverTimestamp")}function Jj(n){return new nb("increment",n)}(function(e,t=!0){(function(s){Ul=s})(go),so(new ua("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),f=new bo(new $P(r.getProvider("auth-internal")),new KP(u,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ce(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(h.options.projectId,m)}(u,s),u);return o=Object.assign({useFetchStreams:t},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),vi(Bw,Hw,e),vi(Bw,Hw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firebasestorage.googleapis.com",e4="storageBucket",t4=2*60*1e3,n4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Ti{constructor(e,t,r=0){super(Bg(e),`Firebase Storage: ${t} (${Bg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ai.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Si;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Si||(Si={}));function Bg(n){return"storage/"+n}function r4(){const n="An unknown error occurred, please check the error payload for server response.";return new Ai(Si.UNKNOWN,n)}function i4(){return new Ai(Si.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function s4(){return new Ai(Si.CANCELED,"User canceled the upload/download.")}function a4(n){return new Ai(Si.INVALID_URL,"Invalid URL '"+n+"'.")}function o4(n){return new Ai(Si.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function BE(n){return new Ai(Si.INVALID_ARGUMENT,n)}function KA(){return new Ai(Si.APP_DELETED,"The Firebase app was deleted.")}function l4(n){return new Ai(Si.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Br.makeFromUrl(e,t)}catch{return new Br(e,"")}if(r.path==="")return r;throw o4(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+s+u,"i"),d={bucket:1,path:3};function h(U){U.path_=decodeURIComponent(U.path)}const m="v[A-Za-z0-9_]+",b=t.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",w=new RegExp(`^https?://${b}/${m}/b/${s}/o${_}`,"i"),E={bucket:1,path:3},T=t===YA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,I="([^?#]*)",N=new RegExp(`^https?://${T}/${s}/${I}`,"i"),S=[{regex:f,indices:d,postModify:o},{regex:w,indices:E,postModify:h},{regex:N,indices:{bucket:1,path:2},postModify:h}];for(let U=0;U<S.length;U++){const k=S[U],Y=k.regex.exec(e);if(Y){const P=Y[k.indices.bucket];let M=Y[k.indices.path];M||(M=""),r=new Br(P,M),k.postModify(r);break}}if(r==null)throw a4(e);return r}}class u4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n,e,t){let r=1,s=null,o=null,u=!1,f=0;function d(){return f===2}let h=!1;function m(...I){h||(h=!0,e.apply(null,I))}function b(I){s=setTimeout(()=>{s=null,n(w,d())},I)}function _(){o&&clearTimeout(o)}function w(I,...N){if(h){_();return}if(I){_(),m.call(null,I,...N);return}if(d()||u){_(),m.call(null,I,...N);return}r<64&&(r*=2);let S;f===1?(f=2,S=0):S=(r+Math.random())*1e3,b(S)}let E=!1;function T(I){E||(E=!0,_(),!h&&(s!==null?(I||(f=2),clearTimeout(s),b(0)):I||(f=1)))}return b(0),o=setTimeout(()=>{u=!0,T(!0)},t),T}function d4(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(n){return n!==void 0}function HE(n,e,t,r){if(r<e)throw BE(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw BE(`Invalid value for '${n}'. Expected ${t} or less.`)}function h4(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var wh;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(wh||(wh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p4(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t,r,s,o,u,f,d,h,m,b,_=!0,w=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=m,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,T)=>{this.resolve_=E,this.reject_=T,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Nf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=f=>{const d=f.loaded,h=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const f=o.getErrorCode()===wh.NO_ERROR,d=o.getStatus();if(!f||p4(d,this.additionalRetryCodes_)&&this.retry){const m=o.getErrorCode()===wh.ABORT;r(!1,new Nf(!1,null,m));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new Nf(h,o))})},t=(r,s)=>{const o=this.resolve_,u=this.reject_,f=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(f,f.getResponse());f4(d)?o(d):o()}catch(d){u(d)}else if(f!==null){const d=r4();d.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,d)):u(d)}else if(s.canceled){const d=this.appDelete_?KA():s4();u(d)}else{const d=i4();u(d)}};this.canceled_?t(!1,new Nf(!1,null,!0)):this.backoffId_=c4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&d4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Nf{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function g4(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function v4(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y4(n,e){e&&(n["X-Firebase-GMPID"]=e)}function b4(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function _4(n,e,t,r,s,o,u=!0,f=!1){const d=h4(n.urlParams),h=n.url+d,m=Object.assign({},n.headers);return y4(m,e),g4(m,t),v4(m,o),b4(m,r),new m4(h,n.method,m,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function w4(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t){this._service=e,t instanceof Br?this._location=t:this._location=Br.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Eh(e,t)}get root(){const e=new Br(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return w4(this._location.path)}get storage(){return this._service}get parent(){const e=x4(this._location.path);if(e===null)return null;const t=new Br(this._location.bucket,e);return new Eh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw l4(e)}}function qE(n,e){const t=e==null?void 0:e[e4];return t==null?null:Br.makeFromBucketSpec(t,n)}function E4(n,e,t,r={}){n.host=`${e}:${t}`;const s=jl(e);s&&(cy(`https://${n.host}`),dy("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:_T(o,n.app.options.projectId))}class S4{constructor(e,t,r,s,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=YA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=t4,this._maxUploadRetryTime=n4,this._requests=new Set,s!=null?this._bucket=Br.makeFromBucketSpec(s,this._host):this._bucket=qE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Br.makeFromBucketSpec(this._url,e):this._bucket=qE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){HE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(dr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eh(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new u4(KA());{const u=_4(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const $E="@firebase/storage",GE="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="storage";function T4(n=py(),e){n=Dt(n);const r=Kh(n,QA).getImmediate({identifier:e}),s=vT("storage");return s&&A4(r,...s),r}function A4(n,e,t,r={}){E4(n,e,t,r)}function C4(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new S4(t,r,s,e,go)}function R4(){so(new ua(QA,C4,"PUBLIC").setMultipleInstances(!0)),vi($E,GE,""),vi($E,GE,"esm2017")}R4();const I4={apiKey:"AIzaSyCJ_LrvyuzvpwBy3XnY_xhOrN2qXMLylv8",authDomain:"nikosperu-store.firebaseapp.com",projectId:"nikosperu-store",storageBucket:"nikosperu-store.firebasestorage.app",messagingSenderId:"63793384667",appId:"1:63793384667:web:cbc4442746cd7d6d4ad0fe"},db=ET(I4),it=Vj(db),Jt=o1(db);T4(db);function yp(){const[n,e]=O.useState(null),[t,r]=O.useState(!0);return O.useEffect(()=>{const s=$c(Jt,o=>{e(o),r(!1)});return()=>s()},[]),{user:n,loading:t}}function N4({setIsMobileMenuOpen:n}){const{user:e}=yp();return v.jsxs("div",{className:"header-left",children:[v.jsx("div",{className:"menu-bar",children:v.jsx("a",{href:"#",onClick:t=>{t.preventDefault(),n(!0)},className:"flex md992:hidden menu-trigger",children:v.jsx("i",{className:"bx bx-menu"})})}),v.jsx("div",{className:"hidden md992:block list-inline",children:v.jsx("ul",{className:"list-none",children:v.jsx("li",{className:e?"w-[280px]":"w-[170px]"})})})]})}function O4(){return v.jsx("div",{className:"header-center",children:v.jsx("nav",{className:"hidden md992:grid menu",children:v.jsxs("ul",{className:"list-none",children:[v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"/nikos",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"/nikos/productos",children:"Productos"})}),v.jsx("li",{className:"font-[Anton] uppercase italic text-[40px] mx-5",children:v.jsx("a",{href:"/",children:"Nikos"})}),v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"/nikos/#marcas",children:"Marcas"})}),v.jsx("li",{children:v.jsx("a",{className:"link-menu",href:"#contacto",children:"Contacto"})})]})})})}const XA=O.createContext();function M4({children:n}){const[e,t]=O.useState(()=>{const f=localStorage.getItem("carrito");return f?JSON.parse(f):[]});O.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]);const r=f=>{t(d=>{const h=d.findIndex(m=>m.slug===f.slug&&m.talla===f.talla&&m.color===f.color);if(h!==-1){const m=[...d],b=m[h].cantidad+f.cantidad;return m[h].cantidad=Math.min(b,3),m}return[...d,{...f,cantidad:Math.min(f.cantidad,3)}]})},s=(f,d,h)=>{t(m=>m.filter(b=>!(b.slug===f&&b.talla===d&&b.color===h)))},o=()=>{t([])},u=(f,d,h,m)=>{t(b=>b.map(_=>_.slug===f&&_.talla===d&&_.color===h?{..._,cantidad:m}:_))};return v.jsx(XA.Provider,{value:{carrito:e,agregarAlCarrito:r,quitarDelCarrito:s,vaciarCarrito:o,actualizarCantidad:u},children:n})}function bp(){return O.useContext(XA)}const WA=O.createContext();function D4({children:n}){const[e,t]=O.useState(!1),[r,s]=O.useState(!1),o=()=>t(!0),u=()=>{s(!0),setTimeout(()=>{t(!1),s(!1)},400)};return v.jsx(WA.Provider,{value:{mostrarCarrito:e,animatingClose:r,abrirCarrito:o,cerrarModalConAnimacion:u},children:n})}function fb(){return O.useContext(WA)}function P4(){const{user:n}=yp(),[e,t]=O.useState(!1),r=O.useRef(null),s=cn(),o=()=>t(!e),u=async()=>{try{await Ey(Jt),localStorage.removeItem("usuario"),sessionStorage.removeItem("usuario"),s("/login")}catch(f){console.error("Error al cerrar sesión:",f)}};return O.useEffect(()=>{const f=d=>{r.current&&!r.current.contains(d.target)&&t(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),n?v.jsxs("div",{className:"relative inline-block text-left",ref:r,children:[v.jsxs("button",{onClick:o,className:"cursor-pointer text-black font-medium hover:underline max-w-[100px] overflow-hidden text-ellipsis whitespace-nowrap",children:["Hola, ",n.displayName]}),e&&v.jsxs("div",{className:`absolute right-0 w-48 bg-white border border-gray-200 shadow-md z-50
            transition transform duration-200 ease-out origin-top scale-100 opacity-100
            animate-fade-in`,children:[v.jsx("button",{onClick:()=>{t(!1),s("/mi-perfil")},className:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",children:"Ver perfil"}),v.jsx("hr",{className:"border-t border-gray-200"}),v.jsx("button",{onClick:()=>{t(!1),s("/mis-compras")},className:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",children:"Mis compras"}),v.jsx("hr",{className:"border-t border-gray-200"}),v.jsx("button",{onClick:u,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Cerrar sesión"})]})]}):null}function k4({setIsSearchOpen:n}){const{abrirCarrito:e}=fb(),{carrito:t}=bp(),{user:r}=yp();return v.jsx("div",{className:"header-right",children:v.jsx("div",{className:"list-inline",children:v.jsxs("ul",{className:"list-none",children:[v.jsx("li",{className:"flex",children:v.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),n(!0)},children:v.jsx("i",{className:"bx bx-search"})})}),v.jsx("li",{className:"flex",children:v.jsxs("button",{onClick:e,className:"flex relative text-[24px] py-0 px-[24px]",children:[v.jsx("i",{className:"bx bx-cart text-2xl"}),t.length>0&&v.jsx("span",{className:"absolute -top-2 right-[10px] py-0 px-1 bg-red-500 text-white text-xs px-1 rounded-full",children:t.length})]})}),v.jsx("li",{className:"hidden md992:flex",children:r?v.jsx(P4,{}):v.jsx("a",{href:"/nikos/login",children:v.jsx("i",{className:"bx bx-user"})})})]})})})}function ys(n){return Array.isArray?Array.isArray(n):eC(n)==="[object Array]"}function V4(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function j4(n){return n==null?"":V4(n)}function mi(n){return typeof n=="string"}function ZA(n){return typeof n=="number"}function L4(n){return n===!0||n===!1||U4(n)&&eC(n)=="[object Boolean]"}function JA(n){return typeof n=="object"}function U4(n){return JA(n)&&n!==null}function cr(n){return n!=null}function Hg(n){return!n.trim().length}function eC(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const F4="Incorrect 'index' type",z4=n=>`Invalid value for key ${n}`,B4=n=>`Pattern length exceeds max of ${n}.`,H4=n=>`Missing ${n} property in key`,q4=n=>`Property 'weight' in key '${n}' must be a positive integer`,YE=Object.prototype.hasOwnProperty;class $4{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(r=>{let s=tC(r);this._keys.push(s),this._keyMap[s.id]=s,t+=s.weight}),this._keys.forEach(r=>{r.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function tC(n){let e=null,t=null,r=null,s=1,o=null;if(mi(n)||ys(n))r=n,e=KE(n),t=Vv(n);else{if(!YE.call(n,"name"))throw new Error(H4("name"));const u=n.name;if(r=u,YE.call(n,"weight")&&(s=n.weight,s<=0))throw new Error(q4(u));e=KE(u),t=Vv(u),o=n.getFn}return{path:e,id:t,weight:s,src:r,getFn:o}}function KE(n){return ys(n)?n:n.split(".")}function Vv(n){return ys(n)?n.join("."):n}function G4(n,e){let t=[],r=!1;const s=(o,u,f)=>{if(cr(o))if(!u[f])t.push(o);else{let d=u[f];const h=o[d];if(!cr(h))return;if(f===u.length-1&&(mi(h)||ZA(h)||L4(h)))t.push(j4(h));else if(ys(h)){r=!0;for(let m=0,b=h.length;m<b;m+=1)s(h[m],u,f+1)}else u.length&&s(h,u,f+1)}};return s(n,mi(e)?e.split("."):e,0),r?t:t[0]}const Y4={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},K4={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},Q4={location:0,threshold:.6,distance:100},X4={useExtendedSearch:!1,getFn:G4,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var He={...K4,...Y4,...Q4,...X4};const W4=/[^ ]+/g;function Z4(n=1,e=3){const t=new Map,r=Math.pow(10,e);return{get(s){const o=s.match(W4).length;if(t.has(o))return t.get(o);const u=1/Math.pow(o,.5*n),f=parseFloat(Math.round(u*r)/r);return t.set(o,f),f},clear(){t.clear()}}}class hb{constructor({getFn:e=He.getFn,fieldNormWeight:t=He.fieldNormWeight}={}){this.norm=Z4(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,r)=>{this._keysMap[t.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,mi(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();mi(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,r=this.size();t<r;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!cr(e)||Hg(e))return;let r={v:e,i:t,n:this.norm.get(e)};this.records.push(r)}_addObject(e,t){let r={i:t,$:{}};this.keys.forEach((s,o)=>{let u=s.getFn?s.getFn(e):this.getFn(e,s.path);if(cr(u)){if(ys(u)){let f=[];const d=[{nestedArrIndex:-1,value:u}];for(;d.length;){const{nestedArrIndex:h,value:m}=d.pop();if(cr(m))if(mi(m)&&!Hg(m)){let b={v:m,i:h,n:this.norm.get(m)};f.push(b)}else ys(m)&&m.forEach((b,_)=>{d.push({nestedArrIndex:_,value:b})})}r.$[o]=f}else if(mi(u)&&!Hg(u)){let f={v:u,n:this.norm.get(u)};r.$[o]=f}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function nC(n,e,{getFn:t=He.getFn,fieldNormWeight:r=He.fieldNormWeight}={}){const s=new hb({getFn:t,fieldNormWeight:r});return s.setKeys(n.map(tC)),s.setSources(e),s.create(),s}function J4(n,{getFn:e=He.getFn,fieldNormWeight:t=He.fieldNormWeight}={}){const{keys:r,records:s}=n,o=new hb({getFn:e,fieldNormWeight:t});return o.setKeys(r),o.setIndexRecords(s),o}function Of(n,{errors:e=0,currentLocation:t=0,expectedLocation:r=0,distance:s=He.distance,ignoreLocation:o=He.ignoreLocation}={}){const u=e/n.length;if(o)return u;const f=Math.abs(r-t);return s?u+f/s:f?1:u}function eL(n=[],e=He.minMatchCharLength){let t=[],r=-1,s=-1,o=0;for(let u=n.length;o<u;o+=1){let f=n[o];f&&r===-1?r=o:!f&&r!==-1&&(s=o-1,s-r+1>=e&&t.push([r,s]),r=-1)}return n[o-1]&&o-r>=e&&t.push([r,o-1]),t}const eo=32;function tL(n,e,t,{location:r=He.location,distance:s=He.distance,threshold:o=He.threshold,findAllMatches:u=He.findAllMatches,minMatchCharLength:f=He.minMatchCharLength,includeMatches:d=He.includeMatches,ignoreLocation:h=He.ignoreLocation}={}){if(e.length>eo)throw new Error(B4(eo));const m=e.length,b=n.length,_=Math.max(0,Math.min(r,b));let w=o,E=_;const T=f>1||d,I=T?Array(b):[];let N;for(;(N=n.indexOf(e,E))>-1;){let P=Of(e,{currentLocation:N,expectedLocation:_,distance:s,ignoreLocation:h});if(w=Math.min(P,w),E=N+m,T){let M=0;for(;M<m;)I[N+M]=1,M+=1}}E=-1;let C=[],S=1,U=m+b;const k=1<<m-1;for(let P=0;P<m;P+=1){let M=0,D=U;for(;M<D;)Of(e,{errors:P,currentLocation:_+D,expectedLocation:_,distance:s,ignoreLocation:h})<=w?M=D:U=D,D=Math.floor((U-M)/2+M);U=D;let j=Math.max(1,_-D+1),z=u?b:Math.min(_+D,b)+m,B=Array(z+2);B[z+1]=(1<<P)-1;for(let ie=z;ie>=j;ie-=1){let ee=ie-1,H=t[n.charAt(ee)];if(T&&(I[ee]=+!!H),B[ie]=(B[ie+1]<<1|1)&H,P&&(B[ie]|=(C[ie+1]|C[ie])<<1|1|C[ie+1]),B[ie]&k&&(S=Of(e,{errors:P,currentLocation:ee,expectedLocation:_,distance:s,ignoreLocation:h}),S<=w)){if(w=S,E=ee,E<=_)break;j=Math.max(1,2*_-E)}}if(Of(e,{errors:P+1,currentLocation:_,expectedLocation:_,distance:s,ignoreLocation:h})>w)break;C=B}const Y={isMatch:E>=0,score:Math.max(.001,S)};if(T){const P=eL(I,f);P.length?d&&(Y.indices=P):Y.isMatch=!1}return Y}function nL(n){let e={};for(let t=0,r=n.length;t<r;t+=1){const s=n.charAt(t);e[s]=(e[s]||0)|1<<r-t-1}return e}const Sh=String.prototype.normalize?n=>n.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):n=>n;class rC{constructor(e,{location:t=He.location,threshold:r=He.threshold,distance:s=He.distance,includeMatches:o=He.includeMatches,findAllMatches:u=He.findAllMatches,minMatchCharLength:f=He.minMatchCharLength,isCaseSensitive:d=He.isCaseSensitive,ignoreDiacritics:h=He.ignoreDiacritics,ignoreLocation:m=He.ignoreLocation}={}){if(this.options={location:t,threshold:r,distance:s,includeMatches:o,findAllMatches:u,minMatchCharLength:f,isCaseSensitive:d,ignoreDiacritics:h,ignoreLocation:m},e=d?e:e.toLowerCase(),e=h?Sh(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const b=(w,E)=>{this.chunks.push({pattern:w,alphabet:nL(w),startIndex:E})},_=this.pattern.length;if(_>eo){let w=0;const E=_%eo,T=_-E;for(;w<T;)b(this.pattern.substr(w,eo),w),w+=eo;if(E){const I=_-eo;b(this.pattern.substr(I),I)}}else b(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:r,includeMatches:s}=this.options;if(e=t?e:e.toLowerCase(),e=r?Sh(e):e,this.pattern===e){let T={isMatch:!0,score:0};return s&&(T.indices=[[0,e.length-1]]),T}const{location:o,distance:u,threshold:f,findAllMatches:d,minMatchCharLength:h,ignoreLocation:m}=this.options;let b=[],_=0,w=!1;this.chunks.forEach(({pattern:T,alphabet:I,startIndex:N})=>{const{isMatch:C,score:S,indices:U}=tL(e,T,I,{location:o+N,distance:u,threshold:f,findAllMatches:d,minMatchCharLength:h,includeMatches:s,ignoreLocation:m});C&&(w=!0),_+=S,C&&U&&(b=[...b,...U])});let E={isMatch:w,score:w?_/this.chunks.length:1};return w&&s&&(E.indices=b),E}}class _a{constructor(e){this.pattern=e}static isMultiMatch(e){return QE(e,this.multiRegex)}static isSingleMatch(e){return QE(e,this.singleRegex)}search(){}}function QE(n,e){const t=n.match(e);return t?t[1]:null}class rL extends _a{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class iL extends _a{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class sL extends _a{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class aL extends _a{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class oL extends _a{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class lL extends _a{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class iC extends _a{constructor(e,{location:t=He.location,threshold:r=He.threshold,distance:s=He.distance,includeMatches:o=He.includeMatches,findAllMatches:u=He.findAllMatches,minMatchCharLength:f=He.minMatchCharLength,isCaseSensitive:d=He.isCaseSensitive,ignoreDiacritics:h=He.ignoreDiacritics,ignoreLocation:m=He.ignoreLocation}={}){super(e),this._bitapSearch=new rC(e,{location:t,threshold:r,distance:s,includeMatches:o,findAllMatches:u,minMatchCharLength:f,isCaseSensitive:d,ignoreDiacritics:h,ignoreLocation:m})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class sC extends _a{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,r;const s=[],o=this.pattern.length;for(;(r=e.indexOf(this.pattern,t))>-1;)t=r+o,s.push([r,t-1]);const u=!!s.length;return{isMatch:u,score:u?0:1,indices:s}}}const jv=[rL,sC,sL,aL,lL,oL,iL,iC],XE=jv.length,uL=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,cL="|";function dL(n,e={}){return n.split(cL).map(t=>{let r=t.trim().split(uL).filter(o=>o&&!!o.trim()),s=[];for(let o=0,u=r.length;o<u;o+=1){const f=r[o];let d=!1,h=-1;for(;!d&&++h<XE;){const m=jv[h];let b=m.isMultiMatch(f);b&&(s.push(new m(b,e)),d=!0)}if(!d)for(h=-1;++h<XE;){const m=jv[h];let b=m.isSingleMatch(f);if(b){s.push(new m(b,e));break}}}return s})}const fL=new Set([iC.type,sC.type]);class hL{constructor(e,{isCaseSensitive:t=He.isCaseSensitive,ignoreDiacritics:r=He.ignoreDiacritics,includeMatches:s=He.includeMatches,minMatchCharLength:o=He.minMatchCharLength,ignoreLocation:u=He.ignoreLocation,findAllMatches:f=He.findAllMatches,location:d=He.location,threshold:h=He.threshold,distance:m=He.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:r,includeMatches:s,minMatchCharLength:o,findAllMatches:f,ignoreLocation:u,location:d,threshold:h,distance:m},e=t?e:e.toLowerCase(),e=r?Sh(e):e,this.pattern=e,this.query=dL(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:s,ignoreDiacritics:o}=this.options;e=s?e:e.toLowerCase(),e=o?Sh(e):e;let u=0,f=[],d=0;for(let h=0,m=t.length;h<m;h+=1){const b=t[h];f.length=0,u=0;for(let _=0,w=b.length;_<w;_+=1){const E=b[_],{isMatch:T,indices:I,score:N}=E.search(e);if(T){if(u+=1,d+=N,r){const C=E.constructor.type;fL.has(C)?f=[...f,...I]:f.push(I)}}else{d=0,u=0,f.length=0;break}}if(u){let _={isMatch:!0,score:d/u};return r&&(_.indices=f),_}}return{isMatch:!1,score:1}}}const Lv=[];function pL(...n){Lv.push(...n)}function Uv(n,e){for(let t=0,r=Lv.length;t<r;t+=1){let s=Lv[t];if(s.condition(n,e))return new s(n,e)}return new rC(n,e)}const Th={AND:"$and",OR:"$or"},Fv={PATH:"$path",PATTERN:"$val"},zv=n=>!!(n[Th.AND]||n[Th.OR]),mL=n=>!!n[Fv.PATH],gL=n=>!ys(n)&&JA(n)&&!zv(n),WE=n=>({[Th.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function aC(n,e,{auto:t=!0}={}){const r=s=>{let o=Object.keys(s);const u=mL(s);if(!u&&o.length>1&&!zv(s))return r(WE(s));if(gL(s)){const d=u?s[Fv.PATH]:o[0],h=u?s[Fv.PATTERN]:s[d];if(!mi(h))throw new Error(z4(d));const m={keyId:Vv(d),pattern:h};return t&&(m.searcher=Uv(h,e)),m}let f={children:[],operator:o[0]};return o.forEach(d=>{const h=s[d];ys(h)&&h.forEach(m=>{f.children.push(r(m))})}),f};return zv(n)||(n=WE(n)),r(n)}function vL(n,{ignoreFieldNorm:e=He.ignoreFieldNorm}){n.forEach(t=>{let r=1;t.matches.forEach(({key:s,norm:o,score:u})=>{const f=s?s.weight:null;r*=Math.pow(u===0&&f?Number.EPSILON:u,(f||1)*(e?1:o))}),t.score=r})}function yL(n,e){const t=n.matches;e.matches=[],cr(t)&&t.forEach(r=>{if(!cr(r.indices)||!r.indices.length)return;const{indices:s,value:o}=r;let u={indices:s,value:o};r.key&&(u.key=r.key.src),r.idx>-1&&(u.refIndex=r.idx),e.matches.push(u)})}function bL(n,e){e.score=n.score}function _L(n,e,{includeMatches:t=He.includeMatches,includeScore:r=He.includeScore}={}){const s=[];return t&&s.push(yL),r&&s.push(bL),n.map(o=>{const{idx:u}=o,f={item:e[u],refIndex:u};return s.length&&s.forEach(d=>{d(o,f)}),f})}class fo{constructor(e,t={},r){this.options={...He,...t},this.options.useExtendedSearch,this._keyStore=new $4(this.options.keys),this.setCollection(e,r)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof hb))throw new Error(F4);this._myIndex=t||nC(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){cr(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let r=0,s=this._docs.length;r<s;r+=1){const o=this._docs[r];e(o,r)&&(this.removeAt(r),r-=1,s-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:r,includeScore:s,shouldSort:o,sortFn:u,ignoreFieldNorm:f}=this.options;let d=mi(e)?mi(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return vL(d,{ignoreFieldNorm:f}),o&&d.sort(u),ZA(t)&&t>-1&&(d=d.slice(0,t)),_L(d,this._docs,{includeMatches:r,includeScore:s})}_searchStringList(e){const t=Uv(e,this.options),{records:r}=this._myIndex,s=[];return r.forEach(({v:o,i:u,n:f})=>{if(!cr(o))return;const{isMatch:d,score:h,indices:m}=t.searchIn(o);d&&s.push({item:o,idx:u,matches:[{score:h,value:o,norm:f,indices:m}]})}),s}_searchLogical(e){const t=aC(e,this.options),r=(f,d,h)=>{if(!f.children){const{keyId:b,searcher:_}=f,w=this._findMatches({key:this._keyStore.get(b),value:this._myIndex.getValueForItemAtKeyId(d,b),searcher:_});return w&&w.length?[{idx:h,item:d,matches:w}]:[]}const m=[];for(let b=0,_=f.children.length;b<_;b+=1){const w=f.children[b],E=r(w,d,h);if(E.length)m.push(...E);else if(f.operator===Th.AND)return[]}return m},s=this._myIndex.records,o={},u=[];return s.forEach(({$:f,i:d})=>{if(cr(f)){let h=r(t,f,d);h.length&&(o[d]||(o[d]={idx:d,item:f,matches:[]},u.push(o[d])),h.forEach(({matches:m})=>{o[d].matches.push(...m)}))}}),u}_searchObjectList(e){const t=Uv(e,this.options),{keys:r,records:s}=this._myIndex,o=[];return s.forEach(({$:u,i:f})=>{if(!cr(u))return;let d=[];r.forEach((h,m)=>{d.push(...this._findMatches({key:h,value:u[m],searcher:t}))}),d.length&&o.push({idx:f,item:u,matches:d})}),o}_findMatches({key:e,value:t,searcher:r}){if(!cr(t))return[];let s=[];if(ys(t))t.forEach(({v:o,i:u,n:f})=>{if(!cr(o))return;const{isMatch:d,score:h,indices:m}=r.searchIn(o);d&&s.push({score:h,key:e,value:o,idx:u,norm:f,indices:m})});else{const{v:o,n:u}=t,{isMatch:f,score:d,indices:h}=r.searchIn(o);f&&s.push({score:d,key:e,value:o,norm:u,indices:h})}return s}}fo.version="7.1.0";fo.createIndex=nC;fo.parseIndex=J4;fo.config=He;fo.parseQuery=aC;pL(hL);function xL({isSearchOpen:n,setIsSearchOpen:e,productos:t}){const[r,s]=O.useState(""),[o,u]=O.useState([]),[f,d]=O.useState(!1),h=cn(),m=O.useMemo(()=>new fo(t,{keys:["nombre","descripcion","marca","etiquetas","tipoCalzado","uso","material","origen"],threshold:.3,includeMatches:!0}),[t]),b=(T,I)=>{let N;return(...C)=>{clearTimeout(N),N=setTimeout(()=>T(...C),I)}},_=O.useCallback(b(async T=>{if(t.length>0){const I=m.search(T);u(I)}else{d(!0);const I=en(it,"productos"),C=(await Rn(I)).docs.map(k=>({id:k.id,...k.data()})),U=new fo(C,{keys:["nombre","descripcion","marca","etiquetas","tipoCalzado","uso","material","origen"],threshold:.3,includeMatches:!0}).search(T);u(U),d(!1)}},300),[m,t]);O.useEffect(()=>{if(!n){s(""),u([]);return}const T=r.trim();if(T===""){u([]);return}_(T)},[r,n,_]),O.useEffect(()=>(document.body.style.overflow=n?"hidden":"",()=>{document.body.style.overflow=""}),[n]);const w=()=>e(!1),E=(T,I)=>{if(!I||I.length===0)return T;let N="",C=0;return I[0].indices.forEach(([S,U])=>{N+=T.slice(C,S),N+=`<mark class='bg-yellow-200'>${T.slice(S,U+1)}</mark>`,C=U+1}),N+=T.slice(C),N};return v.jsx(v.Fragment,{children:n&&v.jsx("div",{className:"fixed inset-0 z-[1000] bg-black/30 backdrop-blur-sm",children:v.jsxs("div",{className:"fixed top-0 left-0 right-0 h-20 bg-white shadow-md z-[1001]",children:[v.jsxs("form",{className:"relative h-full w-full flex items-center px-4",children:[v.jsx("i",{className:"bx bx-search text-xl absolute left-4"}),v.jsx("input",{type:"search",placeholder:"Buscar productos",value:r,autoFocus:!0,onChange:T=>s(T.target.value),className:"pl-10 pr-10 w-full h-full outline-none border-none text-base"}),v.jsx("i",{className:"bx bx-x text-xl absolute right-4 cursor-pointer",onClick:w})]}),r.trim()!==""&&v.jsxs("div",{className:"bg-white max-h-[calc(100vh-10rem)] overflow-y-auto border-t border-gray-200 shadow rounded-b-md flex flex-col",children:[v.jsx("ul",{className:"divide-y divide-gray-100 flex-1 overflow-y-auto",children:f?v.jsx("li",{className:"px-4 py-4 text-sm text-gray-500 text-center",children:"Buscando..."}):v.jsx(v.Fragment,{children:o.length>0?o.map(({item:T,matches:I})=>v.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-50 transition",onClick:()=>{h(`/productos/${T.slug}`),w()},children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("i",{className:"bx bx-sneaker text-gray-400 text-base"}),v.jsx("span",{className:"truncate",dangerouslySetInnerHTML:{__html:E(T.nombre,I!=null&&I.find(N=>N.key==="nombre")?[I.find(N=>N.key==="nombre")]:[])}})]})},T.id)):v.jsx("li",{className:"px-4 py-4 text-sm text-gray-500 text-center",children:"No encontramos el producto que buscas."})})}),v.jsx("div",{className:"border-t px-4 py-3 bg-white sticky bottom-0 z-10",children:v.jsxs("button",{onClick:()=>{h("/productos"),w()},className:"w-full flex items-center justify-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors",children:[v.jsx("i",{className:"bx bx-store-alt text-lg"}),v.jsx("span",{children:"Ver todos los productos"})]})})]})]})})})}function pb({mostrarModalFiltros:n,animatingClose:e,cerrarModalConAnimacion:t,direction:r="left",width:s="w-72",minHeight:o="max-h-[calc(100vh-8rem)] md:max-h-[calc(100vh-4rem)]",children:u}){if(O.useEffect(()=>(n?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[n]),!n&&!e)return null;const f=r==="left"?e?"slide-out-left":"slide-in-left":e?"slide-out-right":"slide-in-right";return v.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 opacity-100",onClick:t}),v.jsxs("div",{className:`relative h-full bg-white shadow-xl ${s} ${f} ${r==="right"?"max-w-[80%] right-0 absolute ml-auto":"left-0 absolute"}`,children:[v.jsx("div",{className:"flex justify-end items-center p-4",children:v.jsx("button",{onClick:t,children:"✕"})}),v.jsx("div",{className:`p-2 overflow-y-auto h-full ${o}`,children:u})]})]})}function wL({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const[t,r]=O.useState(!1),[s,o]=O.useState(!1),{user:u}=yp(),f=cn(),d=()=>{r(!0),setTimeout(()=>{e(!1),r(!1)},400)},h=async()=>{try{await Ey(Jt),localStorage.removeItem("usuario"),sessionStorage.removeItem("usuario"),f("/login")}catch(m){console.error("Error al cerrar sesión:",m)}};return v.jsx(pb,{mostrarModalFiltros:n,animatingClose:t,cerrarModalConAnimacion:d,children:v.jsxs("div",{className:"main-menu scrollto flex flex-col h-full",children:[v.jsx("nav",{className:"wrapper",children:v.jsxs("ul",{className:"pt-2 space-y-2",children:[v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"/nikos",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"/nikos/productos",children:"Productos"})}),v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"/nikos/#marcas",onClick:()=>e(!1),children:"Marcas"})}),v.jsx("li",{children:v.jsx("a",{className:"block px-4 text-black",href:"#contacto",onClick:()=>e(!1),children:"Contacto"})})]})}),!u&&v.jsxs("div",{className:"mt-auto p-4 flex flex-col space-y-2 gap-2",children:[v.jsx("a",{href:"/nikos/login",className:"btn secondary-btn text-center bg-black text-white py-2 rounded",children:"Iniciar Sesión"}),v.jsx("a",{href:"/nikos/register",className:"btn primary-btn text-center border border-black py-2 text-black rounded",children:"Registrarse"})]}),u&&v.jsxs("div",{className:"mt-auto border-t border-gray-200 px-4 pt-4",children:[v.jsxs("button",{onClick:()=>o(!s),className:"w-full flex justify-between items-center text-black font-medium text-left truncate",children:[v.jsxs("span",{className:"truncate max-w-[80%]",title:u.displayName||u.email,children:["Hola, ",u.displayName||u.email]}),v.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${s?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),v.jsxs("ul",{className:`mt-3 space-y-2 text-sm text-gray-800 overflow-hidden transition-all duration-300 ${s?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>{f("/mi-perfil"),e(!1)},className:"block w-full text-left hover:bg-gray-100 px-2 py-1 rounded",children:"Ver perfil"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>{f("/mis-compras"),e(!1)},className:"block w-full text-left hover:bg-gray-100 px-2 py-1 rounded",children:"Mis compras"})}),v.jsx("li",{children:v.jsx("button",{onClick:h,className:"block w-full text-left text-red-600 hover:bg-gray-100 px-2 py-1 rounded",children:"Cerrar sesión"})})]})]})]})})}function EL(){const[n,e]=O.useState(!1),[t,r]=O.useState(!1),[s,o]=O.useState(!1),[u,f]=O.useState([]);return O.useEffect(()=>{if(!n)return;(async()=>{try{const h=co(en(it,"productos"),Yj(20)),b=(await Rn(h)).docs.map(_=>({id:_.id,..._.data()}));f(b)}catch(h){console.error("Error al obtener productos:",h)}})()},[n]),O.useEffect(()=>{const d=window.matchMedia("(min-width: 992px)"),h=m=>{m.matches&&o(!1)};return d.addEventListener("change",h),()=>d.removeEventListener("change",h)},[]),v.jsxs("div",{id:"page",className:`${s?"mobile-version":""}`,children:[v.jsx("header",{children:v.jsxs("div",{className:"inner-header leading-[80px]",children:[v.jsx("div",{className:"wide",children:v.jsxs("div",{className:"wrap",children:[v.jsx(N4,{setIsMobileMenuOpen:o}),v.jsx(O4,{}),v.jsx(k4,{setIsSearchOpen:e})]})}),v.jsx(xL,{isSearchOpen:n,setIsSearchOpen:e,productos:u})]})}),v.jsx(wL,{isMobileMenuOpen:s,setIsMobileMenuOpen:o,isSubmenuOpen:t,setIsSubMenuOpen:r})]})}function SL(){return v.jsx("div",{id:"contacto",className:"footer relative left-1/2 -translate-x-1/2 w-screen",children:v.jsxs("footer",{className:"bg-black text-gray-200 py-6 mt-10",children:[v.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"title-footer text-2xl font-bold mb-2 font-[Anton] uppercase italic text-[40px]",children:"Nikos"}),v.jsx("p",{className:"text-sm",children:"Vendemos productos únicos para personas únicas. Calidad, estilo y funcionalidad en uno solo."})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Enlaces"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsx("li",{children:v.jsx("a",{href:"/",className:"hover:underline",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{href:"/nikos/productos",className:"hover:underline",children:"Productos"})}),v.jsx("li",{children:v.jsx("a",{href:"/nikos/#marcas",className:"hover:underline",children:"Marcas"})}),v.jsx("li",{children:v.jsx("a",{href:"#contacto",className:"hover:underline",children:"Contacto"})})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Contacto"}),v.jsxs("ul",{className:"space-y-2 text-sm",children:[v.jsx("li",{children:"Email: contacto@mimarca.com"}),v.jsx("li",{children:"Tel: +51 944 788 568"}),v.jsx("li",{children:"Dirección: Calle Ficticia 123, Ciudad"})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Síguenos"}),v.jsxs("div",{className:"flex gap-4 text-xl",children:[v.jsx("a",{href:"https://www.facebook.com",target:"_blank",className:"hover:text-white",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"24",height:"24",children:v.jsx("path",{d:"M22 12a10 10 0 1 0-11.6 9.9v-7H8v-2.9h2.4V9.8c0-2.4 1.4-3.7 3.5-3.7 1 0 2 .2 2 .2v2.3h-1.1c-1.1 0-1.4.7-1.4 1.4v1.7h2.5l-.4 2.9H13.4v7A10 10 0 0 0 22 12z"})})}),v.jsx("a",{href:"https://www.instagram.com",target:"_blank",className:"hover:text-white",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"24",height:"24",children:v.jsx("path",{d:"M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 2c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3h10zM12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm4.5-2a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})})]})]})]}),v.jsxs("div",{className:"border-t border-gray-700 mt-10 pt-4 text-center text-sm",children:["v.1.0.6 © ",new Date().getFullYear()," Nikos. Todos los derechos reservados."]})]})})}const mb="/nikos/assets/no-photo-B4rHX3et.JPG";function TL(){const{carrito:n,quitarDelCarrito:e,vaciarCarrito:t,actualizarCantidad:r}=bp(),s=cn(),{cerrarModalConAnimacion:o}=fb(),[u,f]=O.useState(null),[d,h]=O.useState("");O.useEffect(()=>{const w=JSON.parse(localStorage.getItem("usuario"));f((w==null?void 0:w.usuarioMayorista)||!1)},[]);const m=()=>{o(),setTimeout(()=>s("/checkout"),400)},b=(w,E)=>{const T=w.cantidad+E;T>3?h(w.slug+w.talla+w.color):h(""),r(w.slug,w.talla,w.color,T)},_=O.useMemo(()=>n.reduce((w,E)=>{const T=u?E.precioMayorista:E.precioDescuento||E.precio;return w+T*E.cantidad},0),[n,u]);return u===null?null:v.jsxs("div",{className:"flex flex-col h-full",children:[v.jsxs("div",{className:"px-4 pb-1 flex justify-between items-center",children:[v.jsx("h2",{className:"text-xl font-bold",children:"Mi Carrito"}),n.length>0&&v.jsx("button",{onClick:t,className:"btn btn-sm secondary-btn px-2 py-1","aria-label":"Vaciar carrito",children:v.jsx("i",{className:"bx bx-trash"})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-2 md:p-4 space-y-4",children:n.length===0?v.jsx("p",{className:"text-gray-500",children:"Tu carrito está vacío."}):n.map((w,E)=>{const T=u?w.precioMayorista:w.precioDescuento||w.precio;return v.jsxs("div",{className:"flex gap-4 bg-white py-2 relative",children:[v.jsx("img",{src:w.imagen||mb,alt:`Imagen de ${w.nombre}`,className:"w-20 h-20 object-cover rounded border",loading:"lazy"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-gray-800 cursor-pointer hover:underline",onClick:()=>s(`/productos/${w.slug}`),"aria-label":`Ir a ${w.nombre}`,children:w.nombre}),v.jsxs("div",{className:"text-sm text-gray-600 flex gap-2",children:[v.jsxs("span",{children:["Talla: ",v.jsx("strong",{children:w.talla})]}),v.jsx("span",{children:"|"}),v.jsxs("span",{children:["Color: ",w.color]})]}),v.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:["S/ ",T==null?void 0:T.toFixed(2)," c/u"]}),v.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded",onClick:()=>b(w,-1),disabled:w.cantidad===1,"aria-label":"Disminuir cantidad",children:"−"}),v.jsx("input",{type:"text",value:w.cantidad,readOnly:!0,className:"w-8 text-center border rounded","aria-label":"Cantidad"}),v.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded",onClick:()=>b(w,1),"aria-label":"Aumentar cantidad",children:"+"})]})]}),v.jsx("button",{onClick:()=>e(w.slug,w.talla,w.color),className:"text-red-500 hover:text-red-700 self-start",title:"Quitar del carrito","aria-label":`Quitar ${w.nombre}`,children:v.jsx("i",{className:"bx bx-trash"})})]},`${w.slug}-${w.talla}-${w.color}-${E}`)})}),n.length>0&&v.jsxs("div",{className:"bg-black text-white p-4 border-t",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm",children:[v.jsx("span",{children:"Total:"}),v.jsxs("span",{className:"font-semibold",children:["S/ ",_.toFixed(2)]})]}),d!==""&&v.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Si deseas hacer compras al por mayor, comunícate con nosotros para acceder a mejores precios."}),v.jsx("button",{onClick:m,className:"w-full bg-green-600 hover:bg-green-700 py-2 rounded text-white font-semibold transition","aria-label":"Confirmar compra",children:"Confirmar compra"})]})]})}function AL(){return v.jsx("a",{href:"https://wa.me/51944788568",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Contáctanos por WhatsApp",children:v.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/5e/WhatsApp_icon.png",alt:"WhatsApp",width:"50",height:"50"})})}function CL(){const{mostrarCarrito:n,animatingClose:e,cerrarModalConAnimacion:t}=fb();return v.jsxs(v.Fragment,{children:[v.jsx(EL,{}),v.jsx(oT,{}),v.jsx(SL,{}),v.jsx(pb,{mostrarModalFiltros:n,animatingClose:e,cerrarModalConAnimacion:t,direction:"right",width:"w-[500px]",children:v.jsx(TL,{})}),v.jsx(AL,{})]})}function ZE(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function gb(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:ZE(e[r])&&ZE(n[r])&&Object.keys(e[r]).length>0&&gb(n[r],e[r])})}const oC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function xa(){const n=typeof document<"u"?document:{};return gb(n,oC),n}const RL={document:oC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function $n(){const n=typeof window<"u"?window:{};return gb(n,RL),n}function IL(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function NL(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Bv(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function ro(){return Date.now()}function OL(n){const e=$n();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function ML(n,e){e===void 0&&(e="x");const t=$n();let r,s,o;const u=OL(n);return t.WebKitCSSMatrix?(s=u.transform||u.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(f=>f.replace(",",".")).join(", ")),o=new t.WebKitCSSMatrix(s==="none"?"":s)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=o.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?s=o.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function cc(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function DL(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function lr(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!DL(r)){const s=Object.keys(Object(r)).filter(o=>e.indexOf(o)<0);for(let o=0,u=s.length;o<u;o+=1){const f=s[o],d=Object.getOwnPropertyDescriptor(r,f);d!==void 0&&d.enumerable&&(cc(n[f])&&cc(r[f])?r[f].__swiper__?n[f]=r[f]:lr(n[f],r[f]):!cc(n[f])&&cc(r[f])?(n[f]={},r[f].__swiper__?n[f]=r[f]:lr(n[f],r[f])):n[f]=r[f])}}}return n}function Mf(n,e,t){n.style.setProperty(e,t)}function lC(n){let{swiper:e,targetPosition:t,side:r}=n;const s=$n(),o=-e.translate;let u=null,f;const d=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const h=t>o?"next":"prev",m=(_,w)=>h==="next"&&_>=w||h==="prev"&&_<=w,b=()=>{f=new Date().getTime(),u===null&&(u=f);const _=Math.max(Math.min((f-u)/d,1),0),w=.5-Math.cos(_*Math.PI)/2;let E=o+w*(t-o);if(m(E,t)&&(E=t),e.wrapperEl.scrollTo({[r]:E}),m(E,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:E})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(b)};b()}function Hr(n,e){e===void 0&&(e="");const t=$n(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(s=>s.matches(e)):r}function PL(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function kL(n,e){const t=$n();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=PL(n,e))),r}function Ah(n){try{console.warn(n);return}catch{}}function Ch(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:IL(e)),t}function VL(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function jL(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function ia(n,e){return $n().getComputedStyle(n,null).getPropertyValue(e)}function Rh(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function uC(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function qg(n,e){function t(r){r.target===n&&(e.call(n,r),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function Hv(n,e,t){const r=$n();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function vn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Ih(n,e){e===void 0&&(e=""),typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let $g;function LL(){const n=$n(),e=xa();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function cC(){return $g||($g=LL()),$g}let Gg;function UL(n){let{userAgent:e}=n===void 0?{}:n;const t=cC(),r=$n(),s=r.navigator.platform,o=e||r.navigator.userAgent,u={ios:!1,android:!1},f=r.screen.width,d=r.screen.height,h=o.match(/(Android);?[\s\/]+([\d.]+)?/);let m=o.match(/(iPad).*OS\s([\d_]+)/);const b=o.match(/(iPod)(.*OS\s([\d_]+))?/),_=!m&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),w=s==="Win32";let E=s==="MacIntel";const T=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&E&&t.touch&&T.indexOf(`${f}x${d}`)>=0&&(m=o.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),E=!1),h&&!w&&(u.os="android",u.android=!0),(m||_||b)&&(u.os="ios",u.ios=!0),u}function dC(n){return n===void 0&&(n={}),Gg||(Gg=UL(n)),Gg}let Yg;function FL(){const n=$n(),e=dC();let t=!1;function r(){const f=n.navigator.userAgent.toLowerCase();return f.indexOf("safari")>=0&&f.indexOf("chrome")<0&&f.indexOf("android")<0}if(r()){const f=String(n.navigator.userAgent);if(f.includes("Version/")){const[d,h]=f.split("Version/")[1].split(" ")[0].split(".").map(m=>Number(m));t=d<16||d===16&&h<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),o=r(),u=o||s&&e.ios;return{isSafari:t||o,needPerspectiveFix:t,need3dFix:u,isWebView:s}}function fC(){return Yg||(Yg=FL()),Yg}function zL(n){let{swiper:e,on:t,emit:r}=n;const s=$n();let o=null,u=null;const f=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},d=()=>{!e||e.destroyed||!e.initialized||(o=new ResizeObserver(b=>{u=s.requestAnimationFrame(()=>{const{width:_,height:w}=e;let E=_,T=w;b.forEach(I=>{let{contentBoxSize:N,contentRect:C,target:S}=I;S&&S!==e.el||(E=C?C.width:(N[0]||N).inlineSize,T=C?C.height:(N[0]||N).blockSize)}),(E!==_||T!==w)&&f()})}),o.observe(e.el))},h=()=>{u&&s.cancelAnimationFrame(u),o&&o.unobserve&&e.el&&(o.unobserve(e.el),o=null)},m=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){d();return}s.addEventListener("resize",f),s.addEventListener("orientationchange",m)}),t("destroy",()=>{h(),s.removeEventListener("resize",f),s.removeEventListener("orientationchange",m)})}function BL(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const o=[],u=$n(),f=function(m,b){b===void 0&&(b={});const _=u.MutationObserver||u.WebkitMutationObserver,w=new _(E=>{if(e.__preventObserver__)return;if(E.length===1){s("observerUpdate",E[0]);return}const T=function(){s("observerUpdate",E[0])};u.requestAnimationFrame?u.requestAnimationFrame(T):u.setTimeout(T,0)});w.observe(m,{attributes:typeof b.attributes>"u"?!0:b.attributes,childList:e.isElement||(typeof b.childList>"u"?!0:b).childList,characterData:typeof b.characterData>"u"?!0:b.characterData}),o.push(w)},d=()=>{if(e.params.observer){if(e.params.observeParents){const m=uC(e.hostEl);for(let b=0;b<m.length;b+=1)f(m[b])}f(e.hostEl,{childList:e.params.observeSlideChildren}),f(e.wrapperEl,{attributes:!1})}},h=()=>{o.forEach(m=>{m.disconnect()}),o.splice(0,o.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",d),r("destroy",h)}var HL={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=t?"unshift":"push";return n.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(){r.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var o=arguments.length,u=new Array(o),f=0;f<o;f++)u[f]=arguments[f];e.apply(r,u)}return s.__emitterProxy=e,r.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[r].splice(o,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return typeof o[0]=="string"||Array.isArray(o[0])?(e=o[0],t=o.slice(1,o.length),r=n):(e=o[0].events,t=o[0].data,r=o[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(d=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(h=>{h.apply(r,[d,...t])}),n.eventsListeners&&n.eventsListeners[d]&&n.eventsListeners[d].forEach(h=>{h.apply(r,t)})}),n}};function qL(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(ia(r,"padding-left")||0,10)-parseInt(ia(r,"padding-right")||0,10),t=t-parseInt(ia(r,"padding-top")||0,10)-parseInt(ia(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function $L(){const n=this;function e(j,z){return parseFloat(j.getPropertyValue(n.getDirectionLabel(z))||0)}const t=n.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:u,wrongRTL:f}=n,d=n.virtual&&t.virtual.enabled,h=d?n.virtual.slides.length:n.slides.length,m=Hr(s,`.${n.params.slideClass}, swiper-slide`),b=d?n.virtual.slides.length:m.length;let _=[];const w=[],E=[];let T=t.slidesOffsetBefore;typeof T=="function"&&(T=t.slidesOffsetBefore.call(n));let I=t.slidesOffsetAfter;typeof I=="function"&&(I=t.slidesOffsetAfter.call(n));const N=n.snapGrid.length,C=n.slidesGrid.length;let S=t.spaceBetween,U=-T,k=0,Y=0;if(typeof o>"u")return;typeof S=="string"&&S.indexOf("%")>=0?S=parseFloat(S.replace("%",""))/100*o:typeof S=="string"&&(S=parseFloat(S)),n.virtualSize=-S,m.forEach(j=>{u?j.style.marginLeft="":j.style.marginRight="",j.style.marginBottom="",j.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Mf(r,"--swiper-centered-offset-before",""),Mf(r,"--swiper-centered-offset-after",""));const P=t.grid&&t.grid.rows>1&&n.grid;P?n.grid.initSlides(m):n.grid&&n.grid.unsetSlides();let M;const D=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(j=>typeof t.breakpoints[j].slidesPerView<"u").length>0;for(let j=0;j<b;j+=1){M=0;let z;if(m[j]&&(z=m[j]),P&&n.grid.updateSlide(j,z,m),!(m[j]&&ia(z,"display")==="none")){if(t.slidesPerView==="auto"){D&&(m[j].style[n.getDirectionLabel("width")]="");const B=getComputedStyle(z),V=z.style.transform,ie=z.style.webkitTransform;if(V&&(z.style.transform="none"),ie&&(z.style.webkitTransform="none"),t.roundLengths)M=n.isHorizontal()?Hv(z,"width"):Hv(z,"height");else{const ee=e(B,"width"),H=e(B,"padding-left"),se=e(B,"padding-right"),he=e(B,"margin-left"),_e=e(B,"margin-right"),$=B.getPropertyValue("box-sizing");if($&&$==="border-box")M=ee+he+_e;else{const{clientWidth:le,offsetWidth:me}=z;M=ee+H+se+he+_e+(me-le)}}V&&(z.style.transform=V),ie&&(z.style.webkitTransform=ie),t.roundLengths&&(M=Math.floor(M))}else M=(o-(t.slidesPerView-1)*S)/t.slidesPerView,t.roundLengths&&(M=Math.floor(M)),m[j]&&(m[j].style[n.getDirectionLabel("width")]=`${M}px`);m[j]&&(m[j].swiperSlideSize=M),E.push(M),t.centeredSlides?(U=U+M/2+k/2+S,k===0&&j!==0&&(U=U-o/2-S),j===0&&(U=U-o/2-S),Math.abs(U)<1/1e3&&(U=0),t.roundLengths&&(U=Math.floor(U)),Y%t.slidesPerGroup===0&&_.push(U),w.push(U)):(t.roundLengths&&(U=Math.floor(U)),(Y-Math.min(n.params.slidesPerGroupSkip,Y))%n.params.slidesPerGroup===0&&_.push(U),w.push(U),U=U+M+S),n.virtualSize+=M+S,k=M,Y+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+I,u&&f&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+S}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+S}px`),P&&n.grid.updateWrapperSize(M,_),!t.centeredSlides){const j=[];for(let z=0;z<_.length;z+=1){let B=_[z];t.roundLengths&&(B=Math.floor(B)),_[z]<=n.virtualSize-o&&j.push(B)}_=j,Math.floor(n.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(n.virtualSize-o)}if(d&&t.loop){const j=E[0]+S;if(t.slidesPerGroup>1){const z=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),B=j*t.slidesPerGroup;for(let V=0;V<z;V+=1)_.push(_[_.length-1]+B)}for(let z=0;z<n.virtual.slidesBefore+n.virtual.slidesAfter;z+=1)t.slidesPerGroup===1&&_.push(_[_.length-1]+j),w.push(w[w.length-1]+j),n.virtualSize+=j}if(_.length===0&&(_=[0]),S!==0){const j=n.isHorizontal()&&u?"marginLeft":n.getDirectionLabel("marginRight");m.filter((z,B)=>!t.cssMode||t.loop?!0:B!==m.length-1).forEach(z=>{z.style[j]=`${S}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let j=0;E.forEach(B=>{j+=B+(S||0)}),j-=S;const z=j>o?j-o:0;_=_.map(B=>B<=0?-T:B>z?z+I:B)}if(t.centerInsufficientSlides){let j=0;E.forEach(B=>{j+=B+(S||0)}),j-=S;const z=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(j+z<o){const B=(o-j-z)/2;_.forEach((V,ie)=>{_[ie]=V-B}),w.forEach((V,ie)=>{w[ie]=V+B})}}if(Object.assign(n,{slides:m,snapGrid:_,slidesGrid:w,slidesSizesGrid:E}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Mf(r,"--swiper-centered-offset-before",`${-_[0]}px`),Mf(r,"--swiper-centered-offset-after",`${n.size/2-E[E.length-1]/2}px`);const j=-n.snapGrid[0],z=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(B=>B+j),n.slidesGrid=n.slidesGrid.map(B=>B+z)}if(b!==h&&n.emit("slidesLengthChange"),_.length!==N&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),w.length!==C&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!d&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const j=`${t.containerModifierClass}backface-hidden`,z=n.el.classList.contains(j);b<=t.maxBackfaceHiddenSlides?z||n.el.classList.add(j):z&&n.el.classList.remove(j)}}function GL(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const u=f=>r?e.slides[e.getSlideIndexByData(f)]:e.slides[f];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(f=>{t.push(f)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const f=e.activeIndex+o;if(f>e.slides.length&&!r)break;t.push(u(f))}else t.push(u(e.activeIndex));for(o=0;o<t.length;o+=1)if(typeof t[o]<"u"){const f=t[o].offsetHeight;s=f>s?f:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function YL(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const JE=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function KL(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:s,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-n;s&&(u=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let f=t.spaceBetween;typeof f=="string"&&f.indexOf("%")>=0?f=parseFloat(f.replace("%",""))/100*e.size:typeof f=="string"&&(f=parseFloat(f));for(let d=0;d<r.length;d+=1){const h=r[d];let m=h.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(m-=r[0].swiperSlideOffset);const b=(u+(t.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+f),_=(u-o[0]+(t.centeredSlides?e.minTranslate():0)-m)/(h.swiperSlideSize+f),w=-(u-m),E=w+e.slidesSizesGrid[d],T=w>=0&&w<=e.size-e.slidesSizesGrid[d],I=w>=0&&w<e.size-1||E>1&&E<=e.size||w<=0&&E>=e.size;I&&(e.visibleSlides.push(h),e.visibleSlidesIndexes.push(d)),JE(h,I,t.slideVisibleClass),JE(h,T,t.slideFullyVisibleClass),h.progress=s?-b:b,h.originalProgress=s?-_:_}}function QL(n){const e=this;if(typeof n>"u"){const m=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*m||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:u,progressLoop:f}=e;const d=o,h=u;if(r===0)s=0,o=!0,u=!0;else{s=(n-e.minTranslate())/r;const m=Math.abs(n-e.minTranslate())<1,b=Math.abs(n-e.maxTranslate())<1;o=m||s<=0,u=b||s>=1,m&&(s=0),b&&(s=1)}if(t.loop){const m=e.getSlideIndexByData(0),b=e.getSlideIndexByData(e.slides.length-1),_=e.slidesGrid[m],w=e.slidesGrid[b],E=e.slidesGrid[e.slidesGrid.length-1],T=Math.abs(n);T>=_?f=(T-_)/E:f=(T+E-w)/E,f>1&&(f-=1)}Object.assign(e,{progress:s,progressLoop:f,isBeginning:o,isEnd:u}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),o&&!d&&e.emit("reachBeginning toEdge"),u&&!h&&e.emit("reachEnd toEdge"),(d&&!o||h&&!u)&&e.emit("fromEdge"),e.emit("progress",s)}const Kg=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function XL(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:s}=n,o=n.virtual&&t.virtual.enabled,u=n.grid&&t.grid&&t.grid.rows>1,f=b=>Hr(r,`.${t.slideClass}${b}, swiper-slide${b}`)[0];let d,h,m;if(o)if(t.loop){let b=s-n.virtual.slidesBefore;b<0&&(b=n.virtual.slides.length+b),b>=n.virtual.slides.length&&(b-=n.virtual.slides.length),d=f(`[data-swiper-slide-index="${b}"]`)}else d=f(`[data-swiper-slide-index="${s}"]`);else u?(d=e.find(b=>b.column===s),m=e.find(b=>b.column===s+1),h=e.find(b=>b.column===s-1)):d=e[s];d&&(u||(m=jL(d,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!m&&(m=e[0]),h=VL(d,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!h===0&&(h=e[e.length-1]))),e.forEach(b=>{Kg(b,b===d,t.slideActiveClass),Kg(b,b===m,t.slideNextClass),Kg(b,b===h,t.slidePrevClass)}),n.emitSlidesClasses()}const Xf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let s=r.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(r.shadowRoot?s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(s=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Qg=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},qv=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const u=s,f=[u-e];f.push(...Array.from({length:e}).map((d,h)=>u+r+h)),n.slides.forEach((d,h)=>{f.includes(d.column)&&Qg(n,h)});return}const o=s+r-1;if(n.params.rewind||n.params.loop)for(let u=s-e;u<=o+e;u+=1){const f=(u%t+t)%t;(f<s||f>o)&&Qg(n,f)}else for(let u=Math.max(s-e,0);u<=Math.min(o+e,t-1);u+=1)u!==s&&(u>o||u<s)&&Qg(n,u)};function WL(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let s;for(let o=0;o<e.length;o+=1)typeof e[o+1]<"u"?r>=e[o]&&r<e[o+1]-(e[o+1]-e[o])/2?s=o:r>=e[o]&&r<e[o+1]&&(s=o+1):r>=e[o]&&(s=o);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function ZL(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:s,activeIndex:o,realIndex:u,snapIndex:f}=e;let d=n,h;const m=w=>{let E=w-e.virtual.slidesBefore;return E<0&&(E=e.virtual.slides.length+E),E>=e.virtual.slides.length&&(E-=e.virtual.slides.length),E};if(typeof d>"u"&&(d=WL(e)),r.indexOf(t)>=0)h=r.indexOf(t);else{const w=Math.min(s.slidesPerGroupSkip,d);h=w+Math.floor((d-w)/s.slidesPerGroup)}if(h>=r.length&&(h=r.length-1),d===o&&!e.params.loop){h!==f&&(e.snapIndex=h,e.emit("snapIndexChange"));return}if(d===o&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=m(d);return}const b=e.grid&&s.grid&&s.grid.rows>1;let _;if(e.virtual&&s.virtual.enabled&&s.loop)_=m(d);else if(b){const w=e.slides.find(T=>T.column===d);let E=parseInt(w.getAttribute("data-swiper-slide-index"),10);Number.isNaN(E)&&(E=Math.max(e.slides.indexOf(w),0)),_=Math.floor(E/s.grid.rows)}else if(e.slides[d]){const w=e.slides[d].getAttribute("data-swiper-slide-index");w?_=parseInt(w,10):_=d}else _=d;Object.assign(e,{previousSnapIndex:f,snapIndex:h,previousRealIndex:u,realIndex:_,previousIndex:o,activeIndex:d}),e.initialized&&qv(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(u!==_&&e.emit("realIndexChange"),e.emit("slideChange"))}function JL(n,e){const t=this,r=t.params;let s=n.closest(`.${r.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(f=>{!s&&f.matches&&f.matches(`.${r.slideClass}, swiper-slide`)&&(s=f)});let o=!1,u;if(s){for(let f=0;f<t.slides.length;f+=1)if(t.slides[f]===s){o=!0,u=f;break}}if(s&&o)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=u;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var e3={updateSize:qL,updateSlides:$L,updateAutoHeight:GL,updateSlidesOffset:YL,updateSlidesProgress:KL,updateProgress:QL,updateSlidesClasses:XL,updateActiveIndex:ZL,updateClickedSlide:JL};function t3(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:s,wrapperEl:o}=e;if(t.virtualTranslate)return r?-s:s;if(t.cssMode)return s;let u=ML(o,n);return u+=e.cssOverflowAdjustment(),r&&(u=-u),u||0}function n3(n,e){const t=this,{rtlTranslate:r,params:s,wrapperEl:o,progress:u}=t;let f=0,d=0;const h=0;t.isHorizontal()?f=r?-n:n:d=n,s.roundLengths&&(f=Math.floor(f),d=Math.floor(d)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?f:d,s.cssMode?o[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-f:-d:s.virtualTranslate||(t.isHorizontal()?f-=t.cssOverflowAdjustment():d-=t.cssOverflowAdjustment(),o.style.transform=`translate3d(${f}px, ${d}px, ${h}px)`);let m;const b=t.maxTranslate()-t.minTranslate();b===0?m=0:m=(n-t.minTranslate())/b,m!==u&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function r3(){return-this.snapGrid[0]}function i3(){return-this.snapGrid[this.snapGrid.length-1]}function s3(n,e,t,r,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const o=this,{params:u,wrapperEl:f}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const d=o.minTranslate(),h=o.maxTranslate();let m;if(r&&n>d?m=d:r&&n<h?m=h:m=n,o.updateProgress(m),u.cssMode){const b=o.isHorizontal();if(e===0)f[b?"scrollLeft":"scrollTop"]=-m;else{if(!o.support.smoothScroll)return lC({swiper:o,targetPosition:-m,side:b?"left":"top"}),!0;f.scrollTo({[b?"left":"top"]:-m,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(m),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(m),t&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,o.animating=!1,t&&o.emit("transitionEnd"))}),o.wrapperEl.addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd))),!0}var a3={getTranslate:t3,setTranslate:n3,minTranslate:r3,maxTranslate:i3,translateTo:s3};function o3(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function hC(n){let{swiper:e,runCallbacks:t,direction:r,step:s}=n;const{activeIndex:o,previousIndex:u}=e;let f=r;f||(o>u?f="next":o<u?f="prev":f="reset"),e.emit(`transition${s}`),t&&f==="reset"?e.emit(`slideResetTransition${s}`):t&&o!==u&&(e.emit(`slideChangeTransition${s}`),f==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`))}function l3(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),hC({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function u3(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),hC({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var c3={setTransition:o3,transitionStart:l3,transitionEnd:u3};function d3(n,e,t,r,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const o=this;let u=n;u<0&&(u=0);const{params:f,snapGrid:d,slidesGrid:h,previousIndex:m,activeIndex:b,rtlTranslate:_,wrapperEl:w,enabled:E}=o;if(!E&&!r&&!s||o.destroyed||o.animating&&f.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=o.params.speed);const T=Math.min(o.params.slidesPerGroupSkip,u);let I=T+Math.floor((u-T)/o.params.slidesPerGroup);I>=d.length&&(I=d.length-1);const N=-d[I];if(f.normalizeSlideIndex)for(let P=0;P<h.length;P+=1){const M=-Math.floor(N*100),D=Math.floor(h[P]*100),j=Math.floor(h[P+1]*100);typeof h[P+1]<"u"?M>=D&&M<j-(j-D)/2?u=P:M>=D&&M<j&&(u=P+1):M>=D&&(u=P)}if(o.initialized&&u!==b&&(!o.allowSlideNext&&(_?N>o.translate&&N>o.minTranslate():N<o.translate&&N<o.minTranslate())||!o.allowSlidePrev&&N>o.translate&&N>o.maxTranslate()&&(b||0)!==u))return!1;u!==(m||0)&&t&&o.emit("beforeSlideChangeStart"),o.updateProgress(N);let C;u>b?C="next":u<b?C="prev":C="reset";const S=o.virtual&&o.params.virtual.enabled;if(!(S&&s)&&(_&&-N===o.translate||!_&&N===o.translate))return o.updateActiveIndex(u),f.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),f.effect!=="slide"&&o.setTranslate(N),C!=="reset"&&(o.transitionStart(t,C),o.transitionEnd(t,C)),!1;if(f.cssMode){const P=o.isHorizontal(),M=_?N:-N;if(e===0)S&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),S&&!o._cssModeVirtualInitialSet&&o.params.initialSlide>0?(o._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{w[P?"scrollLeft":"scrollTop"]=M})):w[P?"scrollLeft":"scrollTop"]=M,S&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._immediateVirtual=!1});else{if(!o.support.smoothScroll)return lC({swiper:o,targetPosition:M,side:P?"left":"top"}),!0;w.scrollTo({[P?"left":"top"]:M,behavior:"smooth"})}return!0}const Y=fC().isSafari;return S&&!s&&Y&&o.isElement&&o.virtual.update(!1,!1,u),o.setTransition(e),o.setTranslate(N),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(t,C),e===0?o.transitionEnd(t,C):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(M){!o||o.destroyed||M.target===this&&(o.wrapperEl.removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(t,C))}),o.wrapperEl.addEventListener("transitionend",o.onSlideToWrapperTransitionEnd)),!0}function f3(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const o=s.grid&&s.params.grid&&s.params.grid.rows>1;let u=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)u=u+s.virtual.slidesBefore;else{let f;if(o){const _=u*s.params.grid.rows;f=s.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===_).column}else f=s.getSlideIndexByData(u);const d=o?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:h}=s.params;let m=s.params.slidesPerView;m==="auto"?m=s.slidesPerViewDynamic():(m=Math.ceil(parseFloat(s.params.slidesPerView,10)),h&&m%2===0&&(m=m+1));let b=d-f<m;if(h&&(b=b||f<Math.ceil(m/2)),r&&h&&s.params.slidesPerView!=="auto"&&!o&&(b=!1),b){const _=h?f<s.activeIndex?"prev":"next":f-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:_,slideTo:!0,activeSlideIndex:_==="next"?f+1:f-d+1,slideRealIndex:_==="next"?s.realIndex:void 0})}if(o){const _=u*s.params.grid.rows;u=s.slides.find(w=>w.getAttribute("data-swiper-slide-index")*1===_).column}else u=s.getSlideIndexByData(u)}return requestAnimationFrame(()=>{s.slideTo(u,e,t,r)}),s}function h3(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:s,params:o,animating:u}=r;if(!s||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let f=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(f=Math.max(r.slidesPerViewDynamic("current",!0),1));const d=r.activeIndex<o.slidesPerGroupSkip?1:f,h=r.virtual&&o.virtual.enabled;if(o.loop){if(u&&!h&&o.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&o.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+d,n,e,t)}),!0}return o.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+d,n,e,t)}function p3(n,e,t){e===void 0&&(e=!0);const r=this,{params:s,snapGrid:o,slidesGrid:u,rtlTranslate:f,enabled:d,animating:h}=r;if(!d||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const m=r.virtual&&s.virtual.enabled;if(s.loop){if(h&&!m&&s.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const b=f?r.translate:-r.translate;function _(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const w=_(b),E=o.map(C=>_(C)),T=s.freeMode&&s.freeMode.enabled;let I=o[E.indexOf(w)-1];if(typeof I>"u"&&(s.cssMode||T)){let C;o.forEach((S,U)=>{w>=S&&(C=U)}),typeof C<"u"&&(I=T?o[C]:o[C>0?C-1:C])}let N=0;if(typeof I<"u"&&(N=u.indexOf(I),N<0&&(N=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(N=N-r.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),s.rewind&&r.isBeginning){const C=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(C,n,e,t)}else if(s.loop&&r.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(N,n,e,t)}),!0;return r.slideTo(N,n,e,t)}function m3(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function g3(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let o=s.activeIndex;const u=Math.min(s.params.slidesPerGroupSkip,o),f=u+Math.floor((o-u)/s.params.slidesPerGroup),d=s.rtlTranslate?s.translate:-s.translate;if(d>=s.snapGrid[f]){const h=s.snapGrid[f],m=s.snapGrid[f+1];d-h>(m-h)*r&&(o+=s.params.slidesPerGroup)}else{const h=s.snapGrid[f-1],m=s.snapGrid[f];d-h<=(m-h)*r&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,n,e,t)}function v3(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,o;const u=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;o=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-r/2||s>n.slides.length-n.loopedSlides+r/2?(n.loopFix(),s=n.getSlideIndex(Hr(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),Bv(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-r?(n.loopFix(),s=n.getSlideIndex(Hr(t,`${u}[data-swiper-slide-index="${o}"]`)[0]),Bv(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var y3={slideTo:d3,slideToLoop:f3,slideNext:h3,slidePrev:p3,slideReset:m3,slideToClosest:g3,slideToClickedSlide:v3};function b3(n,e){const t=this,{params:r,slidesEl:s}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const o=()=>{Hr(s,`.${r.slideClass}, swiper-slide`).forEach((_,w)=>{_.setAttribute("data-swiper-slide-index",w)})},u=t.grid&&r.grid&&r.grid.rows>1,f=r.slidesPerGroup*(u?r.grid.rows:1),d=t.slides.length%f!==0,h=u&&t.slides.length%r.grid.rows!==0,m=b=>{for(let _=0;_<b;_+=1){const w=t.isElement?Ch("swiper-slide",[r.slideBlankClass]):Ch("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(w)}};if(d){if(r.loopAddBlankSlides){const b=f-t.slides.length%f;m(b),t.recalcSlides(),t.updateSlides()}else Ah("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else if(h){if(r.loopAddBlankSlides){const b=r.grid.rows-t.slides.length%r.grid.rows;m(b),t.recalcSlides(),t.updateSlides()}else Ah("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");o()}else o();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function _3(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:s,activeSlideIndex:o,initial:u,byController:f,byMousewheel:d}=n===void 0?{}:n;const h=this;if(!h.params.loop)return;h.emit("beforeLoopFix");const{slides:m,allowSlidePrev:b,allowSlideNext:_,slidesEl:w,params:E}=h,{centeredSlides:T,initialSlide:I}=E;if(h.allowSlidePrev=!0,h.allowSlideNext=!0,h.virtual&&E.virtual.enabled){t&&(!E.centeredSlides&&h.snapIndex===0?h.slideTo(h.virtual.slides.length,0,!1,!0):E.centeredSlides&&h.snapIndex<E.slidesPerView?h.slideTo(h.virtual.slides.length+h.snapIndex,0,!1,!0):h.snapIndex===h.snapGrid.length-1&&h.slideTo(h.virtual.slidesBefore,0,!1,!0)),h.allowSlidePrev=b,h.allowSlideNext=_,h.emit("loopFix");return}let N=E.slidesPerView;N==="auto"?N=h.slidesPerViewDynamic():(N=Math.ceil(parseFloat(E.slidesPerView,10)),T&&N%2===0&&(N=N+1));const C=E.slidesPerGroupAuto?N:E.slidesPerGroup;let S=C;S%C!==0&&(S+=C-S%C),S+=E.loopAdditionalSlides,h.loopedSlides=S;const U=h.grid&&E.grid&&E.grid.rows>1;m.length<N+S||h.params.effect==="cards"&&m.length<N+S*2?Ah("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):U&&E.grid.fill==="row"&&Ah("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const k=[],Y=[],P=U?Math.ceil(m.length/E.grid.rows):m.length,M=u&&P-I<N&&!T;let D=M?I:h.activeIndex;typeof o>"u"?o=h.getSlideIndex(m.find(H=>H.classList.contains(E.slideActiveClass))):D=o;const j=r==="next"||!r,z=r==="prev"||!r;let B=0,V=0;const ee=(U?m[o].column:o)+(T&&typeof s>"u"?-N/2+.5:0);if(ee<S){B=Math.max(S-ee,C);for(let H=0;H<S-ee;H+=1){const se=H-Math.floor(H/P)*P;if(U){const he=P-se-1;for(let _e=m.length-1;_e>=0;_e-=1)m[_e].column===he&&k.push(_e)}else k.push(P-se-1)}}else if(ee+N>P-S){V=Math.max(ee-(P-S*2),C),M&&(V=Math.max(V,N-P+I+1));for(let H=0;H<V;H+=1){const se=H-Math.floor(H/P)*P;U?m.forEach((he,_e)=>{he.column===se&&Y.push(_e)}):Y.push(se)}}if(h.__preventObserver__=!0,requestAnimationFrame(()=>{h.__preventObserver__=!1}),h.params.effect==="cards"&&m.length<N+S*2&&(Y.includes(o)&&Y.splice(Y.indexOf(o),1),k.includes(o)&&k.splice(k.indexOf(o),1)),z&&k.forEach(H=>{m[H].swiperLoopMoveDOM=!0,w.prepend(m[H]),m[H].swiperLoopMoveDOM=!1}),j&&Y.forEach(H=>{m[H].swiperLoopMoveDOM=!0,w.append(m[H]),m[H].swiperLoopMoveDOM=!1}),h.recalcSlides(),E.slidesPerView==="auto"?h.updateSlides():U&&(k.length>0&&z||Y.length>0&&j)&&h.slides.forEach((H,se)=>{h.grid.updateSlide(se,H,h.slides)}),E.watchSlidesProgress&&h.updateSlidesOffset(),t){if(k.length>0&&z){if(typeof e>"u"){const H=h.slidesGrid[D],he=h.slidesGrid[D+B]-H;d?h.setTranslate(h.translate-he):(h.slideTo(D+Math.ceil(B),0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-he,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-he))}else if(s){const H=U?k.length/E.grid.rows:k.length;h.slideTo(h.activeIndex+H,0,!1,!0),h.touchEventsData.currentTranslate=h.translate}}else if(Y.length>0&&j)if(typeof e>"u"){const H=h.slidesGrid[D],he=h.slidesGrid[D-V]-H;d?h.setTranslate(h.translate-he):(h.slideTo(D-V,0,!1,!0),s&&(h.touchEventsData.startTranslate=h.touchEventsData.startTranslate-he,h.touchEventsData.currentTranslate=h.touchEventsData.currentTranslate-he))}else{const H=U?Y.length/E.grid.rows:Y.length;h.slideTo(h.activeIndex-H,0,!1,!0)}}if(h.allowSlidePrev=b,h.allowSlideNext=_,h.controller&&h.controller.control&&!f){const H={slideRealIndex:e,direction:r,setTranslate:s,activeSlideIndex:o,byController:!0};Array.isArray(h.controller.control)?h.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...H,slideTo:se.params.slidesPerView===E.slidesPerView?t:!1})}):h.controller.control instanceof h.constructor&&h.controller.control.params.loop&&h.controller.control.loopFix({...H,slideTo:h.controller.control.params.slidesPerView===E.slidesPerView?t:!1})}h.emit("loopFix")}function x3(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(s=>{const o=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;r[o]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),r.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var w3={loopCreate:b3,loopFix:_3,loopDestroy:x3};function E3(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function S3(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var T3={setGrabCursor:E3,unsetGrabCursor:S3};function A3(n,e){e===void 0&&(e=this);function t(r){if(!r||r===xa()||r===$n())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(n);return!s&&!r.getRootNode?null:s||t(r.getRootNode().host)}return t(e)}function eS(n,e,t){const r=$n(),{params:s}=n,o=s.edgeSwipeDetection,u=s.edgeSwipeThreshold;return o&&(t<=u||t>=r.innerWidth-u)?o==="prevent"?(e.preventDefault(),!0):!1:!0}function C3(n){const e=this,t=xa();let r=n;r.originalEvent&&(r=r.originalEvent);const s=e.touchEventsData;if(r.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==r.pointerId)return;s.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(s.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){eS(e,r,r.targetTouches[0].pageX);return}const{params:o,touches:u,enabled:f}=e;if(!f||!o.simulateTouch&&r.pointerType==="mouse"||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let d=r.target;if(o.touchEventsTarget==="wrapper"&&!kL(d,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||s.isTouched&&s.isMoved)return;const h=!!o.noSwipingClass&&o.noSwipingClass!=="",m=r.composedPath?r.composedPath():r.path;h&&r.target&&r.target.shadowRoot&&m&&(d=m[0]);const b=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,_=!!(r.target&&r.target.shadowRoot);if(o.noSwiping&&(_?A3(b,d):d.closest(b))){e.allowClick=!0;return}if(o.swipeHandler&&!d.closest(o.swipeHandler))return;u.currentX=r.pageX,u.currentY=r.pageY;const w=u.currentX,E=u.currentY;if(!eS(e,r,w))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=w,u.startY=E,s.touchStartTime=ro(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1);let T=!0;d.matches(s.focusableElements)&&(T=!1,d.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==d&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!d.matches(s.focusableElements))&&t.activeElement.blur();const I=T&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||I)&&!d.isContentEditable&&r.preventDefault(),o.freeMode&&o.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function R3(n){const e=xa(),t=this,r=t.touchEventsData,{params:s,touches:o,rtlTranslate:u,enabled:f}=t;if(!f||!s.simulateTouch&&n.pointerType==="mouse")return;let d=n;if(d.originalEvent&&(d=d.originalEvent),d.type==="pointermove"&&(r.touchId!==null||d.pointerId!==r.pointerId))return;let h;if(d.type==="touchmove"){if(h=[...d.changedTouches].find(k=>k.identifier===r.touchId),!h||h.identifier!==r.touchId)return}else h=d;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",d);return}const m=h.pageX,b=h.pageY;if(d.preventedByNestedSwiper){o.startX=m,o.startY=b;return}if(!t.allowTouchMove){d.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:m,startY:b,currentX:m,currentY:b}),r.touchStartTime=ro());return}if(s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(b<o.startY&&t.translate<=t.maxTranslate()||b>o.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(u&&(m>o.startX&&-t.translate<=t.maxTranslate()||m<o.startX&&-t.translate>=t.minTranslate()))return;if(!u&&(m<o.startX&&t.translate<=t.maxTranslate()||m>o.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==d.target&&d.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&d.target===e.activeElement&&d.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",d),o.previousX=o.currentX,o.previousY=o.currentY,o.currentX=m,o.currentY=b;const _=o.currentX-o.startX,w=o.currentY-o.startY;if(t.params.threshold&&Math.sqrt(_**2+w**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let k;t.isHorizontal()&&o.currentY===o.startY||t.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:_*_+w*w>=25&&(k=Math.atan2(Math.abs(w),Math.abs(_))*180/Math.PI,r.isScrolling=t.isHorizontal()?k>s.touchAngle:90-k>s.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",d),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling||d.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!s.cssMode&&d.cancelable&&d.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&d.stopPropagation();let E=t.isHorizontal()?_:w,T=t.isHorizontal()?o.currentX-o.previousX:o.currentY-o.previousY;s.oneWayMovement&&(E=Math.abs(E)*(u?1:-1),T=Math.abs(T)*(u?1:-1)),o.diff=E,E*=s.touchRatio,u&&(E=-E,T=-T);const I=t.touchesDirection;t.swipeDirection=E>0?"prev":"next",t.touchesDirection=T>0?"prev":"next";const N=t.params.loop&&!s.cssMode,C=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(N&&C&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const k=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(k)}r.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",d)}if(new Date().getTime(),s._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&I!==t.touchesDirection&&N&&C&&Math.abs(E)>=1){Object.assign(o,{startX:m,startY:b,currentX:m,currentY:b,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",d),r.isMoved=!0,r.currentTranslate=E+r.startTranslate;let S=!0,U=s.resistanceRatio;if(s.touchReleaseOnEdges&&(U=0),E>0?(N&&C&&r.allowThresholdMove&&r.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(S=!1,s.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+E)**U))):E<0&&(N&&C&&r.allowThresholdMove&&r.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(S=!1,s.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-E)**U))),S&&(d.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(E)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=t.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function I3(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let s;if(r.type==="touchend"||r.type==="touchcancel"){if(s=[...r.changedTouches].find(k=>k.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;s=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:u,touches:f,rtlTranslate:d,slidesGrid:h,enabled:m}=e;if(!m||!u.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&u.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}u.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const b=ro(),_=b-t.touchStartTime;if(e.allowClick){const k=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(k&&k[0]||r.target,k),e.emit("tap click",r),_<300&&b-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=ro(),Bv(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||f.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let w;if(u.followFinger?w=d?e.translate:-e.translate:w=-t.currentTranslate,u.cssMode)return;if(u.freeMode&&u.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:w});return}const E=w>=-e.maxTranslate()&&!e.params.loop;let T=0,I=e.slidesSizesGrid[0];for(let k=0;k<h.length;k+=k<u.slidesPerGroupSkip?1:u.slidesPerGroup){const Y=k<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;typeof h[k+Y]<"u"?(E||w>=h[k]&&w<h[k+Y])&&(T=k,I=h[k+Y]-h[k]):(E||w>=h[k])&&(T=k,I=h[h.length-1]-h[h.length-2])}let N=null,C=null;u.rewind&&(e.isBeginning?C=u.virtual&&u.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(N=0));const S=(w-h[T])/I,U=T<u.slidesPerGroupSkip-1?1:u.slidesPerGroup;if(_>u.longSwipesMs){if(!u.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(S>=u.longSwipesRatio?e.slideTo(u.rewind&&e.isEnd?N:T+U):e.slideTo(T)),e.swipeDirection==="prev"&&(S>1-u.longSwipesRatio?e.slideTo(T+U):C!==null&&S<0&&Math.abs(S)>u.longSwipesRatio?e.slideTo(C):e.slideTo(T))}else{if(!u.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(T+U):e.slideTo(T):(e.swipeDirection==="next"&&e.slideTo(N!==null?N:T+U),e.swipeDirection==="prev"&&e.slideTo(C!==null?C:T))}}function tS(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:o}=n,u=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const f=u&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!f?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!u?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=r,n.params.watchOverflow&&o!==n.snapGrid&&n.checkOverflow()}function N3(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function O3(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const o=n.maxTranslate()-n.minTranslate();o===0?s=0:s=(n.translate-n.minTranslate())/o,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function M3(n){const e=this;Xf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function D3(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const pC=(n,e)=>{const t=xa(),{params:r,el:s,wrapperEl:o,device:u}=n,f=!!r.nested,d=e==="on"?"addEventListener":"removeEventListener",h=e;!s||typeof s=="string"||(t[d]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:f}),s[d]("touchstart",n.onTouchStart,{passive:!1}),s[d]("pointerdown",n.onTouchStart,{passive:!1}),t[d]("touchmove",n.onTouchMove,{passive:!1,capture:f}),t[d]("pointermove",n.onTouchMove,{passive:!1,capture:f}),t[d]("touchend",n.onTouchEnd,{passive:!0}),t[d]("pointerup",n.onTouchEnd,{passive:!0}),t[d]("pointercancel",n.onTouchEnd,{passive:!0}),t[d]("touchcancel",n.onTouchEnd,{passive:!0}),t[d]("pointerout",n.onTouchEnd,{passive:!0}),t[d]("pointerleave",n.onTouchEnd,{passive:!0}),t[d]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&s[d]("click",n.onClick,!0),r.cssMode&&o[d]("scroll",n.onScroll),r.updateOnWindowResize?n[h](u.ios||u.android?"resize orientationchange observerUpdate":"resize observerUpdate",tS,!0):n[h]("observerUpdate",tS,!0),s[d]("load",n.onLoad,{capture:!0}))};function P3(){const n=this,{params:e}=n;n.onTouchStart=C3.bind(n),n.onTouchMove=R3.bind(n),n.onTouchEnd=I3.bind(n),n.onDocumentTouchStart=D3.bind(n),e.cssMode&&(n.onScroll=O3.bind(n)),n.onClick=N3.bind(n),n.onLoad=M3.bind(n),pC(n,"on")}function k3(){pC(this,"off")}var V3={attachEvents:P3,detachEvents:k3};const nS=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function j3(){const n=this,{realIndex:e,initialized:t,params:r,el:s}=n,o=r.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const u=xa(),f=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",d=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:u.querySelector(r.breakpointsBase),h=n.getBreakpoint(o,f,d);if(!h||n.currentBreakpoint===h)return;const b=(h in o?o[h]:void 0)||n.originalParams,_=nS(n,r),w=nS(n,b),E=n.params.grabCursor,T=b.grabCursor,I=r.enabled;_&&!w?(s.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!_&&w&&(s.classList.add(`${r.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&r.grid.fill==="column")&&s.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),E&&!T?n.unsetGrabCursor():!E&&T&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(Y=>{if(typeof b[Y]>"u")return;const P=r[Y]&&r[Y].enabled,M=b[Y]&&b[Y].enabled;P&&!M&&n[Y].disable(),!P&&M&&n[Y].enable()});const N=b.direction&&b.direction!==r.direction,C=r.loop&&(b.slidesPerView!==r.slidesPerView||N),S=r.loop;N&&t&&n.changeDirection(),lr(n.params,b);const U=n.params.enabled,k=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),I&&!U?n.disable():!I&&U&&n.enable(),n.currentBreakpoint=h,n.emit("_beforeBreakpoint",b),t&&(C?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!S&&k?(n.loopCreate(e),n.updateSlides()):S&&!k&&n.loopDestroy()),n.emit("breakpoint",b)}function L3(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const s=$n(),o=e==="window"?s.innerHeight:t.clientHeight,u=Object.keys(n).map(f=>{if(typeof f=="string"&&f.indexOf("@")===0){const d=parseFloat(f.substr(1));return{value:o*d,point:f}}return{value:f,point:f}});u.sort((f,d)=>parseInt(f.value,10)-parseInt(d.value,10));for(let f=0;f<u.length;f+=1){const{point:d,value:h}=u[f];e==="window"?s.matchMedia(`(min-width: ${h}px)`).matches&&(r=d):h<=t.clientWidth&&(r=d)}return r||"max"}var U3={setBreakpoint:j3,getBreakpoint:L3};function F3(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&t.push(e+s)}):typeof r=="string"&&t.push(e+r)}),t}function z3(){const n=this,{classNames:e,params:t,rtl:r,el:s,device:o}=n,u=F3(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...u),s.classList.add(...e),n.emitContainerClasses()}function B3(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var H3={addClasses:z3,removeClasses:B3};function q3(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const s=n.slides.length-1,o=n.slidesGrid[s]+n.slidesSizesGrid[s]+r*2;n.isLocked=n.size>o}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var $3={checkOverflow:q3},$v={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function G3(n,e){return function(r){r===void 0&&(r={});const s=Object.keys(r)[0],o=r[s];if(typeof o!="object"||o===null){lr(e,r);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in o)){lr(e,r);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),lr(e,r)}}const Xg={eventsEmitter:HL,update:e3,translate:a3,transition:c3,slide:y3,loop:w3,grabCursor:T3,events:V3,breakpoints:U3,checkOverflow:$3,classes:H3},Wg={};let vb=class ss{constructor(){let e,t;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=lr({},t),e&&!t.el&&(t.el=e);const u=xa();if(t.el&&typeof t.el=="string"&&u.querySelectorAll(t.el).length>1){const m=[];return u.querySelectorAll(t.el).forEach(b=>{const _=lr({},t,{el:b});m.push(new ss(_))}),m}const f=this;f.__swiper__=!0,f.support=cC(),f.device=dC({userAgent:t.userAgent}),f.browser=fC(),f.eventsListeners={},f.eventsAnyListeners=[],f.modules=[...f.__modules__],t.modules&&Array.isArray(t.modules)&&f.modules.push(...t.modules);const d={};f.modules.forEach(m=>{m({params:t,swiper:f,extendParams:G3(t,d),on:f.on.bind(f),once:f.once.bind(f),off:f.off.bind(f),emit:f.emit.bind(f)})});const h=lr({},$v,d);return f.params=lr({},h,Wg,t),f.originalParams=lr({},f.params),f.passedParams=lr({},t),f.params&&f.params.on&&Object.keys(f.params.on).forEach(m=>{f.on(m,f.params.on[m])}),f.params&&f.params.onAny&&f.onAny(f.params.onAny),Object.assign(f,{enabled:f.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return f.params.direction==="horizontal"},isVertical(){return f.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:f.params.allowSlideNext,allowSlidePrev:f.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:f.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:f.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),f.emit("_swiper"),f.params.init&&f.init(),f}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,s=Hr(t,`.${r.slideClass}, swiper-slide`),o=Rh(s[0]);return Rh(e)-o}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=Hr(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),u=(r.maxTranslate()-s)*e+s;r.translateTo(u,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const s=e.getSlideClasses(r);t.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:s,slides:o,slidesGrid:u,slidesSizesGrid:f,size:d,activeIndex:h}=r;let m=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let b=o[h]?Math.ceil(o[h].swiperSlideSize):0,_;for(let w=h+1;w<o.length;w+=1)o[w]&&!_&&(b+=Math.ceil(o[w].swiperSlideSize),m+=1,b>d&&(_=!0));for(let w=h-1;w>=0;w-=1)o[w]&&!_&&(b+=o[w].swiperSlideSize,m+=1,b>d&&(_=!0))}else if(e==="current")for(let b=h+1;b<o.length;b+=1)(t?u[b]+f[b]-u[h]<d:u[b]-u[h]<d)&&(m+=1);else for(let b=h-1;b>=0;b-=1)u[h]-u[b]<d&&(m+=1);return m}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(u=>{u.complete&&Xf(e,u)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const u=e.rtlTranslate?e.translate*-1:e.translate,f=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(f),e.updateActiveIndex(),e.updateSlidesClasses()}let o;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)s(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const u=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;o=e.slideTo(u.length-1,0,!1,!0)}else o=e.slideTo(e.activeIndex,0,!1,!0);o||s()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${s}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(s()):Hr(r,s())[0];return!u&&t.params.createElements&&(u=Ch("div",t.params.wrapperClass),r.append(u),Hr(r,`.${t.params.slideClass}`).forEach(f=>{u.append(f)})),Object.assign(t,{el:r,wrapperEl:u,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:u,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||ia(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||ia(r,"direction")==="rtl"),wrongRTL:ia(u,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(o=>{o.complete?Xf(t,o):o.addEventListener("load",u=>{Xf(t,u.target)})}),qv(t),t.initialized=!0,qv(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:s,el:o,wrapperEl:u,slides:f}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),t&&(r.removeClasses(),o&&typeof o!="string"&&o.removeAttribute("style"),u&&u.removeAttribute("style"),f&&f.length&&f.forEach(d=>{d.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),d.removeAttribute("style"),d.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(d=>{r.off(d)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),NL(r)),r.destroyed=!0),null}static extendDefaults(e){lr(Wg,e)}static get extendedDefaults(){return Wg}static get defaults(){return $v}static installModule(e){ss.prototype.__modules__||(ss.prototype.__modules__=[]);const t=ss.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ss.installModule(t)),ss):(ss.installModule(e),ss)}};Object.keys(Xg).forEach(n=>{Object.keys(Xg[n]).forEach(e=>{vb.prototype[e]=Xg[n][e]})});vb.use([zL,BL]);const mC=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ho(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function El(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:ho(e[r])&&ho(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:El(n[r],e[r]):n[r]=e[r]})}function gC(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function vC(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function yC(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function bC(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function Y3(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function K3(n){let{swiper:e,slides:t,passedParams:r,changedParams:s,nextEl:o,prevEl:u,scrollbarEl:f,paginationEl:d}=n;const h=s.filter(D=>D!=="children"&&D!=="direction"&&D!=="wrapperClass"),{params:m,pagination:b,navigation:_,scrollbar:w,virtual:E,thumbs:T}=e;let I,N,C,S,U,k,Y,P;s.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&m.thumbs&&(!m.thumbs.swiper||m.thumbs.swiper.destroyed)&&(I=!0),s.includes("controller")&&r.controller&&r.controller.control&&m.controller&&!m.controller.control&&(N=!0),s.includes("pagination")&&r.pagination&&(r.pagination.el||d)&&(m.pagination||m.pagination===!1)&&b&&!b.el&&(C=!0),s.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||f)&&(m.scrollbar||m.scrollbar===!1)&&w&&!w.el&&(S=!0),s.includes("navigation")&&r.navigation&&(r.navigation.prevEl||u)&&(r.navigation.nextEl||o)&&(m.navigation||m.navigation===!1)&&_&&!_.prevEl&&!_.nextEl&&(U=!0);const M=D=>{e[D]&&(e[D].destroy(),D==="navigation"?(e.isElement&&(e[D].prevEl.remove(),e[D].nextEl.remove()),m[D].prevEl=void 0,m[D].nextEl=void 0,e[D].prevEl=void 0,e[D].nextEl=void 0):(e.isElement&&e[D].el.remove(),m[D].el=void 0,e[D].el=void 0))};s.includes("loop")&&e.isElement&&(m.loop&&!r.loop?k=!0:!m.loop&&r.loop?Y=!0:P=!0),h.forEach(D=>{if(ho(m[D])&&ho(r[D]))Object.assign(m[D],r[D]),(D==="navigation"||D==="pagination"||D==="scrollbar")&&"enabled"in r[D]&&!r[D].enabled&&M(D);else{const j=r[D];(j===!0||j===!1)&&(D==="navigation"||D==="pagination"||D==="scrollbar")?j===!1&&M(D):m[D]=r[D]}}),h.includes("controller")&&!N&&e.controller&&e.controller.control&&m.controller&&m.controller.control&&(e.controller.control=m.controller.control),s.includes("children")&&t&&E&&m.virtual.enabled?(E.slides=t,E.update(!0)):s.includes("virtual")&&E&&m.virtual.enabled&&(t&&(E.slides=t),E.update(!0)),s.includes("children")&&t&&m.loop&&(P=!0),I&&T.init()&&T.update(!0),N&&(e.controller.control=m.controller.control),C&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),e.el.appendChild(d)),d&&(m.pagination.el=d),b.init(),b.render(),b.update()),S&&(e.isElement&&(!f||typeof f=="string")&&(f=document.createElement("div"),f.classList.add("swiper-scrollbar"),f.part.add("scrollbar"),e.el.appendChild(f)),f&&(m.scrollbar.el=f),w.init(),w.updateSize(),w.setTranslate()),U&&(e.isElement&&((!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-next"),Ih(o,e.hostEl.constructor.nextButtonSvg),o.part.add("button-next"),e.el.appendChild(o)),(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-button-prev"),Ih(u,e.hostEl.constructor.prevButtonSvg),u.part.add("button-prev"),e.el.appendChild(u))),o&&(m.navigation.nextEl=o),u&&(m.navigation.prevEl=u),_.init(),_.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),s.includes("direction")&&e.changeDirection(r.direction,!1),(k||P)&&e.loopDestroy(),(Y||P)&&e.loopCreate(),e.update()}function Q3(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},s={};El(t,$v),t._emitClasses=!0,t.init=!1;const o={},u=mC.map(d=>d.replace(/_/,"")),f=Object.assign({},n);return Object.keys(f).forEach(d=>{typeof n[d]>"u"||(u.indexOf(d)>=0?ho(n[d])?(t[d]={},s[d]={},El(t[d],n[d]),El(s[d],n[d])):(t[d]=n[d],s[d]=n[d]):d.search(/on[A-Z]/)===0&&typeof n[d]=="function"?e?r[`${d[2].toLowerCase()}${d.substr(3)}`]=n[d]:t.on[`${d[2].toLowerCase()}${d.substr(3)}`]=n[d]:o[d]=n[d])}),["navigation","pagination","scrollbar"].forEach(d=>{t[d]===!0&&(t[d]={}),t[d]===!1&&delete t[d]}),{params:t,passedParams:s,rest:o,events:r}}function X3(n,e){let{el:t,nextEl:r,prevEl:s,paginationEl:o,scrollbarEl:u,swiper:f}=n;gC(e)&&r&&s&&(f.params.navigation.nextEl=r,f.originalParams.navigation.nextEl=r,f.params.navigation.prevEl=s,f.originalParams.navigation.prevEl=s),vC(e)&&o&&(f.params.pagination.el=o,f.originalParams.pagination.el=o),yC(e)&&u&&(f.params.scrollbar.el=u,f.originalParams.scrollbar.el=u),f.init(t)}function W3(n,e,t,r,s){const o=[];if(!e)return o;const u=d=>{o.indexOf(d)<0&&o.push(d)};if(t&&r){const d=r.map(s),h=t.map(s);d.join("")!==h.join("")&&u("children"),r.length!==t.length&&u("children")}return mC.filter(d=>d[0]==="_").map(d=>d.replace(/_/,"")).forEach(d=>{if(d in n&&d in e)if(ho(n[d])&&ho(e[d])){const h=Object.keys(n[d]),m=Object.keys(e[d]);h.length!==m.length?u(d):(h.forEach(b=>{n[d][b]!==e[d][b]&&u(d)}),m.forEach(b=>{n[d][b]!==e[d][b]&&u(d)}))}else n[d]!==e[d]&&u(d)}),o}const Z3=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Nh(){return Nh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Nh.apply(this,arguments)}function _C(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function xC(n){const e=[];return Fe.Children.toArray(n).forEach(t=>{_C(t)?e.push(t):t.props&&t.props.children&&xC(t.props.children).forEach(r=>e.push(r))}),e}function J3(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Fe.Children.toArray(n).forEach(r=>{if(_C(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const s=xC(r.props.children);s.length>0?s.forEach(o=>e.push(o)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function e6(n,e,t){if(!t)return null;const r=m=>{let b=m;return m<0?b=e.length+m:b>=e.length&&(b=b-e.length),b},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:o,to:u}=t,f=n.params.loop?-e.length:0,d=n.params.loop?e.length*2:e.length,h=[];for(let m=f;m<d;m+=1)m>=o&&m<=u&&h.push(e[r(m)]);return h.map((m,b)=>Fe.cloneElement(m,{swiper:n,style:s,key:m.props.virtualIndex||m.key||`slide-${b}`}))}function yc(n,e){return typeof window>"u"?O.useEffect(n,e):O.useLayoutEffect(n,e)}const rS=O.createContext(null),t6=O.createContext(null),Dc=O.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:s="div",children:o,onSwiper:u,...f}=n===void 0?{}:n,d=!1;const[h,m]=O.useState("swiper"),[b,_]=O.useState(null),[w,E]=O.useState(!1),T=O.useRef(!1),I=O.useRef(null),N=O.useRef(null),C=O.useRef(null),S=O.useRef(null),U=O.useRef(null),k=O.useRef(null),Y=O.useRef(null),P=O.useRef(null),{params:M,passedParams:D,rest:j,events:z}=Q3(f),{slides:B,slots:V}=J3(o),ie=()=>{E(!w)};Object.assign(M.on,{_containerClasses(_e,$){m($)}});const ee=()=>{Object.assign(M.on,z),d=!0;const _e={...M};if(delete _e.wrapperClass,N.current=new vb(_e),N.current.virtual&&N.current.params.virtual.enabled){N.current.virtual.slides=B;const $={cache:!1,slides:B,renderExternal:_,renderExternalUpdate:!1};El(N.current.params.virtual,$),El(N.current.originalParams.virtual,$)}};I.current||ee(),N.current&&N.current.on("_beforeBreakpoint",ie);const H=()=>{d||!z||!N.current||Object.keys(z).forEach(_e=>{N.current.on(_e,z[_e])})},se=()=>{!z||!N.current||Object.keys(z).forEach(_e=>{N.current.off(_e,z[_e])})};O.useEffect(()=>()=>{N.current&&N.current.off("_beforeBreakpoint",ie)}),O.useEffect(()=>{!T.current&&N.current&&(N.current.emitSlidesClasses(),T.current=!0)}),yc(()=>{if(e&&(e.current=I.current),!!I.current)return N.current.destroyed&&ee(),X3({el:I.current,nextEl:U.current,prevEl:k.current,paginationEl:Y.current,scrollbarEl:P.current,swiper:N.current},M),u&&!N.current.destroyed&&u(N.current),()=>{N.current&&!N.current.destroyed&&N.current.destroy(!0,!1)}},[]),yc(()=>{H();const _e=W3(D,C.current,B,S.current,$=>$.key);return C.current=D,S.current=B,_e.length&&N.current&&!N.current.destroyed&&K3({swiper:N.current,slides:B,passedParams:D,changedParams:_e,nextEl:U.current,prevEl:k.current,scrollbarEl:P.current,paginationEl:Y.current}),()=>{se()}}),yc(()=>{Z3(N.current)},[b]);function he(){return M.virtual?e6(N.current,B,b):B.map((_e,$)=>Fe.cloneElement(_e,{swiper:N.current,swiperSlideIndex:$}))}return Fe.createElement(r,Nh({ref:I,className:bC(`${h}${t?` ${t}`:""}`)},j),Fe.createElement(t6.Provider,{value:N.current},V["container-start"],Fe.createElement(s,{className:Y3(M.wrapperClass)},V["wrapper-start"],he(),V["wrapper-end"]),gC(M)&&Fe.createElement(Fe.Fragment,null,Fe.createElement("div",{ref:k,className:"swiper-button-prev"}),Fe.createElement("div",{ref:U,className:"swiper-button-next"})),yC(M)&&Fe.createElement("div",{ref:P,className:"swiper-scrollbar"}),vC(M)&&Fe.createElement("div",{ref:Y,className:"swiper-pagination"}),V["container-end"]))});Dc.displayName="Swiper";const Pc=O.forwardRef(function(n,e){let{tag:t="div",children:r,className:s="",swiper:o,zoom:u,lazy:f,virtualIndex:d,swiperSlideIndex:h,...m}=n===void 0?{}:n;const b=O.useRef(null),[_,w]=O.useState("swiper-slide"),[E,T]=O.useState(!1);function I(U,k,Y){k===b.current&&w(Y)}yc(()=>{if(typeof h<"u"&&(b.current.swiperSlideIndex=h),e&&(e.current=b.current),!(!b.current||!o)){if(o.destroyed){_!=="swiper-slide"&&w("swiper-slide");return}return o.on("_slideClass",I),()=>{o&&o.off("_slideClass",I)}}}),yc(()=>{o&&b.current&&!o.destroyed&&w(o.getSlideClasses(b.current))},[o]);const N={isActive:_.indexOf("swiper-slide-active")>=0,isVisible:_.indexOf("swiper-slide-visible")>=0,isPrev:_.indexOf("swiper-slide-prev")>=0,isNext:_.indexOf("swiper-slide-next")>=0},C=()=>typeof r=="function"?r(N):r,S=()=>{T(!0)};return Fe.createElement(t,Nh({ref:b,className:bC(`${_}${s?` ${s}`:""}`),"data-swiper-slide-index":d,onLoad:S},m),u&&Fe.createElement(rS.Provider,{value:N},Fe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},C(),f&&!E&&Fe.createElement("div",{className:"swiper-lazy-preloader"}))),!u&&Fe.createElement(rS.Provider,{value:N},C(),f&&!E&&Fe.createElement("div",{className:"swiper-lazy-preloader"})))});Pc.displayName="SwiperSlide";function wC(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(s=>{if(!t[s]&&t.auto===!0){let o=Hr(n.el,`.${r[s]}`)[0];o||(o=Ch("div",r[s]),o.className=r[s],n.el.append(o)),t[s]=o,e[s]=o}}),t}function n6(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function o(E){let T;return E&&typeof E=="string"&&e.isElement&&(T=e.el.querySelector(E)||e.hostEl.querySelector(E),T)?T:(E&&(typeof E=="string"&&(T=[...document.querySelectorAll(E)]),e.params.uniqueNavElements&&typeof E=="string"&&T&&T.length>1&&e.el.querySelectorAll(E).length===1?T=e.el.querySelector(E):T&&T.length===1&&(T=T[0])),E&&!T?E:T)}function u(E,T){const I=e.params.navigation;E=vn(E),E.forEach(N=>{N&&(N.classList[T?"add":"remove"](...I.disabledClass.split(" ")),N.tagName==="BUTTON"&&(N.disabled=T),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](I.lockClass))})}function f(){const{nextEl:E,prevEl:T}=e.navigation;if(e.params.loop){u(T,!1),u(E,!1);return}u(T,e.isBeginning&&!e.params.rewind),u(E,e.isEnd&&!e.params.rewind)}function d(E){E.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function h(E){E.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function m(){const E=e.params.navigation;if(e.params.navigation=wC(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(E.nextEl||E.prevEl))return;let T=o(E.nextEl),I=o(E.prevEl);Object.assign(e.navigation,{nextEl:T,prevEl:I}),T=vn(T),I=vn(I);const N=(C,S)=>{C&&C.addEventListener("click",S==="next"?h:d),!e.enabled&&C&&C.classList.add(...E.lockClass.split(" "))};T.forEach(C=>N(C,"next")),I.forEach(C=>N(C,"prev"))}function b(){let{nextEl:E,prevEl:T}=e.navigation;E=vn(E),T=vn(T);const I=(N,C)=>{N.removeEventListener("click",C==="next"?h:d),N.classList.remove(...e.params.navigation.disabledClass.split(" "))};E.forEach(N=>I(N,"next")),T.forEach(N=>I(N,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?w():(m(),f())}),r("toEdge fromEdge lock unlock",()=>{f()}),r("destroy",()=>{b()}),r("enable disable",()=>{let{nextEl:E,prevEl:T}=e.navigation;if(E=vn(E),T=vn(T),e.enabled){f();return}[...E,...T].filter(I=>!!I).forEach(I=>I.classList.add(e.params.navigation.lockClass))}),r("click",(E,T)=>{let{nextEl:I,prevEl:N}=e.navigation;I=vn(I),N=vn(N);const C=T.target;let S=N.includes(C)||I.includes(C);if(e.isElement&&!S){const U=T.path||T.composedPath&&T.composedPath();U&&(S=U.find(k=>I.includes(k)||N.includes(k)))}if(e.params.navigation.hideOnClick&&!S){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===C||e.pagination.el.contains(C)))return;let U;I.length?U=I[0].classList.contains(e.params.navigation.hiddenClass):N.length&&(U=N[0].classList.contains(e.params.navigation.hiddenClass)),s(U===!0?"navigationShow":"navigationHide"),[...I,...N].filter(k=>!!k).forEach(k=>k.classList.toggle(e.params.navigation.hiddenClass))}});const _=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),m(),f()},w=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),b()};Object.assign(e.navigation,{enable:_,disable:w,update:f,init:m,destroy:b})}function Ju(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function EC(n){let{swiper:e,extendParams:t,on:r,emit:s}=n;const o="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:C=>C,formatFractionTotal:C=>C,bulletClass:`${o}-bullet`,bulletActiveClass:`${o}-bullet-active`,modifierClass:`${o}-`,currentClass:`${o}-current`,totalClass:`${o}-total`,hiddenClass:`${o}-hidden`,progressbarFillClass:`${o}-progressbar-fill`,progressbarOppositeClass:`${o}-progressbar-opposite`,clickableClass:`${o}-clickable`,lockClass:`${o}-lock`,horizontalClass:`${o}-horizontal`,verticalClass:`${o}-vertical`,paginationDisabledClass:`${o}-disabled`}}),e.pagination={el:null,bullets:[]};let u,f=0;function d(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function h(C,S){const{bulletActiveClass:U}=e.params.pagination;C&&(C=C[`${S==="prev"?"previous":"next"}ElementSibling`],C&&(C.classList.add(`${U}-${S}`),C=C[`${S==="prev"?"previous":"next"}ElementSibling`],C&&C.classList.add(`${U}-${S}-${S}`)))}function m(C,S,U){if(C=C%U,S=S%U,S===C+1)return"next";if(S===C-1)return"previous"}function b(C){const S=C.target.closest(Ju(e.params.pagination.bulletClass));if(!S)return;C.preventDefault();const U=Rh(S)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===U)return;const k=m(e.realIndex,U,e.slides.length);k==="next"?e.slideNext():k==="previous"?e.slidePrev():e.slideToLoop(U)}else e.slideTo(U)}function _(){const C=e.rtl,S=e.params.pagination;if(d())return;let U=e.pagination.el;U=vn(U);let k,Y;const P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,M=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(Y=e.previousRealIndex||0,k=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(k=e.snapIndex,Y=e.previousSnapIndex):(Y=e.previousIndex||0,k=e.activeIndex||0),S.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const D=e.pagination.bullets;let j,z,B;if(S.dynamicBullets&&(u=Hv(D[0],e.isHorizontal()?"width":"height"),U.forEach(V=>{V.style[e.isHorizontal()?"width":"height"]=`${u*(S.dynamicMainBullets+4)}px`}),S.dynamicMainBullets>1&&Y!==void 0&&(f+=k-(Y||0),f>S.dynamicMainBullets-1?f=S.dynamicMainBullets-1:f<0&&(f=0)),j=Math.max(k-f,0),z=j+(Math.min(D.length,S.dynamicMainBullets)-1),B=(z+j)/2),D.forEach(V=>{const ie=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ee=>`${S.bulletActiveClass}${ee}`)].map(ee=>typeof ee=="string"&&ee.includes(" ")?ee.split(" "):ee).flat();V.classList.remove(...ie)}),U.length>1)D.forEach(V=>{const ie=Rh(V);ie===k?V.classList.add(...S.bulletActiveClass.split(" ")):e.isElement&&V.setAttribute("part","bullet"),S.dynamicBullets&&(ie>=j&&ie<=z&&V.classList.add(...`${S.bulletActiveClass}-main`.split(" ")),ie===j&&h(V,"prev"),ie===z&&h(V,"next"))});else{const V=D[k];if(V&&V.classList.add(...S.bulletActiveClass.split(" ")),e.isElement&&D.forEach((ie,ee)=>{ie.setAttribute("part",ee===k?"bullet-active":"bullet")}),S.dynamicBullets){const ie=D[j],ee=D[z];for(let H=j;H<=z;H+=1)D[H]&&D[H].classList.add(...`${S.bulletActiveClass}-main`.split(" "));h(ie,"prev"),h(ee,"next")}}if(S.dynamicBullets){const V=Math.min(D.length,S.dynamicMainBullets+4),ie=(u*V-u)/2-B*u,ee=C?"right":"left";D.forEach(H=>{H.style[e.isHorizontal()?ee:"top"]=`${ie}px`})}}U.forEach((D,j)=>{if(S.type==="fraction"&&(D.querySelectorAll(Ju(S.currentClass)).forEach(z=>{z.textContent=S.formatFractionCurrent(k+1)}),D.querySelectorAll(Ju(S.totalClass)).forEach(z=>{z.textContent=S.formatFractionTotal(M)})),S.type==="progressbar"){let z;S.progressbarOpposite?z=e.isHorizontal()?"vertical":"horizontal":z=e.isHorizontal()?"horizontal":"vertical";const B=(k+1)/M;let V=1,ie=1;z==="horizontal"?V=B:ie=B,D.querySelectorAll(Ju(S.progressbarFillClass)).forEach(ee=>{ee.style.transform=`translate3d(0,0,0) scaleX(${V}) scaleY(${ie})`,ee.style.transitionDuration=`${e.params.speed}ms`})}S.type==="custom"&&S.renderCustom?(Ih(D,S.renderCustom(e,k+1,M)),j===0&&s("paginationRender",D)):(j===0&&s("paginationRender",D),s("paginationUpdate",D)),e.params.watchOverflow&&e.enabled&&D.classList[e.isLocked?"add":"remove"](S.lockClass)})}function w(){const C=e.params.pagination;if(d())return;const S=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let U=e.pagination.el;U=vn(U);let k="";if(C.type==="bullets"){let Y=e.params.loop?Math.ceil(S/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&Y>S&&(Y=S);for(let P=0;P<Y;P+=1)C.renderBullet?k+=C.renderBullet.call(e,P,C.bulletClass):k+=`<${C.bulletElement} ${e.isElement?'part="bullet"':""} class="${C.bulletClass}"></${C.bulletElement}>`}C.type==="fraction"&&(C.renderFraction?k=C.renderFraction.call(e,C.currentClass,C.totalClass):k=`<span class="${C.currentClass}"></span> / <span class="${C.totalClass}"></span>`),C.type==="progressbar"&&(C.renderProgressbar?k=C.renderProgressbar.call(e,C.progressbarFillClass):k=`<span class="${C.progressbarFillClass}"></span>`),e.pagination.bullets=[],U.forEach(Y=>{C.type!=="custom"&&Ih(Y,k||""),C.type==="bullets"&&e.pagination.bullets.push(...Y.querySelectorAll(Ju(C.bulletClass)))}),C.type!=="custom"&&s("paginationRender",U[0])}function E(){e.params.pagination=wC(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const C=e.params.pagination;if(!C.el)return;let S;typeof C.el=="string"&&e.isElement&&(S=e.el.querySelector(C.el)),!S&&typeof C.el=="string"&&(S=[...document.querySelectorAll(C.el)]),S||(S=C.el),!(!S||S.length===0)&&(e.params.uniqueNavElements&&typeof C.el=="string"&&Array.isArray(S)&&S.length>1&&(S=[...e.el.querySelectorAll(C.el)],S.length>1&&(S=S.find(U=>uC(U,".swiper")[0]===e.el))),Array.isArray(S)&&S.length===1&&(S=S[0]),Object.assign(e.pagination,{el:S}),S=vn(S),S.forEach(U=>{C.type==="bullets"&&C.clickable&&U.classList.add(...(C.clickableClass||"").split(" ")),U.classList.add(C.modifierClass+C.type),U.classList.add(e.isHorizontal()?C.horizontalClass:C.verticalClass),C.type==="bullets"&&C.dynamicBullets&&(U.classList.add(`${C.modifierClass}${C.type}-dynamic`),f=0,C.dynamicMainBullets<1&&(C.dynamicMainBullets=1)),C.type==="progressbar"&&C.progressbarOpposite&&U.classList.add(C.progressbarOppositeClass),C.clickable&&U.addEventListener("click",b),e.enabled||U.classList.add(C.lockClass)}))}function T(){const C=e.params.pagination;if(d())return;let S=e.pagination.el;S&&(S=vn(S),S.forEach(U=>{U.classList.remove(C.hiddenClass),U.classList.remove(C.modifierClass+C.type),U.classList.remove(e.isHorizontal()?C.horizontalClass:C.verticalClass),C.clickable&&(U.classList.remove(...(C.clickableClass||"").split(" ")),U.removeEventListener("click",b))})),e.pagination.bullets&&e.pagination.bullets.forEach(U=>U.classList.remove(...C.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const C=e.params.pagination;let{el:S}=e.pagination;S=vn(S),S.forEach(U=>{U.classList.remove(C.horizontalClass,C.verticalClass),U.classList.add(e.isHorizontal()?C.horizontalClass:C.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?N():(E(),w(),_())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&_()}),r("snapIndexChange",()=>{_()}),r("snapGridLengthChange",()=>{w(),_()}),r("destroy",()=>{T()}),r("enable disable",()=>{let{el:C}=e.pagination;C&&(C=vn(C),C.forEach(S=>S.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{_()}),r("click",(C,S)=>{const U=S.target,k=vn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&k&&k.length>0&&!U.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&U===e.navigation.nextEl||e.navigation.prevEl&&U===e.navigation.prevEl))return;const Y=k[0].classList.contains(e.params.pagination.hiddenClass);s(Y===!0?"paginationShow":"paginationHide"),k.forEach(P=>P.classList.toggle(e.params.pagination.hiddenClass))}});const I=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:C}=e.pagination;C&&(C=vn(C),C.forEach(S=>S.classList.remove(e.params.pagination.paginationDisabledClass))),E(),w(),_()},N=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:C}=e.pagination;C&&(C=vn(C),C.forEach(S=>S.classList.add(e.params.pagination.paginationDisabledClass))),T()};Object.assign(e.pagination,{enable:I,disable:N,render:w,update:_,init:E,destroy:T})}function iS(n){let{swiper:e,extendParams:t,on:r}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,o=!1;e.thumbs={swiper:null};function u(){const h=e.thumbs.swiper;if(!h||h.destroyed)return;const m=h.clickedIndex,b=h.clickedSlide;if(b&&b.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof m>"u"||m===null)return;let _;h.params.loop?_=parseInt(h.clickedSlide.getAttribute("data-swiper-slide-index"),10):_=m,e.params.loop?e.slideToLoop(_):e.slideTo(_)}function f(){const{thumbs:h}=e.params;if(s)return!1;s=!0;const m=e.constructor;if(h.swiper instanceof m){if(h.swiper.destroyed)return s=!1,!1;e.thumbs.swiper=h.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(cc(h.swiper)){const b=Object.assign({},h.swiper);Object.assign(b,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new m(b),o=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",u),!0}function d(h){const m=e.thumbs.swiper;if(!m||m.destroyed)return;const b=m.params.slidesPerView==="auto"?m.slidesPerViewDynamic():m.params.slidesPerView;let _=1;const w=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(_=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(_=1),_=Math.floor(_),m.slides.forEach(I=>I.classList.remove(w)),m.params.loop||m.params.virtual&&m.params.virtual.enabled)for(let I=0;I<_;I+=1)Hr(m.slidesEl,`[data-swiper-slide-index="${e.realIndex+I}"]`).forEach(N=>{N.classList.add(w)});else for(let I=0;I<_;I+=1)m.slides[e.realIndex+I]&&m.slides[e.realIndex+I].classList.add(w);const E=e.params.thumbs.autoScrollOffset,T=E&&!m.params.loop;if(e.realIndex!==m.realIndex||T){const I=m.activeIndex;let N,C;if(m.params.loop){const S=m.slides.find(U=>U.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);N=m.slides.indexOf(S),C=e.activeIndex>e.previousIndex?"next":"prev"}else N=e.realIndex,C=N>e.previousIndex?"next":"prev";T&&(N+=C==="next"?E:-1*E),m.visibleSlidesIndexes&&m.visibleSlidesIndexes.indexOf(N)<0&&(m.params.centeredSlides?N>I?N=N-Math.floor(b/2)+1:N=N+Math.floor(b/2)-1:N>I&&m.params.slidesPerGroup,m.slideTo(N,h?0:void 0))}}r("beforeInit",()=>{const{thumbs:h}=e.params;if(!(!h||!h.swiper))if(typeof h.swiper=="string"||h.swiper instanceof HTMLElement){const m=xa(),b=()=>{const w=typeof h.swiper=="string"?m.querySelector(h.swiper):h.swiper;if(w&&w.swiper)h.swiper=w.swiper,f(),d(!0);else if(w){const E=`${e.params.eventsPrefix}init`,T=I=>{h.swiper=I.detail[0],w.removeEventListener(E,T),f(),d(!0),h.swiper.update(),e.update()};w.addEventListener(E,T)}return w},_=()=>{if(e.destroyed)return;b()||requestAnimationFrame(_)};requestAnimationFrame(_)}else f(),d(!0)}),r("slideChange update resize observerUpdate",()=>{d()}),r("setTransition",(h,m)=>{const b=e.thumbs.swiper;!b||b.destroyed||b.setTransition(m)}),r("beforeDestroy",()=>{const h=e.thumbs.swiper;!h||h.destroyed||o&&h.destroy()}),Object.assign(e.thumbs,{init:f,update:d})}function r6(n){let{swiper:e,extendParams:t,emit:r,once:s}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function o(){if(e.params.cssMode)return;const d=e.getTranslate();e.setTranslate(d),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function u(){if(e.params.cssMode)return;const{touchEventsData:d,touches:h}=e;d.velocities.length===0&&d.velocities.push({position:h[e.isHorizontal()?"startX":"startY"],time:d.touchStartTime}),d.velocities.push({position:h[e.isHorizontal()?"currentX":"currentY"],time:ro()})}function f(d){let{currentPos:h}=d;if(e.params.cssMode)return;const{params:m,wrapperEl:b,rtlTranslate:_,snapGrid:w,touchEventsData:E}=e,I=ro()-E.touchStartTime;if(h<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(h>-e.maxTranslate()){e.slides.length<w.length?e.slideTo(w.length-1):e.slideTo(e.slides.length-1);return}if(m.freeMode.momentum){if(E.velocities.length>1){const M=E.velocities.pop(),D=E.velocities.pop(),j=M.position-D.position,z=M.time-D.time;e.velocity=j/z,e.velocity/=2,Math.abs(e.velocity)<m.freeMode.minimumVelocity&&(e.velocity=0),(z>150||ro()-M.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=m.freeMode.momentumVelocityRatio,E.velocities.length=0;let N=1e3*m.freeMode.momentumRatio;const C=e.velocity*N;let S=e.translate+C;_&&(S=-S);let U=!1,k;const Y=Math.abs(e.velocity)*20*m.freeMode.momentumBounceRatio;let P;if(S<e.maxTranslate())m.freeMode.momentumBounce?(S+e.maxTranslate()<-Y&&(S=e.maxTranslate()-Y),k=e.maxTranslate(),U=!0,E.allowMomentumBounce=!0):S=e.maxTranslate(),m.loop&&m.centeredSlides&&(P=!0);else if(S>e.minTranslate())m.freeMode.momentumBounce?(S-e.minTranslate()>Y&&(S=e.minTranslate()+Y),k=e.minTranslate(),U=!0,E.allowMomentumBounce=!0):S=e.minTranslate(),m.loop&&m.centeredSlides&&(P=!0);else if(m.freeMode.sticky){let M;for(let D=0;D<w.length;D+=1)if(w[D]>-S){M=D;break}Math.abs(w[M]-S)<Math.abs(w[M-1]-S)||e.swipeDirection==="next"?S=w[M]:S=w[M-1],S=-S}if(P&&s("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(_?N=Math.abs((-S-e.translate)/e.velocity):N=Math.abs((S-e.translate)/e.velocity),m.freeMode.sticky){const M=Math.abs((_?-S:S)-e.translate),D=e.slidesSizesGrid[e.activeIndex];M<D?N=m.speed:M<2*D?N=m.speed*1.5:N=m.speed*2.5}}else if(m.freeMode.sticky){e.slideToClosest();return}m.freeMode.momentumBounce&&U?(e.updateProgress(k),e.setTransition(N),e.setTranslate(S),e.transitionStart(!0,e.swipeDirection),e.animating=!0,qg(b,()=>{!e||e.destroyed||!E.allowMomentumBounce||(r("momentumBounce"),e.setTransition(m.speed),setTimeout(()=>{e.setTranslate(k),qg(b,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(r("_freeModeNoMomentumRelease"),e.updateProgress(S),e.setTransition(N),e.setTranslate(S),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,qg(b,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(S),e.updateActiveIndex(),e.updateSlidesClasses()}else if(m.freeMode.sticky){e.slideToClosest();return}else m.freeMode&&r("_freeModeNoMomentumRelease");(!m.freeMode.momentum||I>=m.longSwipesMs)&&(r("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:o,onTouchMove:u,onTouchEnd:f}})}const i6="/nikos/assets/banner-1-DTPlrS7y.png",s6="/nikos/assets/banner1_small-CCBtV6oB.png",a6="/nikos/assets/banner-2-DRYg38-f.png",o6="/nikos/assets/banner2_small-CcaYcGmp.png",l6="/nikos/assets/banner-4-DKsyLWdi.png",u6="/nikos/assets/banner4_small-4inaOCxD.png";function c6(){const[n,e]=O.useState(0),t=[{id:1,image:{small:s6,medium:i6},title:"Activa tu ritmo",textColor:"primary-btn"},{id:2,image:{small:o6,medium:a6},title:"Distinción en cada paso",description:"",textColor:"primary-btn"},{id:3,image:{small:u6,medium:l6},title:"Nikos Kids",description:"",textColor:"secondary-btn"}],r=o=>window.innerWidth<780?o.small:o.medium,s=({image:o})=>{const[u,f]=O.useState(r(o));return O.useEffect(()=>{const d=()=>{f(r(o))};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[o]),v.jsx("img",{src:u,alt:""})};return v.jsx("main",{id:"#banner",children:v.jsx("div",{className:"slider",children:v.jsx("div",{className:"sliderbox",children:v.jsx("div",{className:"wrap",children:v.jsx(Dc,{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{clickable:!0},modules:[EC],onSlideChange:o=>{e(o.realIndex)},children:t.map((o,u)=>v.jsx(Pc,{children:v.jsx("div",{className:"item",children:v.jsxs("div",{className:"image",children:[v.jsx("div",{className:"ob-cover",children:v.jsx(s,{image:o.image})}),v.jsx("div",{className:`title-info transition-all duration-[700ms] ease-[cubic-bezier(0.25,0.1,0.25,1)] 
                            ${n===u?"opacity-100 translate-y-0":"opacity-0 translate-y-6 pointer-events-none"}
                          `,children:v.jsx("div",{className:"wide",children:v.jsxs("div",{className:"wrap",children:[v.jsx("h3",{className:`title ${o.textColor==="primary-btn"?"md:text-white":"md:text-black"}`,children:o.title}),v.jsx("div",{className:"button",children:v.jsx("a",{href:"/nikos/productos",className:`btn ${o.textColor==="primary-btn"?"primary-btn":"secondary-btn"}`,children:"Compra Ahora"})})]})})})]})})},o.id))})})})})})}const d6=async()=>{const n=jn(it,"config","ordenes"),e=await gp(n);if(e.exists()){const t=e.data().ultimoNumero||0;return await ls(n,{ultimoNumero:Jj(1)}),t+1}else return await $A(n,{ultimoNumero:1}),1},SC=(n,e,t,r)=>{const s=`${e.nombre} ${e.apellido}`,o=t.map(u=>`• ${u.nombre} x${u.cantidad} – S/ ${u.precio*u.cantidad}`).join(`
`);return`Hola! se envía la orden N°${String(n).padStart(4,"0")} de ${s}

 Productos:
${o}

 Total: S/. ${r}`},f6=n=>n.toLowerCase().normalize("NFD").replace(/[^\w\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-"),h6=async(n,e=null)=>{const t=f6(n);let r=t,s=1;for(;;){const o=co(en(it,"productos"),wl("slug","==",r));if(!(await Rn(o)).docs.find(d=>d.id!==e))break;r=`${t}-${s++}`}return r},po=n=>n?n.replace("/upload/","/upload/f_auto,q_auto/"):mb;function yb({producto:n,onClose:e}){const t=cn(),[r,s]=O.useState(!1),[o,u]=O.useState(!0),{nombre:f="Producto sin nombre",precio:d=0,precioDescuento:h,precioMayorista:m,imagenes:b=[],slug:_=""}=n||{};O.useEffect(()=>{const I=o1(),N=$c(I,C=>{if(C){const S=JSON.parse(localStorage.getItem("usuario"));console.log(S),s((S==null?void 0:S.usuarioMayorista)||!1)}else s(!1);u(!1)});return()=>N()},[]);const w=()=>{t(`/productos/${_}`),e&&e()},E=O.useMemo(()=>r&&m?m:h&&h<d?h:d,[r,d,h,m]),T=O.useMemo(()=>r&&m&&m<d||!r&&h&&h<d?d:null,[r,d,h,m]);return!n||!n.nombre||!n.precio||o?null:v.jsxs("div",{className:"item cursor-pointer",onClick:w,"aria-label":`Producto ${f}`,children:[v.jsxs("div",{className:"dot-images relative",children:[v.jsx("div",{className:"thumbnail",children:v.jsx("img",{loading:"lazy",className:"mx-auto",src:po(b==null?void 0:b[0]),alt:`Imagen principal de ${f}`})}),v.jsx("div",{className:"thumbnail hover",children:v.jsx("img",{loading:"lazy",className:"mx-auto",src:po((b==null?void 0:b[1])||(b==null?void 0:b[0])),alt:`Imagen secundaria de ${f}`})}),!r&&v.jsx("div",{className:"label absolute top-0 left-0 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:v.jsxs("span",{children:["-",Math.round(100-h/d*100),"%"]})})]}),v.jsxs("div",{className:"dot-info text-center",children:[v.jsx("h2",{className:"dot-title text-sm font-semibold truncate",children:f}),v.jsxs("div",{className:"product-price mt-1",children:[T&&v.jsxs("span",{className:"before line-through text-gray-500 mr-1",children:["s/.",T.toFixed(2)]}),v.jsxs("span",{className:"current font-bold text-black",children:["s/.",E.toFixed(2)]})]})]})]})}function p6({productos:n}){const e=n.filter(b=>b.creadoEn).sort((b,_)=>new Date(_.creadoEn)-new Date(b.creadoEn)).slice(0,8),t=O.useRef(null),r=O.useRef(null),[s,o]=O.useState(null),[u,f]=O.useState(!0),[d,h]=O.useState(!1),m=b=>{f(b.isBeginning),h(b.isEnd)};return v.jsx("div",{className:"products-carousel",children:v.jsxs("div",{className:"wrap",children:[v.jsx("div",{className:"mt-5 md:mt-0 heading",children:v.jsx("h2",{className:"title",children:"🆕 Nuevos ingresos"})}),v.jsx("div",{className:"inner-wrapper",children:v.jsx("div",{className:"dotgrid carouselbox",children:v.jsxs("div",{className:"wrapper relative",children:[v.jsxs("div",{className:"swiper-nav-buttons flex justify-between items-center mb-4",children:[!u&&v.jsx("button",{ref:t,onClick:()=>s.slidePrev(),className:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10 border border-black rounded-full w-10 h-10 flex items-center justify-center bg-transparent",children:v.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),!d&&v.jsx("button",{ref:r,onClick:()=>s.slideNext(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 z-10 border border-black rounded-full w-10 h-10 flex items-center justify-center bg-transparent",children:v.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),v.jsx(Dc,{slidesPerView:1,slidesPerGroup:1,spaceBetween:20,loop:!1,navigation:{prevEl:t.current,nextEl:r.current},onSlideChange:m,onSwiper:b=>o(b),breakpoints:{640:{slidesPerView:2,slidesPerGroup:2},768:{slidesPerView:2,slidesPerGroup:2},992:{slidesPerView:3,slidesPerGroup:3},1024:{slidesPerView:4,slidesPerGroup:4}},modules:[n6],children:e.map((b,_)=>v.jsx(Pc,{children:v.jsx(yb,{producto:b})},_))})]})})})]})})}function m6({options:n,initial:e,onSelect:t}){const[r,s]=O.useState(!1),[o,u]=O.useState(e);O.useEffect(()=>{u(e)},[e]);const f=d=>{u(d),s(!1),t&&t(d)};return v.jsxs("div",{className:"relative max-w-[150px] inline-block text-left",children:[v.jsxs("h3",{className:"opt-trigger cursor-pointer flex items-center gap-2",onClick:()=>s(!r),children:[v.jsx("span",{className:"value font-medium",children:o==null?void 0:o.nombre}),v.jsx("i",{className:"bx bx-chevron-down text-[20px]"})]}),r&&v.jsx("ul",{className:"absolute mt-2 bg-white border border-gray-300 shadow-md z-10 min-w-[120px]",children:n.map(d=>v.jsx("li",{className:"text-[1rem]",children:v.jsx("button",{className:`tabbed-trigger px-4 py-2 block w-full text-left hover:bg-black hover:text-white ${(o==null?void 0:o.nombre)===d.nombre?"font-semibold bg-black text-white":""}`,onClick:()=>f(d),children:d==null?void 0:d.nombre})},d.id||d.nombre))})]})}function g6({productos:n,usuarios:e}){const t=cn(),[r,s]=O.useState([]),[o,u]=O.useState(null),f=()=>t("/productos"),d=()=>{const m=window.innerWidth;return m>=1024?8:m>=768?3:2},h=m=>{m!=null&&m.nombre&&u(m)};return O.useEffect(()=>{e.length>0&&!o&&u(e[0])},[e]),O.useEffect(()=>{if(!o||n.length===0)return;const m=o.nombre,b=n.filter(w=>w.usuario===m),_=d();s(b.slice(0,_))},[n,o]),v.jsx("div",{className:"bycats",children:v.jsxs("div",{className:"wrap",children:[e.length>0&&o&&v.jsxs("div",{className:"mt-5 md:mt-0 heading sort-list tabs",children:[v.jsx("span",{className:"grey-color mr-3",children:"in"}),v.jsx(m6,{options:e,initial:e[0],onSelect:h})]}),v.jsx("div",{className:"tabbed",children:v.jsx("div",{className:"sort-data",children:v.jsxs("div",{className:"dotgrid",children:[v.jsx("div",{className:`wrapper grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 ${r.length>0?"animate-fadeIn":""}`,children:r.map((m,b)=>v.jsx(yb,{producto:m},m.id||b))}),v.jsx("div",{onClick:f,className:"button my-3 mx-auto min-w-[150px] cursor-pointer",children:v.jsx("div",{className:"btn primary-btn",children:"Ver más"})})]})})})]})})}function v6({marcas:n=[]}){return O.useEffect(()=>{if(!n.length)return;const e=document.getElementById("scrolling-container");let t=0;const r=.5,s=()=>{e&&(e.scrollLeft+=r,t+=r,t>=e.scrollWidth-e.clientWidth&&(e.scrollLeft=0,t=0)),requestAnimationFrame(s)};console.log(n),s()},[n]),v.jsx("div",{className:"brandssection",id:"marcas",children:v.jsx("div",{className:"wrap",children:v.jsx("div",{className:"dotgrid",children:v.jsx("div",{id:"scrolling-container",className:"wrapper overflow-x-auto whitespace-nowrap max-w-full",children:v.jsx("div",{className:"flex gap-2 py-2",children:n.map((e,t)=>v.jsx(v.Fragment,{children:e.imagen&&v.jsx("div",{className:"flex-shrink-0 max-w-[220px] w-full bg-gray-100 rounded shadow p-4 flex items-center justify-center",children:v.jsx("img",{alt:e.nombre,loading:"lazy",src:po(e.imagen),className:"w-32 h-32 object-contain"})},t)}))})})})})})}const y6=["Hombre","Mujer","Juvenil"],b6=()=>{const[n,e]=O.useState([]),[t,r]=O.useState([]),[s,o]=O.useState([]);return O.useEffect(()=>{(async()=>{const d=(await Rn(en(it,"productos"))).docs.map(w=>({id:w.id,...w.data()}));e(d);const m=(await Rn(en(it,"filtros"))).docs.map(w=>w.data()),b=m.filter(w=>w.tipo==="marca").map(w=>({nombre:w.valor,imagen:w.imagen})),_=y6.filter(w=>m.some(E=>E.tipo==="usuario"&&E.valor===w)).map(w=>({nombre:w}));r(b),o(_)})()},[]),v.jsxs(v.Fragment,{children:[v.jsx(c6,{}),v.jsx(p6,{productos:n}),v.jsx(g6,{productos:n,usuarios:s}),v.jsx(v6,{marcas:t})]})};function _6({producto:n}){return v.jsx("div",{className:"wrap",children:v.jsx("div",{className:"breadcrumb list-inline py-4 py-2 md:px-0",children:v.jsxs("ul",{className:"flex justify-left md992:justify-center gap-[10px]",children:[v.jsx("li",{children:v.jsx("a",{href:"/nikos",children:"Inicio"})}),v.jsx("li",{children:v.jsx("a",{href:"/nikos/productos",children:"Productos"})}),v.jsx("li",{children:v.jsx("a",{href:`/nikos/productos/${n.slug}`,children:v.jsx("span",{children:n.nombre})})})]})})})}function x6({producto:n,varianteIndex:e}){const[t,r]=O.useState(null),[s,o]=O.useState(null),[u,f]=O.useState(null),d=Array.isArray(n.imagenes)&&n.imagenes.length>0?n.imagenes:[mb];O.useEffect(()=>{var m,b;if((b=(m=n.variantes)==null?void 0:m[e])!=null&&b.imagen&&d.includes(n.variantes[e].imagen)){f(n.variantes[e].imagen);const _=d.indexOf(n.variantes[e].imagen);s&&_>=0&&s.slideTo(_)}},[e,n,d,s]);const h=(m,b)=>{f(m),s&&s.slideTo(b)};return v.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-3xl",children:[v.jsx("div",{className:"hidden sm:block w-20 h-[500px]",children:v.jsx(Dc,{onSwiper:r,direction:"vertical",spaceBetween:10,slidesPerView:5.5,freeMode:!0,watchSlidesProgress:!0,modules:[iS,r6],className:"h-full",children:d.map((m,b)=>v.jsx(Pc,{children:v.jsx("img",{src:po(m),loading:"lazy",onClick:()=>h(m,b),className:`object-cover w-full h-20 cursor-pointer rounded border 
                  ${u===m?"ring-2 ring-black":""}`,alt:`Miniatura ${b}`})},b))})}),v.jsx(Dc,{onSwiper:o,thumbs:{swiper:t&&!t.destroyed?t:null},spaceBetween:0,modules:[iS,EC],pagination:{clickable:!0},className:"w-full max-w-full md992:max-w-[500px] h-full md992:h-[500px] rounded-md overflow-hidden bg-white",onSlideChange:m=>f(d[m.activeIndex]),children:d.map((m,b)=>v.jsx(Pc,{children:v.jsx("img",{src:po(m),loading:"lazy",className:"object-contain w-full h-full",alt:`Imagen ${b}`})},b))})]})}function TC({isOpen:n,onClose:e,children:t}){return n?v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[v.jsx("div",{className:"absolute inset-0 bg-opacity-50 backdrop-blur-sm transition-opacity",onClick:e}),v.jsxs("div",{className:"relative z-10 bg-white p-6 rounded shadow-lg w-full max-w-md mx-4",children:[v.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-black text-xl",children:"×"}),t]})]}):null}function w6({producto:n,varianteIndex:e,setVarianteIndex:t}){var V,ie;const{agregarAlCarrito:r}=bp(),[s,o]=O.useState(""),[u,f]=O.useState(1),[d,h]=O.useState(!1),[m,b]=O.useState(!1),[_,w]=O.useState(""),[E,T]=O.useState(""),[I,N]=O.useState(!1),[C,S]=O.useState(null),U=typeof window<"u"?window.location.href:"";O.useEffect(()=>{const ee=JSON.parse(localStorage.getItem("usuario"));ee!=null&&ee.usuarioMayorista?S(!0):S(!1)},[]);const k=()=>{navigator.clipboard.writeText(U),b(!0),setTimeout(()=>b(!1),2e3)},Y=ee=>{var he;const H=(he=ee.variantes)==null?void 0:he[e];if(!s||!H){w("Selecciona talla e imagen");return}w(""),N(!0);const se={slug:ee.slug,nombre:ee.nombre,imagen:H.imagen,talla:s,color:H.color||"",cantidad:parseInt(u),precio:ee.precio,precioMayorista:ee.precioMayorista,precioDescuento:ee.precioDescuento};r(se),T("Producto añadido al carrito"),setTimeout(()=>{T(""),N(!1)},2e3)},P=(V=n.variantes)==null?void 0:V[e];if(C===null)return null;const M=n.precio,D=n.precioDescuento,j=n.precioMayorista,z=C?j:D||M,B=!C&&D&&D<M?M:null;return v.jsxs("div",{className:"summary",children:[v.jsxs("div",{className:"entry",children:[v.jsx("h1",{className:"title",children:n.nombre}),v.jsx("div",{className:"product-grow",children:v.jsxs("div",{className:"product-price",children:[v.jsxs("span",{className:"current",children:["s/.",z==null?void 0:z.toFixed(2)]}),B&&v.jsx("div",{className:"wrap",children:v.jsxs("span",{className:"before line-through",children:["s/.",B.toFixed(2)]})})]})}),v.jsxs("div",{className:"product-color",children:[v.jsx("span",{children:"Variantes:"}),v.jsx("div",{className:"wrap flex gap-2 flex-wrap",children:(ie=n.variantes)==null?void 0:ie.map((ee,H)=>v.jsx("img",{src:po(ee.imagen),alt:`Variante de color ${ee.color||H+1}`,onClick:()=>{t(H),o(""),w("")},className:`w-12 h-12 rounded object-cover border-2 cursor-pointer transition-all
                  ${H===e?"border-black ring-2 ring-offset-1":"border-transparent"}`,loading:"lazy"},H))})]}),P&&v.jsxs("div",{className:"product-size mt-4 w-[350px] max-w-[350px]",children:[v.jsx("span",{children:"Tallas:"}),v.jsx("div",{className:"wrap",children:(Array.isArray(P.tallas)?[...P.tallas]:[]).sort((ee,H)=>ee.talla.localeCompare(H.talla,void 0,{numeric:!0})).map(({talla:ee,stock:H})=>v.jsx("button",{onClick:()=>{H>0&&(o(ee),w(""))},disabled:H===0,className:`px-3 py-1 border rounded mx-1 my-1 
                      ${H===0?"opacity-50 cursor-not-allowed bg-gray-200 text-gray-500":"cursor-pointer"} 
                      ${s===ee?"selected bg-black text-white":""}`,"aria-label":`Seleccionar talla ${ee}${H===0?" (sin stock)":""}`,children:ee},ee))})]}),v.jsxs("div",{className:"product-action flex flex-col sm:flex-row gap-6 justify-left items-left md:items-center mt-2",children:[v.jsxs("div",{className:"qty flex flex-wrap items-center",children:[v.jsx("button",{onClick:()=>f(ee=>Math.max(1,ee-1)),className:"cursor-pointer decrease h-[40px] w-[40px] bg-[#f1f1f1]","aria-label":"Disminuir cantidad",children:"-"}),v.jsx("input",{className:"w-[50px] border text-center",readOnly:!0,type:"number",value:u,"aria-label":"Cantidad seleccionada"}),v.jsx("button",{onClick:()=>f(ee=>ee+1),className:"cursor-pointer increase h-[40px] w-[40px] bg-[#f1f1f1]","aria-label":"Aumentar cantidad",children:"+"})]}),v.jsx("div",{className:"addcart button mr-auto",children:v.jsx("button",{onClick:()=>Y(n),type:"button",className:"cursor-pointer btn primary-btn min-w-[201px]",disabled:I,"aria-label":"Agregar al carrito",children:I?"Agregando...":"Añadir al carrito"})})]}),_&&v.jsx("p",{className:"text-sm text-red-600 m-0",role:"alert",children:_}),E&&v.jsx("p",{className:"text-sm text-green-600 m-0",role:"status",children:E}),v.jsx("div",{className:"product-control list-inline mt-4",children:v.jsx("ul",{children:v.jsx("li",{children:v.jsxs("button",{onClick:()=>h(!0),className:"cursor-pointer flex items-center gap-1","aria-label":"Compartir producto",children:[v.jsx("i",{className:"bx bx-share","aria-hidden":"true"}),v.jsx("span",{children:"Compartir Producto"})]})})})})]}),v.jsx(TC,{isOpen:d,onClose:()=>h(!1),children:v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Comparte este producto"}),v.jsx("input",{readOnly:!0,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm text-gray-700",value:U,"aria-label":"Enlace del producto"}),v.jsx("button",{onClick:k,className:"mt-4 w-full bg-black text-white py-2 rounded hover:bg-gray-800 transition","aria-label":"Copiar enlace",children:"Copiar enlace"}),m&&v.jsx("p",{className:"text-green-600 mt-2 text-sm",children:"¡Copiado!"})]})})]})}function E6({producto:n}){var r,s,o;const[e,t]=O.useState("description");return v.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[v.jsx("nav",{className:"border-b border-gray-300",children:v.jsxs("ul",{className:"flex flex-wrap gap-4",children:[v.jsx("li",{children:v.jsx("button",{onClick:()=>t("description"),className:`pb-2 border-b-2 font-semibold transition-colors ${e==="description"?"border-black text-black":"border-transparent text-gray-500 hover:text-black"}`,children:"Detalle del producto"})}),v.jsx("li",{children:v.jsx("button",{onClick:()=>t("additional"),className:`pb-2 border-b-2 font-semibold transition-colors ${e==="additional"?"border-black text-black":"border-transparent text-gray-500 hover:text-black"}`,children:"Información adicional"})})]})}),v.jsxs("div",{className:"mt-6 text-gray-700 space-y-6",children:[e==="description"&&v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-bold",children:n.nombre}),v.jsx("p",{className:"text-base",children:n.descripcion}),v.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-1",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Marca:"})," ",n.marca]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Precio:"})," s/.",n.precio,n.precioDescuento&&v.jsxs("span",{className:"text-sm text-red-500 ml-2",children:["-",Math.round(100-n.precioDescuento/n.precio*100),"% OFF"]})]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Uso:"})," ",(r=n.uso)==null?void 0:r.join(", ")]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Tipo de calzado:"})," ",n.tipoCalzado]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Origen:"})," ",n.origen]})]})]}),e==="additional"&&v.jsxs(v.Fragment,{children:[v.jsx("h3",{className:"text-xl font-bold",children:"Información adicional"}),v.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[v.jsxs("li",{children:[v.jsx("strong",{children:"Materiales:"})," ",(s=n.material)==null?void 0:s.join(", ")]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Etiquetas:"})," ",(o=n.etiquetas)==null?void 0:o.join(", ")]}),v.jsxs("li",{children:[v.jsx("strong",{children:"Slug:"})," ",v.jsx("code",{children:n.slug})]})]})]})]})]})}const S6=()=>{const{slug:n}=FN(),[e,t]=O.useState(null),[r,s]=O.useState(!0),[o,u]=O.useState(0);return O.useEffect(()=>{(async()=>{try{const d=en(it,"productos"),h=co(d,wl("slug","==",n)),m=await Rn(h);if(m.empty)t(null);else{const b=m.docs[0];t({id:b.id,...b.data()})}}catch(d){console.error("Error al obtener el producto por slug:",d),t(null)}finally{s(!1)}})()},[n]),r?v.jsx("p",{className:"text-center mt-10",children:"Cargando producto..."}):e?v.jsxs("main",{className:"m-2",children:[v.jsx(_6,{producto:e}),v.jsx("div",{className:"dotgrid",children:v.jsxs("div",{className:"wrapper flex gap-[20px] flex-col md992:flex-row justify-center",children:[v.jsx(x6,{producto:e,varianteIndex:o}),v.jsx(w6,{producto:e,varianteIndex:o,setVarianteIndex:u})]})}),v.jsx(E6,{producto:e})]}):v.jsx("h2",{className:"text-center mt-10",children:"Producto no encontrado"})},sS=4,Wa=({titulo:n,items:e,campo:t,valoresSeleccionados:r,toggleFiltro:s})=>{const[o,u]=O.useState(!0),[f,d]=O.useState(!1),h=f?e:e.slice(0,sS);return v.jsxs("div",{className:"pb-4",children:[v.jsxs("div",{className:"flex justify-between items-center cursor-pointer mb-2",onClick:()=>u(!o),children:[v.jsx("h3",{className:"font-semibold text-gray-800",children:n}),v.jsx("i",{className:`bx text-lg ${o?"bx-chevron-up":"bx-chevron-down"}`})]}),o&&v.jsxs("div",{className:"space-y-2 pl-1",children:[h.map(m=>v.jsxs("label",{className:"flex items-center text-sm text-gray-700",children:[v.jsx("input",{type:"checkbox",className:"mr-2 accent-blue-600",checked:r.includes(m),onChange:()=>s(t,m)}),m]},m)),e.length>sS&&v.jsx("button",{onClick:()=>d(!f),className:"text-blue-600 text-xs hover:underline mt-1",children:f?"Ver menos":"Ver más"})]})]})};function aS({filters:n,disponibles:e,toggleFiltro:t,setFilters:r,onFiltrar:s}){return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"max-h-[75vh] overflow-y-auto pr-2 space-y-6 text-sm text-gray-800",children:[v.jsx(Wa,{titulo:"Tipo de Calzado",items:e.tipo,campo:"tipo",valoresSeleccionados:n.tipo,toggleFiltro:t}),v.jsx(Wa,{titulo:"Marca",items:e.marca,campo:"marca",valoresSeleccionados:n.marca,toggleFiltro:t}),v.jsx(Wa,{titulo:"Usuario / Talla",items:e.usuario,campo:"usuario",valoresSeleccionados:n.usuario,toggleFiltro:t}),v.jsx(Wa,{titulo:"Material",items:e.material,campo:"material",valoresSeleccionados:n.material,toggleFiltro:t}),v.jsx(Wa,{titulo:"Uso",items:e.uso,campo:"uso",valoresSeleccionados:n.uso,toggleFiltro:t}),v.jsx(Wa,{titulo:"Origen",items:e.origen,campo:"origen",valoresSeleccionados:n.origen,toggleFiltro:t}),v.jsx(Wa,{titulo:"Colores",items:e.color,campo:"color",valoresSeleccionados:n.color,toggleFiltro:t}),v.jsxs("div",{className:"pb-4",children:[v.jsxs("h3",{className:"font-semibold mb-2 flex justify-between items-center",children:["Precio máximo: ",v.jsxs("span",{className:"text-blue-700",children:["S/. ",n.precioMax]})]}),v.jsx("input",{type:"range",min:"50",max:"500",step:"10",value:n.precioMax,onChange:o=>r({...n,precioMax:parseInt(o.target.value)}),className:"w-full accent-blue-600"})]})]}),v.jsx("div",{className:"button pt-4",children:v.jsx("button",{onClick:s,className:"btn primary-btn",children:"Filtrar"})})]})}function T6(){const[n,e]=O.useState({tipo:[],marca:[],usuario:[],material:[],uso:[],origen:[],color:[],precioMax:500}),[t,r]=O.useState({tipo:[],marca:[],usuario:[],material:[],uso:[],origen:[],color:[]}),[s,o]=O.useState([]),[u,f]=O.useState(!1),[d,h]=O.useState(!1),[m,b]=O.useState(6),[_,w]=O.useState(!0),E=()=>{h(!0),setTimeout(()=>{f(!1),h(!1)},400)},T=()=>{const S=en(it,"productos"),U=[];return n.marca.length===1&&U.push(wl("marca","==",n.marca[0])),n.usuario.length===1&&U.push(wl("usuario","==",n.usuario[0])),n.precioMax<500&&U.push(wl("precio","<=",n.precioMax)),U.length>0?co(S,...U):S},I=async()=>{try{w(!0);const S=T(),Y=(await Rn(S)).docs.map(P=>({id:P.id,...P.data()})).filter(P=>{const M=n.tipo.length===0||n.tipo.some(ie=>{var ee;return(ee=P.tipoCalzado)==null?void 0:ee.includes(ie)}),D=n.material.length===0||n.material.some(ie=>{var ee;return(ee=P.material)==null?void 0:ee.includes(ie)}),j=n.uso.length===0||n.uso.some(ie=>{var ee;return(ee=P.uso)==null?void 0:ee.includes(ie)}),z=n.origen.length===0||n.origen.includes(P.origen),B=n.usuario.length===0||n.usuario.includes(P.usuario),V=n.color.length===0||n.color.some(ie=>{var ee;return(ee=P.variantes)==null?void 0:ee.some(H=>{var se;return((se=H.color)==null?void 0:se.toLowerCase())===ie.toLowerCase()})});return M&&D&&j&&z&&B&&V});o(Y),b(6)}catch(S){console.error("Error al filtrar productos:",S)}finally{w(!1)}},N=async()=>{const U=(await Rn(en(it,"filtros"))).docs.map(D=>D.data()),k={tipo:[],marca:[],usuario:[],material:[],uso:[],origen:[],color:[]};U.forEach(D=>{const j=D.tipo.toLowerCase();k[j]&&!k[j].includes(D.valor)&&k[j].push(D.valor)});const P=(await Rn(en(it,"productos"))).docs.map(D=>D.data()),M=new Set;P.forEach(D=>{D.variantes&&Array.isArray(D.variantes)&&D.variantes.forEach(j=>{j.color&&M.add(j.color.trim().toLowerCase())})}),k.color=Array.from(M),r(k)};O.useEffect(()=>{N(),I()},[]);const C=(S,U)=>{e(k=>{const P=k[S].includes(U)?k[S].filter(M=>M!==U):[...k[S],U];return{...k,[S]:P}})};return v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 px-4 py-1",children:[v.jsx(pb,{mostrarModalFiltros:u,animatingClose:d,cerrarModalConAnimacion:E,filters:n,disponibles:t,toggleFiltro:C,setFilters:e,children:v.jsx(aS,{filters:n,disponibles:t,toggleFiltro:C,setFilters:e,onFiltrar:I})}),v.jsx("aside",{className:"hidden md992:block w-full max-w-[250px]",children:v.jsx(aS,{filters:n,disponibles:t,toggleFiltro:C,setFilters:e,onFiltrar:I})}),v.jsx("main",{className:"flex-1",children:_?v.jsx("p",{className:"text-center mt-10",children:"Cargando productos..."}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsxs("h1",{className:"text-md font-light",children:["Mostrando 1 - ",Math.min(m,s.length)," de"," ",s.length," productos"]}),v.jsx("button",{className:"md992:hidden btn border px-3 py-2",onClick:()=>f(!0),children:v.jsx("i",{className:"bx bx-filter"})})]}),v.jsx("div",{className:"bycats tabbed !p-0",children:v.jsx("div",{className:"sort-data",children:v.jsx("div",{className:"dotgrid",children:v.jsx("div",{className:"wrapper grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4",children:s.slice(0,m).map((S,U)=>v.jsx(yb,{producto:S},S.id||U))})})})}),m<s.length&&v.jsx("div",{className:"text-center mt-6",children:v.jsx("button",{onClick:()=>b(m+6),className:"btn secondary-btn border px-4 py-2",children:"Ver más"})})]})})]})}var Jc=n=>n.type==="checkbox",no=n=>n instanceof Date,Hn=n=>n==null;const AC=n=>typeof n=="object";var $t=n=>!Hn(n)&&!Array.isArray(n)&&AC(n)&&!no(n),CC=n=>$t(n)&&n.target?Jc(n.target)?n.target.checked:n.target.value:n,A6=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,RC=(n,e)=>n.has(A6(e)),C6=n=>{const e=n.constructor&&n.constructor.prototype;return $t(e)&&e.hasOwnProperty("isPrototypeOf")},bb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Sn(n){let e;const t=Array.isArray(n),r=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(bb&&(n instanceof Blob||r))&&(t||$t(n)))if(e=t?[]:{},!t&&!C6(n))e=n;else for(const s in n)n.hasOwnProperty(s)&&(e[s]=Sn(n[s]));else return n;return e}var _p=n=>/^\w*$/.test(n),qt=n=>n===void 0,_b=n=>Array.isArray(n)?n.filter(Boolean):[],xb=n=>_b(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Se=(n,e,t)=>{if(!e||!$t(n))return t;const r=(_p(e)?[e]:xb(e)).reduce((s,o)=>Hn(s)?s:s[o],n);return qt(r)||r===n?qt(n[e])?t:n[e]:r},ur=n=>typeof n=="boolean",Tt=(n,e,t)=>{let r=-1;const s=_p(e)?[e]:xb(e),o=s.length,u=o-1;for(;++r<o;){const f=s[r];let d=t;if(r!==u){const h=n[f];d=$t(h)||Array.isArray(h)?h:isNaN(+s[r+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;n[f]=d,n=n[f]}};const Oh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ur={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},is={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},IC=Fe.createContext(null);IC.displayName="HookFormContext";const wb=()=>Fe.useContext(IC);var NC=(n,e,t,r=!0)=>{const s={defaultValues:e._defaultValues};for(const o in n)Object.defineProperty(s,o,{get:()=>{const u=o;return e._proxyFormState[u]!==Ur.all&&(e._proxyFormState[u]=!r||Ur.all),t&&(t[u]=!0),n[u]}});return s};const Eb=typeof window<"u"?O.useLayoutEffect:O.useEffect;function R6(n){const e=wb(),{control:t=e.control,disabled:r,name:s,exact:o}=n||{},[u,f]=Fe.useState(t._formState),d=Fe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Eb(()=>t._subscribe({name:s,formState:d.current,exact:o,callback:h=>{!r&&f({...t._formState,...h})}}),[s,r,o]),Fe.useEffect(()=>{d.current.isValid&&t._setValid(!0)},[t]),Fe.useMemo(()=>NC(u,t,d.current,!1),[u,t])}var gi=n=>typeof n=="string",OC=(n,e,t,r,s)=>gi(n)?(r&&e.watch.add(n),Se(t,n,s)):Array.isArray(n)?n.map(o=>(r&&e.watch.add(o),Se(t,o))):(r&&(e.watchAll=!0),t);function I6(n){const e=wb(),{control:t=e.control,name:r,defaultValue:s,disabled:o,exact:u}=n||{},f=Fe.useRef(s),[d,h]=Fe.useState(t._getWatch(r,f.current));return Eb(()=>t._subscribe({name:r,formState:{values:!0},exact:u,callback:m=>!o&&h(OC(r,t._names,m.values||t._formValues,!1,f.current))}),[r,t,o,u]),Fe.useEffect(()=>t._removeUnmounted()),d}function N6(n){const e=wb(),{name:t,disabled:r,control:s=e.control,shouldUnregister:o}=n,u=RC(s._names.array,t),f=I6({control:s,name:t,defaultValue:Se(s._formValues,t,Se(s._defaultValues,t,n.defaultValue)),exact:!0}),d=R6({control:s,name:t,exact:!0}),h=Fe.useRef(n),m=Fe.useRef(s.register(t,{...n.rules,value:f,...ur(n.disabled)?{disabled:n.disabled}:{}})),b=Fe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Se(d.errors,t)},isDirty:{enumerable:!0,get:()=>!!Se(d.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!Se(d.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!Se(d.validatingFields,t)},error:{enumerable:!0,get:()=>Se(d.errors,t)}}),[d,t]),_=Fe.useCallback(I=>m.current.onChange({target:{value:CC(I),name:t},type:Oh.CHANGE}),[t]),w=Fe.useCallback(()=>m.current.onBlur({target:{value:Se(s._formValues,t),name:t},type:Oh.BLUR}),[t,s._formValues]),E=Fe.useCallback(I=>{const N=Se(s._fields,t);N&&I&&(N._f.ref={focus:()=>I.focus&&I.focus(),select:()=>I.select&&I.select(),setCustomValidity:C=>I.setCustomValidity(C),reportValidity:()=>I.reportValidity()})},[s._fields,t]),T=Fe.useMemo(()=>({name:t,value:f,...ur(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:_,onBlur:w,ref:E}),[t,r,d.disabled,_,w,E,f]);return Fe.useEffect(()=>{const I=s._options.shouldUnregister||o;s.register(t,{...h.current.rules,...ur(h.current.disabled)?{disabled:h.current.disabled}:{}});const N=(C,S)=>{const U=Se(s._fields,C);U&&U._f&&(U._f.mount=S)};if(N(t,!0),I){const C=Sn(Se(s._options.defaultValues,t));Tt(s._defaultValues,t,C),qt(Se(s._formValues,t))&&Tt(s._formValues,t,C)}return!u&&s.register(t),()=>{(u?I&&!s._state.action:I)?s.unregister(t):N(t,!1)}},[t,s,u,o]),Fe.useEffect(()=>{s._setDisabledField({disabled:r,name:t})},[r,t,s]),Fe.useMemo(()=>({field:T,formState:d,fieldState:b}),[T,d,b])}const O6=n=>n.render(N6(n));var M6=(n,e,t,r,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[r]:s||!0}}:{},bc=n=>Array.isArray(n)?n:[n],oS=()=>{let n=[];return{get observers(){return n},next:s=>{for(const o of n)o.next&&o.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(o=>o!==s)}}),unsubscribe:()=>{n=[]}}},Gv=n=>Hn(n)||!AC(n);function na(n,e){if(Gv(n)||Gv(e))return n===e;if(no(n)&&no(e))return n.getTime()===e.getTime();const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(const s of t){const o=n[s];if(!r.includes(s))return!1;if(s!=="ref"){const u=e[s];if(no(o)&&no(u)||$t(o)&&$t(u)||Array.isArray(o)&&Array.isArray(u)?!na(o,u):o!==u)return!1}}return!0}var Qn=n=>$t(n)&&!Object.keys(n).length,Sb=n=>n.type==="file",Fr=n=>typeof n=="function",Mh=n=>{if(!bb)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},MC=n=>n.type==="select-multiple",Tb=n=>n.type==="radio",D6=n=>Tb(n)||Jc(n),Zg=n=>Mh(n)&&n.isConnected;function P6(n,e){const t=e.slice(0,-1).length;let r=0;for(;r<t;)n=qt(n)?r++:n[e[r++]];return n}function k6(n){for(const e in n)if(n.hasOwnProperty(e)&&!qt(n[e]))return!1;return!0}function on(n,e){const t=Array.isArray(e)?e:_p(e)?[e]:xb(e),r=t.length===1?n:P6(n,t),s=t.length-1,o=t[s];return r&&delete r[o],s!==0&&($t(r)&&Qn(r)||Array.isArray(r)&&k6(r))&&on(n,t.slice(0,-1)),n}var DC=n=>{for(const e in n)if(Fr(n[e]))return!0;return!1};function Dh(n,e={}){const t=Array.isArray(n);if($t(n)||t)for(const r in n)Array.isArray(n[r])||$t(n[r])&&!DC(n[r])?(e[r]=Array.isArray(n[r])?[]:{},Dh(n[r],e[r])):Hn(n[r])||(e[r]=!0);return e}function PC(n,e,t){const r=Array.isArray(n);if($t(n)||r)for(const s in n)Array.isArray(n[s])||$t(n[s])&&!DC(n[s])?qt(e)||Gv(t[s])?t[s]=Array.isArray(n[s])?Dh(n[s],[]):{...Dh(n[s])}:PC(n[s],Hn(e)?{}:e[s],t[s]):t[s]=!na(n[s],e[s]);return t}var ec=(n,e)=>PC(n,e,Dh(e));const lS={value:!1,isValid:!1},uS={value:!0,isValid:!0};var kC=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!qt(n[0].attributes.value)?qt(n[0].value)||n[0].value===""?uS:{value:n[0].value,isValid:!0}:uS:lS}return lS},VC=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:r})=>qt(n)?n:e?n===""?NaN:n&&+n:t&&gi(n)?new Date(n):r?r(n):n;const cS={isValid:!1,value:null};var jC=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,cS):cS;function dS(n){const e=n.ref;return Sb(e)?e.files:Tb(e)?jC(n.refs).value:MC(e)?[...e.selectedOptions].map(({value:t})=>t):Jc(e)?kC(n.refs).value:VC(qt(e.value)?n.ref.value:e.value,n)}var V6=(n,e,t,r)=>{const s={};for(const o of n){const u=Se(e,o);u&&Tt(s,o,u._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:r}},Ph=n=>n instanceof RegExp,tc=n=>qt(n)?n:Ph(n)?n.source:$t(n)?Ph(n.value)?n.value.source:n.value:n,fS=n=>({isOnSubmit:!n||n===Ur.onSubmit,isOnBlur:n===Ur.onBlur,isOnChange:n===Ur.onChange,isOnAll:n===Ur.all,isOnTouch:n===Ur.onTouched});const hS="AsyncFunction";var j6=n=>!!n&&!!n.validate&&!!(Fr(n.validate)&&n.validate.constructor.name===hS||$t(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===hS)),L6=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),pS=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(r=>n.startsWith(r)&&/^\.\w+/.test(n.slice(r.length))));const _c=(n,e,t,r)=>{for(const s of t||Object.keys(n)){const o=Se(n,s);if(o){const{_f:u,...f}=o;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],s)&&!r)return!0;if(u.ref&&e(u.ref,u.name)&&!r)return!0;if(_c(f,e))break}else if($t(f)&&_c(f,e))break}}};function mS(n,e,t){const r=Se(n,t);if(r||_p(t))return{error:r,name:t};const s=t.split(".");for(;s.length;){const o=s.join("."),u=Se(e,o),f=Se(n,o);if(u&&!Array.isArray(u)&&t!==o)return{name:t};if(f&&f.type)return{name:o,error:f};if(f&&f.root&&f.root.type)return{name:`${o}.root`,error:f.root};s.pop()}return{name:t}}var U6=(n,e,t,r)=>{t(n);const{name:s,...o}=n;return Qn(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(u=>e[u]===(!r||Ur.all))},F6=(n,e,t)=>!n||!e||n===e||bc(n).some(r=>r&&(t?r===e:r.startsWith(e)||e.startsWith(r))),z6=(n,e,t,r,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?r.isOnBlur:s.isOnBlur)?!n:(t?r.isOnChange:s.isOnChange)?n:!0,B6=(n,e)=>!_b(Se(n,e)).length&&on(n,e),H6=(n,e,t)=>{const r=bc(Se(n,t));return Tt(r,"root",e[t]),Tt(n,t,r),n},Wf=n=>gi(n);function gS(n,e,t="validate"){if(Wf(n)||Array.isArray(n)&&n.every(Wf)||ur(n)&&!n)return{type:t,message:Wf(n)?n:"",ref:e}}var ul=n=>$t(n)&&!Ph(n)?n:{value:n,message:""},vS=async(n,e,t,r,s,o)=>{const{ref:u,refs:f,required:d,maxLength:h,minLength:m,min:b,max:_,pattern:w,validate:E,name:T,valueAsNumber:I,mount:N}=n._f,C=Se(t,T);if(!N||e.has(T))return{};const S=f?f[0]:u,U=B=>{s&&S.reportValidity&&(S.setCustomValidity(ur(B)?"":B||""),S.reportValidity())},k={},Y=Tb(u),P=Jc(u),M=Y||P,D=(I||Sb(u))&&qt(u.value)&&qt(C)||Mh(u)&&u.value===""||C===""||Array.isArray(C)&&!C.length,j=M6.bind(null,T,r,k),z=(B,V,ie,ee=is.maxLength,H=is.minLength)=>{const se=B?V:ie;k[T]={type:B?ee:H,message:se,ref:u,...j(B?ee:H,se)}};if(o?!Array.isArray(C)||!C.length:d&&(!M&&(D||Hn(C))||ur(C)&&!C||P&&!kC(f).isValid||Y&&!jC(f).isValid)){const{value:B,message:V}=Wf(d)?{value:!!d,message:d}:ul(d);if(B&&(k[T]={type:is.required,message:V,ref:S,...j(is.required,V)},!r))return U(V),k}if(!D&&(!Hn(b)||!Hn(_))){let B,V;const ie=ul(_),ee=ul(b);if(!Hn(C)&&!isNaN(C)){const H=u.valueAsNumber||C&&+C;Hn(ie.value)||(B=H>ie.value),Hn(ee.value)||(V=H<ee.value)}else{const H=u.valueAsDate||new Date(C),se=$=>new Date(new Date().toDateString()+" "+$),he=u.type=="time",_e=u.type=="week";gi(ie.value)&&C&&(B=he?se(C)>se(ie.value):_e?C>ie.value:H>new Date(ie.value)),gi(ee.value)&&C&&(V=he?se(C)<se(ee.value):_e?C<ee.value:H<new Date(ee.value))}if((B||V)&&(z(!!B,ie.message,ee.message,is.max,is.min),!r))return U(k[T].message),k}if((h||m)&&!D&&(gi(C)||o&&Array.isArray(C))){const B=ul(h),V=ul(m),ie=!Hn(B.value)&&C.length>+B.value,ee=!Hn(V.value)&&C.length<+V.value;if((ie||ee)&&(z(ie,B.message,V.message),!r))return U(k[T].message),k}if(w&&!D&&gi(C)){const{value:B,message:V}=ul(w);if(Ph(B)&&!C.match(B)&&(k[T]={type:is.pattern,message:V,ref:u,...j(is.pattern,V)},!r))return U(V),k}if(E){if(Fr(E)){const B=await E(C,t),V=gS(B,S);if(V&&(k[T]={...V,...j(is.validate,V.message)},!r))return U(V.message),k}else if($t(E)){let B={};for(const V in E){if(!Qn(B)&&!r)break;const ie=gS(await E[V](C,t),S,V);ie&&(B={...ie,...j(V,ie.message)},U(ie.message),r&&(k[T]=B))}if(!Qn(B)&&(k[T]={ref:S,...B},!r))return k}}return U(!0),k};const q6={mode:Ur.onSubmit,reValidateMode:Ur.onChange,shouldFocusError:!0};function $6(n={}){let e={...q6,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=$t(e.defaultValues)||$t(e.values)?Sn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Sn(s),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...m};const _={array:oS(),state:oS()},w=e.criteriaMode===Ur.all,E=G=>J=>{clearTimeout(h),h=setTimeout(G,J)},T=async G=>{if(!e.disabled&&(m.isValid||b.isValid||G)){const J=e.resolver?Qn((await P()).errors):await D(r,!0);J!==t.isValid&&_.state.next({isValid:J})}},I=(G,J)=>{!e.disabled&&(m.isValidating||m.validatingFields||b.isValidating||b.validatingFields)&&((G||Array.from(f.mount)).forEach(ae=>{ae&&(J?Tt(t.validatingFields,ae,J):on(t.validatingFields,ae))}),_.state.next({validatingFields:t.validatingFields,isValidating:!Qn(t.validatingFields)}))},N=(G,J=[],ae,ve,ye=!0,ge=!0)=>{if(ve&&ae&&!e.disabled){if(u.action=!0,ge&&Array.isArray(Se(r,G))){const Ee=ae(Se(r,G),ve.argA,ve.argB);ye&&Tt(r,G,Ee)}if(ge&&Array.isArray(Se(t.errors,G))){const Ee=ae(Se(t.errors,G),ve.argA,ve.argB);ye&&Tt(t.errors,G,Ee),B6(t.errors,G)}if((m.touchedFields||b.touchedFields)&&ge&&Array.isArray(Se(t.touchedFields,G))){const Ee=ae(Se(t.touchedFields,G),ve.argA,ve.argB);ye&&Tt(t.touchedFields,G,Ee)}(m.dirtyFields||b.dirtyFields)&&(t.dirtyFields=ec(s,o)),_.state.next({name:G,isDirty:z(G,J),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Tt(o,G,J)},C=(G,J)=>{Tt(t.errors,G,J),_.state.next({errors:t.errors})},S=G=>{t.errors=G,_.state.next({errors:t.errors,isValid:!1})},U=(G,J,ae,ve)=>{const ye=Se(r,G);if(ye){const ge=Se(o,G,qt(ae)?Se(s,G):ae);qt(ge)||ve&&ve.defaultChecked||J?Tt(o,G,J?ge:dS(ye._f)):ie(G,ge),u.mount&&T()}},k=(G,J,ae,ve,ye)=>{let ge=!1,Ee=!1;const Ne={name:G};if(!e.disabled){if(!ae||ve){(m.isDirty||b.isDirty)&&(Ee=t.isDirty,t.isDirty=Ne.isDirty=z(),ge=Ee!==Ne.isDirty);const Qe=na(Se(s,G),J);Ee=!!Se(t.dirtyFields,G),Qe?on(t.dirtyFields,G):Tt(t.dirtyFields,G,!0),Ne.dirtyFields=t.dirtyFields,ge=ge||(m.dirtyFields||b.dirtyFields)&&Ee!==!Qe}if(ae){const Qe=Se(t.touchedFields,G);Qe||(Tt(t.touchedFields,G,ae),Ne.touchedFields=t.touchedFields,ge=ge||(m.touchedFields||b.touchedFields)&&Qe!==ae)}ge&&ye&&_.state.next(Ne)}return ge?Ne:{}},Y=(G,J,ae,ve)=>{const ye=Se(t.errors,G),ge=(m.isValid||b.isValid)&&ur(J)&&t.isValid!==J;if(e.delayError&&ae?(d=E(()=>C(G,ae)),d(e.delayError)):(clearTimeout(h),d=null,ae?Tt(t.errors,G,ae):on(t.errors,G)),(ae?!na(ye,ae):ye)||!Qn(ve)||ge){const Ee={...ve,...ge&&ur(J)?{isValid:J}:{},errors:t.errors,name:G};t={...t,...Ee},_.state.next(Ee)}},P=async G=>{I(G,!0);const J=await e.resolver(o,e.context,V6(G||f.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return I(G),J},M=async G=>{const{errors:J}=await P(G);if(G)for(const ae of G){const ve=Se(J,ae);ve?Tt(t.errors,ae,ve):on(t.errors,ae)}else t.errors=J;return J},D=async(G,J,ae={valid:!0})=>{for(const ve in G){const ye=G[ve];if(ye){const{_f:ge,...Ee}=ye;if(ge){const Ne=f.array.has(ge.name),Qe=ye._f&&j6(ye._f);Qe&&m.validatingFields&&I([ve],!0);const vt=await vS(ye,f.disabled,o,w,e.shouldUseNativeValidation&&!J,Ne);if(Qe&&m.validatingFields&&I([ve]),vt[ge.name]&&(ae.valid=!1,J))break;!J&&(Se(vt,ge.name)?Ne?H6(t.errors,vt,ge.name):Tt(t.errors,ge.name,vt[ge.name]):on(t.errors,ge.name))}!Qn(Ee)&&await D(Ee,J,ae)}}return ae.valid},j=()=>{for(const G of f.unMount){const J=Se(r,G);J&&(J._f.refs?J._f.refs.every(ae=>!Zg(ae)):!Zg(J._f.ref))&&ut(G)}f.unMount=new Set},z=(G,J)=>!e.disabled&&(G&&J&&Tt(o,G,J),!na($(),s)),B=(G,J,ae)=>OC(G,f,{...u.mount?o:qt(J)?s:gi(G)?{[G]:J}:J},ae,J),V=G=>_b(Se(u.mount?o:s,G,e.shouldUnregister?Se(s,G,[]):[])),ie=(G,J,ae={})=>{const ve=Se(r,G);let ye=J;if(ve){const ge=ve._f;ge&&(!ge.disabled&&Tt(o,G,VC(J,ge)),ye=Mh(ge.ref)&&Hn(J)?"":J,MC(ge.ref)?[...ge.ref.options].forEach(Ee=>Ee.selected=ye.includes(Ee.value)):ge.refs?Jc(ge.ref)?ge.refs.forEach(Ee=>{(!Ee.defaultChecked||!Ee.disabled)&&(Array.isArray(ye)?Ee.checked=!!ye.find(Ne=>Ne===Ee.value):Ee.checked=ye===Ee.value||!!ye)}):ge.refs.forEach(Ee=>Ee.checked=Ee.value===ye):Sb(ge.ref)?ge.ref.value="":(ge.ref.value=ye,ge.ref.type||_.state.next({name:G,values:Sn(o)})))}(ae.shouldDirty||ae.shouldTouch)&&k(G,ye,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&_e(G)},ee=(G,J,ae)=>{for(const ve in J){if(!J.hasOwnProperty(ve))return;const ye=J[ve],ge=G+"."+ve,Ee=Se(r,ge);(f.array.has(G)||$t(ye)||Ee&&!Ee._f)&&!no(ye)?ee(ge,ye,ae):ie(ge,ye,ae)}},H=(G,J,ae={})=>{const ve=Se(r,G),ye=f.array.has(G),ge=Sn(J);Tt(o,G,ge),ye?(_.array.next({name:G,values:Sn(o)}),(m.isDirty||m.dirtyFields||b.isDirty||b.dirtyFields)&&ae.shouldDirty&&_.state.next({name:G,dirtyFields:ec(s,o),isDirty:z(G,ge)})):ve&&!ve._f&&!Hn(ge)?ee(G,ge,ae):ie(G,ge,ae),pS(G,f)&&_.state.next({...t}),_.state.next({name:u.mount?G:void 0,values:Sn(o)})},se=async G=>{u.mount=!0;const J=G.target;let ae=J.name,ve=!0;const ye=Se(r,ae),ge=Qe=>{ve=Number.isNaN(Qe)||no(Qe)&&isNaN(Qe.getTime())||na(Qe,Se(o,ae,Qe))},Ee=fS(e.mode),Ne=fS(e.reValidateMode);if(ye){let Qe,vt;const Ii=J.type?dS(ye._f):CC(G),pr=G.type===Oh.BLUR||G.type===Oh.FOCUS_OUT,Ni=!L6(ye._f)&&!e.resolver&&!Se(t.errors,ae)&&!ye._f.deps||z6(pr,Se(t.touchedFields,ae),t.isSubmitted,Ne,Ee),Mr=pS(ae,f,pr);Tt(o,ae,Ii),pr?(ye._f.onBlur&&ye._f.onBlur(G),d&&d(0)):ye._f.onChange&&ye._f.onChange(G);const Dr=k(ae,Ii,pr),Jn=!Qn(Dr)||Mr;if(!pr&&_.state.next({name:ae,type:G.type,values:Sn(o)}),Ni)return(m.isValid||b.isValid)&&(e.mode==="onBlur"?pr&&T():pr||T()),Jn&&_.state.next({name:ae,...Mr?{}:Dr});if(!pr&&Mr&&_.state.next({...t}),e.resolver){const{errors:Oi}=await P([ae]);if(ge(Ii),ve){const Mi=mS(t.errors,r,ae),ws=mS(Oi,r,Mi.name||ae);Qe=ws.error,ae=ws.name,vt=Qn(Oi)}}else I([ae],!0),Qe=(await vS(ye,f.disabled,o,w,e.shouldUseNativeValidation))[ae],I([ae]),ge(Ii),ve&&(Qe?vt=!1:(m.isValid||b.isValid)&&(vt=await D(r,!0)));ve&&(ye._f.deps&&_e(ye._f.deps),Y(ae,vt,Qe,Dr))}},he=(G,J)=>{if(Se(t.errors,J)&&G.focus)return G.focus(),1},_e=async(G,J={})=>{let ae,ve;const ye=bc(G);if(e.resolver){const ge=await M(qt(G)?G:ye);ae=Qn(ge),ve=G?!ye.some(Ee=>Se(ge,Ee)):ae}else G?(ve=(await Promise.all(ye.map(async ge=>{const Ee=Se(r,ge);return await D(Ee&&Ee._f?{[ge]:Ee}:Ee)}))).every(Boolean),!(!ve&&!t.isValid)&&T()):ve=ae=await D(r);return _.state.next({...!gi(G)||(m.isValid||b.isValid)&&ae!==t.isValid?{}:{name:G},...e.resolver||!G?{isValid:ae}:{},errors:t.errors}),J.shouldFocus&&!ve&&_c(r,he,G?ye:f.mount),ve},$=G=>{const J={...u.mount?o:s};return qt(G)?J:gi(G)?Se(J,G):G.map(ae=>Se(J,ae))},le=(G,J)=>({invalid:!!Se((J||t).errors,G),isDirty:!!Se((J||t).dirtyFields,G),error:Se((J||t).errors,G),isValidating:!!Se(t.validatingFields,G),isTouched:!!Se((J||t).touchedFields,G)}),me=G=>{G&&bc(G).forEach(J=>on(t.errors,J)),_.state.next({errors:G?t.errors:{}})},pe=(G,J,ae)=>{const ve=(Se(r,G,{_f:{}})._f||{}).ref,ye=Se(t.errors,G)||{},{ref:ge,message:Ee,type:Ne,...Qe}=ye;Tt(t.errors,G,{...Qe,...J,ref:ve}),_.state.next({name:G,errors:t.errors,isValid:!1}),ae&&ae.shouldFocus&&ve&&ve.focus&&ve.focus()},Te=(G,J)=>Fr(G)?_.state.subscribe({next:ae=>G(B(void 0,J),ae)}):B(G,J,!0),ke=G=>_.state.subscribe({next:J=>{F6(G.name,J.name,G.exact)&&U6(J,G.formState||m,yn,G.reRenderRoot)&&G.callback({values:{...o},...t,...J})}}).unsubscribe,Ie=G=>(u.mount=!0,b={...b,...G.formState},ke({...G,formState:b})),ut=(G,J={})=>{for(const ae of G?bc(G):f.mount)f.mount.delete(ae),f.array.delete(ae),J.keepValue||(on(r,ae),on(o,ae)),!J.keepError&&on(t.errors,ae),!J.keepDirty&&on(t.dirtyFields,ae),!J.keepTouched&&on(t.touchedFields,ae),!J.keepIsValidating&&on(t.validatingFields,ae),!e.shouldUnregister&&!J.keepDefaultValue&&on(s,ae);_.state.next({values:Sn(o)}),_.state.next({...t,...J.keepDirty?{isDirty:z()}:{}}),!J.keepIsValid&&T()},Ye=({disabled:G,name:J})=>{(ur(G)&&u.mount||G||f.disabled.has(J))&&(G?f.disabled.add(J):f.disabled.delete(J))},Lt=(G,J={})=>{let ae=Se(r,G);const ve=ur(J.disabled)||ur(e.disabled);return Tt(r,G,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:G}},name:G,mount:!0,...J}}),f.mount.add(G),ae?Ye({disabled:ur(J.disabled)?J.disabled:e.disabled,name:G}):U(G,!0,J.value),{...ve?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:tc(J.min),max:tc(J.max),minLength:tc(J.minLength),maxLength:tc(J.maxLength),pattern:tc(J.pattern)}:{},name:G,onChange:se,onBlur:se,ref:ye=>{if(ye){Lt(G,J),ae=Se(r,G);const ge=qt(ye.value)&&ye.querySelectorAll&&ye.querySelectorAll("input,select,textarea")[0]||ye,Ee=D6(ge),Ne=ae._f.refs||[];if(Ee?Ne.find(Qe=>Qe===ge):ge===ae._f.ref)return;Tt(r,G,{_f:{...ae._f,...Ee?{refs:[...Ne.filter(Zg),ge,...Array.isArray(Se(s,G))?[{}]:[]],ref:{type:ge.type,name:G}}:{ref:ge}}}),U(G,!1,void 0,ge)}else ae=Se(r,G,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(RC(f.array,G)&&u.action)&&f.unMount.add(G)}}},Nn=()=>e.shouldFocusError&&_c(r,he,f.mount),xe=G=>{ur(G)&&(_.state.next({disabled:G}),_c(r,(J,ae)=>{const ve=Se(r,ae);ve&&(J.disabled=ve._f.disabled||G,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(ye=>{ye.disabled=ve._f.disabled||G}))},0,!1))},we=(G,J)=>async ae=>{let ve;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let ye=Sn(o);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:ge,values:Ee}=await P();t.errors=ge,ye=Ee}else await D(r);if(f.disabled.size)for(const ge of f.disabled)Tt(ye,ge,void 0);if(on(t.errors,"root"),Qn(t.errors)){_.state.next({errors:{}});try{await G(ye,ae)}catch(ge){ve=ge}}else J&&await J({...t.errors},ae),Nn(),setTimeout(Nn);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Qn(t.errors)&&!ve,submitCount:t.submitCount+1,errors:t.errors}),ve)throw ve},Ge=(G,J={})=>{Se(r,G)&&(qt(J.defaultValue)?H(G,Sn(Se(s,G))):(H(G,J.defaultValue),Tt(s,G,Sn(J.defaultValue))),J.keepTouched||on(t.touchedFields,G),J.keepDirty||(on(t.dirtyFields,G),t.isDirty=J.defaultValue?z(G,Sn(Se(s,G))):z()),J.keepError||(on(t.errors,G),m.isValid&&T()),_.state.next({...t}))},Ze=(G,J={})=>{const ae=G?Sn(G):s,ve=Sn(ae),ye=Qn(G),ge=ye?s:ve;if(J.keepDefaultValues||(s=ae),!J.keepValues){if(J.keepDirtyValues){const Ee=new Set([...f.mount,...Object.keys(ec(s,o))]);for(const Ne of Array.from(Ee))Se(t.dirtyFields,Ne)?Tt(ge,Ne,Se(o,Ne)):H(Ne,Se(ge,Ne))}else{if(bb&&qt(G))for(const Ee of f.mount){const Ne=Se(r,Ee);if(Ne&&Ne._f){const Qe=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(Mh(Qe)){const vt=Qe.closest("form");if(vt){vt.reset();break}}}}for(const Ee of f.mount)H(Ee,Se(ge,Ee))}o=Sn(ge),_.array.next({values:{...ge}}),_.state.next({values:{...ge}})}f={mount:J.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!m.isValid||!!J.keepIsValid||!!J.keepDirtyValues,u.watch=!!e.shouldUnregister,_.state.next({submitCount:J.keepSubmitCount?t.submitCount:0,isDirty:ye?!1:J.keepDirty?t.isDirty:!!(J.keepDefaultValues&&!na(G,s)),isSubmitted:J.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ye?{}:J.keepDirtyValues?J.keepDefaultValues&&o?ec(s,o):t.dirtyFields:J.keepDefaultValues&&G?ec(s,G):J.keepDirty?t.dirtyFields:{},touchedFields:J.keepTouched?t.touchedFields:{},errors:J.keepErrors?t.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Ct=(G,J)=>Ze(Fr(G)?G(o):G,J),Ci=(G,J={})=>{const ae=Se(r,G),ve=ae&&ae._f;if(ve){const ye=ve.refs?ve.refs[0]:ve.ref;ye.focus&&(ye.focus(),J.shouldSelect&&Fr(ye.select)&&ye.select())}},yn=G=>{t={...t,...G}},Qr={control:{register:Lt,unregister:ut,getFieldState:le,handleSubmit:we,setError:pe,_subscribe:ke,_runSchema:P,_focusError:Nn,_getWatch:B,_getDirty:z,_setValid:T,_setFieldArray:N,_setDisabledField:Ye,_setErrors:S,_getFieldArray:V,_reset:Ze,_resetDefaultValues:()=>Fr(e.defaultValues)&&e.defaultValues().then(G=>{Ct(G,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:j,_disableForm:xe,_subjects:_,_proxyFormState:m,get _fields(){return r},get _formValues(){return o},get _state(){return u},set _state(G){u=G},get _defaultValues(){return s},get _names(){return f},set _names(G){f=G},get _formState(){return t},get _options(){return e},set _options(G){e={...e,...G}}},subscribe:Ie,trigger:_e,register:Lt,handleSubmit:we,watch:Te,setValue:H,getValues:$,reset:Ct,resetField:Ge,clearErrors:me,unregister:ut,setError:pe,setFocus:Ci,getFieldState:le};return{...Qr,formControl:Qr}}function Ab(n={}){const e=Fe.useRef(void 0),t=Fe.useRef(void 0),[r,s]=Fe.useState({isDirty:!1,isValidating:!1,isLoading:Fr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:Fr(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:r},n.defaultValues&&!Fr(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:u,...f}=$6(n);e.current={...f,formState:r}}const o=e.current.control;return o._options=n,Eb(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(f=>({...f,isReady:!0})),o._formState.isReady=!0,u},[o]),Fe.useEffect(()=>o._disableForm(n.disabled),[o,n.disabled]),Fe.useEffect(()=>{n.mode&&(o._options.mode=n.mode),n.reValidateMode&&(o._options.reValidateMode=n.reValidateMode)},[o,n.mode,n.reValidateMode]),Fe.useEffect(()=>{n.errors&&(o._setErrors(n.errors),o._focusError())},[o,n.errors]),Fe.useEffect(()=>{n.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,n.shouldUnregister]),Fe.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==r.isDirty&&o._subjects.state.next({isDirty:u})}},[o,r.isDirty]),Fe.useEffect(()=>{n.values&&!na(n.values,t.current)?(o._reset(n.values,o._options.resetOptions),t.current=n.values,s(u=>({...u}))):o._resetDefaultValues()},[o,n.values]),Fe.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=NC(r,o),e.current}function Cr({name:n,label:e,register:t,rules:r={},type:s="text",error:o}){return v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{htmlFor:n,className:"text-sm font-medium text-gray-700",children:e}),v.jsx("input",{type:s,id:n,...t(n,r),className:`border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black ${o?"border-red-500":"border-gray-300"}`}),o&&v.jsx("span",{className:"text-xs text-red-500 mt-1",children:o.message})]})}function kh({name:n,label:e,options:t=[],register:r,required:s=!1,error:o}){return v.jsxs("div",{className:"flex flex-col gap-1",children:[v.jsx("label",{htmlFor:n,className:"text-sm font-medium text-gray-700",children:e}),v.jsxs("select",{id:n,...r(n,{required:s?"Este campo es obligatorio":!1}),className:`border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black ${o?"border-red-500":"border-gray-300"}`,children:[v.jsx("option",{value:"",children:"Seleccione una opción"}),t.map((u,f)=>v.jsx("option",{value:u,children:u},f))]}),o&&v.jsx("span",{className:"text-xs text-red-500 mt-1",children:o.message})]})}const Vh={Lima:["Miraflores","San Isidro","Barranco","Surco","San Borja","La Molina","Lince","Jesus María","Pueblo Libre","San Miguel","Callao"],Arequipa:["Cercado","Yanahuara","Cayma","José Luis Bustamante y Rivero","Miraflores (Arequipa)"],Trujillo:["Trujillo Centro","El Porvenir","Florencia de Mora","La Esperanza"],Cusco:["Cusco Centro","San Sebastián","San Jerónimo","Santiago"],Piura:["Piura Centro","Castilla","Veintiséis de Octubre"]},G6=void 0;function Y6(){const{carrito:n,vaciarCarrito:e}=bp(),t=cn(),{register:r,handleSubmit:s,watch:o,reset:u,formState:{errors:f,isValid:d}}=Ab({mode:"onChange"}),[h,m]=O.useState(!1),[b,_]=O.useState(!1),w=O.useMemo(()=>{try{const S=JSON.parse(localStorage.getItem("usuario"));return(S==null?void 0:S.usuarioMayorista)===!0}catch(S){return console.error("Error:",S),!1}},[]),E=Object.keys(Vh),T=o("ciudad")?Vh[o("ciudad")]:[];O.useEffect(()=>{const S=Jt.currentUser;S&&(async()=>{const k=jn(it,"usuarios",S.uid),Y=await gp(k);if(Y.exists()){const P=Y.data(),M=S.displayName||"",[D,j]=M.split(" ");u({nombre:D||"",apellido:j||"",telefono:P.telefono||"",dni:P.dni||"",direccion:P.direccion||"",codigopostal:P.codigopostal||"",ciudad:P.ciudad||"",notas:P.notas||""}),setTimeout(()=>{u(z=>({...z,distrito:P.distrito||""}))},50)}})()},[u]);const I=O.useMemo(()=>n.reduce((S,U)=>{const k=w?U.precioMayorista:U.precioDescuento||U.precio;return S+k*U.cantidad},0),[n,w]),N=async S=>{var U;if(_(!0),!d){console.warn("Formulario inválido"),_(!1);return}try{const k=await d6();await cb(en(it,"ordenes"),{uid:((U=Jt.currentUser)==null?void 0:U.uid)||"",numeroOrden:k,cliente:S,estado:"pendiente",carrito:n,total:I,creadoEn:Zj()});const Y=SC(k,S,n,I),P=`https://wa.me/${G6||"51944788568"}?text=${encodeURIComponent(Y)}`;window.open(P,"_blank"),_(!1),m(!0)}catch(k){console.error("Error al registrar la orden:",k)}},C=()=>{e(),m(!1),u(),t("/")};return v.jsxs("div",{className:"p-4 max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs("form",{onSubmit:s(N),className:"p-6",noValidate:!0,children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Información de Envío"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(Cr,{label:"Nombre",name:"nombre",register:r,rules:{required:"Obligatorio",pattern:{value:/^[A-Za-z\s]+$/,message:"Solo letras"}},error:f.nombre}),v.jsx(Cr,{label:"Apellido",name:"apellido",register:r,rules:{required:"Obligatorio",pattern:{value:/^[A-Za-z\s]+$/,message:"Solo letras"}},error:f.apellido}),v.jsx(Cr,{label:"DNI",name:"dni",register:r,rules:{required:"Obligatorio",pattern:{value:/^[0-9]{8}$/,message:"8 dígitos"}},error:f.dni}),v.jsx(Cr,{label:"Teléfono",name:"telefono",register:r,rules:{required:"Obligatorio",pattern:{value:/^[0-9]+$/,message:"Solo números"}},error:f.telefono}),v.jsx(Cr,{label:"Dirección",name:"direccion",register:r,rules:{required:"Obligatorio"},error:f.direccion}),v.jsx(Cr,{label:"Código Postal",name:"codigopostal",register:r,rules:{required:"Obligatorio",pattern:{value:/^[0-9]{1,6}$/,message:"Máximo 6 dígitos"}},error:f.codigopostal}),v.jsx(kh,{label:"Ciudad",name:"ciudad",options:E,register:r,error:f.ciudad,required:!0}),v.jsx(kh,{label:"Distrito",name:"distrito",options:T,register:r,error:f.distrito,required:!0})]}),v.jsxs("div",{className:"mt-3",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales"}),v.jsx("textarea",{...r("notas"),rows:4,className:"w-full border rounded px-3 py-2 text-sm resize-none",placeholder:"Punto de referencia, facturación, etc."})]}),v.jsx("div",{className:"pt-4",children:v.jsx("button",{type:"submit",disabled:!d||b,className:`w-full py-3 rounded font-semibold transition ${d&&!b?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:b?"Enviando...":"Enviar compra"})})]}),v.jsxs("div",{className:"bg-gray-100 p-4 rounded shadow-md",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumen de compra"}),n.map((S,U)=>{const k=w?S.precioMayorista:S.precioDescuento||S.precio;return v.jsxs("div",{className:"flex items-center gap-4 mb-3 border-b pb-2",children:[v.jsx("img",{src:po(S.imagen),alt:`Imagen de ${S.nombre}`,loading:"lazy",className:"w-16 h-16 object-cover rounded"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold",children:S.nombre}),v.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:["Talla: ",S.talla," | Color: ",S.color]}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",S.cantidad]}),v.jsxs("p",{className:"text-sm font-medium text-gray-800",children:["S/ ",(k*S.cantidad).toFixed(2)]})]})]},U)}),v.jsxs("div",{className:"mt-4 pt-4 text-right font-bold text-lg",children:["Total: S/ ",I.toFixed(2)]}),v.jsx("p",{className:"text-xs text-gray-600 mt-1 text-right",children:"* No incluye delivery"})]}),h&&v.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full shadow-lg text-center",children:[v.jsx("h3",{className:"text-xl font-bold mb-2",children:"¡Gracias por tu compra!"}),v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Por favor envía la orden por WhatsApp. Un asesor se comunicará contigo."}),v.jsx("button",{onClick:C,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Muchas gracias"})]})})]})}function K6(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,o]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(""),m=cn(),b=async _=>{_.preventDefault(),h("");try{const E=(await CD(Jt,n,t)).user;if(await E.reload(),!E.emailVerified)return await Jt.signOut(),h("Debes verificar tu correo antes de iniciar sesión.");const T=jn(it,"usuarios",E.uid),I=await gp(T);if(I.exists()&&I.data().active===!1)return await Jt.signOut(),h("Tu cuenta ha sido desactivada. Contacta con soporte.");if(!I.exists())return await Jt.signOut(),h("Tu cuenta presenta errores. Contacta con soporte.");const N=I.data(),{rol:C,usuarioMayorista:S=!1}=N;localStorage.removeItem("usuario"),sessionStorage.removeItem("usuario");const U=JSON.stringify({uid:E.uid,rol:C,usuarioMayorista:S});u?localStorage.setItem("usuario",U):(localStorage.setItem("usuario",U),sessionStorage.setItem("usuario",U)),m(C==="admin"?"/admin/dashboard":"/")}catch(w){console.error(w),h("Correo o contraseña incorrectos")}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:b,className:"w-full max-w-md p-6 border border-gray-200 rounded-xl shadow space-y-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Iniciar sesión"}),d&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:d}),v.jsxs("div",{className:"space-y-5",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1 text-black",children:"Correo electrónico"}),v.jsx("input",{type:"email",placeholder:"ejemplo@correo.com",value:n,onChange:_=>e(_.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm mb-1 text-black",children:"Contraseña"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:s?"text":"password",placeholder:"Contraseña",value:t,onChange:_=>r(_.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),v.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-2.5 text-gray-600",children:s?v.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]})]}),v.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 my-2",children:[v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",checked:u,onChange:()=>f(!u),className:"form-checkbox border-gray-400"}),v.jsx("span",{children:"Recuérdame"})]}),v.jsx("button",{type:"button",onClick:()=>m("/forgotPassword"),className:"text-black hover:underline",children:"¿Olvidaste tu contraseña?"})]})]}),v.jsx("button",{type:"submit",className:"w-full py-2 bg-black text-white rounded hover:bg-gray-800 transition",children:"Iniciar sesión"}),v.jsxs("p",{className:"text-center text-sm text-gray-700 my-1",children:["¿No tienes cuenta?"," ",v.jsx("button",{type:"button",onClick:()=>m("/register"),className:"text-black hover:underline",children:"Registrarme"})]}),v.jsx("p",{className:"text-center text-sm text-gray-700 my-1",children:v.jsx("button",{type:"button",onClick:()=>m("/"),className:"text-black hover:underline",children:"Volver a la página principal"})})]})})}function Q6(){const[n,e]=O.useState({name:"",lastname:"",email:"",password:"",confirmPassword:""}),[t,r]=O.useState(""),[s,o]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(!1),m=cn(),b=w=>{e({...n,[w.target.name]:w.target.value})},_=async w=>{if(w.preventDefault(),r(""),n.password!==n.confirmPassword)return r("Las contraseñas no coinciden.");h(!0);try{const T=(await AD(Jt,n.email,n.password)).user;await XT(T,{displayName:`${n.name} ${n.lastname}`}),await $A(jn(it,"usuarios",T.uid),{uid:T.uid,email:T.email,rol:"cliente",usuarioMayorista:!1,nombre:n.name,active:!0,apellido:n.lastname,creadoEn:new Date}),await RD(T),m("/confirmar")}catch(E){console.error(E),E.code==="auth/email-already-in-use"?r("Este correo ya está registrado."):r("No se pudo registrar el usuario.")}finally{h(!1)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:_,className:"flex flex-col w-full max-w-md p-6 gap-2 border border-gray-200 rounded-xl shadow space-y-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Crear cuenta"}),t&&v.jsx("p",{className:"text-red-500 text-sm text-center",children:t}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx("input",{name:"name",type:"text",placeholder:"Nombre",value:n.name,onChange:b,required:!0,className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),v.jsx("input",{name:"lastname",type:"text",placeholder:"Apellido",value:n.lastname,onChange:b,required:!0,className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),v.jsx("input",{name:"email",type:"email",placeholder:"Correo electrónico",value:n.email,onChange:b,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{name:"password",type:s?"text":"password",placeholder:"Contraseña",value:n.password,onChange:b,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),v.jsx("button",{type:"button",onClick:()=>o(!s),className:"absolute right-3 top-2.5 text-gray-600",children:s?v.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{name:"confirmPassword",type:u?"text":"password",placeholder:"Confirmar contraseña",value:n.confirmPassword,onChange:b,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),v.jsx("button",{type:"button",onClick:()=>f(!u),className:"absolute right-3 top-2.5 text-gray-600",children:u?v.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsx("button",{type:"submit",disabled:d,className:`w-full py-2 text-white rounded transition ${d?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:d?"Creando cuenta...":"Registrarme"}),v.jsxs("p",{className:"text-sm text-center text-gray-600",children:["¿Ya tienes cuenta?"," ",v.jsx("a",{href:"/nikos/login",className:"text-black underline",children:"Inicia sesión"})]}),v.jsx("p",{className:"text-center text-sm text-gray-700 my-1",children:v.jsx("button",{type:"button",onClick:()=>m("/"),className:"text-black hover:underline",children:"Volver a la pagina principal"})})]})})}function X6(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,o]=O.useState(!1),u=cn(),f=async d=>{d.preventDefault(),o(!0),r("");try{await ED(Jt,n,{url:`${window.location.origin}/reset`,handleCodeInApp:!0}),r("📬 Se ha enviado un enlace para restablecer tu contraseña. Redirigiendo..."),setTimeout(()=>u("/login"),3e3)}catch(h){r("❌ Ocurrió un error: "+h.message)}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:f,className:"flex flex-col gap-2 w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-black text-center",children:"Recuperar Contraseña"}),t&&v.jsx("p",{className:`text-sm text-center ${t.startsWith("❌")?"text-red-500":"text-green-600"}`,children:t}),v.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:d=>e(d.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),v.jsx("button",{type:"submit",disabled:s,className:`w-full py-2 text-white rounded transition ${s?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:s?"Enviando...":"Enviar enlace"}),v.jsxs("p",{className:"text-sm text-center text-gray-600",children:["¿Ya recordaste tu contraseña?"," ",v.jsx("button",{type:"button",onClick:()=>u("/login"),className:"text-black underline",children:"Inicia sesión"})]})]})})}function W6(){const[n]=uy(),[e,t]=O.useState(""),[r,s]=O.useState(""),[o,u]=O.useState(!1),[f,d]=O.useState(!1),[h,m]=O.useState(""),[b,_]=O.useState(!1),w=cn(),E=n.get("oobCode"),T=async N=>{if(N.preventDefault(),m(""),e!==r)return m("Las contraseñas no coinciden.");_(!0);try{await SD(Jt,E,e),m("Contraseña restablecida. Redirigiendo..."),setTimeout(()=>w("/login"),3e3)}catch(C){console.log(C),m("Error al cambiar la contraseña. Ya ha usado este enlace. Redirigiendo..."),setTimeout(()=>w("/login"),3e3)}};O.useEffect(()=>{E||m("Código inválido.")},[E]);const I=h.toLowerCase().includes("error")||h.toLowerCase().includes("inválido")||h.toLowerCase().includes("coinciden")||h.toLowerCase().includes("enlace");return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("form",{onSubmit:T,className:"flex flex-col gap-2 w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[v.jsx("h2",{className:"text-2xl font-semibold text-black text-center",children:"Nueva Contraseña"}),h&&v.jsx("p",{className:`text-sm text-center ${I?"text-red-500":"text-green-600"}`,children:h}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:o?"text":"password",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Nueva contraseña",value:e,onChange:N=>t(N.target.value),required:!0}),v.jsx("button",{type:"button",onClick:()=>u(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:o?v.jsx("i",{className:"bx  bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:f?"text":"password",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Confirmar contraseña",value:r,onChange:N=>s(N.target.value),required:!0}),v.jsx("button",{type:"button",onClick:()=>d(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:f?v.jsx("i",{className:"bx  bx-eye-slash h-5 w-5"}):v.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),v.jsx("button",{type:"submit",disabled:b,className:`w-full py-2 text-white rounded transition ${b?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:b?"Cambiando...":"Cambiar Contraseña"})]})})}function Z6(){return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:v.jsxs("div",{className:"w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[v.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Verifica tu correo"}),v.jsx("p",{className:"text-gray-700 text-center",children:"Te hemos enviado un correo con un enlace para verificar tu cuenta."})]})})}function J6(){const n=cn(),[e]=uy();return O.useEffect(()=>{const t=e.get("mode"),r=e.get("oobCode");t==="verifyEmail"&&r?n(`/verify-email?oobCode=${r}`):t==="resetPassword"&&r&&n(`/reset?oobCode=${r}`)},[e,n]),null}function eU(){const[n]=uy(),e=cn(),[t,r]=O.useState("Verificando...");return O.useEffect(()=>{const s=n.get("oobCode");if(!s){r("❌ Código inválido.");return}$c(Jt,o=>{o!=null&&o.emailVerified?(r("✅ Tu correo ya está verificado. Redirigiendo..."),setTimeout(()=>e("/login"),3e3)):TD(Jt,s).then(()=>{r("✅ Correo verificado exitosamente. Redirigiendo..."),setTimeout(()=>e("/login"),3e3)}).catch(u=>{u.code==="auth/invalid-action-code"?r("✅ Enlace verificado. Redirigiendo..."):r("❌ Ocurrió un error inesperado.")})})},[n,e]),v.jsx("div",{className:"min-h-screen flex items-center justify-center text-black",children:v.jsx("p",{className:"text-lg",children:t})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function tU(n,e,t,r){function s(o){return o instanceof t?o:new t(function(u){u(o)})}return new(t||(t=Promise))(function(o,u){function f(m){try{h(r.next(m))}catch(b){u(b)}}function d(m){try{h(r.throw(m))}catch(b){u(b)}}function h(m){m.done?o(m.value):s(m.value).then(f,d)}h((r=r.apply(n,[])).next())})}function nU(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(h){return function(m){return d([h,m])}}function d(h){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,s=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(n,t)}catch(m){h=[6,m],s=0}finally{r=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vl=function(){return vl=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},vl.apply(this,arguments)},LC=function(n){return{loading:n==null,value:n}},rU=function(){return function(n,e){switch(e.type){case"error":return vl(vl({},n),{error:e.error,loading:!1,value:void 0});case"reset":return LC(e.defaultValue);case"value":return vl(vl({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},iU=function(n){var e=n?n():void 0,t=O.useReducer(rU(),LC(e)),r=t[0],s=t[1],o=O.useCallback(function(){var d=n?n():void 0;s({type:"reset",defaultValue:d})},[n]),u=O.useCallback(function(d){s({type:"error",error:d})},[]),f=O.useCallback(function(d){s({type:"value",value:d})},[]);return O.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:u,setValue:f,value:r.value}},[r.error,r.loading,o,u,f,r.value])},sU=function(n,e){var t=iU(function(){return n.currentUser}),r=t.error,s=t.loading,o=t.setError,u=t.setValue,f=t.value;return O.useEffect(function(){var d=$c(n,function(h){return tU(void 0,void 0,void 0,function(){var m;return nU(this,function(b){switch(b.label){case 0:return[3,4];case 1:return b.trys.push([1,3,,4]),[4,e.onUserChanged(h)];case 2:return b.sent(),[3,4];case 3:return m=b.sent(),o(m),[3,4];case 4:return u(h),[2]}})})},o);return function(){d()}},[n]),[f,s,r]};function yS({children:n}){const[e,t]=sU(Jt);return t?v.jsx("div",{className:"text-center mt-10",children:"Cargando..."}):e?n:v.jsx(e2,{to:"/login"})}function aU(){const[n,e]=O.useState(null),[t,r]=O.useState(!0),[s,o]=O.useState(!1),[u,f]=O.useState(""),d=cn(),{register:h,handleSubmit:m,watch:b,reset:_,formState:{errors:w}}=Ab({mode:"onChange"}),E=b("ciudad"),T=Object.keys(Vh),I=E?Vh[E]:[];O.useEffect(()=>{const C=Jt.onAuthStateChanged(async S=>{if(!S)d("/login");else{e(S);try{const U=jn(it,"usuarios",S.uid),k=await gp(U),Y=S.displayName||"",[P,M]=Y.split(" ");if(k.exists()){const D=k.data();_({nombre:P||"",apellido:M||"",dni:D.dni||"",telefono:D.telefono||"",direccion:D.direccion||"",codigopostal:D.codigopostal||"",ciudad:D.ciudad||"",distrito:D.distrito||""})}else f("No se encontraron datos del usuario.")}catch(U){console.error("Error al obtener datos del usuario:",U),f("Ocurrió un error al cargar tu perfil.")}finally{r(!1)}}});return()=>C()},[d,_]);const N=async C=>{if(o(!0),!n)return;f("");const S=`${C.nombre} ${C.apellido}`.trim();try{const U=jn(it,"usuarios",n.uid);await ls(U,C),await XT(n,{displayName:S}),f("Datos actualizados correctamente."),setTimeout(()=>f(""),3e3),o(!1)}catch(U){console.error("Error al guardar:",U),o(!1),f("Error al guardar los cambios.")}};return t?v.jsx("div",{className:"text-center mt-10",children:"Cargando perfil..."}):v.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white rounded shadow mt-10",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Mi Perfil"}),u&&v.jsx("p",{className:"text-center text-sm text-blue-600 mb-4",children:u}),v.jsxs("form",{onSubmit:m(N),className:"p-6 space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(Cr,{label:"Nombre",name:"nombre",register:h,rules:{required:"El nombre es obligatorio",pattern:{value:/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,message:"Solo se permiten letras"}},error:w.nombre}),v.jsx(Cr,{label:"Apellido",name:"apellido",register:h,rules:{required:"El apellido es obligatorio",pattern:{value:/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,message:"Solo se permiten letras"}},error:w.apellido}),v.jsx(Cr,{label:"DNI",name:"dni",register:h,rules:{required:"El DNI es obligatorio",pattern:{value:/^[0-9]{8}$/,message:"Debe tener exactamente 8 dígitos"}},error:w.dni}),v.jsx(Cr,{label:"Teléfono",name:"telefono",register:h,rules:{required:"El teléfono es obligatorio",pattern:{value:/^[0-9]+$/,message:"Solo se permiten números"}},error:w.telefono}),v.jsx(Cr,{label:"Dirección",name:"direccion",register:h,rules:{required:"La dirección es obligatoria"},error:w.direccion}),v.jsx(Cr,{label:"Código Postal",name:"codigopostal",register:h,rules:{required:"El código postal es obligatorio",pattern:{value:/^[0-9]{1,6}$/,message:"Máximo 6 dígitos numéricos"}},error:w.codigopostal}),v.jsx(kh,{label:"Ciudad",name:"ciudad",options:T,register:h,error:w.ciudad,required:!0}),v.jsx(kh,{label:"Distrito",name:"distrito",options:I,register:h,error:w.distrito,required:!0})]}),v.jsx("button",{type:"submit",disabled:t||s,className:`w-full py-3 my-3 rounded transition ${!t&&!s?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s?"Guardando...":"Guardar información"})]})]})}function oU(){const[n,e]=O.useState([]),[t,r]=O.useState(!0),[s,o]=O.useState(1),[u,f]=O.useState(null),d=cn(),h=5;O.useEffect(()=>{const w=Jt.currentUser;if(!w){d("/login");return}(async()=>{try{const T=co(en(it,"ordenes"),wl("uid","==",w.uid)),N=(await Rn(T)).docs.map(C=>({id:C.id,...C.data()}));e(N)}catch(T){console.error("Error al obtener las compras:",T)}finally{r(!1)}})()},[d]),O.useEffect(()=>{document.body.style.overflow=u?"hidden":"auto"},[u]);const m=(s-1)*h,b=n.slice(m,m+h),_=Math.ceil(n.length/h);return t?v.jsx("p",{className:"text-center mt-10",children:"Cargando tus compras..."}):n.length===0?v.jsx("p",{className:"text-center mt-10",children:"No tienes compras registradas."}):v.jsxs("div",{className:"max-w-5xl mx-auto mt-10 p-4",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Mis Compras"}),v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"min-w-full border",children:[v.jsx("thead",{className:"bg-gray-200",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Orden"}),v.jsx("th",{className:"py-2 px-4 border",children:"Fecha"}),v.jsx("th",{className:"py-2 px-4 border",children:"Total"}),v.jsx("th",{className:"py-2 px-4 border",children:"Detalles"})]})}),v.jsx("tbody",{children:b.map(w=>{var E;return v.jsxs("tr",{className:"border-t",children:[v.jsx("td",{className:"py-2 px-4 border",children:w.numeroOrden}),v.jsx("td",{className:"py-2 px-4 border",children:(E=w.creadoEn)==null?void 0:E.toDate().toLocaleDateString()}),v.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",w.total]}),v.jsx("td",{className:"py-2 px-4 border",children:v.jsx("button",{onClick:()=>f(w),className:"text-blue-600 hover:underline",children:"Ver productos"})})]},w.id)})})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4",children:[v.jsx("button",{className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",onClick:()=>o(w=>Math.max(w-1,1)),disabled:s===1,children:"Anterior"}),v.jsxs("span",{className:"text-sm text-gray-600",children:["Página ",s," de ",_]}),v.jsx("button",{className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",onClick:()=>o(w=>Math.min(w+1,_)),disabled:s===_,children:"Siguiente"})]})]}),u&&v.jsx("div",{className:"fixed inset-0 backdrop-blur-lg flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white max-w-3xl w-full rounded shadow-lg p-6 relative max-h-[80vh] overflow-y-auto",children:[v.jsx("button",{onClick:()=>f(null),className:"absolute top-3 right-4 text-gray-600 hover:text-black text-xl",children:"×"}),v.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Detalle de productos"}),v.jsxs("table",{className:"min-w-full border",children:[v.jsx("thead",{className:"bg-gray-100",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Producto"}),v.jsx("th",{className:"py-2 px-4 border",children:"Cantidad"}),v.jsx("th",{className:"py-2 px-4 border",children:"Color"}),v.jsx("th",{className:"py-2 px-4 border",children:"Talla"})]})}),v.jsx("tbody",{children:u.carrito.map((w,E)=>v.jsxs("tr",{className:"border-t",children:[v.jsx("td",{className:"py-2 px-4 border",children:w.nombre}),v.jsx("td",{className:"py-2 px-4 border",children:w.cantidad}),v.jsx("td",{className:"py-2 px-4 border",children:w.color?v.jsx("div",{className:"w-4 h-4 rounded-full mx-auto",style:{backgroundColor:w.color}}):"N/A"}),v.jsx("td",{className:"py-2 px-4 border",children:w.talla||"N/A"})]},E))})]})]})})]})}function lU(){const[n,e]=O.useState(!1),[t,r]=O.useState(null),s=cn();O.useEffect(()=>{const u=$c(Jt,f=>{f?r(f):s("/login")});return()=>u()},[s]);const o=async()=>{try{await Ey(Jt),localStorage.removeItem("usuario"),sessionStorage.removeItem("usuario"),s("/login")}catch(u){console.error("Error al cerrar sesión:",u)}};return v.jsxs("div",{className:"flex h-screen bg-white text-black",children:[v.jsxs("aside",{className:`z-10 flex flex-col bg-black text-white p-4 ${n?"w-16":"w-64 absolute md:relative h-full"} transition-all duration-300`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[!n&&v.jsx("div",{className:"flex items-center justify-center font-[Anton] uppercase italic text-[40px]",children:"Nikos"}),v.jsx("button",{onClick:()=>e(!n),className:"text-white text-lg focus:outline-none",children:v.jsx("i",{className:"bx bx-menu"})})]}),v.jsxs("nav",{className:"flex-1 flex flex-col gap-4 text-sm",children:[v.jsxs(Ja,{to:"/admin/dashboard",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-dashboard text-lg"}),!n&&"Dashboard"]}),v.jsxs(Ja,{to:"/admin/filtros",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-menu-filter text-lg"}),!n&&"Filtros"]}),v.jsxs(Ja,{to:"/admin/ventas",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-receipt text-lg"}),!n&&"Ventas"]}),v.jsxs(Ja,{to:"/admin/productos",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-box text-lg"}),!n&&"Productos"]}),v.jsxs(Ja,{to:"/admin/usuarios",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[v.jsx("i",{className:"bx bx-community text-lg"}),!n&&"Usuarios"]})]}),v.jsx("div",{className:"mt-auto",children:v.jsxs("button",{onClick:o,className:"flex items-center gap-2 text-white hover:text-gray-300 text-lg",children:[v.jsx("i",{className:"bx bx-door-open text-lg"}),!n&&"Cerrar Sesión"]})})]}),v.jsxs("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-100",children:[v.jsx("header",{className:"flex justify-between items-center mb-6 border-b pb-2",children:v.jsxs("h1",{className:"text-lg font-bold whitespace-nowrap",children:["Hola ",(t==null?void 0:t.displayName)||"Admin"]})}),v.jsx(oT,{})]})]})}function mo(n){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(n)}function uU(n,e){if(mo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function UC(n){var e=uU(n,"string");return mo(e)=="symbol"?e:e+""}function dc(n,e,t){return(e=UC(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function bS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,r)}return t}function Ve(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(t),!0).forEach(function(r){dc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cU(n){if(Array.isArray(n))return n}function dU(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,u,f=[],d=!0,h=!1;try{if(o=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;d=!1}else for(;!(d=(r=o.call(t)).done)&&(f.push(r.value),f.length!==e);d=!0);}catch(m){h=!0,s=m}finally{try{if(!d&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(h)throw s}}return f}}function Yv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function FC(n,e){if(n){if(typeof n=="string")return Yv(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Yv(n,e):void 0}}function fU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fs(n,e){return cU(n)||dU(n,e)||FC(n,e)||fU()}function hU(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function xs(n,e){if(n==null)return{};var t,r,s=hU(n,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var pU=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function mU(n){var e=n.defaultInputValue,t=e===void 0?"":e,r=n.defaultMenuIsOpen,s=r===void 0?!1:r,o=n.defaultValue,u=o===void 0?null:o,f=n.inputValue,d=n.menuIsOpen,h=n.onChange,m=n.onInputChange,b=n.onMenuClose,_=n.onMenuOpen,w=n.value,E=xs(n,pU),T=O.useState(f!==void 0?f:t),I=fs(T,2),N=I[0],C=I[1],S=O.useState(d!==void 0?d:s),U=fs(S,2),k=U[0],Y=U[1],P=O.useState(w!==void 0?w:u),M=fs(P,2),D=M[0],j=M[1],z=O.useCallback(function(he,_e){typeof h=="function"&&h(he,_e),j(he)},[h]),B=O.useCallback(function(he,_e){var $;typeof m=="function"&&($=m(he,_e)),C($!==void 0?$:he)},[m]),V=O.useCallback(function(){typeof _=="function"&&_(),Y(!0)},[_]),ie=O.useCallback(function(){typeof b=="function"&&b(),Y(!1)},[b]),ee=f!==void 0?f:N,H=d!==void 0?d:k,se=w!==void 0?w:D;return Ve(Ve({},E),{},{inputValue:ee,menuIsOpen:H,onChange:z,onInputChange:B,onMenuClose:ie,onMenuOpen:V,value:se})}function Ue(){return Ue=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ue.apply(null,arguments)}function gU(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _S(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,UC(r.key),r)}}function vU(n,e,t){return e&&_S(n.prototype,e),t&&_S(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Kv(n,e){return Kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Kv(n,e)}function yU(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Kv(n,e)}function jh(n){return jh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jh(n)}function zC(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zC=function(){return!!n})()}function bU(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function _U(n,e){if(e&&(mo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bU(n)}function xU(n){var e=zC();return function(){var t,r=jh(n);if(e){var s=jh(this).constructor;t=Reflect.construct(r,arguments,s)}else t=r.apply(this,arguments);return _U(this,t)}}function wU(n){if(Array.isArray(n))return Yv(n)}function EU(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function SU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cb(n){return wU(n)||EU(n)||FC(n)||SU()}function TU(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function AU(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var CU=function(){function n(t){var r=this;this._insertTag=function(s){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(s,o),r.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AU(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var o=TU(s);try{o.insertRule(r,o.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var s;return(s=r.parentNode)==null?void 0:s.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Pn="-ms-",Lh="-moz-",ft="-webkit-",BC="comm",Rb="rule",Ib="decl",RU="@import",HC="@keyframes",IU="@layer",NU=Math.abs,xp=String.fromCharCode,OU=Object.assign;function MU(n,e){return An(n,0)^45?(((e<<2^An(n,0))<<2^An(n,1))<<2^An(n,2))<<2^An(n,3):0}function qC(n){return n.trim()}function DU(n,e){return(n=e.exec(n))?n[0]:n}function ht(n,e,t){return n.replace(e,t)}function Qv(n,e){return n.indexOf(e)}function An(n,e){return n.charCodeAt(e)|0}function kc(n,e,t){return n.slice(e,t)}function hi(n){return n.length}function Nb(n){return n.length}function Df(n,e){return e.push(n),n}function PU(n,e){return n.map(e).join("")}var wp=1,Dl=1,$C=0,Zn=0,Wt=0,ql="";function Ep(n,e,t,r,s,o,u){return{value:n,root:e,parent:t,type:r,props:s,children:o,line:wp,column:Dl,length:u,return:""}}function nc(n,e){return OU(Ep("",null,null,"",null,null,0),n,{length:-n.length},e)}function kU(){return Wt}function VU(){return Wt=Zn>0?An(ql,--Zn):0,Dl--,Wt===10&&(Dl=1,wp--),Wt}function hr(){return Wt=Zn<$C?An(ql,Zn++):0,Dl++,Wt===10&&(Dl=1,wp++),Wt}function wi(){return An(ql,Zn)}function Zf(){return Zn}function ed(n,e){return kc(ql,n,e)}function Vc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function GC(n){return wp=Dl=1,$C=hi(ql=n),Zn=0,[]}function YC(n){return ql="",n}function Jf(n){return qC(ed(Zn-1,Xv(n===91?n+2:n===40?n+1:n)))}function jU(n){for(;(Wt=wi())&&Wt<33;)hr();return Vc(n)>2||Vc(Wt)>3?"":" "}function LU(n,e){for(;--e&&hr()&&!(Wt<48||Wt>102||Wt>57&&Wt<65||Wt>70&&Wt<97););return ed(n,Zf()+(e<6&&wi()==32&&hr()==32))}function Xv(n){for(;hr();)switch(Wt){case n:return Zn;case 34:case 39:n!==34&&n!==39&&Xv(Wt);break;case 40:n===41&&Xv(n);break;case 92:hr();break}return Zn}function UU(n,e){for(;hr()&&n+Wt!==57;)if(n+Wt===84&&wi()===47)break;return"/*"+ed(e,Zn-1)+"*"+xp(n===47?n:hr())}function FU(n){for(;!Vc(wi());)hr();return ed(n,Zn)}function zU(n){return YC(eh("",null,null,null,[""],n=GC(n),0,[0],n))}function eh(n,e,t,r,s,o,u,f,d){for(var h=0,m=0,b=u,_=0,w=0,E=0,T=1,I=1,N=1,C=0,S="",U=s,k=o,Y=r,P=S;I;)switch(E=C,C=hr()){case 40:if(E!=108&&An(P,b-1)==58){Qv(P+=ht(Jf(C),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:P+=Jf(C);break;case 9:case 10:case 13:case 32:P+=jU(E);break;case 92:P+=LU(Zf()-1,7);continue;case 47:switch(wi()){case 42:case 47:Df(BU(UU(hr(),Zf()),e,t),d);break;default:P+="/"}break;case 123*T:f[h++]=hi(P)*N;case 125*T:case 59:case 0:switch(C){case 0:case 125:I=0;case 59+m:N==-1&&(P=ht(P,/\f/g,"")),w>0&&hi(P)-b&&Df(w>32?wS(P+";",r,t,b-1):wS(ht(P," ","")+";",r,t,b-2),d);break;case 59:P+=";";default:if(Df(Y=xS(P,e,t,h,m,s,f,S,U=[],k=[],b),o),C===123)if(m===0)eh(P,e,Y,Y,U,o,b,f,k);else switch(_===99&&An(P,3)===110?100:_){case 100:case 108:case 109:case 115:eh(n,Y,Y,r&&Df(xS(n,Y,Y,0,0,s,f,S,s,U=[],b),k),s,k,b,f,r?U:k);break;default:eh(P,Y,Y,Y,[""],k,0,f,k)}}h=m=w=0,T=N=1,S=P="",b=u;break;case 58:b=1+hi(P),w=E;default:if(T<1){if(C==123)--T;else if(C==125&&T++==0&&VU()==125)continue}switch(P+=xp(C),C*T){case 38:N=m>0?1:(P+="\f",-1);break;case 44:f[h++]=(hi(P)-1)*N,N=1;break;case 64:wi()===45&&(P+=Jf(hr())),_=wi(),m=b=hi(S=P+=FU(Zf())),C++;break;case 45:E===45&&hi(P)==2&&(T=0)}}return o}function xS(n,e,t,r,s,o,u,f,d,h,m){for(var b=s-1,_=s===0?o:[""],w=Nb(_),E=0,T=0,I=0;E<r;++E)for(var N=0,C=kc(n,b+1,b=NU(T=u[E])),S=n;N<w;++N)(S=qC(T>0?_[N]+" "+C:ht(C,/&\f/g,_[N])))&&(d[I++]=S);return Ep(n,e,t,s===0?Rb:f,d,h,m)}function BU(n,e,t){return Ep(n,e,t,BC,xp(kU()),kc(n,2,-2),0)}function wS(n,e,t,r){return Ep(n,e,t,Ib,kc(n,0,r),kc(n,r+1,-1),r)}function Sl(n,e){for(var t="",r=Nb(n),s=0;s<r;s++)t+=e(n[s],s,n,e)||"";return t}function HU(n,e,t,r){switch(n.type){case IU:if(n.children.length)break;case RU:case Ib:return n.return=n.return||n.value;case BC:return"";case HC:return n.return=n.value+"{"+Sl(n.children,r)+"}";case Rb:n.value=n.props.join(",")}return hi(t=Sl(n.children,r))?n.return=n.value+"{"+t+"}":""}function qU(n){var e=Nb(n);return function(t,r,s,o){for(var u="",f=0;f<e;f++)u+=n[f](t,r,s,o)||"";return u}}function $U(n){return function(e){e.root||(e=e.return)&&n(e)}}function GU(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var YU=function(e,t,r){for(var s=0,o=0;s=o,o=wi(),s===38&&o===12&&(t[r]=1),!Vc(o);)hr();return ed(e,Zn)},KU=function(e,t){var r=-1,s=44;do switch(Vc(s)){case 0:s===38&&wi()===12&&(t[r]=1),e[r]+=YU(Zn-1,t,r);break;case 2:e[r]+=Jf(s);break;case 4:if(s===44){e[++r]=wi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=xp(s)}while(s=hr());return e},QU=function(e,t){return YC(KU(GC(e),t))},ES=new WeakMap,XU=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,s=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!ES.get(r))&&!s){ES.set(e,!0);for(var o=[],u=QU(t,o),f=r.props,d=0,h=0;d<u.length;d++)for(var m=0;m<f.length;m++,h++)e.props[h]=o[d]?u[d].replace(/&\f/g,f[m]):f[m]+" "+u[d]}}},WU=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function KC(n,e){switch(MU(n,e)){case 5103:return ft+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ft+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return ft+n+Lh+n+Pn+n+n;case 6828:case 4268:return ft+n+Pn+n+n;case 6165:return ft+n+Pn+"flex-"+n+n;case 5187:return ft+n+ht(n,/(\w+).+(:[^]+)/,ft+"box-$1$2"+Pn+"flex-$1$2")+n;case 5443:return ft+n+Pn+"flex-item-"+ht(n,/flex-|-self/,"")+n;case 4675:return ft+n+Pn+"flex-line-pack"+ht(n,/align-content|flex-|-self/,"")+n;case 5548:return ft+n+Pn+ht(n,"shrink","negative")+n;case 5292:return ft+n+Pn+ht(n,"basis","preferred-size")+n;case 6060:return ft+"box-"+ht(n,"-grow","")+ft+n+Pn+ht(n,"grow","positive")+n;case 4554:return ft+ht(n,/([^-])(transform)/g,"$1"+ft+"$2")+n;case 6187:return ht(ht(ht(n,/(zoom-|grab)/,ft+"$1"),/(image-set)/,ft+"$1"),n,"")+n;case 5495:case 3959:return ht(n,/(image-set\([^]*)/,ft+"$1$`$1");case 4968:return ht(ht(n,/(.+:)(flex-)?(.*)/,ft+"box-pack:$3"+Pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ft+n+n;case 4095:case 3583:case 4068:case 2532:return ht(n,/(.+)-inline(.+)/,ft+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(hi(n)-1-e>6)switch(An(n,e+1)){case 109:if(An(n,e+4)!==45)break;case 102:return ht(n,/(.+:)(.+)-([^]+)/,"$1"+ft+"$2-$3$1"+Lh+(An(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Qv(n,"stretch")?KC(ht(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(An(n,e+1)!==115)break;case 6444:switch(An(n,hi(n)-3-(~Qv(n,"!important")&&10))){case 107:return ht(n,":",":"+ft)+n;case 101:return ht(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ft+(An(n,14)===45?"inline-":"")+"box$3$1"+ft+"$2$3$1"+Pn+"$2box$3")+n}break;case 5936:switch(An(n,e+11)){case 114:return ft+n+Pn+ht(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return ft+n+Pn+ht(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return ft+n+Pn+ht(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return ft+n+Pn+n+n}return n}var ZU=function(e,t,r,s){if(e.length>-1&&!e.return)switch(e.type){case Ib:e.return=KC(e.value,e.length);break;case HC:return Sl([nc(e,{value:ht(e.value,"@","@"+ft)})],s);case Rb:if(e.length)return PU(e.props,function(o){switch(DU(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Sl([nc(e,{props:[ht(o,/:(read-\w+)/,":"+Lh+"$1")]})],s);case"::placeholder":return Sl([nc(e,{props:[ht(o,/:(plac\w+)/,":"+ft+"input-$1")]}),nc(e,{props:[ht(o,/:(plac\w+)/,":"+Lh+"$1")]}),nc(e,{props:[ht(o,/:(plac\w+)/,Pn+"input-$1")]})],s)}return""})}},JU=[ZU],e9=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var I=T.getAttribute("data-emotion");I.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var s=e.stylisPlugins||JU,o={},u,f=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(T){for(var I=T.getAttribute("data-emotion").split(" "),N=1;N<I.length;N++)o[I[N]]=!0;f.push(T)});var d,h=[XU,WU];{var m,b=[HU,$U(function(T){m.insert(T)})],_=qU(h.concat(s,b)),w=function(I){return Sl(zU(I),_)};d=function(I,N,C,S){m=C,w(I?I+"{"+N.styles+"}":N.styles),S&&(E.inserted[N.name]=!0)}}var E={key:t,sheet:new CU({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return E.sheet.hydrate(f),E},Jg={exports:{}},mt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS;function t9(){if(SS)return mt;SS=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,f=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,m=n?Symbol.for("react.forward_ref"):60112,b=n?Symbol.for("react.suspense"):60113,_=n?Symbol.for("react.suspense_list"):60120,w=n?Symbol.for("react.memo"):60115,E=n?Symbol.for("react.lazy"):60116,T=n?Symbol.for("react.block"):60121,I=n?Symbol.for("react.fundamental"):60117,N=n?Symbol.for("react.responder"):60118,C=n?Symbol.for("react.scope"):60119;function S(k){if(typeof k=="object"&&k!==null){var Y=k.$$typeof;switch(Y){case e:switch(k=k.type,k){case d:case h:case r:case o:case s:case b:return k;default:switch(k=k&&k.$$typeof,k){case f:case m:case E:case w:case u:return k;default:return Y}}case t:return Y}}}function U(k){return S(k)===h}return mt.AsyncMode=d,mt.ConcurrentMode=h,mt.ContextConsumer=f,mt.ContextProvider=u,mt.Element=e,mt.ForwardRef=m,mt.Fragment=r,mt.Lazy=E,mt.Memo=w,mt.Portal=t,mt.Profiler=o,mt.StrictMode=s,mt.Suspense=b,mt.isAsyncMode=function(k){return U(k)||S(k)===d},mt.isConcurrentMode=U,mt.isContextConsumer=function(k){return S(k)===f},mt.isContextProvider=function(k){return S(k)===u},mt.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===e},mt.isForwardRef=function(k){return S(k)===m},mt.isFragment=function(k){return S(k)===r},mt.isLazy=function(k){return S(k)===E},mt.isMemo=function(k){return S(k)===w},mt.isPortal=function(k){return S(k)===t},mt.isProfiler=function(k){return S(k)===o},mt.isStrictMode=function(k){return S(k)===s},mt.isSuspense=function(k){return S(k)===b},mt.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===h||k===o||k===s||k===b||k===_||typeof k=="object"&&k!==null&&(k.$$typeof===E||k.$$typeof===w||k.$$typeof===u||k.$$typeof===f||k.$$typeof===m||k.$$typeof===I||k.$$typeof===N||k.$$typeof===C||k.$$typeof===T)},mt.typeOf=S,mt}var TS;function n9(){return TS||(TS=1,Jg.exports=t9()),Jg.exports}var ev,AS;function r9(){if(AS)return ev;AS=1;var n=n9(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[n.ForwardRef]=r,o[n.Memo]=s;function u(E){return n.isMemo(E)?s:o[E.$$typeof]||e}var f=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,m=Object.getOwnPropertyDescriptor,b=Object.getPrototypeOf,_=Object.prototype;function w(E,T,I){if(typeof T!="string"){if(_){var N=b(T);N&&N!==_&&w(E,N,I)}var C=d(T);h&&(C=C.concat(h(T)));for(var S=u(E),U=u(T),k=0;k<C.length;++k){var Y=C[k];if(!t[Y]&&!(I&&I[Y])&&!(U&&U[Y])&&!(S&&S[Y])){var P=m(T,Y);try{f(E,Y,P)}catch{}}}}return E}return ev=w,ev}r9();var i9=!0;function s9(n,e,t){var r="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(r+=s+" ")}),r}var QC=function(e,t,r){var s=e.key+"-"+t.name;(r===!1||i9===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},a9=function(e,t,r){QC(e,t,r);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+s:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function o9(n){for(var e=0,t,r=0,s=n.length;s>=4;++r,s-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var l9={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},u9=/[A-Z]|^ms/g,c9=/_EMO_([^_]+?)_([^]*?)_EMO_/g,XC=function(e){return e.charCodeAt(1)===45},CS=function(e){return e!=null&&typeof e!="boolean"},tv=GU(function(n){return XC(n)?n:n.replace(u9,"-$&").toLowerCase()}),RS=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(c9,function(r,s,o){return pi={name:s,styles:o,next:pi},s})}return l9[e]!==1&&!XC(e)&&typeof t=="number"&&t!==0?t+"px":t};function jc(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return pi={name:s.name,styles:s.styles,next:pi},s.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)pi={name:u.name,styles:u.styles,next:pi},u=u.next;var f=o.styles+";";return f}return d9(n,e,t)}case"function":{if(n!==void 0){var d=pi,h=t(n);return pi=d,jc(n,e,h)}break}}var m=t;return m}function d9(n,e,t){var r="";if(Array.isArray(t))for(var s=0;s<t.length;s++)r+=jc(n,e,t[s])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var f=u;CS(f)&&(r+=tv(o)+":"+RS(o,f)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&e==null)for(var d=0;d<u.length;d++)CS(u[d])&&(r+=tv(o)+":"+RS(o,u[d])+";");else{var h=jc(n,e,u);switch(o){case"animation":case"animationName":{r+=tv(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var IS=/label:\s*([^\s;{]+)\s*(;|$)/g,pi;function WC(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,s="";pi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,s+=jc(t,e,o);else{var u=o;s+=u[0]}for(var f=1;f<n.length;f++)if(s+=jc(t,e,n[f]),r){var d=o;s+=d[f]}IS.lastIndex=0;for(var h="",m;(m=IS.exec(s))!==null;)h+="-"+m[1];var b=o9(s)+h;return{name:b,styles:s,next:pi}}var f9=function(e){return e()},h9=Zx.useInsertionEffect?Zx.useInsertionEffect:!1,p9=h9||f9,ZC=O.createContext(typeof HTMLElement<"u"?e9({key:"css"}):null);ZC.Provider;var m9=function(e){return O.forwardRef(function(t,r){var s=O.useContext(ZC);return e(t,s,r)})},g9=O.createContext({}),Ob={}.hasOwnProperty,Wv="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",v9=function(e,t){var r={};for(var s in t)Ob.call(t,s)&&(r[s]=t[s]);return r[Wv]=e,r},y9=function(e){var t=e.cache,r=e.serialized,s=e.isStringTag;return QC(t,r,s),p9(function(){return a9(t,r,s)}),null},b9=m9(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var s=n[Wv],o=[r],u="";typeof n.className=="string"?u=s9(e.registered,o,n.className):n.className!=null&&(u=n.className+" ");var f=WC(o,void 0,O.useContext(g9));u+=e.key+"-"+f.name;var d={};for(var h in n)Ob.call(n,h)&&h!=="css"&&h!==Wv&&(d[h]=n[h]);return d.className=u,t&&(d.ref=t),O.createElement(O.Fragment,null,O.createElement(y9,{cache:e,serialized:f,isStringTag:typeof s=="string"}),O.createElement(s,d))}),_9=b9,Me=function(e,t){var r=arguments;if(t==null||!Ob.call(t,"css"))return O.createElement.apply(void 0,r);var s=r.length,o=new Array(s);o[0]=_9,o[1]=v9(e,t);for(var u=2;u<s;u++)o[u]=r[u];return O.createElement.apply(null,o)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(Me||(Me={}));function Mb(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return WC(e)}function x9(){var n=Mb.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function w9(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const E9=Math.min,S9=Math.max,Uh=Math.round,Pf=Math.floor,Fh=n=>({x:n,y:n});function T9(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function Sp(){return typeof window<"u"}function JC(n){return tR(n)?(n.nodeName||"").toLowerCase():"#document"}function bs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function eR(n){var e;return(e=(tR(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function tR(n){return Sp()?n instanceof Node||n instanceof bs(n).Node:!1}function A9(n){return Sp()?n instanceof Element||n instanceof bs(n).Element:!1}function Db(n){return Sp()?n instanceof HTMLElement||n instanceof bs(n).HTMLElement:!1}function NS(n){return!Sp()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof bs(n).ShadowRoot}function nR(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=Pb(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function C9(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function R9(n){return["html","body","#document"].includes(JC(n))}function Pb(n){return bs(n).getComputedStyle(n)}function I9(n){if(JC(n)==="html")return n;const e=n.assignedSlot||n.parentNode||NS(n)&&n.host||eR(n);return NS(e)?e.host:e}function rR(n){const e=I9(n);return R9(e)?n.ownerDocument?n.ownerDocument.body:n.body:Db(e)&&nR(e)?e:rR(e)}function zh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=rR(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),u=bs(s);if(o){const f=Zv(u);return e.concat(u,u.visualViewport||[],nR(s)?s:[],f&&t?zh(f):[])}return e.concat(s,zh(s,[],t))}function Zv(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function N9(n){const e=Pb(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Db(n),o=s?n.offsetWidth:t,u=s?n.offsetHeight:r,f=Uh(t)!==o||Uh(r)!==u;return f&&(t=o,r=u),{width:t,height:r,$:f}}function kb(n){return A9(n)?n:n.contextElement}function OS(n){const e=kb(n);if(!Db(e))return Fh(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=N9(e);let u=(o?Uh(t.width):t.width)/r,f=(o?Uh(t.height):t.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const O9=Fh(0);function M9(n){const e=bs(n);return!C9()||!e.visualViewport?O9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function D9(n,e,t){return!1}function MS(n,e,t,r){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),o=kb(n);let u=Fh(1);e&&(u=OS(n));const f=D9()?M9(o):Fh(0);let d=(s.left+f.x)/u.x,h=(s.top+f.y)/u.y,m=s.width/u.x,b=s.height/u.y;if(o){const _=bs(o),w=r;let E=_,T=Zv(E);for(;T&&r&&w!==E;){const I=OS(T),N=T.getBoundingClientRect(),C=Pb(T),S=N.left+(T.clientLeft+parseFloat(C.paddingLeft))*I.x,U=N.top+(T.clientTop+parseFloat(C.paddingTop))*I.y;d*=I.x,h*=I.y,m*=I.x,b*=I.y,d+=S,h+=U,E=bs(T),T=Zv(E)}}return T9({width:m,height:b,x:d,y:h})}function iR(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function P9(n,e){let t=null,r;const s=eR(n);function o(){var f;clearTimeout(r),(f=t)==null||f.disconnect(),t=null}function u(f,d){f===void 0&&(f=!1),d===void 0&&(d=1),o();const h=n.getBoundingClientRect(),{left:m,top:b,width:_,height:w}=h;if(f||e(),!_||!w)return;const E=Pf(b),T=Pf(s.clientWidth-(m+_)),I=Pf(s.clientHeight-(b+w)),N=Pf(m),S={rootMargin:-E+"px "+-T+"px "+-I+"px "+-N+"px",threshold:S9(0,E9(1,d))||1};let U=!0;function k(Y){const P=Y[0].intersectionRatio;if(P!==d){if(!U)return u();P?u(!1,P):r=setTimeout(()=>{u(!1,1e-7)},1e3)}P===1&&!iR(h,n.getBoundingClientRect())&&u(),U=!1}try{t=new IntersectionObserver(k,{...S,root:s.ownerDocument})}catch{t=new IntersectionObserver(k,S)}t.observe(n)}return u(!0),o}function k9(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=kb(n),m=s||o?[...h?zh(h):[],...zh(e)]:[];m.forEach(N=>{s&&N.addEventListener("scroll",t,{passive:!0}),o&&N.addEventListener("resize",t)});const b=h&&f?P9(h,t):null;let _=-1,w=null;u&&(w=new ResizeObserver(N=>{let[C]=N;C&&C.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var S;(S=w)==null||S.observe(e)})),t()}),h&&!d&&w.observe(h),w.observe(e));let E,T=d?MS(n):null;d&&I();function I(){const N=MS(n);T&&!iR(T,N)&&t(),T=N,E=requestAnimationFrame(I)}return t(),()=>{var N;m.forEach(C=>{s&&C.removeEventListener("scroll",t),o&&C.removeEventListener("resize",t)}),b==null||b(),(N=w)==null||N.disconnect(),w=null,d&&cancelAnimationFrame(E)}}var Jv=O.useLayoutEffect,V9=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Bh=function(){};function j9(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function L9(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),s=2;s<t;s++)r[s-2]=arguments[s];var o=[].concat(r);if(e&&n)for(var u in e)e.hasOwnProperty(u)&&e[u]&&o.push("".concat(j9(n,u)));return o.filter(function(f){return f}).map(function(f){return String(f).trim()}).join(" ")}var DS=function(e){return Y9(e)?e.filter(Boolean):mo(e)==="object"&&e!==null?[e]:[]},sR=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=xs(e,V9);return Ve({},t)},jt=function(e,t,r){var s=e.cx,o=e.getStyles,u=e.getClassNames,f=e.className;return{css:o(t,e),className:s(r??{},u(t,e),f)}};function Tp(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function U9(n){return Tp(n)?window.innerHeight:n.clientHeight}function aR(n){return Tp(n)?window.pageYOffset:n.scrollTop}function Hh(n,e){if(Tp(n)){window.scrollTo(0,e);return}n.scrollTop=e}function F9(n){var e=getComputedStyle(n),t=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function z9(n,e,t,r){return t*((n=n/r-1)*n*n+1)+e}function kf(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Bh,s=aR(n),o=e-s,u=10,f=0;function d(){f+=u;var h=z9(f,s,o,t);Hh(n,h),f<t?window.requestAnimationFrame(d):r(n)}d()}function PS(n,e){var t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),s=e.offsetHeight/3;r.bottom+s>t.bottom?Hh(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):r.top-s<t.top&&Hh(n,Math.max(e.offsetTop-s,0))}function B9(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function kS(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function H9(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var oR=!1,q9={get passive(){return oR=!0}},Vf=typeof window<"u"?window:{};Vf.addEventListener&&Vf.removeEventListener&&(Vf.addEventListener("p",Bh,q9),Vf.removeEventListener("p",Bh,!1));var $9=oR;function G9(n){return n!=null}function Y9(n){return Array.isArray(n)}function jf(n,e,t){return n?e:t}var K9=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];var o=Object.entries(e).filter(function(u){var f=fs(u,1),d=f[0];return!r.includes(d)});return o.reduce(function(u,f){var d=fs(f,2),h=d[0],m=d[1];return u[h]=m,u},{})},Q9=["children","innerProps"],X9=["children","innerProps"];function W9(n){var e=n.maxHeight,t=n.menuEl,r=n.minHeight,s=n.placement,o=n.shouldScroll,u=n.isFixedPosition,f=n.controlHeight,d=F9(t),h={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return h;var m=d.getBoundingClientRect(),b=m.height,_=t.getBoundingClientRect(),w=_.bottom,E=_.height,T=_.top,I=t.offsetParent.getBoundingClientRect(),N=I.top,C=u?window.innerHeight:U9(d),S=aR(d),U=parseInt(getComputedStyle(t).marginBottom,10),k=parseInt(getComputedStyle(t).marginTop,10),Y=N-k,P=C-T,M=Y+S,D=b-S-T,j=w-C+S+U,z=S+T-k,B=160;switch(s){case"auto":case"bottom":if(P>=E)return{placement:"bottom",maxHeight:e};if(D>=E&&!u)return o&&kf(d,j,B),{placement:"bottom",maxHeight:e};if(!u&&D>=r||u&&P>=r){o&&kf(d,j,B);var V=u?P-U:D-U;return{placement:"bottom",maxHeight:V}}if(s==="auto"||u){var ie=e,ee=u?Y:M;return ee>=r&&(ie=Math.min(ee-U-f,e)),{placement:"top",maxHeight:ie}}if(s==="bottom")return o&&Hh(d,j),{placement:"bottom",maxHeight:e};break;case"top":if(Y>=E)return{placement:"top",maxHeight:e};if(M>=E&&!u)return o&&kf(d,z,B),{placement:"top",maxHeight:e};if(!u&&M>=r||u&&Y>=r){var H=e;return(!u&&M>=r||u&&Y>=r)&&(H=u?Y-k:M-k),o&&kf(d,z,B),{placement:"top",maxHeight:H}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return h}function Z9(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var lR=function(e){return e==="auto"?"bottom":e},J9=function(e,t){var r,s=e.placement,o=e.theme,u=o.borderRadius,f=o.spacing,d=o.colors;return Ve((r={label:"menu"},dc(r,Z9(s),"100%"),dc(r,"position","absolute"),dc(r,"width","100%"),dc(r,"zIndex",1),r),t?{}:{backgroundColor:d.neutral0,borderRadius:u,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:f.menuGutter,marginTop:f.menuGutter})},uR=O.createContext(null),e5=function(e){var t=e.children,r=e.minMenuHeight,s=e.maxMenuHeight,o=e.menuPlacement,u=e.menuPosition,f=e.menuShouldScrollIntoView,d=e.theme,h=O.useContext(uR)||{},m=h.setPortalPlacement,b=O.useRef(null),_=O.useState(s),w=fs(_,2),E=w[0],T=w[1],I=O.useState(null),N=fs(I,2),C=N[0],S=N[1],U=d.spacing.controlHeight;return Jv(function(){var k=b.current;if(k){var Y=u==="fixed",P=f&&!Y,M=W9({maxHeight:s,menuEl:k,minHeight:r,placement:o,shouldScroll:P,isFixedPosition:Y,controlHeight:U});T(M.maxHeight),S(M.placement),m==null||m(M.placement)}},[s,o,u,f,r,m,U]),t({ref:b,placerProps:Ve(Ve({},e),{},{placement:C||lR(o),maxHeight:E})})},t5=function(e){var t=e.children,r=e.innerRef,s=e.innerProps;return Me("div",Ue({},jt(e,"menu",{menu:!0}),{ref:r},s),t)},n5=t5,r5=function(e,t){var r=e.maxHeight,s=e.theme.spacing.baseUnit;return Ve({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},i5=function(e){var t=e.children,r=e.innerProps,s=e.innerRef,o=e.isMulti;return Me("div",Ue({},jt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:s},r),t)},cR=function(e,t){var r=e.theme,s=r.spacing.baseUnit,o=r.colors;return Ve({textAlign:"center"},t?{}:{color:o.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},s5=cR,a5=cR,o5=function(e){var t=e.children,r=t===void 0?"No options":t,s=e.innerProps,o=xs(e,Q9);return Me("div",Ue({},jt(Ve(Ve({},o),{},{children:r,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),r)},l5=function(e){var t=e.children,r=t===void 0?"Loading...":t,s=e.innerProps,o=xs(e,X9);return Me("div",Ue({},jt(Ve(Ve({},o),{},{children:r,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),r)},u5=function(e){var t=e.rect,r=e.offset,s=e.position;return{left:t.left,position:s,top:r,width:t.width,zIndex:1}},c5=function(e){var t=e.appendTo,r=e.children,s=e.controlElement,o=e.innerProps,u=e.menuPlacement,f=e.menuPosition,d=O.useRef(null),h=O.useRef(null),m=O.useState(lR(u)),b=fs(m,2),_=b[0],w=b[1],E=O.useMemo(function(){return{setPortalPlacement:w}},[]),T=O.useState(null),I=fs(T,2),N=I[0],C=I[1],S=O.useCallback(function(){if(s){var P=B9(s),M=f==="fixed"?0:window.pageYOffset,D=P[_]+M;(D!==(N==null?void 0:N.offset)||P.left!==(N==null?void 0:N.rect.left)||P.width!==(N==null?void 0:N.rect.width))&&C({offset:D,rect:P})}},[s,f,_,N==null?void 0:N.offset,N==null?void 0:N.rect.left,N==null?void 0:N.rect.width]);Jv(function(){S()},[S]);var U=O.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),s&&d.current&&(h.current=k9(s,d.current,S,{elementResize:"ResizeObserver"in window}))},[s,S]);Jv(function(){U()},[U]);var k=O.useCallback(function(P){d.current=P,U()},[U]);if(!t&&f!=="fixed"||!N)return null;var Y=Me("div",Ue({ref:k},jt(Ve(Ve({},e),{},{offset:N.offset,position:f,rect:N.rect}),"menuPortal",{"menu-portal":!0}),o),r);return Me(uR.Provider,{value:E},t?j2.createPortal(Y,t):Y)},d5=function(e){var t=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},f5=function(e){var t=e.children,r=e.innerProps,s=e.isDisabled,o=e.isRtl;return Me("div",Ue({},jt(e,"container",{"--is-disabled":s,"--is-rtl":o}),r),t)},h5=function(e,t){var r=e.theme.spacing,s=e.isMulti,o=e.hasValue,u=e.selectProps.controlShouldRenderValue;return Ve({alignItems:"center",display:s&&o&&u?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},p5=function(e){var t=e.children,r=e.innerProps,s=e.isMulti,o=e.hasValue;return Me("div",Ue({},jt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":o}),r),t)},m5=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},g5=function(e){var t=e.children,r=e.innerProps;return Me("div",Ue({},jt(e,"indicatorsContainer",{indicators:!0}),r),t)},VS,v5=["size"],y5=["innerProps","isRtl","size"],b5={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},dR=function(e){var t=e.size,r=xs(e,v5);return Me("svg",Ue({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:b5},r))},Vb=function(e){return Me(dR,Ue({size:20},e),Me("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},fR=function(e){return Me(dR,Ue({size:20},e),Me("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},hR=function(e,t){var r=e.isFocused,s=e.theme,o=s.spacing.baseUnit,u=s.colors;return Ve({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:r?u.neutral60:u.neutral20,padding:o*2,":hover":{color:r?u.neutral80:u.neutral40}})},_5=hR,x5=function(e){var t=e.children,r=e.innerProps;return Me("div",Ue({},jt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),t||Me(fR,null))},w5=hR,E5=function(e){var t=e.children,r=e.innerProps;return Me("div",Ue({},jt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),t||Me(Vb,null))},S5=function(e,t){var r=e.isDisabled,s=e.theme,o=s.spacing.baseUnit,u=s.colors;return Ve({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:r?u.neutral10:u.neutral20,marginBottom:o*2,marginTop:o*2})},T5=function(e){var t=e.innerProps;return Me("span",Ue({},t,jt(e,"indicatorSeparator",{"indicator-separator":!0})))},A5=x9(VS||(VS=w9([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),C5=function(e,t){var r=e.isFocused,s=e.size,o=e.theme,u=o.colors,f=o.spacing.baseUnit;return Ve({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:r?u.neutral60:u.neutral20,padding:f*2})},nv=function(e){var t=e.delay,r=e.offset;return Me("span",{css:Mb({animation:"".concat(A5," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},R5=function(e){var t=e.innerProps,r=e.isRtl,s=e.size,o=s===void 0?4:s,u=xs(e,y5);return Me("div",Ue({},jt(Ve(Ve({},u),{},{innerProps:t,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Me(nv,{delay:0,offset:r}),Me(nv,{delay:160,offset:!0}),Me(nv,{delay:320,offset:!r}))},I5=function(e,t){var r=e.isDisabled,s=e.isFocused,o=e.theme,u=o.colors,f=o.borderRadius,d=o.spacing;return Ve({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:r?u.neutral5:u.neutral0,borderColor:r?u.neutral10:s?u.primary:u.neutral20,borderRadius:f,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(u.primary):void 0,"&:hover":{borderColor:s?u.primary:u.neutral30}})},N5=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,o=e.innerRef,u=e.innerProps,f=e.menuIsOpen;return Me("div",Ue({ref:o},jt(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":f}),u,{"aria-disabled":r||void 0}),t)},O5=N5,M5=["data"],D5=function(e,t){var r=e.theme.spacing;return t?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},P5=function(e){var t=e.children,r=e.cx,s=e.getStyles,o=e.getClassNames,u=e.Heading,f=e.headingProps,d=e.innerProps,h=e.label,m=e.theme,b=e.selectProps;return Me("div",Ue({},jt(e,"group",{group:!0}),d),Me(u,Ue({},f,{selectProps:b,theme:m,getStyles:s,getClassNames:o,cx:r}),h),Me("div",null,t))},k5=function(e,t){var r=e.theme,s=r.colors,o=r.spacing;return Ve({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},V5=function(e){var t=sR(e);t.data;var r=xs(t,M5);return Me("div",Ue({},jt(e,"groupHeading",{"group-heading":!0}),r))},j5=P5,L5=["innerRef","isDisabled","isHidden","inputClassName"],U5=function(e,t){var r=e.isDisabled,s=e.value,o=e.theme,u=o.spacing,f=o.colors;return Ve(Ve({visibility:r?"hidden":"visible",transform:s?"translateZ(0)":""},F5),t?{}:{margin:u.baseUnit/2,paddingBottom:u.baseUnit/2,paddingTop:u.baseUnit/2,color:f.neutral80})},pR={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},F5={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ve({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},pR)},z5=function(e){return Ve({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},pR)},B5=function(e){var t=e.cx,r=e.value,s=sR(e),o=s.innerRef,u=s.isDisabled,f=s.isHidden,d=s.inputClassName,h=xs(s,L5);return Me("div",Ue({},jt(e,"input",{"input-container":!0}),{"data-value":r||""}),Me("input",Ue({className:t({input:!0},d),ref:o,style:z5(f),disabled:u},h)))},H5=B5,q5=function(e,t){var r=e.theme,s=r.spacing,o=r.borderRadius,u=r.colors;return Ve({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:u.neutral10,borderRadius:o/2,margin:s.baseUnit/2})},$5=function(e,t){var r=e.theme,s=r.borderRadius,o=r.colors,u=e.cropWithEllipsis;return Ve({overflow:"hidden",textOverflow:u||u===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},G5=function(e,t){var r=e.theme,s=r.spacing,o=r.borderRadius,u=r.colors,f=e.isFocused;return Ve({alignItems:"center",display:"flex"},t?{}:{borderRadius:o/2,backgroundColor:f?u.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:u.dangerLight,color:u.danger}})},mR=function(e){var t=e.children,r=e.innerProps;return Me("div",r,t)},Y5=mR,K5=mR;function Q5(n){var e=n.children,t=n.innerProps;return Me("div",Ue({role:"button"},t),e||Me(Vb,{size:14}))}var X5=function(e){var t=e.children,r=e.components,s=e.data,o=e.innerProps,u=e.isDisabled,f=e.removeProps,d=e.selectProps,h=r.Container,m=r.Label,b=r.Remove;return Me(h,{data:s,innerProps:Ve(Ve({},jt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":u})),o),selectProps:d},Me(m,{data:s,innerProps:Ve({},jt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},t),Me(b,{data:s,innerProps:Ve(Ve({},jt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},f),selectProps:d}))},W5=X5,Z5=function(e,t){var r=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.theme,f=u.spacing,d=u.colors;return Ve({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:o?d.primary:s?d.primary25:"transparent",color:r?d.neutral20:o?d.neutral0:"inherit",padding:"".concat(f.baseUnit*2,"px ").concat(f.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?d.primary:d.primary50}})},J5=function(e){var t=e.children,r=e.isDisabled,s=e.isFocused,o=e.isSelected,u=e.innerRef,f=e.innerProps;return Me("div",Ue({},jt(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":o}),{ref:u,"aria-disabled":r},f),t)},eF=J5,tF=function(e,t){var r=e.theme,s=r.spacing,o=r.colors;return Ve({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:o.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},nF=function(e){var t=e.children,r=e.innerProps;return Me("div",Ue({},jt(e,"placeholder",{placeholder:!0}),r),t)},rF=nF,iF=function(e,t){var r=e.isDisabled,s=e.theme,o=s.spacing,u=s.colors;return Ve({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:r?u.neutral40:u.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},sF=function(e){var t=e.children,r=e.isDisabled,s=e.innerProps;return Me("div",Ue({},jt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),s),t)},aF=sF,oF={ClearIndicator:E5,Control:O5,DropdownIndicator:x5,DownChevron:fR,CrossIcon:Vb,Group:j5,GroupHeading:V5,IndicatorsContainer:g5,IndicatorSeparator:T5,Input:H5,LoadingIndicator:R5,Menu:n5,MenuList:i5,MenuPortal:c5,LoadingMessage:l5,NoOptionsMessage:o5,MultiValue:W5,MultiValueContainer:Y5,MultiValueLabel:K5,MultiValueRemove:Q5,Option:eF,Placeholder:rF,SelectContainer:f5,SingleValue:aF,ValueContainer:p5},lF=function(e){return Ve(Ve({},oF),e.components)},jS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function uF(n,e){return!!(n===e||jS(n)&&jS(e))}function cF(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!uF(n[t],e[t]))return!1;return!0}function dF(n,e){e===void 0&&(e=cF);var t=null;function r(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var u=n.apply(this,s);return t={lastResult:u,lastArgs:s,lastThis:this},u}return r.clear=function(){t=null},r}var fF={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},hF=function(e){return Me("span",Ue({css:fF},e))},LS=hF,pF={guidance:function(e){var t=e.isSearchable,r=e.isMulti,s=e.tabSelectsValue,o=e.context,u=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return u?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,r=e.label,s=r===void 0?"":r,o=e.labels,u=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return u?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,r=e.focused,s=e.options,o=e.label,u=o===void 0?"":o,f=e.selectValue,d=e.isDisabled,h=e.isSelected,m=e.isAppleDevice,b=function(T,I){return T&&T.length?"".concat(T.indexOf(I)+1," of ").concat(T.length):""};if(t==="value"&&f)return"value ".concat(u," focused, ").concat(b(f,r),".");if(t==="menu"&&m){var _=d?" disabled":"",w="".concat(h?" selected":"").concat(_);return"".concat(u).concat(w,", ").concat(b(s,r),".")}return""},onFilter:function(e){var t=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(t?" for search term "+t:"",".")}},mF=function(e){var t=e.ariaSelection,r=e.focusedOption,s=e.focusedValue,o=e.focusableOptions,u=e.isFocused,f=e.selectValue,d=e.selectProps,h=e.id,m=e.isAppleDevice,b=d.ariaLiveMessages,_=d.getOptionLabel,w=d.inputValue,E=d.isMulti,T=d.isOptionDisabled,I=d.isSearchable,N=d.menuIsOpen,C=d.options,S=d.screenReaderStatus,U=d.tabSelectsValue,k=d.isLoading,Y=d["aria-label"],P=d["aria-live"],M=O.useMemo(function(){return Ve(Ve({},pF),b||{})},[b]),D=O.useMemo(function(){var ee="";if(t&&M.onChange){var H=t.option,se=t.options,he=t.removedValue,_e=t.removedValues,$=t.value,le=function(Ye){return Array.isArray(Ye)?null:Ye},me=he||H||le($),pe=me?_(me):"",Te=se||_e||void 0,ke=Te?Te.map(_):[],Ie=Ve({isDisabled:me&&T(me,f),label:pe,labels:ke},t);ee=M.onChange(Ie)}return ee},[t,M,T,f,_]),j=O.useMemo(function(){var ee="",H=r||s,se=!!(r&&f&&f.includes(r));if(H&&M.onFocus){var he={focused:H,label:_(H),isDisabled:T(H,f),isSelected:se,options:o,context:H===r?"menu":"value",selectValue:f,isAppleDevice:m};ee=M.onFocus(he)}return ee},[r,s,_,T,M,o,f,m]),z=O.useMemo(function(){var ee="";if(N&&C.length&&!k&&M.onFilter){var H=S({count:o.length});ee=M.onFilter({inputValue:w,resultsMessage:H})}return ee},[o,w,N,M,C,S,k]),B=(t==null?void 0:t.action)==="initial-input-focus",V=O.useMemo(function(){var ee="";if(M.guidance){var H=s?"value":N?"menu":"input";ee=M.guidance({"aria-label":Y,context:H,isDisabled:r&&T(r,f),isMulti:E,isSearchable:I,tabSelectsValue:U,isInitialFocus:B})}return ee},[Y,r,s,E,T,I,N,M,f,U,B]),ie=Me(O.Fragment,null,Me("span",{id:"aria-selection"},D),Me("span",{id:"aria-focused"},j),Me("span",{id:"aria-results"},z),Me("span",{id:"aria-guidance"},V));return Me(O.Fragment,null,Me(LS,{id:h},B&&ie),Me(LS,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},u&&!B&&ie))},gF=mF,ey=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],vF=new RegExp("["+ey.map(function(n){return n.letters}).join("")+"]","g"),gR={};for(var rv=0;rv<ey.length;rv++)for(var iv=ey[rv],sv=0;sv<iv.letters.length;sv++)gR[iv.letters[sv]]=iv.base;var vR=function(e){return e.replace(vF,function(t){return gR[t]})},yF=dF(vR),US=function(e){return e.replace(/^\s+|\s+$/g,"")},bF=function(e){return"".concat(e.label," ").concat(e.value)},_F=function(e){return function(t,r){if(t.data.__isNew__)return!0;var s=Ve({ignoreCase:!0,ignoreAccents:!0,stringify:bF,trim:!0,matchFrom:"any"},e),o=s.ignoreCase,u=s.ignoreAccents,f=s.stringify,d=s.trim,h=s.matchFrom,m=d?US(r):r,b=d?US(f(t)):f(t);return o&&(m=m.toLowerCase(),b=b.toLowerCase()),u&&(m=yF(m),b=vR(b)),h==="start"?b.substr(0,m.length)===m:b.indexOf(m)>-1}},xF=["innerRef"];function wF(n){var e=n.innerRef,t=xs(n,xF),r=K9(t,"onExited","in","enter","exit","appear");return Me("input",Ue({ref:e},r,{css:Mb({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var EF=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function SF(n){var e=n.isEnabled,t=n.onBottomArrive,r=n.onBottomLeave,s=n.onTopArrive,o=n.onTopLeave,u=O.useRef(!1),f=O.useRef(!1),d=O.useRef(0),h=O.useRef(null),m=O.useCallback(function(I,N){if(h.current!==null){var C=h.current,S=C.scrollTop,U=C.scrollHeight,k=C.clientHeight,Y=h.current,P=N>0,M=U-k-S,D=!1;M>N&&u.current&&(r&&r(I),u.current=!1),P&&f.current&&(o&&o(I),f.current=!1),P&&N>M?(t&&!u.current&&t(I),Y.scrollTop=U,D=!0,u.current=!0):!P&&-N>S&&(s&&!f.current&&s(I),Y.scrollTop=0,D=!0,f.current=!0),D&&EF(I)}},[t,r,s,o]),b=O.useCallback(function(I){m(I,I.deltaY)},[m]),_=O.useCallback(function(I){d.current=I.changedTouches[0].clientY},[]),w=O.useCallback(function(I){var N=d.current-I.changedTouches[0].clientY;m(I,N)},[m]),E=O.useCallback(function(I){if(I){var N=$9?{passive:!1}:!1;I.addEventListener("wheel",b,N),I.addEventListener("touchstart",_,N),I.addEventListener("touchmove",w,N)}},[w,_,b]),T=O.useCallback(function(I){I&&(I.removeEventListener("wheel",b,!1),I.removeEventListener("touchstart",_,!1),I.removeEventListener("touchmove",w,!1))},[w,_,b]);return O.useEffect(function(){if(e){var I=h.current;return E(I),function(){T(I)}}},[e,E,T]),function(I){h.current=I}}var FS=["boxSizing","height","overflow","paddingRight","position"],zS={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function BS(n){n.cancelable&&n.preventDefault()}function HS(n){n.stopPropagation()}function qS(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function $S(){return"ontouchstart"in window||navigator.maxTouchPoints}var GS=!!(typeof window<"u"&&window.document&&window.document.createElement),rc=0,cl={capture:!1,passive:!1};function TF(n){var e=n.isEnabled,t=n.accountForScrollbars,r=t===void 0?!0:t,s=O.useRef({}),o=O.useRef(null),u=O.useCallback(function(d){if(GS){var h=document.body,m=h&&h.style;if(r&&FS.forEach(function(E){var T=m&&m[E];s.current[E]=T}),r&&rc<1){var b=parseInt(s.current.paddingRight,10)||0,_=document.body?document.body.clientWidth:0,w=window.innerWidth-_+b||0;Object.keys(zS).forEach(function(E){var T=zS[E];m&&(m[E]=T)}),m&&(m.paddingRight="".concat(w,"px"))}h&&$S()&&(h.addEventListener("touchmove",BS,cl),d&&(d.addEventListener("touchstart",qS,cl),d.addEventListener("touchmove",HS,cl))),rc+=1}},[r]),f=O.useCallback(function(d){if(GS){var h=document.body,m=h&&h.style;rc=Math.max(rc-1,0),r&&rc<1&&FS.forEach(function(b){var _=s.current[b];m&&(m[b]=_)}),h&&$S()&&(h.removeEventListener("touchmove",BS,cl),d&&(d.removeEventListener("touchstart",qS,cl),d.removeEventListener("touchmove",HS,cl)))}},[r]);return O.useEffect(function(){if(e){var d=o.current;return u(d),function(){f(d)}}},[e,u,f]),function(d){o.current=d}}var AF=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},CF={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function RF(n){var e=n.children,t=n.lockEnabled,r=n.captureEnabled,s=r===void 0?!0:r,o=n.onBottomArrive,u=n.onBottomLeave,f=n.onTopArrive,d=n.onTopLeave,h=SF({isEnabled:s,onBottomArrive:o,onBottomLeave:u,onTopArrive:f,onTopLeave:d}),m=TF({isEnabled:t}),b=function(w){h(w),m(w)};return Me(O.Fragment,null,t&&Me("div",{onClick:AF,css:CF}),e(b))}var IF={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},NF=function(e){var t=e.name,r=e.onFocus;return Me("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:IF,value:"",onChange:function(){}})},OF=NF;function jb(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function MF(){return jb(/^iPhone/i)}function yR(){return jb(/^Mac/i)}function DF(){return jb(/^iPad/i)||yR()&&navigator.maxTouchPoints>1}function PF(){return MF()||DF()}function kF(){return yR()||PF()}var VF=function(e){return e.label},jF=function(e){return e.label},LF=function(e){return e.value},UF=function(e){return!!e.isDisabled},FF={clearIndicator:w5,container:d5,control:I5,dropdownIndicator:_5,group:D5,groupHeading:k5,indicatorsContainer:m5,indicatorSeparator:S5,input:U5,loadingIndicator:C5,loadingMessage:a5,menu:J9,menuList:r5,menuPortal:u5,multiValue:q5,multiValueLabel:$5,multiValueRemove:G5,noOptionsMessage:s5,option:Z5,placeholder:tF,singleValue:iF,valueContainer:h5},zF={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},BF=4,bR=4,HF=38,qF=bR*2,$F={baseUnit:bR,controlHeight:HF,menuGutter:qF},av={borderRadius:BF,colors:zF,spacing:$F},GF={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:kS(),captureMenuScroll:!kS(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:_F(),formatGroupLabel:VF,getOptionLabel:jF,getOptionValue:LF,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:UF,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!H9(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function YS(n,e,t,r){var s=wR(n,e,t),o=ER(n,e,t),u=xR(n,e),f=qh(n,e);return{type:"option",data:e,isDisabled:s,isSelected:o,label:u,value:f,index:r}}function th(n,e){return n.options.map(function(t,r){if("options"in t){var s=t.options.map(function(u,f){return YS(n,u,e,f)}).filter(function(u){return QS(n,u)});return s.length>0?{type:"group",data:t,options:s,index:r}:void 0}var o=YS(n,t,e,r);return QS(n,o)?o:void 0}).filter(G9)}function _R(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,Cb(t.options.map(function(r){return r.data}))):e.push(t.data),e},[])}function KS(n,e){return n.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Cb(r.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(r.index,"-").concat(s.index)}}))):t.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),t},[])}function YF(n,e){return _R(th(n,e))}function QS(n,e){var t=n.inputValue,r=t===void 0?"":t,s=e.data,o=e.isSelected,u=e.label,f=e.value;return(!TR(n)||!o)&&SR(n,{label:u,value:f,data:s},r)}function KF(n,e){var t=n.focusedValue,r=n.selectValue,s=r.indexOf(t);if(s>-1){var o=e.indexOf(t);if(o>-1)return t;if(s<e.length)return e[s]}return null}function QF(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var ov=function(e,t){var r,s=(r=e.find(function(o){return o.data===t}))===null||r===void 0?void 0:r.id;return s||null},xR=function(e,t){return e.getOptionLabel(t)},qh=function(e,t){return e.getOptionValue(t)};function wR(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function ER(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var r=qh(n,e);return t.some(function(s){return qh(n,s)===r})}function SR(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var TR=function(e){var t=e.hideSelectedOptions,r=e.isMulti;return t===void 0?r:t},XF=1,AR=function(n){yU(t,n);var e=xU(t);function t(r){var s;if(gU(this,t),s=e.call(this,r),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=kF(),s.controlRef=null,s.getControlRef=function(d){s.controlRef=d},s.focusedOptionRef=null,s.getFocusedOptionRef=function(d){s.focusedOptionRef=d},s.menuListRef=null,s.getMenuListRef=function(d){s.menuListRef=d},s.inputRef=null,s.getInputRef=function(d){s.inputRef=d},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(d,h){var m=s.props,b=m.onChange,_=m.name;h.name=_,s.ariaOnChange(d,h),b(d,h)},s.setValue=function(d,h,m){var b=s.props,_=b.closeMenuOnSelect,w=b.isMulti,E=b.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:E}),_&&(s.setState({inputIsHiddenAfterUpdate:!w}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(d,{action:h,option:m})},s.selectOption=function(d){var h=s.props,m=h.blurInputOnSelect,b=h.isMulti,_=h.name,w=s.state.selectValue,E=b&&s.isOptionSelected(d,w),T=s.isOptionDisabled(d,w);if(E){var I=s.getOptionValue(d);s.setValue(w.filter(function(N){return s.getOptionValue(N)!==I}),"deselect-option",d)}else if(!T)b?s.setValue([].concat(Cb(w),[d]),"select-option",d):s.setValue(d,"select-option");else{s.ariaOnChange(d,{action:"select-option",option:d,name:_});return}m&&s.blurInput()},s.removeValue=function(d){var h=s.props.isMulti,m=s.state.selectValue,b=s.getOptionValue(d),_=m.filter(function(E){return s.getOptionValue(E)!==b}),w=jf(h,_,_[0]||null);s.onChange(w,{action:"remove-value",removedValue:d}),s.focusInput()},s.clearValue=function(){var d=s.state.selectValue;s.onChange(jf(s.props.isMulti,[],null),{action:"clear",removedValues:d})},s.popValue=function(){var d=s.props.isMulti,h=s.state.selectValue,m=h[h.length-1],b=h.slice(0,h.length-1),_=jf(d,b,b[0]||null);m&&s.onChange(_,{action:"pop-value",removedValue:m})},s.getFocusedOptionId=function(d){return ov(s.state.focusableOptionsWithIds,d)},s.getFocusableOptionsWithIds=function(){return KS(th(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var d=arguments.length,h=new Array(d),m=0;m<d;m++)h[m]=arguments[m];return L9.apply(void 0,[s.props.classNamePrefix].concat(h))},s.getOptionLabel=function(d){return xR(s.props,d)},s.getOptionValue=function(d){return qh(s.props,d)},s.getStyles=function(d,h){var m=s.props.unstyled,b=FF[d](h,m);b.boxSizing="border-box";var _=s.props.styles[d];return _?_(b,h):b},s.getClassNames=function(d,h){var m,b;return(m=(b=s.props.classNames)[d])===null||m===void 0?void 0:m.call(b,h)},s.getElementId=function(d){return"".concat(s.state.instancePrefix,"-").concat(d)},s.getComponents=function(){return lF(s.props)},s.buildCategorizedOptions=function(){return th(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return _R(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(d,h){s.setState({ariaSelection:Ve({value:d},h)})},s.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(d){s.blockOptionHover=!1},s.onControlMouseDown=function(d){if(!d.defaultPrevented){var h=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&s.onMenuClose():h&&s.openMenu("first"):(h&&(s.openAfterFocus=!0),s.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},s.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!s.props.isDisabled){var h=s.props,m=h.isMulti,b=h.menuIsOpen;s.focusInput(),b?(s.setState({inputIsHiddenAfterUpdate:!m}),s.onMenuClose()):s.openMenu("first"),d.preventDefault()}},s.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(s.clearValue(),d.preventDefault(),s.openAfterFocus=!1,d.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(d){typeof s.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Tp(d.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(d)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(d){var h=d.touches,m=h&&h.item(0);m&&(s.initialTouchX=m.clientX,s.initialTouchY=m.clientY,s.userIsDragging=!1)},s.onTouchMove=function(d){var h=d.touches,m=h&&h.item(0);if(m){var b=Math.abs(m.clientX-s.initialTouchX),_=Math.abs(m.clientY-s.initialTouchY),w=5;s.userIsDragging=b>w||_>w}},s.onTouchEnd=function(d){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(d.target)&&s.menuListRef&&!s.menuListRef.contains(d.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(d){s.userIsDragging||s.onControlMouseDown(d)},s.onClearIndicatorTouchEnd=function(d){s.userIsDragging||s.onClearIndicatorMouseDown(d)},s.onDropdownIndicatorTouchEnd=function(d){s.userIsDragging||s.onDropdownIndicatorMouseDown(d)},s.handleInputChange=function(d){var h=s.props.inputValue,m=d.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(m,{action:"input-change",prevInputValue:h}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(d){s.props.onFocus&&s.props.onFocus(d),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(d){var h=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(d),s.onInputChange("",{action:"input-blur",prevInputValue:h}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(d){if(!(s.blockOptionHover||s.state.focusedOption===d)){var h=s.getFocusableOptions(),m=h.indexOf(d);s.setState({focusedOption:d,focusedOptionId:m>-1?s.getFocusedOptionId(d):null})}},s.shouldHideSelectedOptions=function(){return TR(s.props)},s.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),s.focus()},s.onKeyDown=function(d){var h=s.props,m=h.isMulti,b=h.backspaceRemovesValue,_=h.escapeClearsValue,w=h.inputValue,E=h.isClearable,T=h.isDisabled,I=h.menuIsOpen,N=h.onKeyDown,C=h.tabSelectsValue,S=h.openMenuOnFocus,U=s.state,k=U.focusedOption,Y=U.focusedValue,P=U.selectValue;if(!T&&!(typeof N=="function"&&(N(d),d.defaultPrevented))){switch(s.blockOptionHover=!0,d.key){case"ArrowLeft":if(!m||w)return;s.focusValue("previous");break;case"ArrowRight":if(!m||w)return;s.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(Y)s.removeValue(Y);else{if(!b)return;m?s.popValue():E&&s.clearValue()}break;case"Tab":if(s.isComposing||d.shiftKey||!I||!C||!k||S&&s.isOptionSelected(k,P))return;s.selectOption(k);break;case"Enter":if(d.keyCode===229)break;if(I){if(!k||s.isComposing)return;s.selectOption(k);break}return;case"Escape":I?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:w}),s.onMenuClose()):E&&_&&s.clearValue();break;case" ":if(w)return;if(!I){s.openMenu("first");break}if(!k)return;s.selectOption(k);break;case"ArrowUp":I?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":I?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!I)return;s.focusOption("pageup");break;case"PageDown":if(!I)return;s.focusOption("pagedown");break;case"Home":if(!I)return;s.focusOption("first");break;case"End":if(!I)return;s.focusOption("last");break;default:return}d.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++XF),s.state.selectValue=DS(r.value),r.menuIsOpen&&s.state.selectValue.length){var o=s.getFocusableOptionsWithIds(),u=s.buildFocusableOptions(),f=u.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=o,s.state.focusedOption=u[f],s.state.focusedOptionId=ov(o,u[f])}return s}return vU(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&PS(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var o=this.props,u=o.isDisabled,f=o.menuIsOpen,d=this.state.isFocused;(d&&!u&&s.isDisabled||d&&f&&!s.menuIsOpen)&&this.focusInput(),d&&u&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!u&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(PS(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,o){this.props.onInputChange(s,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var o=this,u=this.state,f=u.selectValue,d=u.isFocused,h=this.buildFocusableOptions(),m=s==="first"?0:h.length-1;if(!this.props.isMulti){var b=h.indexOf(f[0]);b>-1&&(m=b)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[m],focusedOptionId:this.getFocusedOptionId(h[m])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(s){var o=this.state,u=o.selectValue,f=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=u.indexOf(f);f||(d=-1);var h=u.length-1,m=-1;if(u.length){switch(s){case"previous":d===0?m=0:d===-1?m=h:m=d-1;break;case"next":d>-1&&d<h&&(m=d+1);break}this.setState({inputIsHidden:m!==-1,focusedValue:u[m]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,u=this.state.focusedOption,f=this.getFocusableOptions();if(f.length){var d=0,h=f.indexOf(u);u||(h=-1),s==="up"?d=h>0?h-1:f.length-1:s==="down"?d=(h+1)%f.length:s==="pageup"?(d=h-o,d<0&&(d=0)):s==="pagedown"?(d=h+o,d>f.length-1&&(d=f.length-1)):s==="last"&&(d=f.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:f[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(f[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(av):Ve(Ve({},av),this.props.theme):av}},{key:"getCommonProps",value:function(){var s=this.clearValue,o=this.cx,u=this.getStyles,f=this.getClassNames,d=this.getValue,h=this.selectOption,m=this.setValue,b=this.props,_=b.isMulti,w=b.isRtl,E=b.options,T=this.hasValue();return{clearValue:s,cx:o,getStyles:u,getClassNames:f,getValue:d,hasValue:T,isMulti:_,isRtl:w,options:E,selectOption:h,selectProps:b,setValue:m,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,o=s.isClearable,u=s.isMulti;return o===void 0?u:o}},{key:"isOptionDisabled",value:function(s,o){return wR(this.props,s,o)}},{key:"isOptionSelected",value:function(s,o){return ER(this.props,s,o)}},{key:"filterOption",value:function(s,o){return SR(this.props,s,o)}},{key:"formatOptionLabel",value:function(s,o){if(typeof this.props.formatOptionLabel=="function"){var u=this.props.inputValue,f=this.state.selectValue;return this.props.formatOptionLabel(s,{context:o,inputValue:u,selectValue:f})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,o=s.isDisabled,u=s.isSearchable,f=s.inputId,d=s.inputValue,h=s.tabIndex,m=s.form,b=s.menuIsOpen,_=s.required,w=this.getComponents(),E=w.Input,T=this.state,I=T.inputIsHidden,N=T.ariaSelection,C=this.commonProps,S=f||this.getElementId("input"),U=Ve(Ve(Ve({"aria-autocomplete":"list","aria-expanded":b,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":_,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},b&&{"aria-controls":this.getElementId("listbox")}),!u&&{"aria-readonly":!0}),this.hasValue()?(N==null?void 0:N.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return u?O.createElement(E,Ue({},C,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:o,isHidden:I,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:m,type:"text",value:d},U)):O.createElement(wF,Ue({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Bh,onFocus:this.onInputFocus,disabled:o,tabIndex:h,inputMode:"none",form:m,value:""},U))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,o=this.getComponents(),u=o.MultiValue,f=o.MultiValueContainer,d=o.MultiValueLabel,h=o.MultiValueRemove,m=o.SingleValue,b=o.Placeholder,_=this.commonProps,w=this.props,E=w.controlShouldRenderValue,T=w.isDisabled,I=w.isMulti,N=w.inputValue,C=w.placeholder,S=this.state,U=S.selectValue,k=S.focusedValue,Y=S.isFocused;if(!this.hasValue()||!E)return N?null:O.createElement(b,Ue({},_,{key:"placeholder",isDisabled:T,isFocused:Y,innerProps:{id:this.getElementId("placeholder")}}),C);if(I)return U.map(function(M,D){var j=M===k,z="".concat(s.getOptionLabel(M),"-").concat(s.getOptionValue(M));return O.createElement(u,Ue({},_,{components:{Container:f,Label:d,Remove:h},isFocused:j,isDisabled:T,key:z,index:D,removeProps:{onClick:function(){return s.removeValue(M)},onTouchEnd:function(){return s.removeValue(M)},onMouseDown:function(V){V.preventDefault()}},data:M}),s.formatOptionLabel(M,"value"))});if(N)return null;var P=U[0];return O.createElement(m,Ue({},_,{data:P,isDisabled:T}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),o=s.ClearIndicator,u=this.commonProps,f=this.props,d=f.isDisabled,h=f.isLoading,m=this.state.isFocused;if(!this.isClearable()||!o||d||!this.hasValue()||h)return null;var b={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return O.createElement(o,Ue({},u,{innerProps:b,isFocused:m}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),o=s.LoadingIndicator,u=this.commonProps,f=this.props,d=f.isDisabled,h=f.isLoading,m=this.state.isFocused;if(!o||!h)return null;var b={"aria-hidden":"true"};return O.createElement(o,Ue({},u,{innerProps:b,isDisabled:d,isFocused:m}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator,u=s.IndicatorSeparator;if(!o||!u)return null;var f=this.commonProps,d=this.props.isDisabled,h=this.state.isFocused;return O.createElement(u,Ue({},f,{isDisabled:d,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),o=s.DropdownIndicator;if(!o)return null;var u=this.commonProps,f=this.props.isDisabled,d=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return O.createElement(o,Ue({},u,{innerProps:h,isDisabled:f,isFocused:d}))}},{key:"renderMenu",value:function(){var s=this,o=this.getComponents(),u=o.Group,f=o.GroupHeading,d=o.Menu,h=o.MenuList,m=o.MenuPortal,b=o.LoadingMessage,_=o.NoOptionsMessage,w=o.Option,E=this.commonProps,T=this.state.focusedOption,I=this.props,N=I.captureMenuScroll,C=I.inputValue,S=I.isLoading,U=I.loadingMessage,k=I.minMenuHeight,Y=I.maxMenuHeight,P=I.menuIsOpen,M=I.menuPlacement,D=I.menuPosition,j=I.menuPortalTarget,z=I.menuShouldBlockScroll,B=I.menuShouldScrollIntoView,V=I.noOptionsMessage,ie=I.onMenuScrollToTop,ee=I.onMenuScrollToBottom;if(!P)return null;var H=function(pe,Te){var ke=pe.type,Ie=pe.data,ut=pe.isDisabled,Ye=pe.isSelected,Lt=pe.label,Nn=pe.value,xe=T===Ie,we=ut?void 0:function(){return s.onOptionHover(Ie)},Ge=ut?void 0:function(){return s.selectOption(Ie)},Ze="".concat(s.getElementId("option"),"-").concat(Te),Ct={id:Ze,onClick:Ge,onMouseMove:we,onMouseOver:we,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:Ye};return O.createElement(w,Ue({},E,{innerProps:Ct,data:Ie,isDisabled:ut,isSelected:Ye,key:Ze,label:Lt,type:ke,value:Nn,isFocused:xe,innerRef:xe?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(pe.data,"menu"))},se;if(this.hasOptions())se=this.getCategorizedOptions().map(function(me){if(me.type==="group"){var pe=me.data,Te=me.options,ke=me.index,Ie="".concat(s.getElementId("group"),"-").concat(ke),ut="".concat(Ie,"-heading");return O.createElement(u,Ue({},E,{key:Ie,data:pe,options:Te,Heading:f,headingProps:{id:ut,data:me.data},label:s.formatGroupLabel(me.data)}),me.options.map(function(Ye){return H(Ye,"".concat(ke,"-").concat(Ye.index))}))}else if(me.type==="option")return H(me,"".concat(me.index))});else if(S){var he=U({inputValue:C});if(he===null)return null;se=O.createElement(b,E,he)}else{var _e=V({inputValue:C});if(_e===null)return null;se=O.createElement(_,E,_e)}var $={minMenuHeight:k,maxMenuHeight:Y,menuPlacement:M,menuPosition:D,menuShouldScrollIntoView:B},le=O.createElement(e5,Ue({},E,$),function(me){var pe=me.ref,Te=me.placerProps,ke=Te.placement,Ie=Te.maxHeight;return O.createElement(d,Ue({},E,$,{innerRef:pe,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:S,placement:ke}),O.createElement(RF,{captureEnabled:N,onTopArrive:ie,onBottomArrive:ee,lockEnabled:z},function(ut){return O.createElement(h,Ue({},E,{innerRef:function(Lt){s.getMenuListRef(Lt),ut(Lt)},innerProps:{role:"listbox","aria-multiselectable":E.isMulti,id:s.getElementId("listbox")},isLoading:S,maxHeight:Ie,focusedOption:T}),se)}))});return j||D==="fixed"?O.createElement(m,Ue({},E,{appendTo:j,controlElement:this.controlRef,menuPlacement:M,menuPosition:D}),le):le}},{key:"renderFormField",value:function(){var s=this,o=this.props,u=o.delimiter,f=o.isDisabled,d=o.isMulti,h=o.name,m=o.required,b=this.state.selectValue;if(m&&!this.hasValue()&&!f)return O.createElement(OF,{name:h,onFocus:this.onValueInputFocus});if(!(!h||f))if(d)if(u){var _=b.map(function(T){return s.getOptionValue(T)}).join(u);return O.createElement("input",{name:h,type:"hidden",value:_})}else{var w=b.length>0?b.map(function(T,I){return O.createElement("input",{key:"i-".concat(I),name:h,type:"hidden",value:s.getOptionValue(T)})}):O.createElement("input",{name:h,type:"hidden",value:""});return O.createElement("div",null,w)}else{var E=b[0]?this.getOptionValue(b[0]):"";return O.createElement("input",{name:h,type:"hidden",value:E})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,o=this.state,u=o.ariaSelection,f=o.focusedOption,d=o.focusedValue,h=o.isFocused,m=o.selectValue,b=this.getFocusableOptions();return O.createElement(gF,Ue({},s,{id:this.getElementId("live-region"),ariaSelection:u,focusedOption:f,focusedValue:d,isFocused:h,selectValue:m,focusableOptions:b,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),o=s.Control,u=s.IndicatorsContainer,f=s.SelectContainer,d=s.ValueContainer,h=this.props,m=h.className,b=h.id,_=h.isDisabled,w=h.menuIsOpen,E=this.state.isFocused,T=this.commonProps=this.getCommonProps();return O.createElement(f,Ue({},T,{className:m,innerProps:{id:b,onKeyDown:this.onKeyDown},isDisabled:_,isFocused:E}),this.renderLiveRegion(),O.createElement(o,Ue({},T,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:_,isFocused:E,menuIsOpen:w}),O.createElement(d,Ue({},T,{isDisabled:_}),this.renderPlaceholderOrValue(),this.renderInput()),O.createElement(u,Ue({},T,{isDisabled:_}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,o){var u=o.prevProps,f=o.clearFocusValueOnUpdate,d=o.inputIsHiddenAfterUpdate,h=o.ariaSelection,m=o.isFocused,b=o.prevWasFocused,_=o.instancePrefix,w=s.options,E=s.value,T=s.menuIsOpen,I=s.inputValue,N=s.isMulti,C=DS(E),S={};if(u&&(E!==u.value||w!==u.options||T!==u.menuIsOpen||I!==u.inputValue)){var U=T?YF(s,C):[],k=T?KS(th(s,C),"".concat(_,"-option")):[],Y=f?KF(o,C):null,P=QF(o,U),M=ov(k,P);S={selectValue:C,focusedOption:P,focusedOptionId:M,focusableOptionsWithIds:k,focusedValue:Y,clearFocusValueOnUpdate:!1}}var D=d!=null&&s!==u?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},j=h,z=m&&b;return m&&!z&&(j={value:jf(N,C,C[0]||null),options:C,action:"initial-input-focus"},z=!b),(h==null?void 0:h.action)==="initial-input-focus"&&(j=null),Ve(Ve(Ve({},S),D),{},{prevProps:s,ariaSelection:j,prevWasFocused:z})}}]),t}(O.Component);AR.defaultProps=GF;var WF=O.forwardRef(function(n,e){var t=mU(n);return O.createElement(AR,Ue({ref:e},t))}),ZF=WF;function dl({name:n,label:e,control:t,options:r,errors:s,isMulti:o=!1,rules:u={}}){var f;return v.jsxs("div",{className:"mb-4",children:[e&&v.jsx("label",{className:"block text-sm font-medium mb-1",children:e}),v.jsx(O6,{name:n,control:t,rules:u,render:({field:d})=>v.jsx(ZF,{...d,isMulti:o,options:r,placeholder:e,classNamePrefix:"react-select"})}),(s==null?void 0:s[n])&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:(f=s[n])==null?void 0:f.message})]})}function JF({isOpen:n,onClose:e,editarProducto:t,disponibles:r}){const s=xe=>xe.map(we=>({value:we.valor,label:we.valor,raw:we})),o=xe=>Array.isArray(xe)?xe.map(we=>typeof we=="object"?{value:we.valor||we,label:we.valor||we,raw:we}:{value:we,label:we}):[],u=xe=>xe&&typeof xe=="object"?{value:xe.valor,label:xe.valor,raw:xe}:xe?{value:xe,label:xe}:null,f=s(r.uso||[]),d=s(r.tipo||[]),h=s(r.material||[]),m=s(r.origen||[]),b=s(r.marca||[]),_=s(r.usuario||[]),[w,E]=O.useState([]),[T,I]=O.useState([]),[N,C]=O.useState(!1),[S,U]=O.useState([]),[k,Y]=O.useState(""),[P,M]=O.useState([]),[D,j]=O.useState(null),[z,B]=O.useState(null),{register:V,handleSubmit:ie,control:ee,reset:H,watch:se,formState:{errors:he}}=Ab();O.useEffect(()=>{if(n){if(t){H({...t,tipoCalzado:u(t.tipoCalzado),material:o(t.material),uso:o(t.uso),origen:u(t.origen),marca:u(t.marca),usuario:u(t.usuario)});const xe=(t.variantes||[]).map(we=>({...we,imagenLocal:we.imagen||"",color:we.color||"",codigoColor:we.codigoColor||"",tallas:Array.isArray(we.tallas)?we.tallas:[]}));I(t.imagenes||[]),U(xe),M(t.etiquetas||[])}else H({nombre:"",descripcion:"",precio:"",precioDescuento:"",precioMayorista:"",tipoCalzado:null,material:[],uso:[],origen:null,marca:null,usuario:null}),I([]),U([]),M([]);E([])}},[n,t,H]);const _e=se("usuario");O.useEffect(()=>{var xe;if(_e!=null&&_e.raw)B(_e.raw);else if(_e!=null&&_e.value){const we=(xe=r.usuario)==null?void 0:xe.find(Ge=>Ge.valor===_e.value);we&&B(we)}},[_e]);const $=xe=>{const we=xe.target.files[0];if(we&&T.length<9){const Ge=URL.createObjectURL(we);E([...w,we]),I([...T,Ge]);const Ze=Array.isArray(z==null?void 0:z.tallas)?z.tallas.map(Ct=>({talla:Ct,stock:0})):[];U(Ct=>[...Ct,{imagenLocal:Ge,imagen:"",color:"",codigoColor:"",tallas:Ze}])}xe.target.value=""},le=xe=>{U(we=>we.filter((Ge,Ze)=>Ze!==xe)),I(we=>we.filter((Ge,Ze)=>Ze!==xe)),E(we=>we.filter((Ge,Ze)=>Ze!==xe))},me=(xe,we,Ge)=>{const Ze=[...S];Ze[xe][we]=Ge,U(Ze)},pe=xe=>{const we=[...S];we[xe].tallas.push({talla:"",stock:0}),U(we)},Te=(xe,we,Ge,Ze)=>{const Ct=[...S];Ct[xe].tallas[we][Ge]=Ze,U(Ct)},ke=(xe,we)=>{const Ge=[...S];Ge[xe].tallas.splice(we,1),U(Ge)},Ie=async xe=>{const we="https://api.cloudinary.com/v1_1/ddebdvfcg/upload",Ge=new FormData;return Ge.append("file",xe),Ge.append("upload_preset","nikosperu_preset"),(await(await fetch(we,{method:"POST",body:Ge})).json()).secure_url},ut=()=>{if(S.length===0)return j("Debes agregar al menos una variante."),!1;for(const xe of S)if(!Array.isArray(xe.tallas)||xe.tallas.length===0)return j("Cada variante debe tener al menos una talla."),!1;return j(null),!0},Ye=async xe=>{var we,Ge,Ze,Ct,Ci,yn;if(ut()){C(!0);try{const Ri=await Promise.all(w.map(Ie)),Qr=await h6(xe.nombre,t==null?void 0:t.id),G=[...T];Ri.forEach((ve,ye)=>{const ge=T.length-Ri.length+ye;G[ge]=ve});const J=S.map((ve,ye)=>({color:ve.color||"",codigoColor:ve.codigoColor||"",tallas:ve.tallas||[],imagen:G[ye]||""})),ae={...xe,slug:Qr,precio:parseFloat(xe.precio),precioDescuento:parseFloat(xe.precioDescuento),precioMayorista:parseFloat(xe.precioMayorista),imagenes:G,variantes:J,etiquetas:P,marca:((we=xe.marca)==null?void 0:we.value)||"",usuario:((Ge=xe.usuario)==null?void 0:Ge.value)||"",tipoCalzado:((Ze=xe.tipoCalzado)==null?void 0:Ze.value)||"",material:(Ct=xe.material)==null?void 0:Ct.map(ve=>ve.value),uso:(Ci=xe.uso)==null?void 0:Ci.map(ve=>ve.value),origen:((yn=xe.origen)==null?void 0:yn.value)||"",actualizadoEn:new Date};if(t){const ve=jn(it,"productos",t.id);await ls(ve,ae)}else ae.creadoEn=new Date,await cb(en(it,"productos"),ae);e()}catch(Ri){console.error("Error al guardar producto:",Ri)}finally{C(!1)}}};if(!n)return null;const Lt=()=>{k.trim()&&(M([...P,k.trim()]),Y(""))},Nn=xe=>{M(P.filter((we,Ge)=>Ge!==xe))};return v.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[v.jsx("div",{className:"absolute inset-0 bg-opacity-50 backdrop-blur-sm transition-opacity"}),v.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-lg p-6 shadow relative max-h-[90vh] flex flex-col",children:[v.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[t?"Editar":"Nuevo"," Producto"]}),v.jsxs("form",{onSubmit:ie(Ye),id:"form-producto",className:"space-y-4 flex-1 overflow-y-auto pr-1",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Nombre"}),v.jsx("input",{...V("nombre",{required:"Nombre requerido"}),className:"w-full border px-3 py-2 rounded"}),he.nombre&&v.jsx("p",{className:"text-red-500 text-sm",children:he.nombre.message})]}),v.jsx(dl,{name:"marca",label:"Marca",control:ee,options:b,errors:he,rules:{required:"La marca es requerida"}}),v.jsx(dl,{name:"usuario",label:"Usuario",control:ee,options:_,errors:he,rules:{required:"Debe seleccionar al usuario"}}),v.jsx(dl,{name:"tipoCalzado",label:"Tipo de calzado",control:ee,options:d,errors:he,rules:{required:"Debe seleccionar el tipo de calzado"}}),v.jsx(dl,{name:"material",label:"Material",control:ee,options:h,errors:he,isMulti:!0,rules:{required:"Debe seleccionar al menos un material"}}),v.jsx(dl,{name:"uso",label:"Usos",control:ee,options:f,errors:he,isMulti:!0,rules:{required:"Debe seleccionar al menos un uso"}}),v.jsx(dl,{name:"origen",label:"Origen",control:ee,options:m,errors:he,rules:{required:"Debe seleccionar el origen"}})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Precio original"}),v.jsx("input",{type:"number",...V("precio",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),he.precio&&v.jsx("p",{className:"text-red-500 text-sm",children:he.precio.message})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Precio Mayorista"}),v.jsx("input",{type:"number",...V("precioMayorista",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),he.precioMayorista&&v.jsx("p",{className:"text-red-500 text-sm",children:he.precioMayorista.message})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Precio con descuento"}),v.jsx("input",{type:"number",...V("precioDescuento",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),he.precioDescuento&&v.jsx("p",{className:"text-red-500 text-sm",children:he.precioDescuento.message})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Descripcion"}),v.jsx("textarea",{...V("descripcion"),rows:3,className:"w-full border px-3 py-2 rounded",placeholder:"Descripción"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium",children:"Etiquetas"}),v.jsx("input",{value:k,onChange:xe=>Y(xe.target.value),onKeyDown:xe=>xe.key==="Enter"&&(xe.preventDefault(),Lt()),placeholder:"Agregar etiqueta",className:"border px-2 py-1 rounded w-full"}),v.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:P.map((xe,we)=>v.jsxs("span",{className:"bg-gray-200 px-3 py-1 rounded-full flex items-center gap-2",children:[xe,v.jsx("button",{type:"button",onClick:()=>Nn(we),className:"text-red-500",children:"×"})]},we))})]}),v.jsx("label",{className:"block text-sm font-medium mt-2",children:"Imágenes (max. 9)"}),v.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 mt-2",children:[T.map((xe,we)=>v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:xe,className:"w-full h-20 object-cover rounded border"}),v.jsx("button",{type:"button",onClick:()=>{const Ge=[...T],Ze=[...w];Ge.splice(we,1),Ze.splice(we,1),I(Ge),E(Ze),le(we)},className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:"×"})]},we)),T.length<9&&v.jsxs("label",{className:"border-2 border-dashed w-full h-20 flex items-center justify-center rounded cursor-pointer",children:[v.jsx("span",{className:"text-gray-500",children:"+"}),v.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:$})]})]}),v.jsxs("div",{className:"my-2",children:[v.jsx("h3",{className:"text-md font-semibold mb-2",children:"Variantes por imagen y talla"}),D&&v.jsx("p",{className:"text-red-500 text-sm mb-2",children:D}),S.map((xe,we)=>v.jsxs("div",{className:"border p-3 rounded mb-3",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("img",{src:xe.imagenLocal||xe.imagen,className:"w-12 h-12 object-cover rounded border"}),v.jsx("input",{value:xe.color,onChange:Ge=>me(we,"color",Ge.target.value),placeholder:"Color",className:"flex-1 border px-2 py-1 rounded"}),v.jsx("button",{type:"button",onClick:()=>le(we),className:"text-red-500 ml-auto",children:"Eliminar"})]}),xe.tallas.map((Ge,Ze)=>v.jsxs("div",{className:"flex gap-2 mb-1",children:[v.jsx("input",{value:Ge.talla,onChange:Ct=>Te(we,Ze,"talla",Ct.target.value),placeholder:"Talla",className:"border px-2 py-1 rounded w-24"}),v.jsx("input",{type:"number",value:Ge.stock,onChange:Ct=>Te(we,Ze,"stock",parseInt(Ct.target.value)),placeholder:"Stock",className:"border px-2 py-1 rounded w-24"}),v.jsx("button",{type:"button",onClick:()=>ke(we,Ze),className:"text-sm text-red-500",children:"Quitar"})]},Ze)),v.jsx("button",{type:"button",onClick:()=>pe(we),className:"text-blue-500 text-sm",children:"+ Agregar talla"})]},we))]})]}),v.jsxs("div",{className:"sticky bottom-0 left-0 bg-white pt-4 mt-4 pb-2 border-t border-gray-200 flex justify-end gap-2 z-10",children:[v.jsx("button",{type:"submit",form:"form-producto",disabled:N,className:`px-4 py-2 bg-black text-white rounded hover:bg-gray-800 ${N?"opacity-50 cursor-not-allowed":""}`,children:N?"Guardando...":"Guardar Producto"}),v.jsx("button",{type:"button",onClick:e,disabled:N,className:`px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 ${N?"opacity-50 cursor-not-allowed":""}`,children:"Cancelar"})]})]})]})}function ez(){const[n,e]=O.useState([]),[t,r]=O.useState(""),[s,o]=O.useState("recientes"),[u,f]=O.useState(1),d=6,[h,m]=O.useState(!1),[b,_]=O.useState(null),[w,E]=O.useState(!1),[T,I]=O.useState({}),N=()=>{_(null),setTimeout(()=>{m(!0)},0)},C=j=>{_(j),m(!0)},S=j=>{_(j),E(!0)},U=async()=>{b&&(await GA(jn(it,"productos",b.id)),e(j=>j.filter(z=>z.id!==b.id)),E(!1))};O.useEffect(()=>{(async()=>{const B=(await Rn(en(it,"productos"))).docs.map(V=>({id:V.id,...V.data()}));e(B)})()},[h]),O.useEffect(()=>{(async()=>{const V=(await Rn(en(it,"filtros"))).docs.map(ie=>({...ie.data()})).reduce((ie,ee)=>{const H=ee.tipo;return ie[H]||(ie[H]=[]),ie[H].some(se=>se.valor===ee.valor)||ie[H].push(ee),ie},{});I(V)})()},[]);const Y=(()=>{let j=n.filter(z=>z.nombre.toLowerCase().includes(t.toLowerCase()));return s==="recientes"?j.sort((z,B)=>{var V,ie;return((V=B.creadoEn)==null?void 0:V.seconds)-((ie=z.creadoEn)==null?void 0:ie.seconds)}):j.sort((z,B)=>{var V,ie;return((V=z.creadoEn)==null?void 0:V.seconds)-((ie=B.creadoEn)==null?void 0:ie.seconds)}),j})(),P=Math.ceil(Y.length/d),M=(u-1)*d,D=Y.slice(M,M+d);return v.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsx("h2",{className:"text-2xl font-bold",children:"Gestión de Productos"}),v.jsx("button",{onClick:N,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"+ Nuevo Producto"})]}),v.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[v.jsx("input",{type:"text",placeholder:"Buscar por nombre",value:t,onChange:j=>r(j.target.value),className:"px-3 py-2 border border-gray-300 rounded w-full md:w-64"}),v.jsxs("select",{value:s,onChange:j=>o(j.target.value),className:"px-3 py-2 border border-gray-300 rounded",children:[v.jsx("option",{value:"recientes",children:"Más recientes"}),v.jsx("option",{value:"antiguos",children:"Más antiguos"})]})]}),v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"min-w-full border text-sm",children:[v.jsx("thead",{className:"bg-gray-100 text-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Nombre"}),v.jsx("th",{className:"py-2 px-4 border",children:"Precio"}),v.jsx("th",{className:"py-2 px-4 border",children:"Precio Mayorista"}),v.jsx("th",{className:"py-2 px-4 border",children:"Marca"}),v.jsx("th",{className:"py-2 px-4 border",children:"Material"}),v.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),v.jsx("tbody",{children:D.map(j=>{var z;return v.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[v.jsx("td",{className:"py-2 px-4 border",children:j.nombre}),v.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",j.precio]}),v.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",j.precioMayorista]}),v.jsx("td",{className:"py-2 px-4 border",children:typeof j.marca=="object"?(z=j.marca)==null?void 0:z.valor:j.marca}),v.jsx("td",{className:"py-2 px-4 border",children:(j.material||[]).join(", ")}),v.jsxs("td",{className:"py-2 px-4 flex justify-center gap-2 text-center space-x-2",children:[v.jsx("button",{onClick:()=>C(j),className:"p-2 text-blue-600 hover:underline",children:v.jsx("i",{className:"bx bx-pencil"})}),v.jsx("button",{onClick:()=>S(j),className:"p-2 text-red-600 hover:underline",children:v.jsx("i",{className:"bx bx-trash"})})]})]},j.id)})})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[v.jsx("button",{onClick:()=>f(j=>Math.max(j-1,1)),disabled:u===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),v.jsxs("span",{className:"text-gray-600",children:["Página ",u," de ",P]}),v.jsx("button",{onClick:()=>f(j=>Math.min(j+1,P)),disabled:u===P,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),v.jsx(JF,{isOpen:h,onClose:()=>m(!1),editarProducto:b,disponibles:T}),v.jsx(TC,{isOpen:w,onClose:()=>E(!1),children:v.jsxs("div",{className:"w-full max-w-md relative",children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Eliminar producto"}),v.jsxs("p",{className:"mb-4",children:['¿Estás seguro que deseas eliminar el producto "',(b==null?void 0:b.nombre)||"",'"?']}),v.jsxs("div",{className:"flex justify-end gap-2",children:[v.jsx("button",{onClick:()=>E(!1),className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"No, cancelar"}),v.jsx("button",{onClick:U,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Sí, eliminar"})]})]})})]})}function tz(){const[n,e]=O.useState([]),[t,r]=O.useState({valor:"",tipo:""}),[s,o]=O.useState(null),[u,f]=O.useState(null),[d,h]=O.useState(!1),[m,b]=O.useState(""),[_,w]=O.useState(""),[E,T]=O.useState(!1),[I,N]=O.useState(1),C=6,S="https://api.cloudinary.com/v1_1/ddebdvfcg/upload",U=async()=>{const ie=(await Rn(en(it,"filtros"))).docs.map(ee=>({id:ee.id,...ee.data()}));e(ie)};O.useEffect(()=>{U()},[]);const k=async V=>{const ie=new FormData;return ie.append("file",V),ie.append("upload_preset","nikosperu_preset"),(await(await fetch(S,{method:"POST",body:ie})).json()).secure_url},Y=async()=>{var ee;if(!t.valor||!t.tipo)return;h(!0);let V=null;t.tipo.toLowerCase()==="marca"&&(s&&(V=await k(s)),!s&&(u==null?void 0:u.imagen)===null&&(V=null));const ie={valor:t.valor,tipo:t.tipo.toLowerCase(),...V!==null?{imagen:V}:{}};t.tipo.toLowerCase()==="usuario"&&(ie.tallas=((ee=t.tallas)==null?void 0:ee.filter(H=>H.trim()!==""))||[]),u?await ls(jn(it,"filtros",u.id),ie):await cb(en(it,"filtros"),ie),r({valor:"",tipo:"",tallas:[]}),o(null),f(null),T(!1),h(!1),U()},P=V=>{r({valor:V.valor,tipo:V.tipo,tallas:V.tallas||[]}),f(V),o(null),T(!0)},M=async V=>{confirm("¿Estás seguro de eliminar este filtro?")&&(await GA(jn(it,"filtros",V)),U())},D=n.filter(V=>{const ie=V.valor.toLowerCase().includes(m.toLowerCase()),ee=_?V.tipo===_:!0;return ie&&ee}),j=Math.ceil(D.length/C),z=(I-1)*C,B=D.slice(z,z+C);return v.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestión de Categorías"}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[v.jsx("input",{type:"text",placeholder:"Buscar por valor",value:m,onChange:V=>{b(V.target.value),N(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/2 shadow-sm"}),v.jsxs("select",{value:_,onChange:V=>{w(V.target.value),N(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/4 shadow-sm",children:[v.jsx("option",{value:"",children:"Todos los tipos"}),v.jsx("option",{value:"usuario",children:"Usuario"}),v.jsx("option",{value:"origen",children:"Origen"}),v.jsx("option",{value:"uso",children:"Uso"}),v.jsx("option",{value:"marca",children:"Marca"}),v.jsx("option",{value:"material",children:"Material"}),v.jsx("option",{value:"tipo",children:"Tipo"})]}),v.jsx("button",{onClick:()=>{r({valor:"",tipo:""}),f(null),T(!0)},className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition w-full md:w-auto",children:"+ Nuevo Filtro"})]}),v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"min-w-full text-sm border",children:[v.jsx("thead",{className:"bg-gray-100 text-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Valor"}),v.jsx("th",{className:"py-2 px-4 border",children:"Tipo"}),v.jsx("th",{className:"py-2 px-4 border",children:"Imagen"}),v.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),v.jsx("tbody",{children:B.map(V=>v.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[v.jsx("td",{className:"py-2 px-4 border",children:V.valor}),v.jsx("td",{className:"py-2 px-4 border",children:V.tipo}),v.jsx("td",{className:"py-2 px-4 border text-center",children:V.imagen?v.jsx("img",{src:V.imagen,alt:V.valor,className:"w-16 h-10 object-contain rounded border mx-auto"}):"—"}),v.jsxs("td",{className:"py-2 px-4 flex justify-center gap-2 text-center space-x-2",children:[v.jsx("button",{onClick:()=>P(V),className:"p-2 text-blue-600 hover:underline",children:v.jsx("i",{className:"bx bx-pencil"})}),v.jsx("button",{onClick:()=>M(V.id),className:"p-2 text-red-600 hover:underline",children:v.jsx("i",{className:"bx bx-trash"})})]})]},V.id))})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[v.jsx("button",{onClick:()=>N(V=>Math.max(V-1,1)),disabled:I===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),v.jsxs("span",{className:"text-gray-600",children:["Página ",I," de ",j]}),v.jsx("button",{onClick:()=>N(V=>Math.min(V+1,j)),disabled:I===j,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),E&&v.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 backdrop-blur-sm bg-opacity-40 flex items-center justify-center",children:v.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg p-6 relative",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:u?"Editar filtro":"Nuevo filtro"}),v.jsxs("div",{className:"flex flex-col space-y-4 gap-3",children:[v.jsx("input",{type:"text",placeholder:"Valor (ej. Hombre, Casual, Nike)",value:t.valor,onChange:V=>r({...t,valor:V.target.value}),className:"w-full px-3 py-2 border rounded shadow-sm"}),v.jsxs("select",{value:t.tipo,onChange:V=>{r({...t,tipo:V.target.value}),o(null)},className:"w-full px-3 py-2 border rounded shadow-sm",children:[v.jsx("option",{value:"",children:"Tipo de filtro"}),v.jsx("option",{value:"usuario",children:"Usuario"}),v.jsx("option",{value:"origen",children:"Origen"}),v.jsx("option",{value:"uso",children:"Uso"}),v.jsx("option",{value:"marca",children:"Marca"}),v.jsx("option",{value:"material",children:"Material"}),v.jsx("option",{value:"tipo",children:"Tipo"})]}),t.tipo==="usuario"&&v.jsxs("div",{children:[v.jsx("label",{className:"font-medium text-sm mb-2",children:"Tallas asociadas"}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(t.tallas||[]).map((V,ie)=>v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("input",{type:"text",autoFocus:!0,value:V,onChange:ee=>{const H=[...t.tallas];H[ie]=ee.target.value,r({...t,tallas:H})},className:"w-16 px-2 py-1 border rounded text-sm"}),v.jsx("button",{type:"button",onClick:()=>{const ee=t.tallas.filter((H,se)=>se!==ie);r({...t,tallas:ee})},className:"text-red-500 text-sm hover:underline",children:"✕"})]},ie))}),v.jsx("button",{type:"button",onClick:()=>r({...t,tallas:[...t.tallas||[],""]}),className:"text-blue-600 text-sm hover:underline",children:"+ Agregar talla"})]}),t.tipo==="marca"&&v.jsx("div",{className:"flex flex-col items-start gap-2",children:s?v.jsxs("div",{className:"relative w-32 h-20 border rounded overflow-hidden",children:[v.jsx("img",{src:URL.createObjectURL(s),alt:"Vista previa",className:"object-contain w-full h-full"}),v.jsx("button",{onClick:()=>o(null),className:"absolute top-0 right-0 bg-black/60 text-white text-xs px-1 rounded-bl hover:bg-red-600",children:"✕"})]}):u!=null&&u.imagen?v.jsxs("div",{className:"relative w-32 h-20 border rounded overflow-hidden",children:[v.jsx("img",{src:u.imagen,alt:"Imagen actual",className:"object-contain w-full h-full"}),v.jsx("button",{onClick:()=>f({...u,imagen:null}),className:"absolute top-0 right-0 bg-black/60 text-white text-xs px-1 rounded-bl hover:bg-red-600",children:"✕"})]}):v.jsx("input",{type:"file",accept:"image/*",onChange:V=>{const ie=V.target.files[0];ie&&o(ie),V.target.value=""},className:"w-full px-3 py-2 border rounded shadow-sm"})})]}),v.jsxs("div",{className:"flex justify-end mt-6 space-x-2 gap-3",children:[v.jsx("button",{onClick:()=>T(!1),className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100",children:"Cancelar"}),v.jsx("button",{onClick:Y,disabled:d,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:d?"Subiendo...":u?"Actualizar":"Guardar"})]})]})})]})}function nz(){const[n,e]=O.useState([]),[t,r]=O.useState(""),[s,o]=O.useState(""),[u,f]=O.useState(1),[d,h]=O.useState(null),[m,b]=O.useState(null),[_,w]=O.useState(!0),E=6,T=async()=>{const Y=(await Rn(en(it,"ordenes"))).docs.map(P=>({id:P.id,...P.data()}));e(Y)};O.useEffect(()=>{T()},[]);const I=n.filter(k=>{var D,j;const P=`${((D=k.cliente)==null?void 0:D.nombre)||""} ${((j=k.cliente)==null?void 0:j.apellido)||""}`.toLowerCase().includes(t.toLowerCase()),M=s?k.estado===s:!0;return P&&M}).sort((k,Y)=>_?k.numeroOrden-Y.numeroOrden:Y.numeroOrden-k.numeroOrden),N=Math.ceil(I.length/E),C=I.slice((u-1)*E,u*E),S=async(k,Y)=>{await ls(jn(it,"ordenes",k.id),{estado:Y}),b(null),T()},U=k=>{var D;const Y=SC(k.numeroOrden,k.cliente,k.carrito,k.total),P=(D=k.cliente.telefono)==null?void 0:D.replace(/\D/g,"");if(!P)return alert("Número de teléfono no válido");const M=`https://wa.me/51${P}?text=${encodeURIComponent(Y)}`;window.open(M,"_blank")};return v.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestión de Ventas"}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[v.jsx("input",{type:"text",placeholder:"Buscar por nombre del cliente",value:t,onChange:k=>{r(k.target.value),f(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/2"}),v.jsxs("select",{value:s,onChange:k=>{o(k.target.value),f(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/4",children:[v.jsx("option",{value:"",children:"Todos los estados"}),v.jsx("option",{value:"pendiente",children:"Pendiente"}),v.jsx("option",{value:"cancelado",children:"Cancelado"}),v.jsx("option",{value:"finalizado",children:"Finalizado"})]})]}),v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"min-w-full text-sm border",children:[v.jsx("thead",{className:"bg-gray-100 text-gray-700",children:v.jsxs("tr",{children:[v.jsxs("th",{onClick:()=>{w(!_),f(1)},className:"py-2 px-4 border cursor-pointer select-none",children:["N° Orden ",_?"⬇":"⬆"]}),v.jsx("th",{className:"py-2 px-4 border",children:"Cliente"}),v.jsx("th",{className:"py-2 px-4 border",children:"Total"}),v.jsx("th",{className:"py-2 px-4 border",children:"Estado"}),v.jsx("th",{className:"py-2 px-4 border",children:"Fecha realizada"}),v.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),v.jsx("tbody",{children:C.map(k=>{var Y,P,M;return v.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[v.jsxs("td",{className:"py-2 px-4 border text-center",children:["#",String(k.numeroOrden).padStart(4,"0")]}),v.jsxs("td",{className:"py-2 px-4 border",children:[(Y=k.cliente)==null?void 0:Y.nombre," ",(P=k.cliente)==null?void 0:P.apellido]}),v.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",k.total.toFixed(2)]}),v.jsx("td",{className:"py-2 px-4 border capitalize",children:k.estado}),v.jsx("td",{className:"py-2 px-4 border text-center",children:(M=k.creadoEn)!=null&&M.toDate?k.creadoEn.toDate().toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"—"}),v.jsxs("td",{className:"py-2 px-4 flex justify-center gap-3 text-center",children:[v.jsx("button",{onClick:()=>h(k),title:"Ver detalle",children:v.jsx("i",{className:"bx bx-eye-alt text-blue-600 text-lg hover:scale-110 transition-transform"})}),v.jsx("button",{onClick:()=>b(k),title:"Cambiar estado",children:v.jsx("i",{className:"bx bx-checklist text-yellow-600 text-lg hover:scale-110 transition-transform"})}),v.jsx("button",{onClick:()=>U(k),title:"Reenviar a WhatsApp",children:v.jsx("i",{className:"bx bx-send-alt text-green-600 text-lg hover:scale-110 transition-transform"})})]})]},k.id)})})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[v.jsx("button",{onClick:()=>f(k=>Math.max(k-1,1)),disabled:u===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),v.jsxs("span",{className:"text-gray-600",children:["Página ",u," de ",N]}),v.jsx("button",{onClick:()=>f(k=>Math.min(k+1,N)),disabled:u===N,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),d&&v.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow max-w-md w-full",children:[v.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Detalle de Orden #",String(d.numeroOrden).padStart(4,"0")]}),v.jsxs("table",{className:"w-full text-sm mb-4",children:[v.jsx("thead",{children:v.jsxs("tr",{className:"text-left border-b",children:[v.jsx("th",{children:"Producto"}),v.jsx("th",{children:"Talla"}),v.jsx("th",{children:"Color"}),v.jsx("th",{children:"Cant"}),v.jsx("th",{children:"Subtotal"})]})}),v.jsx("tbody",{children:d.carrito.map((k,Y)=>v.jsxs("tr",{className:"border-b",children:[v.jsx("td",{className:"py-1",children:k.nombre}),v.jsx("td",{className:"py-1",children:k.talla}),v.jsx("td",{className:"py-1",children:k.color}),v.jsx("td",{className:"py-1 text-center",children:k.cantidad}),v.jsxs("td",{className:"py-1 text-right",children:["S/ ",(k.precio*k.cantidad).toFixed(2)]})]},Y))})]}),v.jsxs("div",{className:"text-right font-semibold text-lg",children:["Total: S/ ",d.total.toFixed(2)]}),v.jsx("div",{className:"text-right mt-4",children:v.jsx("button",{onClick:()=>h(null),className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Cerrar"})})]})}),m&&v.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow max-w-sm w-full text-center",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cambiar estado"}),v.jsxs("p",{className:"mb-3 text-gray-600",children:["Estado actual: ",v.jsx("strong",{children:m.estado})]}),v.jsx("div",{className:"flex flex-col gap-2 mb-4",children:["pendiente","cancelado","finalizado"].map(k=>v.jsx("button",{onClick:()=>S(m,k),className:"px-4 py-2 border rounded hover:bg-gray-100",children:k},k))}),v.jsx("button",{onClick:()=>b(null),className:"text-sm text-gray-500 hover:underline",children:"Cancelar"})]})})]})}function rz(){const[n,e]=O.useState([]),[t,r]=O.useState(""),[s,o]=O.useState(""),[u,f]=O.useState(1),[d,h]=O.useState(null),m=6,b=async()=>{const U=(await Rn(en(it,"usuarios"))).docs.map(k=>({id:k.id,...k.data()}));e(U)};O.useEffect(()=>{b()},[]);const _=n.filter(S=>{const k=`${S.nombre||""} ${S.apellido||""}`.toLowerCase().includes(t.toLowerCase()),Y=s?S.rol===s:!0;return k&&Y}),w=Math.ceil(_.length/m),E=_.slice((u-1)*m,u*m),T=async S=>{await ls(jn(it,"usuarios",S.id),{rol:S.rol==="admin"?"cliente":"admin"}),h(null),b()},I=async S=>{await ls(jn(it,"usuarios",S.id),{usuarioMayorista:!S.usuarioMayorista}),h(null),b()},N=async S=>{await ls(jn(it,"usuarios",S.id),{active:!1}),h(null),b()},C=async S=>{await ls(jn(it,"usuarios",S.id),{active:!0}),h(null),b()};return v.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestión de Usuarios"}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[v.jsx("input",{type:"text",placeholder:"Buscar por nombre",value:t,onChange:S=>{r(S.target.value),f(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/2"}),v.jsxs("select",{value:s,onChange:S=>{o(S.target.value),f(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/4",children:[v.jsx("option",{value:"",children:"Todos los roles"}),v.jsx("option",{value:"cliente",children:"Cliente"}),v.jsx("option",{value:"admin",children:"Admin"})]})]}),v.jsxs("div",{className:"overflow-x-auto",children:[v.jsxs("table",{className:"min-w-full text-sm border",children:[v.jsx("thead",{className:"bg-gray-100 text-gray-700",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Nombre"}),v.jsx("th",{className:"py-2 px-4 border",children:"Fecha Creado"}),v.jsx("th",{className:"py-2 px-4 border",children:"Activo"}),v.jsx("th",{className:"py-2 px-4 border",children:"Rol"}),v.jsx("th",{className:"py-2 px-4 border",children:"Mayorista"}),v.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),v.jsx("tbody",{children:E.map(S=>{var U,k;return v.jsxs("tr",{className:`border-t hover:bg-gray-50 ${S.active===!1?"bg-gray-100 text-gray-400":""}`,children:[v.jsxs("td",{className:"py-2 px-4 border",children:[S.nombre||"—"," ",S.apellido||""]}),v.jsx("td",{className:"py-2 px-4 border",children:(U=S.creadoEn)!=null&&U.toDate?S.creadoEn.toDate().toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"—"}),v.jsx("td",{className:"py-2 px-4 border capitalize",children:S.active?"Sí":"No"}),v.jsx("td",{className:"py-2 px-4 border capitalize",children:S.rol}),v.jsx("td",{className:"py-2 px-4 border text-center",children:S.usuarioMayorista?"Sí":"No"}),v.jsx("td",{className:"py-2 px-4 flex justify-center gap-2 text-center space-x-2",children:S.active===!1?v.jsx("button",{onClick:()=>h({tipo:"activar",usuario:S}),title:"Activar cuenta",children:v.jsx("i",{className:"bx bx-check-circle text-green-600 text-lg hover:scale-110 transition-transform"})}):v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>h({tipo:"cambiarRol",usuario:S}),title:"Cambiar rol",children:v.jsx("i",{className:"bx bx-user-id-card text-blue-600 text-lg hover:scale-110 transition-transform"})}),v.jsx("button",{onClick:()=>h({tipo:"cambiarMayorista",usuario:S}),title:"Cambiar estado mayorista",children:v.jsx("i",{className:"bx bx-piggy-bank text-yellow-600 text-lg hover:scale-110 transition-transform"})}),S.uid!==((k=Jt.currentUser)==null?void 0:k.uid)&&v.jsx("button",{onClick:()=>h({tipo:"eliminar",usuario:S}),title:"Desactivar cuenta",children:v.jsx("i",{className:"bx bx-trash text-red-600 text-lg hover:scale-110 transition-transform"})})]})})]},S.id)})})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[v.jsx("button",{onClick:()=>f(S=>Math.max(S-1,1)),disabled:u===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),v.jsxs("span",{className:"text-gray-600",children:["Página ",u," de ",w]}),v.jsx("button",{onClick:()=>f(S=>Math.min(S+1,w)),disabled:u===w,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),d&&v.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-6 rounded-lg shadow max-w-sm w-full text-center",children:[v.jsxs("p",{className:"mb-4 text-gray-800",children:[d.tipo==="rol"&&`¿Cambiar rol de ${d.usuario.nombre} a ${d.usuario.rol==="admin"?"cliente":"admin"}?`,d.tipo==="mayorista"&&`¿Cambiar estado mayorista a ${d.usuario.usuarioMayorista?"NO":"SÍ"} para ${d.usuario.nombre}?`,d.tipo==="activar"&&`¿Deseas activar al usuario ${d.usuario.nombre}?`,d.tipo==="eliminar"&&`¿Deseas desactivar al usuario ${d.usuario.nombre}? No podrá iniciar sesión hasta que lo actives.`]}),v.jsxs("div",{className:"flex justify-center gap-4",children:[v.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 border border-gray-300 rounded",children:"Cancelar"}),v.jsx("button",{onClick:()=>{d.tipo==="rol"&&T(d.usuario),d.tipo==="mayorista"&&I(d.usuario),d.tipo==="eliminar"&&N(d.usuario),d.tipo==="activar"&&C(d.usuario)},className:"px-4 py-2 bg-black text-white rounded",children:"Confirmar"})]})]})})]})}function iz(){const[n,e]=O.useState([]),[t,r]=O.useState([]),[s,o]=O.useState(""),[u,f]=O.useState("");O.useEffect(()=>{(async()=>{const w=await Rn(co(en(it,"usuarios"),UE("creadoEn","desc"))),E=await Rn(co(en(it,"ventas"),UE("fecha","desc")));e(w.docs.map(T=>({id:T.id,...T.data()}))),r(E.docs.map(T=>({id:T.id,...T.data()})))})()},[]);const d=n.slice(0,5),h=t.filter(_=>{var E,T;if(!s||!u)return!0;const w=(T=(E=_.fecha)==null?void 0:E.toDate)==null?void 0:T.call(E);return w>=new Date(s)&&w<=new Date(u)}),m=h.reduce((_,w)=>_+(w.total||0),0),b=h.length;return v.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Dashboard Principal"}),v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[v.jsx("input",{type:"date",value:s,onChange:_=>o(_.target.value),className:"border px-4 py-2 rounded"}),v.jsx("input",{type:"date",value:u,onChange:_=>f(_.target.value),className:"border px-4 py-2 rounded"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[v.jsxs("div",{className:"bg-white border rounded shadow p-4",children:[v.jsx("h3",{className:"text-lg font-medium",children:"Total de Ventas"}),v.jsxs("p",{className:"text-2xl text-green-600 font-bold mt-2",children:["S/. ",m.toFixed(2)]})]}),v.jsxs("div",{className:"bg-white border rounded shadow p-4",children:[v.jsx("h3",{className:"text-lg font-medium",children:"Total de Órdenes"}),v.jsx("p",{className:"text-2xl text-blue-600 font-bold mt-2",children:b})]}),v.jsxs("div",{className:"bg-white border rounded shadow p-4",children:[v.jsx("h3",{className:"text-lg font-medium",children:"Usuarios Registrados"}),v.jsx("p",{className:"text-2xl text-purple-600 font-bold mt-2",children:n.length})]})]}),v.jsxs("div",{className:"bg-white rounded shadow p-4 mb-8",children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsx("h3",{className:"text-lg font-semibold",children:"Últimos Usuarios"}),v.jsx("a",{href:"/admin/usuarios",className:"text-blue-600 text-sm hover:underline",children:"Ver más"})]}),v.jsxs("table",{className:"min-w-full text-sm border",children:[v.jsx("thead",{className:"bg-gray-100",children:v.jsxs("tr",{children:[v.jsx("th",{className:"py-2 px-4 border",children:"Nombre"}),v.jsx("th",{className:"py-2 px-4 border",children:"Fecha"})]})}),v.jsx("tbody",{children:d.map(_=>{var w,E;return v.jsxs("tr",{className:"border-t",children:[v.jsxs("td",{className:"py-2 px-4 border",children:[_.nombre," ",_.apellido]}),v.jsx("td",{className:"py-2 px-4 border",children:((E=(w=_.creadoEn)==null?void 0:w.toDate)==null?void 0:E.call(w).toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}))||"—"})]},_.id)})})]})]}),v.jsxs("div",{className:"bg-white border rounded shadow p-4",children:[v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Resumen gráfico (simulado)"}),v.jsx("img",{src:"/ventas_diarias.png",alt:"Ventas Diarias",className:"w-full rounded"})]})]})}function sz(){return v.jsx("div",{className:"relative",style:{minHeight:"100dvh"},children:v.jsxs(n2,{children:[v.jsx(Bt,{path:"/redirect",element:v.jsx(J6,{})}),v.jsx(Bt,{path:"/login",element:v.jsx(K6,{})}),v.jsx(Bt,{path:"/register",element:v.jsx(Q6,{})}),v.jsx(Bt,{path:"/forgotPassword",element:v.jsx(X6,{})}),v.jsx(Bt,{path:"/reset",element:v.jsx(W6,{})}),v.jsx(Bt,{path:"/verify-email",element:v.jsx(eU,{})}),v.jsx(Bt,{path:"/confirmar",element:v.jsx(Z6,{})}),v.jsxs(Bt,{path:"/*",element:v.jsx(CL,{}),children:[v.jsx(Bt,{index:!0,element:v.jsx(b6,{})}),v.jsx(Bt,{path:"productos",element:v.jsx(T6,{})}),v.jsx(Bt,{path:"productos/:slug",element:v.jsx(S6,{})}),v.jsx(Bt,{path:"checkout",element:v.jsx(Y6,{})}),v.jsx(Bt,{path:"mi-perfil",element:v.jsx(yS,{children:v.jsx(aU,{})})}),v.jsx(Bt,{path:"mis-compras",element:v.jsx(yS,{children:v.jsx(oU,{})})})]}),v.jsxs(Bt,{path:"/admin",element:v.jsx(lU,{}),children:[v.jsx(Bt,{path:"dashboard",element:v.jsx(iz,{})}),v.jsx(Bt,{path:"productos",element:v.jsx(ez,{})}),v.jsx(Bt,{path:"filtros",element:v.jsx(tz,{})}),v.jsx(Bt,{path:"ventas",element:v.jsx(nz,{})}),v.jsx(Bt,{path:"usuarios",element:v.jsx(rz,{})})]})]})})}oN.createRoot(document.getElementById("root")).render(v.jsx(Fe.StrictMode,{children:v.jsx(C2,{basename:"/nikos",children:v.jsx(M4,{children:v.jsx(D4,{children:v.jsx(sz,{})})})})}));
