var mD=Object.defineProperty;var gD=(n,e,t)=>e in n?mD(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Ke=(n,e,t)=>gD(n,typeof e!="symbol"?e+"":e,t);function vD(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in n)){const r=Object.getOwnPropertyDescriptor(i,s);r&&Object.defineProperty(n,s,r.get?r:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();function MA(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var py={exports:{}},ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE;function yD(){if(vE)return ju;vE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,r){var l=null;if(r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),"key"in s){r={};for(var c in s)c!=="key"&&(r[c]=s[c])}else r=s;return s=r.ref,{$$typeof:n,type:i,key:l,ref:s!==void 0?s:null,props:r}}return ju.Fragment=e,ju.jsx=t,ju.jsxs=t,ju}var yE;function bD(){return yE||(yE=1,py.exports=yD()),py.exports}var y=bD(),my={exports:{}},Ye={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bE;function _D(){if(bE)return Ye;bE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function T(q,oe,me){this.props=q,this.context=oe,this.refs=S,this.updater=me||x}T.prototype.isReactComponent={},T.prototype.setState=function(q,oe){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,oe,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function C(){}C.prototype=T.prototype;function R(q,oe,me){this.props=q,this.context=oe,this.refs=S,this.updater=me||x}var A=R.prototype=new C;A.constructor=R,w(A,T.prototype),A.isPureReactComponent=!0;var V=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function D(q,oe,me,de,Se,Oe){return me=Oe.ref,{$$typeof:n,type:q,key:oe,ref:me!==void 0?me:null,props:Oe}}function O(q,oe){return D(q.type,oe,void 0,void 0,void 0,q.props)}function N(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function L(q){var oe={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(me){return oe[me]})}var U=/\/+/g;function B(q,oe){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):oe.toString(36)}function j(){}function ie(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(j,j):(q.status="pending",q.then(function(oe){q.status==="pending"&&(q.status="fulfilled",q.value=oe)},function(oe){q.status==="pending"&&(q.status="rejected",q.reason=oe)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function X(q,oe,me,de,Se){var Oe=typeof q;(Oe==="undefined"||Oe==="boolean")&&(q=null);var Ce=!1;if(q===null)Ce=!0;else switch(Oe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(q.$$typeof){case n:case e:Ce=!0;break;case p:return Ce=q._init,X(Ce(q._payload),oe,me,de,Se)}}if(Ce)return Se=Se(q),Ce=de===""?"."+B(q,0):de,V(Se)?(me="",Ce!=null&&(me=Ce.replace(U,"$&/")+"/"),X(Se,oe,me,"",function(Ht){return Ht})):Se!=null&&(N(Se)&&(Se=O(Se,me+(Se.key==null||q&&q.key===Se.key?"":(""+Se.key).replace(U,"$&/")+"/")+Ce)),oe.push(Se)),1;Ce=0;var ct=de===""?".":de+":";if(V(q))for(var Ge=0;Ge<q.length;Ge++)de=q[Ge],Oe=ct+B(de,Ge),Ce+=X(de,oe,me,Oe,Se);else if(Ge=b(q),typeof Ge=="function")for(q=Ge.call(q),Ge=0;!(de=q.next()).done;)de=de.value,Oe=ct+B(de,Ge++),Ce+=X(de,oe,me,Oe,Se);else if(Oe==="object"){if(typeof q.then=="function")return X(ie(q),oe,me,de,Se);throw oe=String(q),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function $(q,oe,me){if(q==null)return q;var de=[],Se=0;return X(q,de,"","",function(Oe){return oe.call(me,Oe,Se++)}),de}function se(q){if(q._status===-1){var oe=q._result;oe=oe(),oe.then(function(me){(q._status===0||q._status===-1)&&(q._status=1,q._result=me)},function(me){(q._status===0||q._status===-1)&&(q._status=2,q._result=me)}),q._status===-1&&(q._status=0,q._result=oe)}if(q._status===1)return q._result.default;throw q._result}var ue=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function ye(){}return Ye.Children={map:$,forEach:function(q,oe,me){$(q,function(){oe.apply(this,arguments)},me)},count:function(q){var oe=0;return $(q,function(){oe++}),oe},toArray:function(q){return $(q,function(oe){return oe})||[]},only:function(q){if(!N(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ye.Component=T,Ye.Fragment=t,Ye.Profiler=s,Ye.PureComponent=R,Ye.StrictMode=i,Ye.Suspense=u,Ye.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ye.__COMPILER_RUNTIME={__proto__:null,c:function(q){return I.H.useMemoCache(q)}},Ye.cache=function(q){return function(){return q.apply(null,arguments)}},Ye.cloneElement=function(q,oe,me){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var de=w({},q.props),Se=q.key,Oe=void 0;if(oe!=null)for(Ce in oe.ref!==void 0&&(Oe=void 0),oe.key!==void 0&&(Se=""+oe.key),oe)!H.call(oe,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&oe.ref===void 0||(de[Ce]=oe[Ce]);var Ce=arguments.length-2;if(Ce===1)de.children=me;else if(1<Ce){for(var ct=Array(Ce),Ge=0;Ge<Ce;Ge++)ct[Ge]=arguments[Ge+2];de.children=ct}return D(q.type,Se,void 0,void 0,Oe,de)},Ye.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:r,_context:q},q},Ye.createElement=function(q,oe,me){var de,Se={},Oe=null;if(oe!=null)for(de in oe.key!==void 0&&(Oe=""+oe.key),oe)H.call(oe,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(Se[de]=oe[de]);var Ce=arguments.length-2;if(Ce===1)Se.children=me;else if(1<Ce){for(var ct=Array(Ce),Ge=0;Ge<Ce;Ge++)ct[Ge]=arguments[Ge+2];Se.children=ct}if(q&&q.defaultProps)for(de in Ce=q.defaultProps,Ce)Se[de]===void 0&&(Se[de]=Ce[de]);return D(q,Oe,void 0,void 0,null,Se)},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(q){return{$$typeof:c,render:q}},Ye.isValidElement=N,Ye.lazy=function(q){return{$$typeof:p,_payload:{_status:-1,_result:q},_init:se}},Ye.memo=function(q,oe){return{$$typeof:f,type:q,compare:oe===void 0?null:oe}},Ye.startTransition=function(q){var oe=I.T,me={};I.T=me;try{var de=q(),Se=I.S;Se!==null&&Se(me,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(ye,ue)}catch(Oe){ue(Oe)}finally{I.T=oe}},Ye.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ye.use=function(q){return I.H.use(q)},Ye.useActionState=function(q,oe,me){return I.H.useActionState(q,oe,me)},Ye.useCallback=function(q,oe){return I.H.useCallback(q,oe)},Ye.useContext=function(q){return I.H.useContext(q)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(q,oe){return I.H.useDeferredValue(q,oe)},Ye.useEffect=function(q,oe,me){var de=I.H;if(typeof me=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return de.useEffect(q,oe)},Ye.useId=function(){return I.H.useId()},Ye.useImperativeHandle=function(q,oe,me){return I.H.useImperativeHandle(q,oe,me)},Ye.useInsertionEffect=function(q,oe){return I.H.useInsertionEffect(q,oe)},Ye.useLayoutEffect=function(q,oe){return I.H.useLayoutEffect(q,oe)},Ye.useMemo=function(q,oe){return I.H.useMemo(q,oe)},Ye.useOptimistic=function(q,oe){return I.H.useOptimistic(q,oe)},Ye.useReducer=function(q,oe,me){return I.H.useReducer(q,oe,me)},Ye.useRef=function(q){return I.H.useRef(q)},Ye.useState=function(q){return I.H.useState(q)},Ye.useSyncExternalStore=function(q,oe,me){return I.H.useSyncExternalStore(q,oe,me)},Ye.useTransition=function(){return I.H.useTransition()},Ye.version="19.1.0",Ye}var _E;function h0(){return _E||(_E=1,my.exports=_D()),my.exports}var k=h0();const Le=MA(k),xE=vD({__proto__:null,default:Le},[k]);var gy={exports:{}},Fu={},vy={exports:{}},yy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE;function xD(){return wE||(wE=1,function(n){function e($,se){var ue=$.length;$.push(se);e:for(;0<ue;){var ye=ue-1>>>1,q=$[ye];if(0<s(q,se))$[ye]=se,$[ue]=q,ue=ye;else break e}}function t($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var se=$[0],ue=$.pop();if(ue!==se){$[0]=ue;e:for(var ye=0,q=$.length,oe=q>>>1;ye<oe;){var me=2*(ye+1)-1,de=$[me],Se=me+1,Oe=$[Se];if(0>s(de,ue))Se<q&&0>s(Oe,de)?($[ye]=Oe,$[Se]=ue,ye=Se):($[ye]=de,$[me]=ue,ye=me);else if(Se<q&&0>s(Oe,ue))$[ye]=Oe,$[Se]=ue,ye=Se;else break e}}return se}function s($,se){var ue=$.sortIndex-se.sortIndex;return ue!==0?ue:$.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var u=[],f=[],p=1,g=null,b=3,x=!1,w=!1,S=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function V($){for(var se=t(f);se!==null;){if(se.callback===null)i(f);else if(se.startTime<=$)i(f),se.sortIndex=se.expirationTime,e(u,se);else break;se=t(f)}}function I($){if(S=!1,V($),!w)if(t(u)!==null)w=!0,H||(H=!0,B());else{var se=t(f);se!==null&&X(I,se.startTime-$)}}var H=!1,D=-1,O=5,N=-1;function L(){return T?!0:!(n.unstable_now()-N<O)}function U(){if(T=!1,H){var $=n.unstable_now();N=$;var se=!0;try{e:{w=!1,S&&(S=!1,R(D),D=-1),x=!0;var ue=b;try{t:{for(V($),g=t(u);g!==null&&!(g.expirationTime>$&&L());){var ye=g.callback;if(typeof ye=="function"){g.callback=null,b=g.priorityLevel;var q=ye(g.expirationTime<=$);if($=n.unstable_now(),typeof q=="function"){g.callback=q,V($),se=!0;break t}g===t(u)&&i(u),V($)}else i(u);g=t(u)}if(g!==null)se=!0;else{var oe=t(f);oe!==null&&X(I,oe.startTime-$),se=!1}}break e}finally{g=null,b=ue,x=!1}se=void 0}}finally{se?B():H=!1}}}var B;if(typeof A=="function")B=function(){A(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ie=j.port2;j.port1.onmessage=U,B=function(){ie.postMessage(null)}}else B=function(){C(U,0)};function X($,se){D=C(function(){$(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var se=3;break;default:se=b}var ue=b;b=se;try{return $()}finally{b=ue}},n.unstable_requestPaint=function(){T=!0},n.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ue=b;b=$;try{return se()}finally{b=ue}},n.unstable_scheduleCallback=function($,se,ue){var ye=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ye+ue:ye):ue=ye,$){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ue+q,$={id:p++,callback:se,priorityLevel:$,startTime:ue,expirationTime:q,sortIndex:-1},ue>ye?($.sortIndex=ue,e(f,$),t(u)===null&&$===t(f)&&(S?(R(D),D=-1):S=!0,X(I,ue-ye))):($.sortIndex=q,e(u,$),w||x||(w=!0,H||(H=!0,B()))),$},n.unstable_shouldYield=L,n.unstable_wrapCallback=function($){var se=b;return function(){var ue=b;b=se;try{return $.apply(this,arguments)}finally{b=ue}}}}(yy)),yy}var SE;function wD(){return SE||(SE=1,vy.exports=xD()),vy.exports}var by={exports:{}},Un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function SD(){if(EE)return Un;EE=1;var n=h0();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function r(u,f,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:u,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Un.createPortal=function(u,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return r(u,f,null,p)},Un.flushSync=function(u){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,u)return u()}finally{l.T=f,i.p=p,i.d.f()}},Un.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(u,f))},Un.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},Un.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:x}):p==="script"&&i.d.X(u,{crossOrigin:g,integrity:b,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Un.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);i.d.M(u,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(u)},Un.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,g=c(p,f.crossOrigin);i.d.L(u,p,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Un.preloadModule=function(u,f){if(typeof u=="string")if(f){var p=c(f.as,f.crossOrigin);i.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(u)},Un.requestFormReset=function(u){i.d.r(u)},Un.unstable_batchedUpdates=function(u,f){return u(f)},Un.useFormState=function(u,f,p){return l.H.useFormState(u,f,p)},Un.useFormStatus=function(){return l.H.useHostTransitionStatus()},Un.version="19.1.0",Un}var TE;function OA(){if(TE)return by.exports;TE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),by.exports=SD(),by.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function ED(){if(CE)return Fu;CE=1;var n=wD(),e=h0(),t=OA();function i(a){var o="https://react.dev/errors/"+a;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function r(a){var o=a,d=a;if(a.alternate)for(;o.return;)o=o.return;else{a=o;do o=a,(o.flags&4098)!==0&&(d=o.return),a=o.return;while(a)}return o.tag===3?d:null}function l(a){if(a.tag===13){var o=a.memoizedState;if(o===null&&(a=a.alternate,a!==null&&(o=a.memoizedState)),o!==null)return o.dehydrated}return null}function c(a){if(r(a)!==a)throw Error(i(188))}function u(a){var o=a.alternate;if(!o){if(o=r(a),o===null)throw Error(i(188));return o!==a?null:a}for(var d=a,h=o;;){var v=d.return;if(v===null)break;var _=v.alternate;if(_===null){if(h=v.return,h!==null){d=h;continue}break}if(v.child===_.child){for(_=v.child;_;){if(_===d)return c(v),a;if(_===h)return c(v),o;_=_.sibling}throw Error(i(188))}if(d.return!==h.return)d=v,h=_;else{for(var P=!1,F=v.child;F;){if(F===d){P=!0,d=v,h=_;break}if(F===h){P=!0,h=v,d=_;break}F=F.sibling}if(!P){for(F=_.child;F;){if(F===d){P=!0,d=_,h=v;break}if(F===h){P=!0,h=_,d=v;break}F=F.sibling}if(!P)throw Error(i(189))}}if(d.alternate!==h)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:o}function f(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a;for(a=a.child;a!==null;){if(o=f(a),o!==null)return o;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),A=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var j=Symbol.for("react.client.reference");function ie(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===j?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case H:return"SuspenseList";case N:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case x:return"Portal";case A:return(a.displayName||"Context")+".Provider";case R:return(a._context.displayName||"Context")+".Consumer";case V:var o=a.render;return a=a.displayName,a||(a=o.displayName||o.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case D:return o=a.displayName||null,o!==null?o:ie(a.type)||"Memo";case O:o=a._payload,a=a._init;try{return ie(a(o))}catch{}}return null}var X=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},ye=[],q=-1;function oe(a){return{current:a}}function me(a){0>q||(a.current=ye[q],ye[q]=null,q--)}function de(a,o){q++,ye[q]=a.current,a.current=o}var Se=oe(null),Oe=oe(null),Ce=oe(null),ct=oe(null);function Ge(a,o){switch(de(Ce,o),de(Oe,a),de(Se,null),o.nodeType){case 9:case 11:a=(a=o.documentElement)&&(a=a.namespaceURI)?qS(a):0;break;default:if(a=o.tagName,o=o.namespaceURI)o=qS(o),a=GS(o,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}me(Se),de(Se,a)}function Ht(){me(Se),me(Oe),me(Ce)}function jn(a){a.memoizedState!==null&&de(ct,a);var o=Se.current,d=GS(o,a.type);o!==d&&(de(Oe,a),de(Se,d))}function xe(a){Oe.current===a&&(me(Se),me(Oe)),ct.current===a&&(me(ct),Du._currentValue=ue)}var Te=Object.prototype.hasOwnProperty,Ze=n.unstable_scheduleCallback,dt=n.unstable_cancelCallback,Nt=n.unstable_shouldYield,Gs=n.unstable_requestPaint,Cn=n.unstable_now,Ys=n.unstable_getCurrentPriorityLevel,us=n.unstable_ImmediatePriority,Y=n.unstable_UserBlockingPriority,ee=n.unstable_NormalPriority,ae=n.unstable_LowPriority,ve=n.unstable_IdlePriority,be=n.log,ge=n.unstable_setDisableYieldValue,we=null,Me=null;function We(a){if(typeof be=="function"&&ge(a),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(we,a)}catch{}}var bt=Math.clz32?Math.clz32:Ks,Ws=Math.log,Ti=Math.LN2;function Ks(a){return a>>>=0,a===0?32:31-(Ws(a)/Ti|0)|0}var Gi=256,Yi=4194304;function ui(a){var o=a&42;if(o!==0)return o;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Xs(a,o,d){var h=a.pendingLanes;if(h===0)return 0;var v=0,_=a.suspendedLanes,P=a.pingedLanes;a=a.warmLanes;var F=h&134217727;return F!==0?(h=F&~_,h!==0?v=ui(h):(P&=F,P!==0?v=ui(P):d||(d=F&~a,d!==0&&(v=ui(d))))):(F=h&~_,F!==0?v=ui(F):P!==0?v=ui(P):d||(d=h&~a,d!==0&&(v=ui(d)))),v===0?0:o!==0&&o!==v&&(o&_)===0&&(_=v&-v,d=o&-o,_>=d||_===32&&(d&4194048)!==0)?o:v}function Qs(a,o){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&o)===0}function Gr(a,o){switch(a){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pc(){var a=Gi;return Gi<<=1,(Gi&4194048)===0&&(Gi=256),a}function kc(){var a=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),a}function Zs(a){for(var o=[],d=0;31>d;d++)o.push(a);return o}function Js(a,o){a.pendingLanes|=o,o!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Lc(a,o,d,h,v,_){var P=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var F=a.entanglements,G=a.expirationTimes,J=a.hiddenUpdates;for(d=P&~d;0<d;){var le=31-bt(d),fe=1<<le;F[le]=0,G[le]=-1;var te=J[le];if(te!==null)for(J[le]=null,le=0;le<te.length;le++){var ne=te[le];ne!==null&&(ne.lane&=-536870913)}d&=~fe}h!==0&&ds(a,h,0),_!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=_&~(P&~o))}function ds(a,o,d){a.pendingLanes|=o,a.suspendedLanes&=~o;var h=31-bt(o);a.entangledLanes|=o,a.entanglements[h]=a.entanglements[h]|1073741824|d&4194090}function Vc(a,o){var d=a.entangledLanes|=o;for(a=a.entanglements;d;){var h=31-bt(d),v=1<<h;v&o|a[h]&o&&(a[h]|=o),d&=~v}}function Yr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function rl(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Wr(){var a=se.p;return a!==0?a:(a=window.event,a===void 0?32:dE(a.type))}function hf(a,o){var d=se.p;try{return se.p=a,o()}finally{se.p=d}}var Pt=Math.random().toString(36).slice(2),cn="__reactFiber$"+Pt,Jt="__reactProps$"+Pt,Ci="__reactContainer$"+Pt,jc="__reactEvents$"+Pt,vg="__reactListeners$"+Pt,Kr="__reactHandles$"+Pt,pf="__reactResources$"+Pt,Qa="__reactMarker$"+Pt;function Xr(a){delete a[cn],delete a[Jt],delete a[jc],delete a[vg],delete a[Kr]}function er(a){var o=a[cn];if(o)return o;for(var d=a.parentNode;d;){if(o=d[Ci]||d[cn]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(a=XS(a);a!==null;){if(d=a[cn])return d;a=XS(a)}return o}a=d,d=a.parentNode}return null}function fs(a){if(a=a[cn]||a[Ci]){var o=a.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return a}return null}function hs(a){var o=a.tag;if(o===5||o===26||o===27||o===6)return a.stateNode;throw Error(i(33))}function Wn(a){var o=a[pf];return o||(o=a[pf]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function $t(a){a[Qa]=!0}var Fc=new Set,al={};function Wi(a,o){tr(a,o),tr(a+"Capture",o)}function tr(a,o){for(al[a]=o,a=0;a<o.length;a++)Fc.add(o[a])}var mf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gf={},Za={};function vf(a){return Te.call(Za,a)?!0:Te.call(gf,a)?!1:mf.test(a)?Za[a]=!0:(gf[a]=!0,!1)}function Qr(a,o,d){if(vf(o))if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(o);return}}a.setAttribute(o,""+d)}}function ps(a,o,d){if(d===null)a.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttribute(o,""+d)}}function An(a,o,d,h){if(h===null)a.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(o,d,""+h)}}var Ja,yf;function nr(a){if(Ja===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Ja=o&&o[1]||"",yf=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ja+a+yf}var ol=!1;function ll(a,o){if(!a||ol)return"";ol=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ne){var te=ne}Reflect.construct(a,[],fe)}else{try{fe.call()}catch(ne){te=ne}a.call(fe.prototype)}}else{try{throw Error()}catch(ne){te=ne}(fe=a())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),P=_[0],F=_[1];if(P&&F){var G=P.split(`
`),J=F.split(`
`);for(v=h=0;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;for(;v<J.length&&!J[v].includes("DetermineComponentFrameRoot");)v++;if(h===G.length||v===J.length)for(h=G.length-1,v=J.length-1;1<=h&&0<=v&&G[h]!==J[v];)v--;for(;1<=h&&0<=v;h--,v--)if(G[h]!==J[v]){if(h!==1||v!==1)do if(h--,v--,0>v||G[h]!==J[v]){var le=`
`+G[h].replace(" at new "," at ");return a.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",a.displayName)),le}while(1<=h&&0<=v);break}}}finally{ol=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?nr(d):""}function Uc(a){switch(a.tag){case 26:case 27:case 5:return nr(a.type);case 16:return nr("Lazy");case 13:return nr("Suspense");case 19:return nr("SuspenseList");case 0:case 15:return ll(a.type,!1);case 11:return ll(a.type.render,!1);case 1:return ll(a.type,!0);case 31:return nr("Activity");default:return""}}function cl(a){try{var o="";do o+=Uc(a),a=a.return;while(a);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Kn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function zc(a){var o=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yg(a){var o=zc(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,o),h=""+a[o];if(!a.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,_=d.set;return Object.defineProperty(a,o,{configurable:!0,get:function(){return v.call(this)},set:function(P){h=""+P,_.call(this,P)}}),Object.defineProperty(a,o,{enumerable:d.enumerable}),{getValue:function(){return h},setValue:function(P){h=""+P},stopTracking:function(){a._valueTracker=null,delete a[o]}}}}function ul(a){a._valueTracker||(a._valueTracker=yg(a))}function Bc(a){if(!a)return!1;var o=a._valueTracker;if(!o)return!0;var d=o.getValue(),h="";return a&&(h=zc(a)?a.checked?"true":"false":a.value),a=h,a!==d?(o.setValue(a),!0):!1}function eo(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var bg=/[\n"\\]/g;function en(a){return a.replace(bg,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function di(a,o,d,h,v,_,P,F){a.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?a.type=P:a.removeAttribute("type"),o!=null?P==="number"?(o===0&&a.value===""||a.value!=o)&&(a.value=""+Kn(o)):a.value!==""+Kn(o)&&(a.value=""+Kn(o)):P!=="submit"&&P!=="reset"||a.removeAttribute("value"),o!=null?Zr(a,P,Kn(o)):d!=null?Zr(a,P,Kn(d)):h!=null&&a.removeAttribute("value"),v==null&&_!=null&&(a.defaultChecked=!!_),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"?a.name=""+Kn(F):a.removeAttribute("name")}function to(a,o,d,h,v,_,P,F){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),o!=null||d!=null){if(!(_!=="submit"&&_!=="reset"||o!=null))return;d=d!=null?""+Kn(d):"",o=o!=null?""+Kn(o):d,F||o===a.value||(a.value=o),a.defaultValue=o}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=F?a.checked:!!h,a.defaultChecked=!!h,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(a.name=P)}function Zr(a,o,d){o==="number"&&eo(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function ir(a,o,d,h){if(a=a.options,o){o={};for(var v=0;v<d.length;v++)o["$"+d[v]]=!0;for(d=0;d<a.length;d++)v=o.hasOwnProperty("$"+a[d].value),a[d].selected!==v&&(a[d].selected=v),v&&h&&(a[d].defaultSelected=!0)}else{for(d=""+Kn(d),o=null,v=0;v<a.length;v++){if(a[v].value===d){a[v].selected=!0,h&&(a[v].defaultSelected=!0);return}o!==null||a[v].disabled||(o=a[v])}o!==null&&(o.selected=!0)}}function St(a,o,d){if(o!=null&&(o=""+Kn(o),o!==a.value&&(a.value=o),d==null)){a.defaultValue!==o&&(a.defaultValue=o);return}a.defaultValue=d!=null?""+Kn(d):""}function no(a,o,d,h){if(o==null){if(h!=null){if(d!=null)throw Error(i(92));if(X(h)){if(1<h.length)throw Error(i(93));h=h[0]}d=h}d==null&&(d=""),o=d}d=Kn(o),a.defaultValue=d,h=a.textContent,h===d&&h!==""&&h!==null&&(a.value=h)}function Ai(a,o){if(o){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=o;return}}a.textContent=o}var io=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bf(a,o,d){var h=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?a.setProperty(o,""):o==="float"?a.cssFloat="":a[o]="":h?a.setProperty(o,d):typeof d!="number"||d===0||io.has(o)?o==="float"?a.cssFloat=d:a[o]=(""+d).trim():a[o]=d+"px"}function Hc(a,o,d){if(o!=null&&typeof o!="object")throw Error(i(62));if(a=a.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var v in o)h=o[v],o.hasOwnProperty(v)&&d[v]!==h&&bf(a,v,h)}else for(var _ in o)o.hasOwnProperty(_)&&bf(a,_,o[_])}function $c(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _g=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dl(a){return xg.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var sr=null;function Ri(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var rr=null,ar=null;function qc(a){var o=fs(a);if(o&&(a=o.stateNode)){var d=a[Jt]||null;e:switch(a=o.stateNode,o.type){case"input":if(di(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+en(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var h=d[o];if(h!==a&&h.form===a.form){var v=h[Jt]||null;if(!v)throw Error(i(90));di(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<d.length;o++)h=d[o],h.form===a.form&&Bc(h)}break e;case"textarea":St(a,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&ir(a,!!d.multiple,o,!1)}}}var ms=!1;function _f(a,o,d){if(ms)return a(o,d);ms=!0;try{var h=a(o);return h}finally{if(ms=!1,(rr!==null||ar!==null)&&(hh(),rr&&(o=rr,a=ar,ar=rr=null,qc(o),a)))for(o=0;o<a.length;o++)qc(a[o])}}function so(a,o){var d=a.stateNode;if(d===null)return null;var h=d[Jt]||null;if(h===null)return null;d=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,o,typeof d));return d}var Ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ii=!1;if(Ki)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Ii=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Ii=!1}var gs=null,Jr=null,or=null;function Gc(){if(or)return or;var a,o=Jr,d=o.length,h,v="value"in gs?gs.value:gs.textContent,_=v.length;for(a=0;a<d&&o[a]===v[a];a++);var P=d-a;for(h=1;h<=P&&o[d-h]===v[_-h];h++);return or=v.slice(a,1<h?1-h:void 0)}function vs(a){var o=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&o===13&&(a=13)):a=o,a===10&&(a=13),32<=a||a===13?a:0}function ys(){return!0}function Yc(){return!1}function yn(a){function o(d,h,v,_,P){this._reactName=d,this._targetInst=v,this.type=h,this.nativeEvent=_,this.target=P,this.currentTarget=null;for(var F in a)a.hasOwnProperty(F)&&(d=a[F],this[F]=d?d(_):_[F]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ys:Yc,this.isPropagationStopped=Yc,this}return p(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=ys)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=ys)},persist:function(){},isPersistent:ys}),o}var gt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=yn(gt),ao=p({},gt,{view:0,detail:0}),xf=yn(ao),hl,pl,bs,oo=p({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==bs&&(bs&&a.type==="mousemove"?(hl=a.screenX-bs.screenX,pl=a.screenY-bs.screenY):pl=hl=0,bs=a),hl)},movementY:function(a){return"movementY"in a?a.movementY:pl}}),Mi=yn(oo),wf=p({},oo,{dataTransfer:0}),wg=yn(wf),lo=p({},ao,{relatedTarget:0}),ml=yn(lo),Wc=p({},gt,{animationName:0,elapsedTime:0,pseudoElement:0}),gl=yn(Wc),Sf=p({},gt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),vl=yn(Sf),Sg=p({},gt,{data:0}),Kc=yn(Sg),co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ef={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xc(a){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(a):(a=Tf[a])?!!o[a]:!1}function uo(){return Xc}var Cf=p({},ao,{key:function(a){if(a.key){var o=co[a.key]||a.key;if(o!=="Unidentified")return o}return a.type==="keypress"?(a=vs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Ef[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(a){return a.type==="keypress"?vs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?vs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),yl=yn(Cf),Af=p({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=yn(Af),lr=p({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),Rf=yn(lr),If=p({},gt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mf=yn(If),Of=p({},oo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),bl=yn(Of),Xn=p({},gt,{newState:0,oldState:0}),Nf=yn(Xn),Df=[9,13,27,32],_s=Ki&&"CompositionEvent"in window,m=null;Ki&&"documentMode"in document&&(m=document.documentMode);var E=Ki&&"TextEvent"in window&&!m,M=Ki&&(!_s||m&&8<m&&11>=m),z=" ",Q=!1;function re(a,o){switch(a){case"keyup":return Df.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _e(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var rt=!1;function un(a,o){switch(a){case"compositionend":return _e(o);case"keypress":return o.which!==32?null:(Q=!0,z);case"textInput":return a=o.data,a===z&&Q?null:a;default:return null}}function at(a,o){if(rt)return a==="compositionend"||!_s&&re(a,o)?(a=Gc(),or=Jr=gs=null,rt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return M&&o.locale!=="ko"?null:o.data;default:return null}}var bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dn(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o==="input"?!!bn[a.type]:o==="textarea"}function cr(a,o,d,h){rr?ar?ar.push(h):ar=[h]:rr=h,o=bh(o,"onChange"),0<o.length&&(d=new fl("onChange","change",null,d,h),a.push({event:d,listeners:o}))}var Rn=null,xs=null;function Zc(a){US(a,0)}function Pf(a){var o=hs(a);if(Bc(o))return a}function ox(a,o){if(a==="change")return o}var lx=!1;if(Ki){var Eg;if(Ki){var Tg="oninput"in document;if(!Tg){var cx=document.createElement("div");cx.setAttribute("oninput","return;"),Tg=typeof cx.oninput=="function"}Eg=Tg}else Eg=!1;lx=Eg&&(!document.documentMode||9<document.documentMode)}function ux(){Rn&&(Rn.detachEvent("onpropertychange",dx),xs=Rn=null)}function dx(a){if(a.propertyName==="value"&&Pf(xs)){var o=[];cr(o,xs,a,Ri(a)),_f(Zc,o)}}function qO(a,o,d){a==="focusin"?(ux(),Rn=o,xs=d,Rn.attachEvent("onpropertychange",dx)):a==="focusout"&&ux()}function GO(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Pf(xs)}function YO(a,o){if(a==="click")return Pf(o)}function WO(a,o){if(a==="input"||a==="change")return Pf(o)}function KO(a,o){return a===o&&(a!==0||1/a===1/o)||a!==a&&o!==o}var fi=typeof Object.is=="function"?Object.is:KO;function Jc(a,o){if(fi(a,o))return!0;if(typeof a!="object"||a===null||typeof o!="object"||o===null)return!1;var d=Object.keys(a),h=Object.keys(o);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var v=d[h];if(!Te.call(o,v)||!fi(a[v],o[v]))return!1}return!0}function fx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function hx(a,o){var d=fx(a);a=0;for(var h;d;){if(d.nodeType===3){if(h=a+d.textContent.length,a<=o&&h>=o)return{node:d,offset:o-a};a=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=fx(d)}}function px(a,o){return a&&o?a===o?!0:a&&a.nodeType===3?!1:o&&o.nodeType===3?px(a,o.parentNode):"contains"in a?a.contains(o):a.compareDocumentPosition?!!(a.compareDocumentPosition(o)&16):!1:!1}function mx(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var o=eo(a.document);o instanceof a.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)a=o.contentWindow;else break;o=eo(a.document)}return o}function Cg(a){var o=a&&a.nodeName&&a.nodeName.toLowerCase();return o&&(o==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||o==="textarea"||a.contentEditable==="true")}var XO=Ki&&"documentMode"in document&&11>=document.documentMode,_l=null,Ag=null,eu=null,Rg=!1;function gx(a,o,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Rg||_l==null||_l!==eo(h)||(h=_l,"selectionStart"in h&&Cg(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),eu&&Jc(eu,h)||(eu=h,h=bh(Ag,"onSelect"),0<h.length&&(o=new fl("onSelect","select",null,o,d),a.push({event:o,listeners:h}),o.target=_l)))}function fo(a,o){var d={};return d[a.toLowerCase()]=o.toLowerCase(),d["Webkit"+a]="webkit"+o,d["Moz"+a]="moz"+o,d}var xl={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionrun:fo("Transition","TransitionRun"),transitionstart:fo("Transition","TransitionStart"),transitioncancel:fo("Transition","TransitionCancel"),transitionend:fo("Transition","TransitionEnd")},Ig={},vx={};Ki&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete xl.animationend.animation,delete xl.animationiteration.animation,delete xl.animationstart.animation),"TransitionEvent"in window||delete xl.transitionend.transition);function ho(a){if(Ig[a])return Ig[a];if(!xl[a])return a;var o=xl[a],d;for(d in o)if(o.hasOwnProperty(d)&&d in vx)return Ig[a]=o[d];return a}var yx=ho("animationend"),bx=ho("animationiteration"),_x=ho("animationstart"),QO=ho("transitionrun"),ZO=ho("transitionstart"),JO=ho("transitioncancel"),xx=ho("transitionend"),wx=new Map,Mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mg.push("scrollEnd");function Xi(a,o){wx.set(a,o),Wi(o,[a])}var Sx=new WeakMap;function Oi(a,o){if(typeof a=="object"&&a!==null){var d=Sx.get(a);return d!==void 0?d:(o={value:a,source:o,stack:cl(o)},Sx.set(a,o),o)}return{value:a,source:o,stack:cl(o)}}var Ni=[],wl=0,Og=0;function kf(){for(var a=wl,o=Og=wl=0;o<a;){var d=Ni[o];Ni[o++]=null;var h=Ni[o];Ni[o++]=null;var v=Ni[o];Ni[o++]=null;var _=Ni[o];if(Ni[o++]=null,h!==null&&v!==null){var P=h.pending;P===null?v.next=v:(v.next=P.next,P.next=v),h.pending=v}_!==0&&Ex(d,v,_)}}function Lf(a,o,d,h){Ni[wl++]=a,Ni[wl++]=o,Ni[wl++]=d,Ni[wl++]=h,Og|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Ng(a,o,d,h){return Lf(a,o,d,h),Vf(a)}function Sl(a,o){return Lf(a,null,null,o),Vf(a)}function Ex(a,o,d){a.lanes|=d;var h=a.alternate;h!==null&&(h.lanes|=d);for(var v=!1,_=a.return;_!==null;)_.childLanes|=d,h=_.alternate,h!==null&&(h.childLanes|=d),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(v=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,v&&o!==null&&(v=31-bt(d),a=_.hiddenUpdates,h=a[v],h===null?a[v]=[o]:h.push(o),o.lane=d|536870912),_):null}function Vf(a){if(50<Tu)throw Tu=0,jv=null,Error(i(185));for(var o=a.return;o!==null;)a=o,o=a.return;return a.tag===3?a.stateNode:null}var El={};function eN(a,o,d,h){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(a,o,d,h){return new eN(a,o,d,h)}function Dg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ur(a,o){var d=a.alternate;return d===null?(d=hi(a.tag,o,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=o,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,o=a.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Tx(a,o){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=o,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,o=d.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),a}function jf(a,o,d,h,v,_){var P=0;if(h=a,typeof a=="function")Dg(a)&&(P=1);else if(typeof a=="string")P=nD(a,d,Se.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case N:return a=hi(31,d,o,v),a.elementType=N,a.lanes=_,a;case w:return po(d.children,v,_,o);case S:P=8,v|=24;break;case T:return a=hi(12,d,o,v|2),a.elementType=T,a.lanes=_,a;case I:return a=hi(13,d,o,v),a.elementType=I,a.lanes=_,a;case H:return a=hi(19,d,o,v),a.elementType=H,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:case A:P=10;break e;case R:P=9;break e;case V:P=11;break e;case D:P=14;break e;case O:P=16,h=null;break e}P=29,d=Error(i(130,a===null?"null":typeof a,"")),h=null}return o=hi(P,d,o,v),o.elementType=a,o.type=h,o.lanes=_,o}function po(a,o,d,h){return a=hi(7,a,h,o),a.lanes=d,a}function Pg(a,o,d){return a=hi(6,a,null,o),a.lanes=d,a}function kg(a,o,d){return o=hi(4,a.children!==null?a.children:[],a.key,o),o.lanes=d,o.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},o}var Tl=[],Cl=0,Ff=null,Uf=0,Di=[],Pi=0,mo=null,dr=1,fr="";function go(a,o){Tl[Cl++]=Uf,Tl[Cl++]=Ff,Ff=a,Uf=o}function Cx(a,o,d){Di[Pi++]=dr,Di[Pi++]=fr,Di[Pi++]=mo,mo=a;var h=dr;a=fr;var v=32-bt(h)-1;h&=~(1<<v),d+=1;var _=32-bt(o)+v;if(30<_){var P=v-v%5;_=(h&(1<<P)-1).toString(32),h>>=P,v-=P,dr=1<<32-bt(o)+v|d<<v|h,fr=_+a}else dr=1<<_|d<<v|h,fr=a}function Lg(a){a.return!==null&&(go(a,1),Cx(a,1,0))}function Vg(a){for(;a===Ff;)Ff=Tl[--Cl],Tl[Cl]=null,Uf=Tl[--Cl],Tl[Cl]=null;for(;a===mo;)mo=Di[--Pi],Di[Pi]=null,fr=Di[--Pi],Di[Pi]=null,dr=Di[--Pi],Di[Pi]=null}var Qn=null,Ut=null,ft=!1,vo=null,ws=!1,jg=Error(i(519));function yo(a){var o=Error(i(418,""));throw iu(Oi(o,a)),jg}function Ax(a){var o=a.stateNode,d=a.type,h=a.memoizedProps;switch(o[cn]=a,o[Jt]=h,d){case"dialog":tt("cancel",o),tt("close",o);break;case"iframe":case"object":case"embed":tt("load",o);break;case"video":case"audio":for(d=0;d<Au.length;d++)tt(Au[d],o);break;case"source":tt("error",o);break;case"img":case"image":case"link":tt("error",o),tt("load",o);break;case"details":tt("toggle",o);break;case"input":tt("invalid",o),to(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),ul(o);break;case"select":tt("invalid",o);break;case"textarea":tt("invalid",o),no(o,h.value,h.defaultValue,h.children),ul(o)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||h.suppressHydrationWarning===!0||$S(o.textContent,d)?(h.popover!=null&&(tt("beforetoggle",o),tt("toggle",o)),h.onScroll!=null&&tt("scroll",o),h.onScrollEnd!=null&&tt("scrollend",o),h.onClick!=null&&(o.onclick=_h),o=!0):o=!1,o||yo(a)}function Rx(a){for(Qn=a.return;Qn;)switch(Qn.tag){case 5:case 13:ws=!1;return;case 27:case 3:ws=!0;return;default:Qn=Qn.return}}function tu(a){if(a!==Qn)return!1;if(!ft)return Rx(a),ft=!0,!1;var o=a.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||ey(a.type,a.memoizedProps)),d=!d),d&&Ut&&yo(a),Rx(a),o===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));e:{for(a=a.nextSibling,o=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(o===0){Ut=Zi(a.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;a=a.nextSibling}Ut=null}}else o===27?(o=Ut,ma(a.type)?(a=sy,sy=null,Ut=a):Ut=o):Ut=Qn?Zi(a.stateNode.nextSibling):null;return!0}function nu(){Ut=Qn=null,ft=!1}function Ix(){var a=vo;return a!==null&&(ii===null?ii=a:ii.push.apply(ii,a),vo=null),a}function iu(a){vo===null?vo=[a]:vo.push(a)}var Fg=oe(null),bo=null,hr=null;function ea(a,o,d){de(Fg,o._currentValue),o._currentValue=d}function pr(a){a._currentValue=Fg.current,me(Fg)}function Ug(a,o,d){for(;a!==null;){var h=a.alternate;if((a.childLanes&o)!==o?(a.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),a===d)break;a=a.return}}function zg(a,o,d,h){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var _=v.dependencies;if(_!==null){var P=v.child;_=_.firstContext;e:for(;_!==null;){var F=_;_=v;for(var G=0;G<o.length;G++)if(F.context===o[G]){_.lanes|=d,F=_.alternate,F!==null&&(F.lanes|=d),Ug(_.return,d,a),h||(P=null);break e}_=F.next}}else if(v.tag===18){if(P=v.return,P===null)throw Error(i(341));P.lanes|=d,_=P.alternate,_!==null&&(_.lanes|=d),Ug(P,d,a),P=null}else P=v.child;if(P!==null)P.return=v;else for(P=v;P!==null;){if(P===a){P=null;break}if(v=P.sibling,v!==null){v.return=P.return,P=v;break}P=P.return}v=P}}function su(a,o,d,h){a=null;for(var v=o,_=!1;v!==null;){if(!_){if((v.flags&524288)!==0)_=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var P=v.alternate;if(P===null)throw Error(i(387));if(P=P.memoizedProps,P!==null){var F=v.type;fi(v.pendingProps.value,P.value)||(a!==null?a.push(F):a=[F])}}else if(v===ct.current){if(P=v.alternate,P===null)throw Error(i(387));P.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Du):a=[Du])}v=v.return}a!==null&&zg(o,a,d,h),o.flags|=262144}function zf(a){for(a=a.firstContext;a!==null;){if(!fi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function _o(a){bo=a,hr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Fn(a){return Mx(bo,a)}function Bf(a,o){return bo===null&&_o(a),Mx(a,o)}function Mx(a,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},hr===null){if(a===null)throw Error(i(308));hr=o,a.dependencies={lanes:0,firstContext:o},a.flags|=524288}else hr=hr.next=o;return d}var tN=typeof AbortController<"u"?AbortController:function(){var a=[],o=this.signal={aborted:!1,addEventListener:function(d,h){a.push(h)}};this.abort=function(){o.aborted=!0,a.forEach(function(d){return d()})}},nN=n.unstable_scheduleCallback,iN=n.unstable_NormalPriority,fn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bg(){return{controller:new tN,data:new Map,refCount:0}}function ru(a){a.refCount--,a.refCount===0&&nN(iN,function(){a.controller.abort()})}var au=null,Hg=0,Al=0,Rl=null;function sN(a,o){if(au===null){var d=au=[];Hg=0,Al=qv(),Rl={status:"pending",value:void 0,then:function(h){d.push(h)}}}return Hg++,o.then(Ox,Ox),o}function Ox(){if(--Hg===0&&au!==null){Rl!==null&&(Rl.status="fulfilled");var a=au;au=null,Al=0,Rl=null;for(var o=0;o<a.length;o++)(0,a[o])()}}function rN(a,o){var d=[],h={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return a.then(function(){h.status="fulfilled",h.value=o;for(var v=0;v<d.length;v++)(0,d[v])(o)},function(v){for(h.status="rejected",h.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),h}var Nx=$.S;$.S=function(a,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&sN(a,o),Nx!==null&&Nx(a,o)};var xo=oe(null);function $g(){var a=xo.current;return a!==null?a:Mt.pooledCache}function Hf(a,o){o===null?de(xo,xo.current):de(xo,o.pool)}function Dx(){var a=$g();return a===null?null:{parent:fn._currentValue,pool:a}}var ou=Error(i(460)),Px=Error(i(474)),$f=Error(i(542)),qg={then:function(){}};function kx(a){return a=a.status,a==="fulfilled"||a==="rejected"}function qf(){}function Lx(a,o,d){switch(d=a[d],d===void 0?a.push(o):d!==o&&(o.then(qf,qf),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,jx(a),a;default:if(typeof o.status=="string")o.then(qf,qf);else{if(a=Mt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=o,a.status="pending",a.then(function(h){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=h}},function(h){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw a=o.reason,jx(a),a}throw lu=o,ou}}var lu=null;function Vx(){if(lu===null)throw Error(i(459));var a=lu;return lu=null,a}function jx(a){if(a===ou||a===$f)throw Error(i(483))}var ta=!1;function Gg(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yg(a,o){a=a.updateQueue,o.updateQueue===a&&(o.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function na(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ia(a,o,d){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(_t&2)!==0){var v=h.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),h.pending=o,o=Vf(a),Ex(a,null,d),o}return Lf(a,h,o,d),Vf(a)}function cu(a,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var h=o.lanes;h&=a.pendingLanes,d|=h,o.lanes=d,Vc(a,d)}}function Wg(a,o){var d=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var v=null,_=null;if(d=d.firstBaseUpdate,d!==null){do{var P={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};_===null?v=_=P:_=_.next=P,d=d.next}while(d!==null);_===null?v=_=o:_=_.next=o}else v=_=o;d={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=o:a.next=o,d.lastBaseUpdate=o}var Kg=!1;function uu(){if(Kg){var a=Rl;if(a!==null)throw a}}function du(a,o,d,h){Kg=!1;var v=a.updateQueue;ta=!1;var _=v.firstBaseUpdate,P=v.lastBaseUpdate,F=v.shared.pending;if(F!==null){v.shared.pending=null;var G=F,J=G.next;G.next=null,P===null?_=J:P.next=J,P=G;var le=a.alternate;le!==null&&(le=le.updateQueue,F=le.lastBaseUpdate,F!==P&&(F===null?le.firstBaseUpdate=J:F.next=J,le.lastBaseUpdate=G))}if(_!==null){var fe=v.baseState;P=0,le=J=G=null,F=_;do{var te=F.lane&-536870913,ne=te!==F.lane;if(ne?(ot&te)===te:(h&te)===te){te!==0&&te===Al&&(Kg=!0),le!==null&&(le=le.next={lane:0,tag:F.tag,payload:F.payload,callback:null,next:null});e:{var Be=a,je=F;te=o;var Ct=d;switch(je.tag){case 1:if(Be=je.payload,typeof Be=="function"){fe=Be.call(Ct,fe,te);break e}fe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=je.payload,te=typeof Be=="function"?Be.call(Ct,fe,te):Be,te==null)break e;fe=p({},fe,te);break e;case 2:ta=!0}}te=F.callback,te!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=v.callbacks,ne===null?v.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:F.tag,payload:F.payload,callback:F.callback,next:null},le===null?(J=le=ne,G=fe):le=le.next=ne,P|=te;if(F=F.next,F===null){if(F=v.shared.pending,F===null)break;ne=F,F=ne.next,ne.next=null,v.lastBaseUpdate=ne,v.shared.pending=null}}while(!0);le===null&&(G=fe),v.baseState=G,v.firstBaseUpdate=J,v.lastBaseUpdate=le,_===null&&(v.shared.lanes=0),da|=P,a.lanes=P,a.memoizedState=fe}}function Fx(a,o){if(typeof a!="function")throw Error(i(191,a));a.call(o)}function Ux(a,o){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)Fx(d[a],o)}var Il=oe(null),Gf=oe(0);function zx(a,o){a=xr,de(Gf,a),de(Il,o),xr=a|o.baseLanes}function Xg(){de(Gf,xr),de(Il,Il.current)}function Qg(){xr=Gf.current,me(Il),me(Gf)}var sa=0,Xe=null,Et=null,tn=null,Yf=!1,Ml=!1,wo=!1,Wf=0,fu=0,Ol=null,aN=0;function qt(){throw Error(i(321))}function Zg(a,o){if(o===null)return!1;for(var d=0;d<o.length&&d<a.length;d++)if(!fi(a[d],o[d]))return!1;return!0}function Jg(a,o,d,h,v,_){return sa=_,Xe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,$.H=a===null||a.memoizedState===null?Ew:Tw,wo=!1,_=d(h,v),wo=!1,Ml&&(_=Hx(o,d,h,v)),Bx(a),_}function Bx(a){$.H=eh;var o=Et!==null&&Et.next!==null;if(sa=0,tn=Et=Xe=null,Yf=!1,fu=0,Ol=null,o)throw Error(i(300));a===null||_n||(a=a.dependencies,a!==null&&zf(a)&&(_n=!0))}function Hx(a,o,d,h){Xe=a;var v=0;do{if(Ml&&(Ol=null),fu=0,Ml=!1,25<=v)throw Error(i(301));if(v+=1,tn=Et=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}$.H=hN,_=o(d,h)}while(Ml);return _}function oN(){var a=$.H,o=a.useState()[0];return o=typeof o.then=="function"?hu(o):o,a=a.useState()[0],(Et!==null?Et.memoizedState:null)!==a&&(Xe.flags|=1024),o}function ev(){var a=Wf!==0;return Wf=0,a}function tv(a,o,d){o.updateQueue=a.updateQueue,o.flags&=-2053,a.lanes&=~d}function nv(a){if(Yf){for(a=a.memoizedState;a!==null;){var o=a.queue;o!==null&&(o.pending=null),a=a.next}Yf=!1}sa=0,tn=Et=Xe=null,Ml=!1,fu=Wf=0,Ol=null}function ti(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Xe.memoizedState=tn=a:tn=tn.next=a,tn}function nn(){if(Et===null){var a=Xe.alternate;a=a!==null?a.memoizedState:null}else a=Et.next;var o=tn===null?Xe.memoizedState:tn.next;if(o!==null)tn=o,Et=a;else{if(a===null)throw Xe.alternate===null?Error(i(467)):Error(i(310));Et=a,a={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},tn===null?Xe.memoizedState=tn=a:tn=tn.next=a}return tn}function iv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hu(a){var o=fu;return fu+=1,Ol===null&&(Ol=[]),a=Lx(Ol,a,o),o=Xe,(tn===null?o.memoizedState:tn.next)===null&&(o=o.alternate,$.H=o===null||o.memoizedState===null?Ew:Tw),a}function Kf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return hu(a);if(a.$$typeof===A)return Fn(a)}throw Error(i(438,String(a)))}function sv(a){var o=null,d=Xe.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var h=Xe.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=iv(),Xe.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(a),h=0;h<a;h++)d[h]=L;return o.index++,d}function mr(a,o){return typeof o=="function"?o(a):o}function Xf(a){var o=nn();return rv(o,Et,a)}function rv(a,o,d){var h=a.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=d;var v=a.baseQueue,_=h.pending;if(_!==null){if(v!==null){var P=v.next;v.next=_.next,_.next=P}o.baseQueue=v=_,h.pending=null}if(_=a.baseState,v===null)a.memoizedState=_;else{o=v.next;var F=P=null,G=null,J=o,le=!1;do{var fe=J.lane&-536870913;if(fe!==J.lane?(ot&fe)===fe:(sa&fe)===fe){var te=J.revertLane;if(te===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),fe===Al&&(le=!0);else if((sa&te)===te){J=J.next,te===Al&&(le=!0);continue}else fe={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},G===null?(F=G=fe,P=_):G=G.next=fe,Xe.lanes|=te,da|=te;fe=J.action,wo&&d(_,fe),_=J.hasEagerState?J.eagerState:d(_,fe)}else te={lane:fe,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},G===null?(F=G=te,P=_):G=G.next=te,Xe.lanes|=fe,da|=fe;J=J.next}while(J!==null&&J!==o);if(G===null?P=_:G.next=F,!fi(_,a.memoizedState)&&(_n=!0,le&&(d=Rl,d!==null)))throw d;a.memoizedState=_,a.baseState=P,a.baseQueue=G,h.lastRenderedState=_}return v===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function av(a){var o=nn(),d=o.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var h=d.dispatch,v=d.pending,_=o.memoizedState;if(v!==null){d.pending=null;var P=v=v.next;do _=a(_,P.action),P=P.next;while(P!==v);fi(_,o.memoizedState)||(_n=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),d.lastRenderedState=_}return[_,h]}function $x(a,o,d){var h=Xe,v=nn(),_=ft;if(_){if(d===void 0)throw Error(i(407));d=d()}else d=o();var P=!fi((Et||v).memoizedState,d);P&&(v.memoizedState=d,_n=!0),v=v.queue;var F=Yx.bind(null,h,v,a);if(pu(2048,8,F,[a]),v.getSnapshot!==o||P||tn!==null&&tn.memoizedState.tag&1){if(h.flags|=2048,Nl(9,Qf(),Gx.bind(null,h,v,d,o),null),Mt===null)throw Error(i(349));_||(sa&124)!==0||qx(h,o,d)}return d}function qx(a,o,d){a.flags|=16384,a={getSnapshot:o,value:d},o=Xe.updateQueue,o===null?(o=iv(),Xe.updateQueue=o,o.stores=[a]):(d=o.stores,d===null?o.stores=[a]:d.push(a))}function Gx(a,o,d,h){o.value=d,o.getSnapshot=h,Wx(o)&&Kx(a)}function Yx(a,o,d){return d(function(){Wx(o)&&Kx(a)})}function Wx(a){var o=a.getSnapshot;a=a.value;try{var d=o();return!fi(a,d)}catch{return!0}}function Kx(a){var o=Sl(a,2);o!==null&&yi(o,a,2)}function ov(a){var o=ti();if(typeof a=="function"){var d=a;if(a=d(),wo){We(!0);try{d()}finally{We(!1)}}}return o.memoizedState=o.baseState=a,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:a},o}function Xx(a,o,d,h){return a.baseState=d,rv(a,Et,typeof h=="function"?h:mr)}function lN(a,o,d,h,v){if(Jf(a))throw Error(i(485));if(a=o.action,a!==null){var _={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){_.listeners.push(P)}};$.T!==null?d(!0):_.isTransition=!1,h(_),d=o.pending,d===null?(_.next=o.pending=_,Qx(o,_)):(_.next=d.next,o.pending=d.next=_)}}function Qx(a,o){var d=o.action,h=o.payload,v=a.state;if(o.isTransition){var _=$.T,P={};$.T=P;try{var F=d(v,h),G=$.S;G!==null&&G(P,F),Zx(a,o,F)}catch(J){lv(a,o,J)}finally{$.T=_}}else try{_=d(v,h),Zx(a,o,_)}catch(J){lv(a,o,J)}}function Zx(a,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){Jx(a,o,h)},function(h){return lv(a,o,h)}):Jx(a,o,d)}function Jx(a,o,d){o.status="fulfilled",o.value=d,ew(o),a.state=d,o=a.pending,o!==null&&(d=o.next,d===o?a.pending=null:(d=d.next,o.next=d,Qx(a,d)))}function lv(a,o,d){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=d,ew(o),o=o.next;while(o!==h)}a.action=null}function ew(a){a=a.listeners;for(var o=0;o<a.length;o++)(0,a[o])()}function tw(a,o){return o}function nw(a,o){if(ft){var d=Mt.formState;if(d!==null){e:{var h=Xe;if(ft){if(Ut){t:{for(var v=Ut,_=ws;v.nodeType!==8;){if(!_){v=null;break t}if(v=Zi(v.nextSibling),v===null){v=null;break t}}_=v.data,v=_==="F!"||_==="F"?v:null}if(v){Ut=Zi(v.nextSibling),h=v.data==="F!";break e}}yo(h)}h=!1}h&&(o=d[0])}}return d=ti(),d.memoizedState=d.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tw,lastRenderedState:o},d.queue=h,d=xw.bind(null,Xe,h),h.dispatch=d,h=ov(!1),_=hv.bind(null,Xe,!1,h.queue),h=ti(),v={state:o,dispatch:null,action:a,pending:null},h.queue=v,d=lN.bind(null,Xe,v,_,d),v.dispatch=d,h.memoizedState=a,[o,d,!1]}function iw(a){var o=nn();return sw(o,Et,a)}function sw(a,o,d){if(o=rv(a,o,tw)[0],a=Xf(mr)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=hu(o)}catch(P){throw P===ou?$f:P}else h=o;o=nn();var v=o.queue,_=v.dispatch;return d!==o.memoizedState&&(Xe.flags|=2048,Nl(9,Qf(),cN.bind(null,v,d),null)),[h,_,a]}function cN(a,o){a.action=o}function rw(a){var o=nn(),d=Et;if(d!==null)return sw(o,d,a);nn(),o=o.memoizedState,d=nn();var h=d.queue.dispatch;return d.memoizedState=a,[o,h,!1]}function Nl(a,o,d,h){return a={tag:a,create:d,deps:h,inst:o,next:null},o=Xe.updateQueue,o===null&&(o=iv(),Xe.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=a.next=a:(h=d.next,d.next=a,a.next=h,o.lastEffect=a),a}function Qf(){return{destroy:void 0,resource:void 0}}function aw(){return nn().memoizedState}function Zf(a,o,d,h){var v=ti();h=h===void 0?null:h,Xe.flags|=a,v.memoizedState=Nl(1|o,Qf(),d,h)}function pu(a,o,d,h){var v=nn();h=h===void 0?null:h;var _=v.memoizedState.inst;Et!==null&&h!==null&&Zg(h,Et.memoizedState.deps)?v.memoizedState=Nl(o,_,d,h):(Xe.flags|=a,v.memoizedState=Nl(1|o,_,d,h))}function ow(a,o){Zf(8390656,8,a,o)}function lw(a,o){pu(2048,8,a,o)}function cw(a,o){return pu(4,2,a,o)}function uw(a,o){return pu(4,4,a,o)}function dw(a,o){if(typeof o=="function"){a=a();var d=o(a);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return a=a(),o.current=a,function(){o.current=null}}function fw(a,o,d){d=d!=null?d.concat([a]):null,pu(4,4,dw.bind(null,o,a),d)}function cv(){}function hw(a,o){var d=nn();o=o===void 0?null:o;var h=d.memoizedState;return o!==null&&Zg(o,h[1])?h[0]:(d.memoizedState=[a,o],a)}function pw(a,o){var d=nn();o=o===void 0?null:o;var h=d.memoizedState;if(o!==null&&Zg(o,h[1]))return h[0];if(h=a(),wo){We(!0);try{a()}finally{We(!1)}}return d.memoizedState=[h,o],h}function uv(a,o,d){return d===void 0||(sa&1073741824)!==0?a.memoizedState=o:(a.memoizedState=d,a=vS(),Xe.lanes|=a,da|=a,d)}function mw(a,o,d,h){return fi(d,o)?d:Il.current!==null?(a=uv(a,d,h),fi(a,o)||(_n=!0),a):(sa&42)===0?(_n=!0,a.memoizedState=d):(a=vS(),Xe.lanes|=a,da|=a,o)}function gw(a,o,d,h,v){var _=se.p;se.p=_!==0&&8>_?_:8;var P=$.T,F={};$.T=F,hv(a,!1,o,d);try{var G=v(),J=$.S;if(J!==null&&J(F,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var le=rN(G,h);mu(a,o,le,vi(a))}else mu(a,o,h,vi(a))}catch(fe){mu(a,o,{then:function(){},status:"rejected",reason:fe},vi())}finally{se.p=_,$.T=P}}function uN(){}function dv(a,o,d,h){if(a.tag!==5)throw Error(i(476));var v=vw(a).queue;gw(a,v,o,ue,d===null?uN:function(){return yw(a),d(h)})}function vw(a){var o=a.memoizedState;if(o!==null)return o;o={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:ue},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:d},next:null},a.memoizedState=o,a=a.alternate,a!==null&&(a.memoizedState=o),o}function yw(a){var o=vw(a).next.queue;mu(a,o,{},vi())}function fv(){return Fn(Du)}function bw(){return nn().memoizedState}function _w(){return nn().memoizedState}function dN(a){for(var o=a.return;o!==null;){switch(o.tag){case 24:case 3:var d=vi();a=na(d);var h=ia(o,a,d);h!==null&&(yi(h,o,d),cu(h,o,d)),o={cache:Bg()},a.payload=o;return}o=o.return}}function fN(a,o,d){var h=vi();d={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Jf(a)?ww(o,d):(d=Ng(a,o,d,h),d!==null&&(yi(d,a,h),Sw(d,o,h)))}function xw(a,o,d){var h=vi();mu(a,o,d,h)}function mu(a,o,d,h){var v={lane:h,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Jf(a))ww(o,v);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var P=o.lastRenderedState,F=_(P,d);if(v.hasEagerState=!0,v.eagerState=F,fi(F,P))return Lf(a,o,v,0),Mt===null&&kf(),!1}catch{}finally{}if(d=Ng(a,o,v,h),d!==null)return yi(d,a,h),Sw(d,o,h),!0}return!1}function hv(a,o,d,h){if(h={lane:2,revertLane:qv(),action:h,hasEagerState:!1,eagerState:null,next:null},Jf(a)){if(o)throw Error(i(479))}else o=Ng(a,d,h,2),o!==null&&yi(o,a,2)}function Jf(a){var o=a.alternate;return a===Xe||o!==null&&o===Xe}function ww(a,o){Ml=Yf=!0;var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}function Sw(a,o,d){if((d&4194048)!==0){var h=o.lanes;h&=a.pendingLanes,d|=h,o.lanes=d,Vc(a,d)}}var eh={readContext:Fn,use:Kf,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useLayoutEffect:qt,useInsertionEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useSyncExternalStore:qt,useId:qt,useHostTransitionStatus:qt,useFormState:qt,useActionState:qt,useOptimistic:qt,useMemoCache:qt,useCacheRefresh:qt},Ew={readContext:Fn,use:Kf,useCallback:function(a,o){return ti().memoizedState=[a,o===void 0?null:o],a},useContext:Fn,useEffect:ow,useImperativeHandle:function(a,o,d){d=d!=null?d.concat([a]):null,Zf(4194308,4,dw.bind(null,o,a),d)},useLayoutEffect:function(a,o){return Zf(4194308,4,a,o)},useInsertionEffect:function(a,o){Zf(4,2,a,o)},useMemo:function(a,o){var d=ti();o=o===void 0?null:o;var h=a();if(wo){We(!0);try{a()}finally{We(!1)}}return d.memoizedState=[h,o],h},useReducer:function(a,o,d){var h=ti();if(d!==void 0){var v=d(o);if(wo){We(!0);try{d(o)}finally{We(!1)}}}else v=o;return h.memoizedState=h.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},h.queue=a,a=a.dispatch=fN.bind(null,Xe,a),[h.memoizedState,a]},useRef:function(a){var o=ti();return a={current:a},o.memoizedState=a},useState:function(a){a=ov(a);var o=a.queue,d=xw.bind(null,Xe,o);return o.dispatch=d,[a.memoizedState,d]},useDebugValue:cv,useDeferredValue:function(a,o){var d=ti();return uv(d,a,o)},useTransition:function(){var a=ov(!1);return a=gw.bind(null,Xe,a.queue,!0,!1),ti().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,o,d){var h=Xe,v=ti();if(ft){if(d===void 0)throw Error(i(407));d=d()}else{if(d=o(),Mt===null)throw Error(i(349));(ot&124)!==0||qx(h,o,d)}v.memoizedState=d;var _={value:d,getSnapshot:o};return v.queue=_,ow(Yx.bind(null,h,_,a),[a]),h.flags|=2048,Nl(9,Qf(),Gx.bind(null,h,_,d,o),null),d},useId:function(){var a=ti(),o=Mt.identifierPrefix;if(ft){var d=fr,h=dr;d=(h&~(1<<32-bt(h)-1)).toString(32)+d,o="«"+o+"R"+d,d=Wf++,0<d&&(o+="H"+d.toString(32)),o+="»"}else d=aN++,o="«"+o+"r"+d.toString(32)+"»";return a.memoizedState=o},useHostTransitionStatus:fv,useFormState:nw,useActionState:nw,useOptimistic:function(a){var o=ti();o.memoizedState=o.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=hv.bind(null,Xe,!0,d),d.dispatch=o,[a,o]},useMemoCache:sv,useCacheRefresh:function(){return ti().memoizedState=dN.bind(null,Xe)}},Tw={readContext:Fn,use:Kf,useCallback:hw,useContext:Fn,useEffect:lw,useImperativeHandle:fw,useInsertionEffect:cw,useLayoutEffect:uw,useMemo:pw,useReducer:Xf,useRef:aw,useState:function(){return Xf(mr)},useDebugValue:cv,useDeferredValue:function(a,o){var d=nn();return mw(d,Et.memoizedState,a,o)},useTransition:function(){var a=Xf(mr)[0],o=nn().memoizedState;return[typeof a=="boolean"?a:hu(a),o]},useSyncExternalStore:$x,useId:bw,useHostTransitionStatus:fv,useFormState:iw,useActionState:iw,useOptimistic:function(a,o){var d=nn();return Xx(d,Et,a,o)},useMemoCache:sv,useCacheRefresh:_w},hN={readContext:Fn,use:Kf,useCallback:hw,useContext:Fn,useEffect:lw,useImperativeHandle:fw,useInsertionEffect:cw,useLayoutEffect:uw,useMemo:pw,useReducer:av,useRef:aw,useState:function(){return av(mr)},useDebugValue:cv,useDeferredValue:function(a,o){var d=nn();return Et===null?uv(d,a,o):mw(d,Et.memoizedState,a,o)},useTransition:function(){var a=av(mr)[0],o=nn().memoizedState;return[typeof a=="boolean"?a:hu(a),o]},useSyncExternalStore:$x,useId:bw,useHostTransitionStatus:fv,useFormState:rw,useActionState:rw,useOptimistic:function(a,o){var d=nn();return Et!==null?Xx(d,Et,a,o):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:sv,useCacheRefresh:_w},Dl=null,gu=0;function th(a){var o=gu;return gu+=1,Dl===null&&(Dl=[]),Lx(Dl,a,o)}function vu(a,o){o=o.props.ref,a.ref=o!==void 0?o:null}function nh(a,o){throw o.$$typeof===g?Error(i(525)):(a=Object.prototype.toString.call(o),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":a)))}function Cw(a){var o=a._init;return o(a._payload)}function Aw(a){function o(K,W){if(a){var Z=K.deletions;Z===null?(K.deletions=[W],K.flags|=16):Z.push(W)}}function d(K,W){if(!a)return null;for(;W!==null;)o(K,W),W=W.sibling;return null}function h(K){for(var W=new Map;K!==null;)K.key!==null?W.set(K.key,K):W.set(K.index,K),K=K.sibling;return W}function v(K,W){return K=ur(K,W),K.index=0,K.sibling=null,K}function _(K,W,Z){return K.index=Z,a?(Z=K.alternate,Z!==null?(Z=Z.index,Z<W?(K.flags|=67108866,W):Z):(K.flags|=67108866,W)):(K.flags|=1048576,W)}function P(K){return a&&K.alternate===null&&(K.flags|=67108866),K}function F(K,W,Z,ce){return W===null||W.tag!==6?(W=Pg(Z,K.mode,ce),W.return=K,W):(W=v(W,Z),W.return=K,W)}function G(K,W,Z,ce){var Ie=Z.type;return Ie===w?le(K,W,Z.props.children,ce,Z.key):W!==null&&(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===O&&Cw(Ie)===W.type)?(W=v(W,Z.props),vu(W,Z),W.return=K,W):(W=jf(Z.type,Z.key,Z.props,null,K.mode,ce),vu(W,Z),W.return=K,W)}function J(K,W,Z,ce){return W===null||W.tag!==4||W.stateNode.containerInfo!==Z.containerInfo||W.stateNode.implementation!==Z.implementation?(W=kg(Z,K.mode,ce),W.return=K,W):(W=v(W,Z.children||[]),W.return=K,W)}function le(K,W,Z,ce,Ie){return W===null||W.tag!==7?(W=po(Z,K.mode,ce,Ie),W.return=K,W):(W=v(W,Z),W.return=K,W)}function fe(K,W,Z){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=Pg(""+W,K.mode,Z),W.return=K,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case b:return Z=jf(W.type,W.key,W.props,null,K.mode,Z),vu(Z,W),Z.return=K,Z;case x:return W=kg(W,K.mode,Z),W.return=K,W;case O:var ce=W._init;return W=ce(W._payload),fe(K,W,Z)}if(X(W)||B(W))return W=po(W,K.mode,Z,null),W.return=K,W;if(typeof W.then=="function")return fe(K,th(W),Z);if(W.$$typeof===A)return fe(K,Bf(K,W),Z);nh(K,W)}return null}function te(K,W,Z,ce){var Ie=W!==null?W.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Ie!==null?null:F(K,W,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:return Z.key===Ie?G(K,W,Z,ce):null;case x:return Z.key===Ie?J(K,W,Z,ce):null;case O:return Ie=Z._init,Z=Ie(Z._payload),te(K,W,Z,ce)}if(X(Z)||B(Z))return Ie!==null?null:le(K,W,Z,ce,null);if(typeof Z.then=="function")return te(K,W,th(Z),ce);if(Z.$$typeof===A)return te(K,W,Bf(K,Z),ce);nh(K,Z)}return null}function ne(K,W,Z,ce,Ie){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return K=K.get(Z)||null,F(W,K,""+ce,Ie);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case b:return K=K.get(ce.key===null?Z:ce.key)||null,G(W,K,ce,Ie);case x:return K=K.get(ce.key===null?Z:ce.key)||null,J(W,K,ce,Ie);case O:var Je=ce._init;return ce=Je(ce._payload),ne(K,W,Z,ce,Ie)}if(X(ce)||B(ce))return K=K.get(Z)||null,le(W,K,ce,Ie,null);if(typeof ce.then=="function")return ne(K,W,Z,th(ce),Ie);if(ce.$$typeof===A)return ne(K,W,Z,Bf(W,ce),Ie);nh(W,ce)}return null}function Be(K,W,Z,ce){for(var Ie=null,Je=null,Ne=W,Fe=W=0,wn=null;Ne!==null&&Fe<Z.length;Fe++){Ne.index>Fe?(wn=Ne,Ne=null):wn=Ne.sibling;var ut=te(K,Ne,Z[Fe],ce);if(ut===null){Ne===null&&(Ne=wn);break}a&&Ne&&ut.alternate===null&&o(K,Ne),W=_(ut,W,Fe),Je===null?Ie=ut:Je.sibling=ut,Je=ut,Ne=wn}if(Fe===Z.length)return d(K,Ne),ft&&go(K,Fe),Ie;if(Ne===null){for(;Fe<Z.length;Fe++)Ne=fe(K,Z[Fe],ce),Ne!==null&&(W=_(Ne,W,Fe),Je===null?Ie=Ne:Je.sibling=Ne,Je=Ne);return ft&&go(K,Fe),Ie}for(Ne=h(Ne);Fe<Z.length;Fe++)wn=ne(Ne,K,Fe,Z[Fe],ce),wn!==null&&(a&&wn.alternate!==null&&Ne.delete(wn.key===null?Fe:wn.key),W=_(wn,W,Fe),Je===null?Ie=wn:Je.sibling=wn,Je=wn);return a&&Ne.forEach(function(_a){return o(K,_a)}),ft&&go(K,Fe),Ie}function je(K,W,Z,ce){if(Z==null)throw Error(i(151));for(var Ie=null,Je=null,Ne=W,Fe=W=0,wn=null,ut=Z.next();Ne!==null&&!ut.done;Fe++,ut=Z.next()){Ne.index>Fe?(wn=Ne,Ne=null):wn=Ne.sibling;var _a=te(K,Ne,ut.value,ce);if(_a===null){Ne===null&&(Ne=wn);break}a&&Ne&&_a.alternate===null&&o(K,Ne),W=_(_a,W,Fe),Je===null?Ie=_a:Je.sibling=_a,Je=_a,Ne=wn}if(ut.done)return d(K,Ne),ft&&go(K,Fe),Ie;if(Ne===null){for(;!ut.done;Fe++,ut=Z.next())ut=fe(K,ut.value,ce),ut!==null&&(W=_(ut,W,Fe),Je===null?Ie=ut:Je.sibling=ut,Je=ut);return ft&&go(K,Fe),Ie}for(Ne=h(Ne);!ut.done;Fe++,ut=Z.next())ut=ne(Ne,K,Fe,ut.value,ce),ut!==null&&(a&&ut.alternate!==null&&Ne.delete(ut.key===null?Fe:ut.key),W=_(ut,W,Fe),Je===null?Ie=ut:Je.sibling=ut,Je=ut);return a&&Ne.forEach(function(pD){return o(K,pD)}),ft&&go(K,Fe),Ie}function Ct(K,W,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case b:e:{for(var Ie=Z.key;W!==null;){if(W.key===Ie){if(Ie=Z.type,Ie===w){if(W.tag===7){d(K,W.sibling),ce=v(W,Z.props.children),ce.return=K,K=ce;break e}}else if(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===O&&Cw(Ie)===W.type){d(K,W.sibling),ce=v(W,Z.props),vu(ce,Z),ce.return=K,K=ce;break e}d(K,W);break}else o(K,W);W=W.sibling}Z.type===w?(ce=po(Z.props.children,K.mode,ce,Z.key),ce.return=K,K=ce):(ce=jf(Z.type,Z.key,Z.props,null,K.mode,ce),vu(ce,Z),ce.return=K,K=ce)}return P(K);case x:e:{for(Ie=Z.key;W!==null;){if(W.key===Ie)if(W.tag===4&&W.stateNode.containerInfo===Z.containerInfo&&W.stateNode.implementation===Z.implementation){d(K,W.sibling),ce=v(W,Z.children||[]),ce.return=K,K=ce;break e}else{d(K,W);break}else o(K,W);W=W.sibling}ce=kg(Z,K.mode,ce),ce.return=K,K=ce}return P(K);case O:return Ie=Z._init,Z=Ie(Z._payload),Ct(K,W,Z,ce)}if(X(Z))return Be(K,W,Z,ce);if(B(Z)){if(Ie=B(Z),typeof Ie!="function")throw Error(i(150));return Z=Ie.call(Z),je(K,W,Z,ce)}if(typeof Z.then=="function")return Ct(K,W,th(Z),ce);if(Z.$$typeof===A)return Ct(K,W,Bf(K,Z),ce);nh(K,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,W!==null&&W.tag===6?(d(K,W.sibling),ce=v(W,Z),ce.return=K,K=ce):(d(K,W),ce=Pg(Z,K.mode,ce),ce.return=K,K=ce),P(K)):d(K,W)}return function(K,W,Z,ce){try{gu=0;var Ie=Ct(K,W,Z,ce);return Dl=null,Ie}catch(Ne){if(Ne===ou||Ne===$f)throw Ne;var Je=hi(29,Ne,null,K.mode);return Je.lanes=ce,Je.return=K,Je}finally{}}}var Pl=Aw(!0),Rw=Aw(!1),ki=oe(null),Ss=null;function ra(a){var o=a.alternate;de(hn,hn.current&1),de(ki,a),Ss===null&&(o===null||Il.current!==null||o.memoizedState!==null)&&(Ss=a)}function Iw(a){if(a.tag===22){if(de(hn,hn.current),de(ki,a),Ss===null){var o=a.alternate;o!==null&&o.memoizedState!==null&&(Ss=a)}}else aa()}function aa(){de(hn,hn.current),de(ki,ki.current)}function gr(a){me(ki),Ss===a&&(Ss=null),me(hn)}var hn=oe(0);function ih(a){for(var o=a;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||iy(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function pv(a,o,d,h){o=a.memoizedState,d=d(h,o),d=d==null?o:p({},o,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var mv={enqueueSetState:function(a,o,d){a=a._reactInternals;var h=vi(),v=na(h);v.payload=o,d!=null&&(v.callback=d),o=ia(a,v,h),o!==null&&(yi(o,a,h),cu(o,a,h))},enqueueReplaceState:function(a,o,d){a=a._reactInternals;var h=vi(),v=na(h);v.tag=1,v.payload=o,d!=null&&(v.callback=d),o=ia(a,v,h),o!==null&&(yi(o,a,h),cu(o,a,h))},enqueueForceUpdate:function(a,o){a=a._reactInternals;var d=vi(),h=na(d);h.tag=2,o!=null&&(h.callback=o),o=ia(a,h,d),o!==null&&(yi(o,a,d),cu(o,a,d))}};function Mw(a,o,d,h,v,_,P){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,_,P):o.prototype&&o.prototype.isPureReactComponent?!Jc(d,h)||!Jc(v,_):!0}function Ow(a,o,d,h){a=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,h),o.state!==a&&mv.enqueueReplaceState(o,o.state,null)}function So(a,o){var d=o;if("ref"in o){d={};for(var h in o)h!=="ref"&&(d[h]=o[h])}if(a=a.defaultProps){d===o&&(d=p({},d));for(var v in a)d[v]===void 0&&(d[v]=a[v])}return d}var sh=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Nw(a){sh(a)}function Dw(a){console.error(a)}function Pw(a){sh(a)}function rh(a,o){try{var d=a.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function kw(a,o,d){try{var h=a.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function gv(a,o,d){return d=na(d),d.tag=3,d.payload={element:null},d.callback=function(){rh(a,o)},d}function Lw(a){return a=na(a),a.tag=3,a}function Vw(a,o,d,h){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var _=h.value;a.payload=function(){return v(_)},a.callback=function(){kw(o,d,h)}}var P=d.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(a.callback=function(){kw(o,d,h),typeof v!="function"&&(fa===null?fa=new Set([this]):fa.add(this));var F=h.stack;this.componentDidCatch(h.value,{componentStack:F!==null?F:""})})}function pN(a,o,d,h,v){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=d.alternate,o!==null&&su(o,d,v,!0),d=ki.current,d!==null){switch(d.tag){case 13:return Ss===null?Uv():d.alternate===null&&zt===0&&(zt=3),d.flags&=-257,d.flags|=65536,d.lanes=v,h===qg?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([h]):o.add(h),Bv(a,h,v)),!1;case 22:return d.flags|=65536,h===qg?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([h]):d.add(h)),Bv(a,h,v)),!1}throw Error(i(435,d.tag))}return Bv(a,h,v),Uv(),!1}if(ft)return o=ki.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,h!==jg&&(a=Error(i(422),{cause:h}),iu(Oi(a,d)))):(h!==jg&&(o=Error(i(423),{cause:h}),iu(Oi(o,d))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,h=Oi(h,d),v=gv(a.stateNode,h,v),Wg(a,v),zt!==4&&(zt=2)),!1;var _=Error(i(520),{cause:h});if(_=Oi(_,d),Eu===null?Eu=[_]:Eu.push(_),zt!==4&&(zt=2),o===null)return!0;h=Oi(h,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,a=v&-v,d.lanes|=a,a=gv(d.stateNode,h,a),Wg(d,a),!1;case 1:if(o=d.type,_=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(fa===null||!fa.has(_))))return d.flags|=65536,v&=-v,d.lanes|=v,v=Lw(v),Vw(v,a,d,h),Wg(d,v),!1}d=d.return}while(d!==null);return!1}var jw=Error(i(461)),_n=!1;function In(a,o,d,h){o.child=a===null?Rw(o,null,d,h):Pl(o,a.child,d,h)}function Fw(a,o,d,h,v){d=d.render;var _=o.ref;if("ref"in h){var P={};for(var F in h)F!=="ref"&&(P[F]=h[F])}else P=h;return _o(o),h=Jg(a,o,d,P,_,v),F=ev(),a!==null&&!_n?(tv(a,o,v),vr(a,o,v)):(ft&&F&&Lg(o),o.flags|=1,In(a,o,h,v),o.child)}function Uw(a,o,d,h,v){if(a===null){var _=d.type;return typeof _=="function"&&!Dg(_)&&_.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=_,zw(a,o,_,h,v)):(a=jf(d.type,null,h,o,o.mode,v),a.ref=o.ref,a.return=o,o.child=a)}if(_=a.child,!Ev(a,v)){var P=_.memoizedProps;if(d=d.compare,d=d!==null?d:Jc,d(P,h)&&a.ref===o.ref)return vr(a,o,v)}return o.flags|=1,a=ur(_,h),a.ref=o.ref,a.return=o,o.child=a}function zw(a,o,d,h,v){if(a!==null){var _=a.memoizedProps;if(Jc(_,h)&&a.ref===o.ref)if(_n=!1,o.pendingProps=h=_,Ev(a,v))(a.flags&131072)!==0&&(_n=!0);else return o.lanes=a.lanes,vr(a,o,v)}return vv(a,o,d,h,v)}function Bw(a,o,d){var h=o.pendingProps,v=h.children,_=a!==null?a.memoizedState:null;if(h.mode==="hidden"){if((o.flags&128)!==0){if(h=_!==null?_.baseLanes|d:d,a!==null){for(v=o.child=a.child,_=0;v!==null;)_=_|v.lanes|v.childLanes,v=v.sibling;o.childLanes=_&~h}else o.childLanes=0,o.child=null;return Hw(a,o,h,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},a!==null&&Hf(o,_!==null?_.cachePool:null),_!==null?zx(o,_):Xg(),Iw(o);else return o.lanes=o.childLanes=536870912,Hw(a,o,_!==null?_.baseLanes|d:d,d)}else _!==null?(Hf(o,_.cachePool),zx(o,_),aa(),o.memoizedState=null):(a!==null&&Hf(o,null),Xg(),aa());return In(a,o,v,d),o.child}function Hw(a,o,d,h){var v=$g();return v=v===null?null:{parent:fn._currentValue,pool:v},o.memoizedState={baseLanes:d,cachePool:v},a!==null&&Hf(o,null),Xg(),Iw(o),a!==null&&su(a,o,h,!0),null}function ah(a,o){var d=o.ref;if(d===null)a!==null&&a.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(o.flags|=4194816)}}function vv(a,o,d,h,v){return _o(o),d=Jg(a,o,d,h,void 0,v),h=ev(),a!==null&&!_n?(tv(a,o,v),vr(a,o,v)):(ft&&h&&Lg(o),o.flags|=1,In(a,o,d,v),o.child)}function $w(a,o,d,h,v,_){return _o(o),o.updateQueue=null,d=Hx(o,h,d,v),Bx(a),h=ev(),a!==null&&!_n?(tv(a,o,_),vr(a,o,_)):(ft&&h&&Lg(o),o.flags|=1,In(a,o,d,_),o.child)}function qw(a,o,d,h,v){if(_o(o),o.stateNode===null){var _=El,P=d.contextType;typeof P=="object"&&P!==null&&(_=Fn(P)),_=new d(h,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=mv,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=h,_.state=o.memoizedState,_.refs={},Gg(o),P=d.contextType,_.context=typeof P=="object"&&P!==null?Fn(P):El,_.state=o.memoizedState,P=d.getDerivedStateFromProps,typeof P=="function"&&(pv(o,d,P,h),_.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(P=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),P!==_.state&&mv.enqueueReplaceState(_,_.state,null),du(o,h,_,v),uu(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(a===null){_=o.stateNode;var F=o.memoizedProps,G=So(d,F);_.props=G;var J=_.context,le=d.contextType;P=El,typeof le=="object"&&le!==null&&(P=Fn(le));var fe=d.getDerivedStateFromProps;le=typeof fe=="function"||typeof _.getSnapshotBeforeUpdate=="function",F=o.pendingProps!==F,le||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(F||J!==P)&&Ow(o,_,h,P),ta=!1;var te=o.memoizedState;_.state=te,du(o,h,_,v),uu(),J=o.memoizedState,F||te!==J||ta?(typeof fe=="function"&&(pv(o,d,fe,h),J=o.memoizedState),(G=ta||Mw(o,d,G,h,te,J,P))?(le||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=J),_.props=h,_.state=J,_.context=P,h=G):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{_=o.stateNode,Yg(a,o),P=o.memoizedProps,le=So(d,P),_.props=le,fe=o.pendingProps,te=_.context,J=d.contextType,G=El,typeof J=="object"&&J!==null&&(G=Fn(J)),F=d.getDerivedStateFromProps,(J=typeof F=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(P!==fe||te!==G)&&Ow(o,_,h,G),ta=!1,te=o.memoizedState,_.state=te,du(o,h,_,v),uu();var ne=o.memoizedState;P!==fe||te!==ne||ta||a!==null&&a.dependencies!==null&&zf(a.dependencies)?(typeof F=="function"&&(pv(o,d,F,h),ne=o.memoizedState),(le=ta||Mw(o,d,le,h,te,ne,G)||a!==null&&a.dependencies!==null&&zf(a.dependencies))?(J||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ne,G),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ne,G)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ne),_.props=h,_.state=ne,_.context=G,h=le):(typeof _.componentDidUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&te===a.memoizedState||(o.flags|=1024),h=!1)}return _=h,ah(a,o),h=(o.flags&128)!==0,_||h?(_=o.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,a!==null&&h?(o.child=Pl(o,a.child,null,v),o.child=Pl(o,null,d,v)):In(a,o,d,v),o.memoizedState=_.state,a=o.child):a=vr(a,o,v),a}function Gw(a,o,d,h){return nu(),o.flags|=256,In(a,o,d,h),o.child}var yv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function bv(a){return{baseLanes:a,cachePool:Dx()}}function _v(a,o,d){return a=a!==null?a.childLanes&~d:0,o&&(a|=Li),a}function Yw(a,o,d){var h=o.pendingProps,v=!1,_=(o.flags&128)!==0,P;if((P=_)||(P=a!==null&&a.memoizedState===null?!1:(hn.current&2)!==0),P&&(v=!0,o.flags&=-129),P=(o.flags&32)!==0,o.flags&=-33,a===null){if(ft){if(v?ra(o):aa(),ft){var F=Ut,G;if(G=F){e:{for(G=F,F=ws;G.nodeType!==8;){if(!F){F=null;break e}if(G=Zi(G.nextSibling),G===null){F=null;break e}}F=G}F!==null?(o.memoizedState={dehydrated:F,treeContext:mo!==null?{id:dr,overflow:fr}:null,retryLane:536870912,hydrationErrors:null},G=hi(18,null,null,0),G.stateNode=F,G.return=o,o.child=G,Qn=o,Ut=null,G=!0):G=!1}G||yo(o)}if(F=o.memoizedState,F!==null&&(F=F.dehydrated,F!==null))return iy(F)?o.lanes=32:o.lanes=536870912,null;gr(o)}return F=h.children,h=h.fallback,v?(aa(),v=o.mode,F=oh({mode:"hidden",children:F},v),h=po(h,v,d,null),F.return=o,h.return=o,F.sibling=h,o.child=F,v=o.child,v.memoizedState=bv(d),v.childLanes=_v(a,P,d),o.memoizedState=yv,h):(ra(o),xv(o,F))}if(G=a.memoizedState,G!==null&&(F=G.dehydrated,F!==null)){if(_)o.flags&256?(ra(o),o.flags&=-257,o=wv(a,o,d)):o.memoizedState!==null?(aa(),o.child=a.child,o.flags|=128,o=null):(aa(),v=h.fallback,F=o.mode,h=oh({mode:"visible",children:h.children},F),v=po(v,F,d,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,Pl(o,a.child,null,d),h=o.child,h.memoizedState=bv(d),h.childLanes=_v(a,P,d),o.memoizedState=yv,o=v);else if(ra(o),iy(F)){if(P=F.nextSibling&&F.nextSibling.dataset,P)var J=P.dgst;P=J,h=Error(i(419)),h.stack="",h.digest=P,iu({value:h,source:null,stack:null}),o=wv(a,o,d)}else if(_n||su(a,o,d,!1),P=(d&a.childLanes)!==0,_n||P){if(P=Mt,P!==null&&(h=d&-d,h=(h&42)!==0?1:Yr(h),h=(h&(P.suspendedLanes|d))!==0?0:h,h!==0&&h!==G.retryLane))throw G.retryLane=h,Sl(a,h),yi(P,a,h),jw;F.data==="$?"||Uv(),o=wv(a,o,d)}else F.data==="$?"?(o.flags|=192,o.child=a.child,o=null):(a=G.treeContext,Ut=Zi(F.nextSibling),Qn=o,ft=!0,vo=null,ws=!1,a!==null&&(Di[Pi++]=dr,Di[Pi++]=fr,Di[Pi++]=mo,dr=a.id,fr=a.overflow,mo=o),o=xv(o,h.children),o.flags|=4096);return o}return v?(aa(),v=h.fallback,F=o.mode,G=a.child,J=G.sibling,h=ur(G,{mode:"hidden",children:h.children}),h.subtreeFlags=G.subtreeFlags&65011712,J!==null?v=ur(J,v):(v=po(v,F,d,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,F=a.child.memoizedState,F===null?F=bv(d):(G=F.cachePool,G!==null?(J=fn._currentValue,G=G.parent!==J?{parent:J,pool:J}:G):G=Dx(),F={baseLanes:F.baseLanes|d,cachePool:G}),v.memoizedState=F,v.childLanes=_v(a,P,d),o.memoizedState=yv,h):(ra(o),d=a.child,a=d.sibling,d=ur(d,{mode:"visible",children:h.children}),d.return=o,d.sibling=null,a!==null&&(P=o.deletions,P===null?(o.deletions=[a],o.flags|=16):P.push(a)),o.child=d,o.memoizedState=null,d)}function xv(a,o){return o=oh({mode:"visible",children:o},a.mode),o.return=a,a.child=o}function oh(a,o){return a=hi(22,a,null,o),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function wv(a,o,d){return Pl(o,a.child,null,d),a=xv(o,o.pendingProps.children),a.flags|=2,o.memoizedState=null,a}function Ww(a,o,d){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o),Ug(a.return,o,d)}function Sv(a,o,d,h,v){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:v}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=d,_.tailMode=v)}function Kw(a,o,d){var h=o.pendingProps,v=h.revealOrder,_=h.tail;if(In(a,o,h.children,d),h=hn.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=o.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ww(a,d,o);else if(a.tag===19)Ww(a,d,o);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break e;for(;a.sibling===null;){if(a.return===null||a.return===o)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}h&=1}switch(de(hn,h),v){case"forwards":for(d=o.child,v=null;d!==null;)a=d.alternate,a!==null&&ih(a)===null&&(v=d),d=d.sibling;d=v,d===null?(v=o.child,o.child=null):(v=d.sibling,d.sibling=null),Sv(o,!1,v,d,_);break;case"backwards":for(d=null,v=o.child,o.child=null;v!==null;){if(a=v.alternate,a!==null&&ih(a)===null){o.child=v;break}a=v.sibling,v.sibling=d,d=v,v=a}Sv(o,!0,d,null,_);break;case"together":Sv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function vr(a,o,d){if(a!==null&&(o.dependencies=a.dependencies),da|=o.lanes,(d&o.childLanes)===0)if(a!==null){if(su(a,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(a!==null&&o.child!==a.child)throw Error(i(153));if(o.child!==null){for(a=o.child,d=ur(a,a.pendingProps),o.child=d,d.return=o;a.sibling!==null;)a=a.sibling,d=d.sibling=ur(a,a.pendingProps),d.return=o;d.sibling=null}return o.child}function Ev(a,o){return(a.lanes&o)!==0?!0:(a=a.dependencies,!!(a!==null&&zf(a)))}function mN(a,o,d){switch(o.tag){case 3:Ge(o,o.stateNode.containerInfo),ea(o,fn,a.memoizedState.cache),nu();break;case 27:case 5:jn(o);break;case 4:Ge(o,o.stateNode.containerInfo);break;case 10:ea(o,o.type,o.memoizedProps.value);break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(ra(o),o.flags|=128,null):(d&o.child.childLanes)!==0?Yw(a,o,d):(ra(o),a=vr(a,o,d),a!==null?a.sibling:null);ra(o);break;case 19:var v=(a.flags&128)!==0;if(h=(d&o.childLanes)!==0,h||(su(a,o,d,!1),h=(d&o.childLanes)!==0),v){if(h)return Kw(a,o,d);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),de(hn,hn.current),h)break;return null;case 22:case 23:return o.lanes=0,Bw(a,o,d);case 24:ea(o,fn,a.memoizedState.cache)}return vr(a,o,d)}function Xw(a,o,d){if(a!==null)if(a.memoizedProps!==o.pendingProps)_n=!0;else{if(!Ev(a,d)&&(o.flags&128)===0)return _n=!1,mN(a,o,d);_n=(a.flags&131072)!==0}else _n=!1,ft&&(o.flags&1048576)!==0&&Cx(o,Uf,o.index);switch(o.lanes=0,o.tag){case 16:e:{a=o.pendingProps;var h=o.elementType,v=h._init;if(h=v(h._payload),o.type=h,typeof h=="function")Dg(h)?(a=So(h,a),o.tag=1,o=qw(null,o,h,a,d)):(o.tag=0,o=vv(null,o,h,a,d));else{if(h!=null){if(v=h.$$typeof,v===V){o.tag=11,o=Fw(null,o,h,a,d);break e}else if(v===D){o.tag=14,o=Uw(null,o,h,a,d);break e}}throw o=ie(h)||h,Error(i(306,o,""))}}return o;case 0:return vv(a,o,o.type,o.pendingProps,d);case 1:return h=o.type,v=So(h,o.pendingProps),qw(a,o,h,v,d);case 3:e:{if(Ge(o,o.stateNode.containerInfo),a===null)throw Error(i(387));h=o.pendingProps;var _=o.memoizedState;v=_.element,Yg(a,o),du(o,h,null,d);var P=o.memoizedState;if(h=P.cache,ea(o,fn,h),h!==_.cache&&zg(o,[fn],d,!0),uu(),h=P.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:P.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Gw(a,o,h,d);break e}else if(h!==v){v=Oi(Error(i(424)),o),iu(v),o=Gw(a,o,h,d);break e}else{switch(a=o.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Ut=Zi(a.firstChild),Qn=o,ft=!0,vo=null,ws=!0,d=Rw(o,null,h,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(nu(),h===v){o=vr(a,o,d);break e}In(a,o,h,d)}o=o.child}return o;case 26:return ah(a,o),a===null?(d=eE(o.type,null,o.pendingProps,null))?o.memoizedState=d:ft||(d=o.type,a=o.pendingProps,h=xh(Ce.current).createElement(d),h[cn]=o,h[Jt]=a,On(h,d,a),$t(h),o.stateNode=h):o.memoizedState=eE(o.type,a.memoizedProps,o.pendingProps,a.memoizedState),null;case 27:return jn(o),a===null&&ft&&(h=o.stateNode=QS(o.type,o.pendingProps,Ce.current),Qn=o,ws=!0,v=Ut,ma(o.type)?(sy=v,Ut=Zi(h.firstChild)):Ut=v),In(a,o,o.pendingProps.children,d),ah(a,o),a===null&&(o.flags|=4194304),o.child;case 5:return a===null&&ft&&((v=h=Ut)&&(h=HN(h,o.type,o.pendingProps,ws),h!==null?(o.stateNode=h,Qn=o,Ut=Zi(h.firstChild),ws=!1,v=!0):v=!1),v||yo(o)),jn(o),v=o.type,_=o.pendingProps,P=a!==null?a.memoizedProps:null,h=_.children,ey(v,_)?h=null:P!==null&&ey(v,P)&&(o.flags|=32),o.memoizedState!==null&&(v=Jg(a,o,oN,null,null,d),Du._currentValue=v),ah(a,o),In(a,o,h,d),o.child;case 6:return a===null&&ft&&((a=d=Ut)&&(d=$N(d,o.pendingProps,ws),d!==null?(o.stateNode=d,Qn=o,Ut=null,a=!0):a=!1),a||yo(o)),null;case 13:return Yw(a,o,d);case 4:return Ge(o,o.stateNode.containerInfo),h=o.pendingProps,a===null?o.child=Pl(o,null,h,d):In(a,o,h,d),o.child;case 11:return Fw(a,o,o.type,o.pendingProps,d);case 7:return In(a,o,o.pendingProps,d),o.child;case 8:return In(a,o,o.pendingProps.children,d),o.child;case 12:return In(a,o,o.pendingProps.children,d),o.child;case 10:return h=o.pendingProps,ea(o,o.type,h.value),In(a,o,h.children,d),o.child;case 9:return v=o.type._context,h=o.pendingProps.children,_o(o),v=Fn(v),h=h(v),o.flags|=1,In(a,o,h,d),o.child;case 14:return Uw(a,o,o.type,o.pendingProps,d);case 15:return zw(a,o,o.type,o.pendingProps,d);case 19:return Kw(a,o,d);case 31:return h=o.pendingProps,d=o.mode,h={mode:h.mode,children:h.children},a===null?(d=oh(h,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=ur(a.child,h),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return Bw(a,o,d);case 24:return _o(o),h=Fn(fn),a===null?(v=$g(),v===null&&(v=Mt,_=Bg(),v.pooledCache=_,_.refCount++,_!==null&&(v.pooledCacheLanes|=d),v=_),o.memoizedState={parent:h,cache:v},Gg(o),ea(o,fn,v)):((a.lanes&d)!==0&&(Yg(a,o),du(o,null,null,d),uu()),v=a.memoizedState,_=o.memoizedState,v.parent!==h?(v={parent:h,cache:h},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),ea(o,fn,h)):(h=_.cache,ea(o,fn,h),h!==v.cache&&zg(o,[fn],d,!0))),In(a,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function yr(a){a.flags|=4}function Qw(a,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!rE(o)){if(o=ki.current,o!==null&&((ot&4194048)===ot?Ss!==null:(ot&62914560)!==ot&&(ot&536870912)===0||o!==Ss))throw lu=qg,Px;a.flags|=8192}}function lh(a,o){o!==null&&(a.flags|=4),a.flags&16384&&(o=a.tag!==22?kc():536870912,a.lanes|=o,jl|=o)}function yu(a,o){if(!ft)switch(a.tailMode){case"hidden":o=a.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?o||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Vt(a){var o=a.alternate!==null&&a.alternate.child===a.child,d=0,h=0;if(o)for(var v=a.child;v!==null;)d|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)d|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=h,a.childLanes=d,o}function gN(a,o,d){var h=o.pendingProps;switch(Vg(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(o),null;case 1:return Vt(o),null;case 3:return d=o.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),pr(fn),Ht(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(tu(o)?yr(o):a===null||a.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ix())),Vt(o),null;case 26:return d=o.memoizedState,a===null?(yr(o),d!==null?(Vt(o),Qw(o,d)):(Vt(o),o.flags&=-16777217)):d?d!==a.memoizedState?(yr(o),Vt(o),Qw(o,d)):(Vt(o),o.flags&=-16777217):(a.memoizedProps!==h&&yr(o),Vt(o),o.flags&=-16777217),null;case 27:xe(o),d=Ce.current;var v=o.type;if(a!==null&&o.stateNode!=null)a.memoizedProps!==h&&yr(o);else{if(!h){if(o.stateNode===null)throw Error(i(166));return Vt(o),null}a=Se.current,tu(o)?Ax(o):(a=QS(v,h,d),o.stateNode=a,yr(o))}return Vt(o),null;case 5:if(xe(o),d=o.type,a!==null&&o.stateNode!=null)a.memoizedProps!==h&&yr(o);else{if(!h){if(o.stateNode===null)throw Error(i(166));return Vt(o),null}if(a=Se.current,tu(o))Ax(o);else{switch(v=xh(Ce.current),a){case 1:a=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=v.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?a.multiple=!0:h.size&&(a.size=h.size);break;default:a=typeof h.is=="string"?v.createElement(d,{is:h.is}):v.createElement(d)}}a[cn]=o,a[Jt]=h;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)a.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=a;e:switch(On(a,d,h),d){case"button":case"input":case"select":case"textarea":a=!!h.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&yr(o)}}return Vt(o),o.flags&=-16777217,null;case 6:if(a&&o.stateNode!=null)a.memoizedProps!==h&&yr(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(i(166));if(a=Ce.current,tu(o)){if(a=o.stateNode,d=o.memoizedProps,h=null,v=Qn,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}a[cn]=o,a=!!(a.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||$S(a.nodeValue,d)),a||yo(o)}else a=xh(a).createTextNode(h),a[cn]=o,o.stateNode=a}return Vt(o),null;case 13:if(h=o.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=tu(o),h!==null&&h.dehydrated!==null){if(a===null){if(!v)throw Error(i(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(i(317));v[cn]=o}else nu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Vt(o),v=!1}else v=Ix(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(gr(o),o):(gr(o),null)}if(gr(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=h!==null,a=a!==null&&a.memoizedState!==null,d){h=o.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==v&&(h.flags|=2048)}return d!==a&&d&&(o.child.flags|=8192),lh(o,o.updateQueue),Vt(o),null;case 4:return Ht(),a===null&&Kv(o.stateNode.containerInfo),Vt(o),null;case 10:return pr(o.type),Vt(o),null;case 19:if(me(hn),v=o.memoizedState,v===null)return Vt(o),null;if(h=(o.flags&128)!==0,_=v.rendering,_===null)if(h)yu(v,!1);else{if(zt!==0||a!==null&&(a.flags&128)!==0)for(a=o.child;a!==null;){if(_=ih(a),_!==null){for(o.flags|=128,yu(v,!1),a=_.updateQueue,o.updateQueue=a,lh(o,a),o.subtreeFlags=0,a=d,d=o.child;d!==null;)Tx(d,a),d=d.sibling;return de(hn,hn.current&1|2),o.child}a=a.sibling}v.tail!==null&&Cn()>dh&&(o.flags|=128,h=!0,yu(v,!1),o.lanes=4194304)}else{if(!h)if(a=ih(_),a!==null){if(o.flags|=128,h=!0,a=a.updateQueue,o.updateQueue=a,lh(o,a),yu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!_.alternate&&!ft)return Vt(o),null}else 2*Cn()-v.renderingStartTime>dh&&d!==536870912&&(o.flags|=128,h=!0,yu(v,!1),o.lanes=4194304);v.isBackwards?(_.sibling=o.child,o.child=_):(a=v.last,a!==null?a.sibling=_:o.child=_,v.last=_)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Cn(),o.sibling=null,a=hn.current,de(hn,h?a&1|2:a&1),o):(Vt(o),null);case 22:case 23:return gr(o),Qg(),h=o.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(d&536870912)!==0&&(o.flags&128)===0&&(Vt(o),o.subtreeFlags&6&&(o.flags|=8192)):Vt(o),d=o.updateQueue,d!==null&&lh(o,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048),a!==null&&me(xo),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),pr(fn),Vt(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function vN(a,o){switch(Vg(o),o.tag){case 1:return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 3:return pr(fn),Ht(),a=o.flags,(a&65536)!==0&&(a&128)===0?(o.flags=a&-65537|128,o):null;case 26:case 27:case 5:return xe(o),null;case 13:if(gr(o),a=o.memoizedState,a!==null&&a.dehydrated!==null){if(o.alternate===null)throw Error(i(340));nu()}return a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 19:return me(hn),null;case 4:return Ht(),null;case 10:return pr(o.type),null;case 22:case 23:return gr(o),Qg(),a!==null&&me(xo),a=o.flags,a&65536?(o.flags=a&-65537|128,o):null;case 24:return pr(fn),null;case 25:return null;default:return null}}function Zw(a,o){switch(Vg(o),o.tag){case 3:pr(fn),Ht();break;case 26:case 27:case 5:xe(o);break;case 4:Ht();break;case 13:gr(o);break;case 19:me(hn);break;case 10:pr(o.type);break;case 22:case 23:gr(o),Qg(),a!==null&&me(xo);break;case 24:pr(fn)}}function bu(a,o){try{var d=o.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var v=h.next;d=v;do{if((d.tag&a)===a){h=void 0;var _=d.create,P=d.inst;h=_(),P.destroy=h}d=d.next}while(d!==v)}}catch(F){At(o,o.return,F)}}function oa(a,o,d){try{var h=o.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var _=v.next;h=_;do{if((h.tag&a)===a){var P=h.inst,F=P.destroy;if(F!==void 0){P.destroy=void 0,v=o;var G=d,J=F;try{J()}catch(le){At(v,G,le)}}}h=h.next}while(h!==_)}}catch(le){At(o,o.return,le)}}function Jw(a){var o=a.updateQueue;if(o!==null){var d=a.stateNode;try{Ux(o,d)}catch(h){At(a,a.return,h)}}}function eS(a,o,d){d.props=So(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(h){At(a,o,h)}}function _u(a,o){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof d=="function"?a.refCleanup=d(h):d.current=h}}catch(v){At(a,o,v)}}function Es(a,o){var d=a.ref,h=a.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(v){At(a,o,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){At(a,o,v)}else d.current=null}function tS(a){var o=a.type,d=a.memoizedProps,h=a.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(v){At(a,a.return,v)}}function Tv(a,o,d){try{var h=a.stateNode;jN(h,a.type,d,o),h[Jt]=o}catch(v){At(a,a.return,v)}}function nS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ma(a.type)||a.tag===4}function Cv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||nS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ma(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Av(a,o,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(a),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=_h));else if(h!==4&&(h===27&&ma(a.type)&&(d=a.stateNode,o=null),a=a.child,a!==null))for(Av(a,o,d),a=a.sibling;a!==null;)Av(a,o,d),a=a.sibling}function ch(a,o,d){var h=a.tag;if(h===5||h===6)a=a.stateNode,o?d.insertBefore(a,o):d.appendChild(a);else if(h!==4&&(h===27&&ma(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(ch(a,o,d),a=a.sibling;a!==null;)ch(a,o,d),a=a.sibling}function iS(a){var o=a.stateNode,d=a.memoizedProps;try{for(var h=a.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);On(o,h,d),o[cn]=a,o[Jt]=d}catch(_){At(a,a.return,_)}}var br=!1,Gt=!1,Rv=!1,sS=typeof WeakSet=="function"?WeakSet:Set,xn=null;function yN(a,o){if(a=a.containerInfo,Zv=Ah,a=mx(a),Cg(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var v=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{d.nodeType,_.nodeType}catch{d=null;break e}var P=0,F=-1,G=-1,J=0,le=0,fe=a,te=null;t:for(;;){for(var ne;fe!==d||v!==0&&fe.nodeType!==3||(F=P+v),fe!==_||h!==0&&fe.nodeType!==3||(G=P+h),fe.nodeType===3&&(P+=fe.nodeValue.length),(ne=fe.firstChild)!==null;)te=fe,fe=ne;for(;;){if(fe===a)break t;if(te===d&&++J===v&&(F=P),te===_&&++le===h&&(G=P),(ne=fe.nextSibling)!==null)break;fe=te,te=fe.parentNode}fe=ne}d=F===-1||G===-1?null:{start:F,end:G}}else d=null}d=d||{start:0,end:0}}else d=null;for(Jv={focusedElem:a,selectionRange:d},Ah=!1,xn=o;xn!==null;)if(o=xn,a=o.child,(o.subtreeFlags&1024)!==0&&a!==null)a.return=o,xn=a;else for(;xn!==null;){switch(o=xn,_=o.alternate,a=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,d=o,v=_.memoizedProps,_=_.memoizedState,h=d.stateNode;try{var Be=So(d.type,v,d.elementType===d.type);a=h.getSnapshotBeforeUpdate(Be,_),h.__reactInternalSnapshotBeforeUpdate=a}catch(je){At(d,d.return,je)}}break;case 3:if((a&1024)!==0){if(a=o.stateNode.containerInfo,d=a.nodeType,d===9)ny(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ny(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=o.sibling,a!==null){a.return=o.return,xn=a;break}xn=o.return}}function rS(a,o,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:la(a,d),h&4&&bu(5,d);break;case 1:if(la(a,d),h&4)if(a=d.stateNode,o===null)try{a.componentDidMount()}catch(P){At(d,d.return,P)}else{var v=So(d.type,o.memoizedProps);o=o.memoizedState;try{a.componentDidUpdate(v,o,a.__reactInternalSnapshotBeforeUpdate)}catch(P){At(d,d.return,P)}}h&64&&Jw(d),h&512&&_u(d,d.return);break;case 3:if(la(a,d),h&64&&(a=d.updateQueue,a!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Ux(a,o)}catch(P){At(d,d.return,P)}}break;case 27:o===null&&h&4&&iS(d);case 26:case 5:la(a,d),o===null&&h&4&&tS(d),h&512&&_u(d,d.return);break;case 12:la(a,d);break;case 13:la(a,d),h&4&&lS(a,d),h&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=AN.bind(null,d),qN(a,d))));break;case 22:if(h=d.memoizedState!==null||br,!h){o=o!==null&&o.memoizedState!==null||Gt,v=br;var _=Gt;br=h,(Gt=o)&&!_?ca(a,d,(d.subtreeFlags&8772)!==0):la(a,d),br=v,Gt=_}break;case 30:break;default:la(a,d)}}function aS(a){var o=a.alternate;o!==null&&(a.alternate=null,aS(o)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(o=a.stateNode,o!==null&&Xr(o)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var kt=null,ni=!1;function _r(a,o,d){for(d=d.child;d!==null;)oS(a,o,d),d=d.sibling}function oS(a,o,d){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(we,d)}catch{}switch(d.tag){case 26:Gt||Es(d,o),_r(a,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Gt||Es(d,o);var h=kt,v=ni;ma(d.type)&&(kt=d.stateNode,ni=!1),_r(a,o,d),Iu(d.stateNode),kt=h,ni=v;break;case 5:Gt||Es(d,o);case 6:if(h=kt,v=ni,kt=null,_r(a,o,d),kt=h,ni=v,kt!==null)if(ni)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(d.stateNode)}catch(_){At(d,o,_)}else try{kt.removeChild(d.stateNode)}catch(_){At(d,o,_)}break;case 18:kt!==null&&(ni?(a=kt,KS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Vu(a)):KS(kt,d.stateNode));break;case 4:h=kt,v=ni,kt=d.stateNode.containerInfo,ni=!0,_r(a,o,d),kt=h,ni=v;break;case 0:case 11:case 14:case 15:Gt||oa(2,d,o),Gt||oa(4,d,o),_r(a,o,d);break;case 1:Gt||(Es(d,o),h=d.stateNode,typeof h.componentWillUnmount=="function"&&eS(d,o,h)),_r(a,o,d);break;case 21:_r(a,o,d);break;case 22:Gt=(h=Gt)||d.memoizedState!==null,_r(a,o,d),Gt=h;break;default:_r(a,o,d)}}function lS(a,o){if(o.memoizedState===null&&(a=o.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Vu(a)}catch(d){At(o,o.return,d)}}function bN(a){switch(a.tag){case 13:case 19:var o=a.stateNode;return o===null&&(o=a.stateNode=new sS),o;case 22:return a=a.stateNode,o=a._retryCache,o===null&&(o=a._retryCache=new sS),o;default:throw Error(i(435,a.tag))}}function Iv(a,o){var d=bN(a);o.forEach(function(h){var v=RN.bind(null,a,h);d.has(h)||(d.add(h),h.then(v,v))})}function pi(a,o){var d=o.deletions;if(d!==null)for(var h=0;h<d.length;h++){var v=d[h],_=a,P=o,F=P;e:for(;F!==null;){switch(F.tag){case 27:if(ma(F.type)){kt=F.stateNode,ni=!1;break e}break;case 5:kt=F.stateNode,ni=!1;break e;case 3:case 4:kt=F.stateNode.containerInfo,ni=!0;break e}F=F.return}if(kt===null)throw Error(i(160));oS(_,P,v),kt=null,ni=!1,_=v.alternate,_!==null&&(_.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)cS(o,a),o=o.sibling}var Qi=null;function cS(a,o){var d=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:pi(o,a),mi(a),h&4&&(oa(3,a,a.return),bu(3,a),oa(5,a,a.return));break;case 1:pi(o,a),mi(a),h&512&&(Gt||d===null||Es(d,d.return)),h&64&&br&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var v=Qi;if(pi(o,a),mi(a),h&512&&(Gt||d===null||Es(d,d.return)),h&4){var _=d!==null?d.memoizedState:null;if(h=a.memoizedState,d===null)if(h===null)if(a.stateNode===null){e:{h=a.type,d=a.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":_=v.getElementsByTagName("title")[0],(!_||_[Qa]||_[cn]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=v.createElement(h),v.head.insertBefore(_,v.querySelector("head > title"))),On(_,h,d),_[cn]=a,$t(_),h=_;break e;case"link":var P=iE("link","href",v).get(h+(d.href||""));if(P){for(var F=0;F<P.length;F++)if(_=P[F],_.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&_.getAttribute("rel")===(d.rel==null?null:d.rel)&&_.getAttribute("title")===(d.title==null?null:d.title)&&_.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){P.splice(F,1);break t}}_=v.createElement(h),On(_,h,d),v.head.appendChild(_);break;case"meta":if(P=iE("meta","content",v).get(h+(d.content||""))){for(F=0;F<P.length;F++)if(_=P[F],_.getAttribute("content")===(d.content==null?null:""+d.content)&&_.getAttribute("name")===(d.name==null?null:d.name)&&_.getAttribute("property")===(d.property==null?null:d.property)&&_.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&_.getAttribute("charset")===(d.charSet==null?null:d.charSet)){P.splice(F,1);break t}}_=v.createElement(h),On(_,h,d),v.head.appendChild(_);break;default:throw Error(i(468,h))}_[cn]=a,$t(_),h=_}a.stateNode=h}else sE(v,a.type,a.stateNode);else a.stateNode=nE(v,h,a.memoizedProps);else _!==h?(_===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):_.count--,h===null?sE(v,a.type,a.stateNode):nE(v,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Tv(a,a.memoizedProps,d.memoizedProps)}break;case 27:pi(o,a),mi(a),h&512&&(Gt||d===null||Es(d,d.return)),d!==null&&h&4&&Tv(a,a.memoizedProps,d.memoizedProps);break;case 5:if(pi(o,a),mi(a),h&512&&(Gt||d===null||Es(d,d.return)),a.flags&32){v=a.stateNode;try{Ai(v,"")}catch(ne){At(a,a.return,ne)}}h&4&&a.stateNode!=null&&(v=a.memoizedProps,Tv(a,v,d!==null?d.memoizedProps:v)),h&1024&&(Rv=!0);break;case 6:if(pi(o,a),mi(a),h&4){if(a.stateNode===null)throw Error(i(162));h=a.memoizedProps,d=a.stateNode;try{d.nodeValue=h}catch(ne){At(a,a.return,ne)}}break;case 3:if(Eh=null,v=Qi,Qi=wh(o.containerInfo),pi(o,a),Qi=v,mi(a),h&4&&d!==null&&d.memoizedState.isDehydrated)try{Vu(o.containerInfo)}catch(ne){At(a,a.return,ne)}Rv&&(Rv=!1,uS(a));break;case 4:h=Qi,Qi=wh(a.stateNode.containerInfo),pi(o,a),mi(a),Qi=h;break;case 12:pi(o,a),mi(a);break;case 13:pi(o,a),mi(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(kv=Cn()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Iv(a,h)));break;case 22:v=a.memoizedState!==null;var G=d!==null&&d.memoizedState!==null,J=br,le=Gt;if(br=J||v,Gt=le||G,pi(o,a),Gt=le,br=J,mi(a),h&8192)e:for(o=a.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(d===null||G||br||Gt||Eo(a)),d=null,o=a;;){if(o.tag===5||o.tag===26){if(d===null){G=d=o;try{if(_=G.stateNode,v)P=_.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{F=G.stateNode;var fe=G.memoizedProps.style,te=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;F.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){At(G,G.return,ne)}}}else if(o.tag===6){if(d===null){G=o;try{G.stateNode.nodeValue=v?"":G.memoizedProps}catch(ne){At(G,G.return,ne)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===a)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=a.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,Iv(a,d))));break;case 19:pi(o,a),mi(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Iv(a,h)));break;case 30:break;case 21:break;default:pi(o,a),mi(a)}}function mi(a){var o=a.flags;if(o&2){try{for(var d,h=a.return;h!==null;){if(nS(h)){d=h;break}h=h.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var v=d.stateNode,_=Cv(a);ch(a,_,v);break;case 5:var P=d.stateNode;d.flags&32&&(Ai(P,""),d.flags&=-33);var F=Cv(a);ch(a,F,P);break;case 3:case 4:var G=d.stateNode.containerInfo,J=Cv(a);Av(a,J,G);break;default:throw Error(i(161))}}catch(le){At(a,a.return,le)}a.flags&=-3}o&4096&&(a.flags&=-4097)}function uS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var o=a;uS(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),a=a.sibling}}function la(a,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)rS(a,o.alternate,o),o=o.sibling}function Eo(a){for(a=a.child;a!==null;){var o=a;switch(o.tag){case 0:case 11:case 14:case 15:oa(4,o,o.return),Eo(o);break;case 1:Es(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&eS(o,o.return,d),Eo(o);break;case 27:Iu(o.stateNode);case 26:case 5:Es(o,o.return),Eo(o);break;case 22:o.memoizedState===null&&Eo(o);break;case 30:Eo(o);break;default:Eo(o)}a=a.sibling}}function ca(a,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,v=a,_=o,P=_.flags;switch(_.tag){case 0:case 11:case 15:ca(v,_,d),bu(4,_);break;case 1:if(ca(v,_,d),h=_,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(J){At(h,h.return,J)}if(h=_,v=h.updateQueue,v!==null){var F=h.stateNode;try{var G=v.shared.hiddenCallbacks;if(G!==null)for(v.shared.hiddenCallbacks=null,v=0;v<G.length;v++)Fx(G[v],F)}catch(J){At(h,h.return,J)}}d&&P&64&&Jw(_),_u(_,_.return);break;case 27:iS(_);case 26:case 5:ca(v,_,d),d&&h===null&&P&4&&tS(_),_u(_,_.return);break;case 12:ca(v,_,d);break;case 13:ca(v,_,d),d&&P&4&&lS(v,_);break;case 22:_.memoizedState===null&&ca(v,_,d),_u(_,_.return);break;case 30:break;default:ca(v,_,d)}o=o.sibling}}function Mv(a,o){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(a=o.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&ru(d))}function Ov(a,o){a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&ru(a))}function Ts(a,o,d,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)dS(a,o,d,h),o=o.sibling}function dS(a,o,d,h){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Ts(a,o,d,h),v&2048&&bu(9,o);break;case 1:Ts(a,o,d,h);break;case 3:Ts(a,o,d,h),v&2048&&(a=null,o.alternate!==null&&(a=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==a&&(o.refCount++,a!=null&&ru(a)));break;case 12:if(v&2048){Ts(a,o,d,h),a=o.stateNode;try{var _=o.memoizedProps,P=_.id,F=_.onPostCommit;typeof F=="function"&&F(P,o.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(G){At(o,o.return,G)}}else Ts(a,o,d,h);break;case 13:Ts(a,o,d,h);break;case 23:break;case 22:_=o.stateNode,P=o.alternate,o.memoizedState!==null?_._visibility&2?Ts(a,o,d,h):xu(a,o):_._visibility&2?Ts(a,o,d,h):(_._visibility|=2,kl(a,o,d,h,(o.subtreeFlags&10256)!==0)),v&2048&&Mv(P,o);break;case 24:Ts(a,o,d,h),v&2048&&Ov(o.alternate,o);break;default:Ts(a,o,d,h)}}function kl(a,o,d,h,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var _=a,P=o,F=d,G=h,J=P.flags;switch(P.tag){case 0:case 11:case 15:kl(_,P,F,G,v),bu(8,P);break;case 23:break;case 22:var le=P.stateNode;P.memoizedState!==null?le._visibility&2?kl(_,P,F,G,v):xu(_,P):(le._visibility|=2,kl(_,P,F,G,v)),v&&J&2048&&Mv(P.alternate,P);break;case 24:kl(_,P,F,G,v),v&&J&2048&&Ov(P.alternate,P);break;default:kl(_,P,F,G,v)}o=o.sibling}}function xu(a,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=a,h=o,v=h.flags;switch(h.tag){case 22:xu(d,h),v&2048&&Mv(h.alternate,h);break;case 24:xu(d,h),v&2048&&Ov(h.alternate,h);break;default:xu(d,h)}o=o.sibling}}var wu=8192;function Ll(a){if(a.subtreeFlags&wu)for(a=a.child;a!==null;)fS(a),a=a.sibling}function fS(a){switch(a.tag){case 26:Ll(a),a.flags&wu&&a.memoizedState!==null&&sD(Qi,a.memoizedState,a.memoizedProps);break;case 5:Ll(a);break;case 3:case 4:var o=Qi;Qi=wh(a.stateNode.containerInfo),Ll(a),Qi=o;break;case 22:a.memoizedState===null&&(o=a.alternate,o!==null&&o.memoizedState!==null?(o=wu,wu=16777216,Ll(a),wu=o):Ll(a));break;default:Ll(a)}}function hS(a){var o=a.alternate;if(o!==null&&(a=o.child,a!==null)){o.child=null;do o=a.sibling,a.sibling=null,a=o;while(a!==null)}}function Su(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];xn=h,mS(h,a)}hS(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pS(a),a=a.sibling}function pS(a){switch(a.tag){case 0:case 11:case 15:Su(a),a.flags&2048&&oa(9,a,a.return);break;case 3:Su(a);break;case 12:Su(a);break;case 22:var o=a.stateNode;a.memoizedState!==null&&o._visibility&2&&(a.return===null||a.return.tag!==13)?(o._visibility&=-3,uh(a)):Su(a);break;default:Su(a)}}function uh(a){var o=a.deletions;if((a.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];xn=h,mS(h,a)}hS(a)}for(a=a.child;a!==null;){switch(o=a,o.tag){case 0:case 11:case 15:oa(8,o,o.return),uh(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,uh(o));break;default:uh(o)}a=a.sibling}}function mS(a,o){for(;xn!==null;){var d=xn;switch(d.tag){case 0:case 11:case 15:oa(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ru(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,xn=h;else e:for(d=a;xn!==null;){h=xn;var v=h.sibling,_=h.return;if(aS(h),h===d){xn=null;break e}if(v!==null){v.return=_,xn=v;break e}xn=_}}}var _N={getCacheForType:function(a){var o=Fn(fn),d=o.data.get(a);return d===void 0&&(d=a(),o.data.set(a,d)),d}},xN=typeof WeakMap=="function"?WeakMap:Map,_t=0,Mt=null,et=null,ot=0,xt=0,gi=null,ua=!1,Vl=!1,Nv=!1,xr=0,zt=0,da=0,To=0,Dv=0,Li=0,jl=0,Eu=null,ii=null,Pv=!1,kv=0,dh=1/0,fh=null,fa=null,Mn=0,ha=null,Fl=null,Ul=0,Lv=0,Vv=null,gS=null,Tu=0,jv=null;function vi(){if((_t&2)!==0&&ot!==0)return ot&-ot;if($.T!==null){var a=Al;return a!==0?a:qv()}return Wr()}function vS(){Li===0&&(Li=(ot&536870912)===0||ft?Pc():536870912);var a=ki.current;return a!==null&&(a.flags|=32),Li}function yi(a,o,d){(a===Mt&&(xt===2||xt===9)||a.cancelPendingCommit!==null)&&(zl(a,0),pa(a,ot,Li,!1)),Js(a,d),((_t&2)===0||a!==Mt)&&(a===Mt&&((_t&2)===0&&(To|=d),zt===4&&pa(a,ot,Li,!1)),Cs(a))}function yS(a,o,d){if((_t&6)!==0)throw Error(i(327));var h=!d&&(o&124)===0&&(o&a.expiredLanes)===0||Qs(a,o),v=h?EN(a,o):zv(a,o,!0),_=h;do{if(v===0){Vl&&!h&&pa(a,o,0,!1);break}else{if(d=a.current.alternate,_&&!wN(d)){v=zv(a,o,!1),_=!1;continue}if(v===2){if(_=o,a.errorRecoveryDisabledLanes&_)var P=0;else P=a.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){o=P;e:{var F=a;v=Eu;var G=F.current.memoizedState.isDehydrated;if(G&&(zl(F,P).flags|=256),P=zv(F,P,!1),P!==2){if(Nv&&!G){F.errorRecoveryDisabledLanes|=_,To|=_,v=4;break e}_=ii,ii=v,_!==null&&(ii===null?ii=_:ii.push.apply(ii,_))}v=P}if(_=!1,v!==2)continue}}if(v===1){zl(a,0),pa(a,o,0,!0);break}e:{switch(h=a,_=v,_){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:pa(h,o,Li,!ua);break e;case 2:ii=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(v=kv+300-Cn(),10<v)){if(pa(h,o,Li,!ua),Xs(h,0,!0)!==0)break e;h.timeoutHandle=YS(bS.bind(null,h,d,ii,fh,Pv,o,Li,To,jl,ua,_,2,-0,0),v);break e}bS(h,d,ii,fh,Pv,o,Li,To,jl,ua,_,0,-0,0)}}break}while(!0);Cs(a)}function bS(a,o,d,h,v,_,P,F,G,J,le,fe,te,ne){if(a.timeoutHandle=-1,fe=o.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(Nu={stylesheets:null,count:0,unsuspend:iD},fS(o),fe=rD(),fe!==null)){a.cancelPendingCommit=fe(CS.bind(null,a,o,_,d,h,v,P,F,G,le,1,te,ne)),pa(a,_,P,!J);return}CS(a,o,_,d,h,v,P,F,G)}function wN(a){for(var o=a;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var v=d[h],_=v.getSnapshot;v=v.value;try{if(!fi(_(),v))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function pa(a,o,d,h){o&=~Dv,o&=~To,a.suspendedLanes|=o,a.pingedLanes&=~o,h&&(a.warmLanes|=o),h=a.expirationTimes;for(var v=o;0<v;){var _=31-bt(v),P=1<<_;h[_]=-1,v&=~P}d!==0&&ds(a,d,o)}function hh(){return(_t&6)===0?(Cu(0),!1):!0}function Fv(){if(et!==null){if(xt===0)var a=et.return;else a=et,hr=bo=null,nv(a),Dl=null,gu=0,a=et;for(;a!==null;)Zw(a.alternate,a),a=a.return;et=null}}function zl(a,o){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,UN(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Fv(),Mt=a,et=d=ur(a.current,null),ot=o,xt=0,gi=null,ua=!1,Vl=Qs(a,o),Nv=!1,jl=Li=Dv=To=da=zt=0,ii=Eu=null,Pv=!1,(o&8)!==0&&(o|=o&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=o;0<h;){var v=31-bt(h),_=1<<v;o|=a[v],h&=~_}return xr=o,kf(),d}function _S(a,o){Xe=null,$.H=eh,o===ou||o===$f?(o=Vx(),xt=3):o===Px?(o=Vx(),xt=4):xt=o===jw?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,gi=o,et===null&&(zt=1,rh(a,Oi(o,a.current)))}function xS(){var a=$.H;return $.H=eh,a===null?eh:a}function wS(){var a=$.A;return $.A=_N,a}function Uv(){zt=4,ua||(ot&4194048)!==ot&&ki.current!==null||(Vl=!0),(da&134217727)===0&&(To&134217727)===0||Mt===null||pa(Mt,ot,Li,!1)}function zv(a,o,d){var h=_t;_t|=2;var v=xS(),_=wS();(Mt!==a||ot!==o)&&(fh=null,zl(a,o)),o=!1;var P=zt;e:do try{if(xt!==0&&et!==null){var F=et,G=gi;switch(xt){case 8:Fv(),P=6;break e;case 3:case 2:case 9:case 6:ki.current===null&&(o=!0);var J=xt;if(xt=0,gi=null,Bl(a,F,G,J),d&&Vl){P=0;break e}break;default:J=xt,xt=0,gi=null,Bl(a,F,G,J)}}SN(),P=zt;break}catch(le){_S(a,le)}while(!0);return o&&a.shellSuspendCounter++,hr=bo=null,_t=h,$.H=v,$.A=_,et===null&&(Mt=null,ot=0,kf()),P}function SN(){for(;et!==null;)SS(et)}function EN(a,o){var d=_t;_t|=2;var h=xS(),v=wS();Mt!==a||ot!==o?(fh=null,dh=Cn()+500,zl(a,o)):Vl=Qs(a,o);e:do try{if(xt!==0&&et!==null){o=et;var _=gi;t:switch(xt){case 1:xt=0,gi=null,Bl(a,o,_,1);break;case 2:case 9:if(kx(_)){xt=0,gi=null,ES(o);break}o=function(){xt!==2&&xt!==9||Mt!==a||(xt=7),Cs(a)},_.then(o,o);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:kx(_)?(xt=0,gi=null,ES(o)):(xt=0,gi=null,Bl(a,o,_,7));break;case 5:var P=null;switch(et.tag){case 26:P=et.memoizedState;case 5:case 27:var F=et;if(!P||rE(P)){xt=0,gi=null;var G=F.sibling;if(G!==null)et=G;else{var J=F.return;J!==null?(et=J,ph(J)):et=null}break t}}xt=0,gi=null,Bl(a,o,_,5);break;case 6:xt=0,gi=null,Bl(a,o,_,6);break;case 8:Fv(),zt=6;break e;default:throw Error(i(462))}}TN();break}catch(le){_S(a,le)}while(!0);return hr=bo=null,$.H=h,$.A=v,_t=d,et!==null?0:(Mt=null,ot=0,kf(),zt)}function TN(){for(;et!==null&&!Nt();)SS(et)}function SS(a){var o=Xw(a.alternate,a,xr);a.memoizedProps=a.pendingProps,o===null?ph(a):et=o}function ES(a){var o=a,d=o.alternate;switch(o.tag){case 15:case 0:o=$w(d,o,o.pendingProps,o.type,void 0,ot);break;case 11:o=$w(d,o,o.pendingProps,o.type.render,o.ref,ot);break;case 5:nv(o);default:Zw(d,o),o=et=Tx(o,xr),o=Xw(d,o,xr)}a.memoizedProps=a.pendingProps,o===null?ph(a):et=o}function Bl(a,o,d,h){hr=bo=null,nv(o),Dl=null,gu=0;var v=o.return;try{if(pN(a,v,o,d,ot)){zt=1,rh(a,Oi(d,a.current)),et=null;return}}catch(_){if(v!==null)throw et=v,_;zt=1,rh(a,Oi(d,a.current)),et=null;return}o.flags&32768?(ft||h===1?a=!0:Vl||(ot&536870912)!==0?a=!1:(ua=a=!0,(h===2||h===9||h===3||h===6)&&(h=ki.current,h!==null&&h.tag===13&&(h.flags|=16384))),TS(o,a)):ph(o)}function ph(a){var o=a;do{if((o.flags&32768)!==0){TS(o,ua);return}a=o.return;var d=gN(o.alternate,o,xr);if(d!==null){et=d;return}if(o=o.sibling,o!==null){et=o;return}et=o=a}while(o!==null);zt===0&&(zt=5)}function TS(a,o){do{var d=vN(a.alternate,a);if(d!==null){d.flags&=32767,et=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(a=a.sibling,a!==null)){et=a;return}et=a=d}while(a!==null);zt=6,et=null}function CS(a,o,d,h,v,_,P,F,G){a.cancelPendingCommit=null;do mh();while(Mn!==0);if((_t&6)!==0)throw Error(i(327));if(o!==null){if(o===a.current)throw Error(i(177));if(_=o.lanes|o.childLanes,_|=Og,Lc(a,d,_,P,F,G),a===Mt&&(et=Mt=null,ot=0),Fl=o,ha=a,Ul=d,Lv=_,Vv=v,gS=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,IN(ee,function(){return OS(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=$.T,$.T=null,v=se.p,se.p=2,P=_t,_t|=4;try{yN(a,o,d)}finally{_t=P,se.p=v,$.T=h}}Mn=1,AS(),RS(),IS()}}function AS(){if(Mn===1){Mn=0;var a=ha,o=Fl,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=$.T,$.T=null;var h=se.p;se.p=2;var v=_t;_t|=4;try{cS(o,a);var _=Jv,P=mx(a.containerInfo),F=_.focusedElem,G=_.selectionRange;if(P!==F&&F&&F.ownerDocument&&px(F.ownerDocument.documentElement,F)){if(G!==null&&Cg(F)){var J=G.start,le=G.end;if(le===void 0&&(le=J),"selectionStart"in F)F.selectionStart=J,F.selectionEnd=Math.min(le,F.value.length);else{var fe=F.ownerDocument||document,te=fe&&fe.defaultView||window;if(te.getSelection){var ne=te.getSelection(),Be=F.textContent.length,je=Math.min(G.start,Be),Ct=G.end===void 0?je:Math.min(G.end,Be);!ne.extend&&je>Ct&&(P=Ct,Ct=je,je=P);var K=hx(F,je),W=hx(F,Ct);if(K&&W&&(ne.rangeCount!==1||ne.anchorNode!==K.node||ne.anchorOffset!==K.offset||ne.focusNode!==W.node||ne.focusOffset!==W.offset)){var Z=fe.createRange();Z.setStart(K.node,K.offset),ne.removeAllRanges(),je>Ct?(ne.addRange(Z),ne.extend(W.node,W.offset)):(Z.setEnd(W.node,W.offset),ne.addRange(Z))}}}}for(fe=[],ne=F;ne=ne.parentNode;)ne.nodeType===1&&fe.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof F.focus=="function"&&F.focus(),F=0;F<fe.length;F++){var ce=fe[F];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}Ah=!!Zv,Jv=Zv=null}finally{_t=v,se.p=h,$.T=d}}a.current=o,Mn=2}}function RS(){if(Mn===2){Mn=0;var a=ha,o=Fl,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=$.T,$.T=null;var h=se.p;se.p=2;var v=_t;_t|=4;try{rS(a,o.alternate,o)}finally{_t=v,se.p=h,$.T=d}}Mn=3}}function IS(){if(Mn===4||Mn===3){Mn=0,Gs();var a=ha,o=Fl,d=Ul,h=gS;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Mn=5:(Mn=0,Fl=ha=null,MS(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(fa=null),rl(d),o=o.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(we,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=$.T,v=se.p,se.p=2,$.T=null;try{for(var _=a.onRecoverableError,P=0;P<h.length;P++){var F=h[P];_(F.value,{componentStack:F.stack})}}finally{$.T=o,se.p=v}}(Ul&3)!==0&&mh(),Cs(a),v=a.pendingLanes,(d&4194090)!==0&&(v&42)!==0?a===jv?Tu++:(Tu=0,jv=a):Tu=0,Cu(0)}}function MS(a,o){(a.pooledCacheLanes&=o)===0&&(o=a.pooledCache,o!=null&&(a.pooledCache=null,ru(o)))}function mh(a){return AS(),RS(),IS(),OS()}function OS(){if(Mn!==5)return!1;var a=ha,o=Lv;Lv=0;var d=rl(Ul),h=$.T,v=se.p;try{se.p=32>d?32:d,$.T=null,d=Vv,Vv=null;var _=ha,P=Ul;if(Mn=0,Fl=ha=null,Ul=0,(_t&6)!==0)throw Error(i(331));var F=_t;if(_t|=4,pS(_.current),dS(_,_.current,P,d),_t=F,Cu(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(we,_)}catch{}return!0}finally{se.p=v,$.T=h,MS(a,o)}}function NS(a,o,d){o=Oi(d,o),o=gv(a.stateNode,o,2),a=ia(a,o,2),a!==null&&(Js(a,2),Cs(a))}function At(a,o,d){if(a.tag===3)NS(a,a,d);else for(;o!==null;){if(o.tag===3){NS(o,a,d);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(fa===null||!fa.has(h))){a=Oi(d,a),d=Lw(2),h=ia(o,d,2),h!==null&&(Vw(d,h,o,a),Js(h,2),Cs(h));break}}o=o.return}}function Bv(a,o,d){var h=a.pingCache;if(h===null){h=a.pingCache=new xN;var v=new Set;h.set(o,v)}else v=h.get(o),v===void 0&&(v=new Set,h.set(o,v));v.has(d)||(Nv=!0,v.add(d),a=CN.bind(null,a,o,d),o.then(a,a))}function CN(a,o,d){var h=a.pingCache;h!==null&&h.delete(o),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Mt===a&&(ot&d)===d&&(zt===4||zt===3&&(ot&62914560)===ot&&300>Cn()-kv?(_t&2)===0&&zl(a,0):Dv|=d,jl===ot&&(jl=0)),Cs(a)}function DS(a,o){o===0&&(o=kc()),a=Sl(a,o),a!==null&&(Js(a,o),Cs(a))}function AN(a){var o=a.memoizedState,d=0;o!==null&&(d=o.retryLane),DS(a,d)}function RN(a,o){var d=0;switch(a.tag){case 13:var h=a.stateNode,v=a.memoizedState;v!==null&&(d=v.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(o),DS(a,d)}function IN(a,o){return Ze(a,o)}var gh=null,Hl=null,Hv=!1,vh=!1,$v=!1,Co=0;function Cs(a){a!==Hl&&a.next===null&&(Hl===null?gh=Hl=a:Hl=Hl.next=a),vh=!0,Hv||(Hv=!0,ON())}function Cu(a,o){if(!$v&&vh){$v=!0;do for(var d=!1,h=gh;h!==null;){if(a!==0){var v=h.pendingLanes;if(v===0)var _=0;else{var P=h.suspendedLanes,F=h.pingedLanes;_=(1<<31-bt(42|a)+1)-1,_&=v&~(P&~F),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(d=!0,VS(h,_))}else _=ot,_=Xs(h,h===Mt?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||Qs(h,_)||(d=!0,VS(h,_));h=h.next}while(d);$v=!1}}function MN(){PS()}function PS(){vh=Hv=!1;var a=0;Co!==0&&(FN()&&(a=Co),Co=0);for(var o=Cn(),d=null,h=gh;h!==null;){var v=h.next,_=kS(h,o);_===0?(h.next=null,d===null?gh=v:d.next=v,v===null&&(Hl=d)):(d=h,(a!==0||(_&3)!==0)&&(vh=!0)),h=v}Cu(a)}function kS(a,o){for(var d=a.suspendedLanes,h=a.pingedLanes,v=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var P=31-bt(_),F=1<<P,G=v[P];G===-1?((F&d)===0||(F&h)!==0)&&(v[P]=Gr(F,o)):G<=o&&(a.expiredLanes|=F),_&=~F}if(o=Mt,d=ot,d=Xs(a,a===o?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,d===0||a===o&&(xt===2||xt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&dt(h),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Qs(a,d)){if(o=d&-d,o===a.callbackPriority)return o;switch(h!==null&&dt(h),rl(d)){case 2:case 8:d=Y;break;case 32:d=ee;break;case 268435456:d=ve;break;default:d=ee}return h=LS.bind(null,a),d=Ze(d,h),a.callbackPriority=o,a.callbackNode=d,o}return h!==null&&h!==null&&dt(h),a.callbackPriority=2,a.callbackNode=null,2}function LS(a,o){if(Mn!==0&&Mn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(mh()&&a.callbackNode!==d)return null;var h=ot;return h=Xs(a,a===Mt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(yS(a,h,o),kS(a,Cn()),a.callbackNode!=null&&a.callbackNode===d?LS.bind(null,a):null)}function VS(a,o){if(mh())return null;yS(a,o,!0)}function ON(){zN(function(){(_t&6)!==0?Ze(us,MN):PS()})}function qv(){return Co===0&&(Co=Pc()),Co}function jS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:dl(""+a)}function FS(a,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,a.id&&d.setAttribute("form",a.id),o.parentNode.insertBefore(d,o),a=new FormData(a),d.parentNode.removeChild(d),a}function NN(a,o,d,h,v){if(o==="submit"&&d&&d.stateNode===v){var _=jS((v[Jt]||null).action),P=h.submitter;P&&(o=(o=P[Jt]||null)?jS(o.formAction):P.getAttribute("formAction"),o!==null&&(_=o,P=null));var F=new fl("action","action",null,h,v);a.push({event:F,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Co!==0){var G=P?FS(v,P):new FormData(v);dv(d,{pending:!0,data:G,method:v.method,action:_},null,G)}}else typeof _=="function"&&(F.preventDefault(),G=P?FS(v,P):new FormData(v),dv(d,{pending:!0,data:G,method:v.method,action:_},_,G))},currentTarget:v}]})}}for(var Gv=0;Gv<Mg.length;Gv++){var Yv=Mg[Gv],DN=Yv.toLowerCase(),PN=Yv[0].toUpperCase()+Yv.slice(1);Xi(DN,"on"+PN)}Xi(yx,"onAnimationEnd"),Xi(bx,"onAnimationIteration"),Xi(_x,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(QO,"onTransitionRun"),Xi(ZO,"onTransitionStart"),Xi(JO,"onTransitionCancel"),Xi(xx,"onTransitionEnd"),tr("onMouseEnter",["mouseout","mouseover"]),tr("onMouseLeave",["mouseout","mouseover"]),tr("onPointerEnter",["pointerout","pointerover"]),tr("onPointerLeave",["pointerout","pointerover"]),Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Au));function US(a,o){o=(o&4)!==0;for(var d=0;d<a.length;d++){var h=a[d],v=h.event;h=h.listeners;e:{var _=void 0;if(o)for(var P=h.length-1;0<=P;P--){var F=h[P],G=F.instance,J=F.currentTarget;if(F=F.listener,G!==_&&v.isPropagationStopped())break e;_=F,v.currentTarget=J;try{_(v)}catch(le){sh(le)}v.currentTarget=null,_=G}else for(P=0;P<h.length;P++){if(F=h[P],G=F.instance,J=F.currentTarget,F=F.listener,G!==_&&v.isPropagationStopped())break e;_=F,v.currentTarget=J;try{_(v)}catch(le){sh(le)}v.currentTarget=null,_=G}}}}function tt(a,o){var d=o[jc];d===void 0&&(d=o[jc]=new Set);var h=a+"__bubble";d.has(h)||(zS(o,a,2,!1),d.add(h))}function Wv(a,o,d){var h=0;o&&(h|=4),zS(d,a,h,o)}var yh="_reactListening"+Math.random().toString(36).slice(2);function Kv(a){if(!a[yh]){a[yh]=!0,Fc.forEach(function(d){d!=="selectionchange"&&(kN.has(d)||Wv(d,!1,a),Wv(d,!0,a))});var o=a.nodeType===9?a:a.ownerDocument;o===null||o[yh]||(o[yh]=!0,Wv("selectionchange",!1,o))}}function zS(a,o,d,h){switch(dE(o)){case 2:var v=lD;break;case 8:v=cD;break;default:v=cy}d=v.bind(null,o,d,a),v=void 0,!Ii||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),h?v!==void 0?a.addEventListener(o,d,{capture:!0,passive:v}):a.addEventListener(o,d,!0):v!==void 0?a.addEventListener(o,d,{passive:v}):a.addEventListener(o,d,!1)}function Xv(a,o,d,h,v){var _=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var P=h.tag;if(P===3||P===4){var F=h.stateNode.containerInfo;if(F===v)break;if(P===4)for(P=h.return;P!==null;){var G=P.tag;if((G===3||G===4)&&P.stateNode.containerInfo===v)return;P=P.return}for(;F!==null;){if(P=er(F),P===null)return;if(G=P.tag,G===5||G===6||G===26||G===27){h=_=P;continue e}F=F.parentNode}}h=h.return}_f(function(){var J=_,le=Ri(d),fe=[];e:{var te=wx.get(a);if(te!==void 0){var ne=fl,Be=a;switch(a){case"keypress":if(vs(d)===0)break e;case"keydown":case"keyup":ne=yl;break;case"focusin":Be="focus",ne=ml;break;case"focusout":Be="blur",ne=ml;break;case"beforeblur":case"afterblur":ne=ml;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=Mi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=wg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Rf;break;case yx:case bx:case _x:ne=gl;break;case xx:ne=Mf;break;case"scroll":case"scrollend":ne=xf;break;case"wheel":ne=bl;break;case"copy":case"cut":case"paste":ne=vl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=Qc;break;case"toggle":case"beforetoggle":ne=Nf}var je=(o&4)!==0,Ct=!je&&(a==="scroll"||a==="scrollend"),K=je?te!==null?te+"Capture":null:te;je=[];for(var W=J,Z;W!==null;){var ce=W;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||K===null||(ce=so(W,K),ce!=null&&je.push(Ru(W,ce,Z))),Ct)break;W=W.return}0<je.length&&(te=new ne(te,Be,null,d,le),fe.push({event:te,listeners:je}))}}if((o&7)===0){e:{if(te=a==="mouseover"||a==="pointerover",ne=a==="mouseout"||a==="pointerout",te&&d!==sr&&(Be=d.relatedTarget||d.fromElement)&&(er(Be)||Be[Ci]))break e;if((ne||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(Be=d.relatedTarget||d.toElement,ne=J,Be=Be?er(Be):null,Be!==null&&(Ct=r(Be),je=Be.tag,Be!==Ct||je!==5&&je!==27&&je!==6)&&(Be=null)):(ne=null,Be=J),ne!==Be)){if(je=Mi,ce="onMouseLeave",K="onMouseEnter",W="mouse",(a==="pointerout"||a==="pointerover")&&(je=Qc,ce="onPointerLeave",K="onPointerEnter",W="pointer"),Ct=ne==null?te:hs(ne),Z=Be==null?te:hs(Be),te=new je(ce,W+"leave",ne,d,le),te.target=Ct,te.relatedTarget=Z,ce=null,er(le)===J&&(je=new je(K,W+"enter",Be,d,le),je.target=Z,je.relatedTarget=Ct,ce=je),Ct=ce,ne&&Be)t:{for(je=ne,K=Be,W=0,Z=je;Z;Z=$l(Z))W++;for(Z=0,ce=K;ce;ce=$l(ce))Z++;for(;0<W-Z;)je=$l(je),W--;for(;0<Z-W;)K=$l(K),Z--;for(;W--;){if(je===K||K!==null&&je===K.alternate)break t;je=$l(je),K=$l(K)}je=null}else je=null;ne!==null&&BS(fe,te,ne,je,!1),Be!==null&&Ct!==null&&BS(fe,Ct,Be,je,!0)}}e:{if(te=J?hs(J):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Ie=ox;else if(dn(te))if(lx)Ie=WO;else{Ie=GO;var Je=qO}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?J&&$c(J.elementType)&&(Ie=ox):Ie=YO;if(Ie&&(Ie=Ie(a,J))){cr(fe,Ie,d,le);break e}Je&&Je(a,te,J),a==="focusout"&&J&&te.type==="number"&&J.memoizedProps.value!=null&&Zr(te,"number",te.value)}switch(Je=J?hs(J):window,a){case"focusin":(dn(Je)||Je.contentEditable==="true")&&(_l=Je,Ag=J,eu=null);break;case"focusout":eu=Ag=_l=null;break;case"mousedown":Rg=!0;break;case"contextmenu":case"mouseup":case"dragend":Rg=!1,gx(fe,d,le);break;case"selectionchange":if(XO)break;case"keydown":case"keyup":gx(fe,d,le)}var Ne;if(_s)e:{switch(a){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else rt?re(a,d)&&(Fe="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(Fe="onCompositionStart");Fe&&(M&&d.locale!=="ko"&&(rt||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&rt&&(Ne=Gc()):(gs=le,Jr="value"in gs?gs.value:gs.textContent,rt=!0)),Je=bh(J,Fe),0<Je.length&&(Fe=new Kc(Fe,a,null,d,le),fe.push({event:Fe,listeners:Je}),Ne?Fe.data=Ne:(Ne=_e(d),Ne!==null&&(Fe.data=Ne)))),(Ne=E?un(a,d):at(a,d))&&(Fe=bh(J,"onBeforeInput"),0<Fe.length&&(Je=new Kc("onBeforeInput","beforeinput",null,d,le),fe.push({event:Je,listeners:Fe}),Je.data=Ne)),NN(fe,a,J,d,le)}US(fe,o)})}function Ru(a,o,d){return{instance:a,listener:o,currentTarget:d}}function bh(a,o){for(var d=o+"Capture",h=[];a!==null;){var v=a,_=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||_===null||(v=so(a,d),v!=null&&h.unshift(Ru(a,v,_)),v=so(a,o),v!=null&&h.push(Ru(a,v,_))),a.tag===3)return h;a=a.return}return[]}function $l(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function BS(a,o,d,h,v){for(var _=o._reactName,P=[];d!==null&&d!==h;){var F=d,G=F.alternate,J=F.stateNode;if(F=F.tag,G!==null&&G===h)break;F!==5&&F!==26&&F!==27||J===null||(G=J,v?(J=so(d,_),J!=null&&P.unshift(Ru(d,J,G))):v||(J=so(d,_),J!=null&&P.push(Ru(d,J,G)))),d=d.return}P.length!==0&&a.push({event:o,listeners:P})}var LN=/\r\n?/g,VN=/\u0000|\uFFFD/g;function HS(a){return(typeof a=="string"?a:""+a).replace(LN,`
`).replace(VN,"")}function $S(a,o){return o=HS(o),HS(a)===o}function _h(){}function Tt(a,o,d,h,v,_){switch(d){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||Ai(a,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&Ai(a,""+h);break;case"className":ps(a,"class",h);break;case"tabIndex":ps(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":ps(a,d,h);break;case"style":Hc(a,h,_);break;case"data":if(o!=="object"){ps(a,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||d!=="href")){a.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(d);break}h=dl(""+h),a.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(d==="formAction"?(o!=="input"&&Tt(a,o,"name",v.name,v,null),Tt(a,o,"formEncType",v.formEncType,v,null),Tt(a,o,"formMethod",v.formMethod,v,null),Tt(a,o,"formTarget",v.formTarget,v,null)):(Tt(a,o,"encType",v.encType,v,null),Tt(a,o,"method",v.method,v,null),Tt(a,o,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(d);break}h=dl(""+h),a.setAttribute(d,h);break;case"onClick":h!=null&&(a.onclick=_h);break;case"onScroll":h!=null&&tt("scroll",a);break;case"onScrollEnd":h!=null&&tt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(d=h.__html,d!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}d=dl(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,""+h):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":h===!0?a.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(d,h):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(d,h):a.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(d):a.setAttribute(d,h);break;case"popover":tt("beforetoggle",a),tt("toggle",a),Qr(a,"popover",h);break;case"xlinkActuate":An(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":An(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":An(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":An(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":An(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":An(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":An(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":An(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":An(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Qr(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=_g.get(d)||d,Qr(a,d,h))}}function Qv(a,o,d,h,v,_){switch(d){case"style":Hc(a,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(d=h.__html,d!=null){if(v.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof h=="string"?Ai(a,h):(typeof h=="number"||typeof h=="bigint")&&Ai(a,""+h);break;case"onScroll":h!=null&&tt("scroll",a);break;case"onScrollEnd":h!=null&&tt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=_h);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!al.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),o=d.slice(2,v?d.length-7:void 0),_=a[Jt]||null,_=_!=null?_[d]:null,typeof _=="function"&&a.removeEventListener(o,_,v),typeof h=="function")){typeof _!="function"&&_!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(o,h,v);break e}d in a?a[d]=h:h===!0?a.setAttribute(d,""):Qr(a,d,h)}}}function On(a,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",a),tt("load",a);var h=!1,v=!1,_;for(_ in d)if(d.hasOwnProperty(_)){var P=d[_];if(P!=null)switch(_){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Tt(a,o,_,P,d,null)}}v&&Tt(a,o,"srcSet",d.srcSet,d,null),h&&Tt(a,o,"src",d.src,d,null);return;case"input":tt("invalid",a);var F=_=P=v=null,G=null,J=null;for(h in d)if(d.hasOwnProperty(h)){var le=d[h];if(le!=null)switch(h){case"name":v=le;break;case"type":P=le;break;case"checked":G=le;break;case"defaultChecked":J=le;break;case"value":_=le;break;case"defaultValue":F=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(i(137,o));break;default:Tt(a,o,h,le,d,null)}}to(a,_,F,G,J,P,v,!1),ul(a);return;case"select":tt("invalid",a),h=P=_=null;for(v in d)if(d.hasOwnProperty(v)&&(F=d[v],F!=null))switch(v){case"value":_=F;break;case"defaultValue":P=F;break;case"multiple":h=F;default:Tt(a,o,v,F,d,null)}o=_,d=P,a.multiple=!!h,o!=null?ir(a,!!h,o,!1):d!=null&&ir(a,!!h,d,!0);return;case"textarea":tt("invalid",a),_=v=h=null;for(P in d)if(d.hasOwnProperty(P)&&(F=d[P],F!=null))switch(P){case"value":h=F;break;case"defaultValue":v=F;break;case"children":_=F;break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(i(91));break;default:Tt(a,o,P,F,d,null)}no(a,h,v,_),ul(a);return;case"option":for(G in d)if(d.hasOwnProperty(G)&&(h=d[G],h!=null))switch(G){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Tt(a,o,G,h,d,null)}return;case"dialog":tt("beforetoggle",a),tt("toggle",a),tt("cancel",a),tt("close",a);break;case"iframe":case"object":tt("load",a);break;case"video":case"audio":for(h=0;h<Au.length;h++)tt(Au[h],a);break;case"image":tt("error",a),tt("load",a);break;case"details":tt("toggle",a);break;case"embed":case"source":case"link":tt("error",a),tt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in d)if(d.hasOwnProperty(J)&&(h=d[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Tt(a,o,J,h,d,null)}return;default:if($c(o)){for(le in d)d.hasOwnProperty(le)&&(h=d[le],h!==void 0&&Qv(a,o,le,h,d,void 0));return}}for(F in d)d.hasOwnProperty(F)&&(h=d[F],h!=null&&Tt(a,o,F,h,d,null))}function jN(a,o,d,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,_=null,P=null,F=null,G=null,J=null,le=null;for(ne in d){var fe=d[ne];if(d.hasOwnProperty(ne)&&fe!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":G=fe;default:h.hasOwnProperty(ne)||Tt(a,o,ne,null,h,fe)}}for(var te in h){var ne=h[te];if(fe=d[te],h.hasOwnProperty(te)&&(ne!=null||fe!=null))switch(te){case"type":_=ne;break;case"name":v=ne;break;case"checked":J=ne;break;case"defaultChecked":le=ne;break;case"value":P=ne;break;case"defaultValue":F=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,o));break;default:ne!==fe&&Tt(a,o,te,ne,h,fe)}}di(a,P,F,G,J,le,_,v);return;case"select":ne=P=F=te=null;for(_ in d)if(G=d[_],d.hasOwnProperty(_)&&G!=null)switch(_){case"value":break;case"multiple":ne=G;default:h.hasOwnProperty(_)||Tt(a,o,_,null,h,G)}for(v in h)if(_=h[v],G=d[v],h.hasOwnProperty(v)&&(_!=null||G!=null))switch(v){case"value":te=_;break;case"defaultValue":F=_;break;case"multiple":P=_;default:_!==G&&Tt(a,o,v,_,h,G)}o=F,d=P,h=ne,te!=null?ir(a,!!d,te,!1):!!h!=!!d&&(o!=null?ir(a,!!d,o,!0):ir(a,!!d,d?[]:"",!1));return;case"textarea":ne=te=null;for(F in d)if(v=d[F],d.hasOwnProperty(F)&&v!=null&&!h.hasOwnProperty(F))switch(F){case"value":break;case"children":break;default:Tt(a,o,F,null,h,v)}for(P in h)if(v=h[P],_=d[P],h.hasOwnProperty(P)&&(v!=null||_!=null))switch(P){case"value":te=v;break;case"defaultValue":ne=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:v!==_&&Tt(a,o,P,v,h,_)}St(a,te,ne);return;case"option":for(var Be in d)if(te=d[Be],d.hasOwnProperty(Be)&&te!=null&&!h.hasOwnProperty(Be))switch(Be){case"selected":a.selected=!1;break;default:Tt(a,o,Be,null,h,te)}for(G in h)if(te=h[G],ne=d[G],h.hasOwnProperty(G)&&te!==ne&&(te!=null||ne!=null))switch(G){case"selected":a.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Tt(a,o,G,te,h,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in d)te=d[je],d.hasOwnProperty(je)&&te!=null&&!h.hasOwnProperty(je)&&Tt(a,o,je,null,h,te);for(J in h)if(te=h[J],ne=d[J],h.hasOwnProperty(J)&&te!==ne&&(te!=null||ne!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,o));break;default:Tt(a,o,J,te,h,ne)}return;default:if($c(o)){for(var Ct in d)te=d[Ct],d.hasOwnProperty(Ct)&&te!==void 0&&!h.hasOwnProperty(Ct)&&Qv(a,o,Ct,void 0,h,te);for(le in h)te=h[le],ne=d[le],!h.hasOwnProperty(le)||te===ne||te===void 0&&ne===void 0||Qv(a,o,le,te,h,ne);return}}for(var K in d)te=d[K],d.hasOwnProperty(K)&&te!=null&&!h.hasOwnProperty(K)&&Tt(a,o,K,null,h,te);for(fe in h)te=h[fe],ne=d[fe],!h.hasOwnProperty(fe)||te===ne||te==null&&ne==null||Tt(a,o,fe,te,h,ne)}var Zv=null,Jv=null;function xh(a){return a.nodeType===9?a:a.ownerDocument}function qS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GS(a,o){if(a===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&o==="foreignObject"?0:a}function ey(a,o){return a==="textarea"||a==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var ty=null;function FN(){var a=window.event;return a&&a.type==="popstate"?a===ty?!1:(ty=a,!0):(ty=null,!1)}var YS=typeof setTimeout=="function"?setTimeout:void 0,UN=typeof clearTimeout=="function"?clearTimeout:void 0,WS=typeof Promise=="function"?Promise:void 0,zN=typeof queueMicrotask=="function"?queueMicrotask:typeof WS<"u"?function(a){return WS.resolve(null).then(a).catch(BN)}:YS;function BN(a){setTimeout(function(){throw a})}function ma(a){return a==="head"}function KS(a,o){var d=o,h=0,v=0;do{var _=d.nextSibling;if(a.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(0<h&&8>h){d=h;var P=a.ownerDocument;if(d&1&&Iu(P.documentElement),d&2&&Iu(P.body),d&4)for(d=P.head,Iu(d),P=d.firstChild;P;){var F=P.nextSibling,G=P.nodeName;P[Qa]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&P.rel.toLowerCase()==="stylesheet"||d.removeChild(P),P=F}}if(v===0){a.removeChild(_),Vu(o);return}v--}else d==="$"||d==="$?"||d==="$!"?v++:h=d.charCodeAt(0)-48;else h=0;d=_}while(d);Vu(o)}function ny(a){var o=a.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":ny(d),Xr(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function HN(a,o,d,h){for(;a.nodeType===1;){var v=d;if(a.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[Qa])switch(o){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(o==="input"&&a.type==="hidden"){var _=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=Zi(a.nextSibling),a===null)break}return null}function $N(a,o,d){if(o==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Zi(a.nextSibling),a===null))return null;return a}function iy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function qN(a,o){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")o();else{var h=function(){o(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Zi(a){for(;a!=null;a=a.nextSibling){var o=a.nodeType;if(o===1||o===3)break;if(o===8){if(o=a.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return a}var sy=null;function XS(a){a=a.previousSibling;for(var o=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return a;o--}else d==="/$"&&o++}a=a.previousSibling}return null}function QS(a,o,d){switch(o=xh(d),a){case"html":if(a=o.documentElement,!a)throw Error(i(452));return a;case"head":if(a=o.head,!a)throw Error(i(453));return a;case"body":if(a=o.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Iu(a){for(var o=a.attributes;o.length;)a.removeAttributeNode(o[0]);Xr(a)}var Vi=new Map,ZS=new Set;function wh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var wr=se.d;se.d={f:GN,r:YN,D:WN,C:KN,L:XN,m:QN,X:JN,S:ZN,M:eD};function GN(){var a=wr.f(),o=hh();return a||o}function YN(a){var o=fs(a);o!==null&&o.tag===5&&o.type==="form"?yw(o):wr.r(a)}var ql=typeof document>"u"?null:document;function JS(a,o,d){var h=ql;if(h&&typeof o=="string"&&o){var v=en(o);v='link[rel="'+a+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),ZS.has(v)||(ZS.add(v),a={rel:a,crossOrigin:d,href:o},h.querySelector(v)===null&&(o=h.createElement("link"),On(o,"link",a),$t(o),h.head.appendChild(o)))}}function WN(a){wr.D(a),JS("dns-prefetch",a,null)}function KN(a,o){wr.C(a,o),JS("preconnect",a,o)}function XN(a,o,d){wr.L(a,o,d);var h=ql;if(h&&a&&o){var v='link[rel="preload"][as="'+en(o)+'"]';o==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+en(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+en(d.imageSizes)+'"]')):v+='[href="'+en(a)+'"]';var _=v;switch(o){case"style":_=Gl(a);break;case"script":_=Yl(a)}Vi.has(_)||(a=p({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:a,as:o},d),Vi.set(_,a),h.querySelector(v)!==null||o==="style"&&h.querySelector(Mu(_))||o==="script"&&h.querySelector(Ou(_))||(o=h.createElement("link"),On(o,"link",a),$t(o),h.head.appendChild(o)))}}function QN(a,o){wr.m(a,o);var d=ql;if(d&&a){var h=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+en(h)+'"][href="'+en(a)+'"]',_=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Yl(a)}if(!Vi.has(_)&&(a=p({rel:"modulepreload",href:a},o),Vi.set(_,a),d.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Ou(_)))return}h=d.createElement("link"),On(h,"link",a),$t(h),d.head.appendChild(h)}}}function ZN(a,o,d){wr.S(a,o,d);var h=ql;if(h&&a){var v=Wn(h).hoistableStyles,_=Gl(a);o=o||"default";var P=v.get(_);if(!P){var F={loading:0,preload:null};if(P=h.querySelector(Mu(_)))F.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":o},d),(d=Vi.get(_))&&ry(a,d);var G=P=h.createElement("link");$t(G),On(G,"link",a),G._p=new Promise(function(J,le){G.onload=J,G.onerror=le}),G.addEventListener("load",function(){F.loading|=1}),G.addEventListener("error",function(){F.loading|=2}),F.loading|=4,Sh(P,o,h)}P={type:"stylesheet",instance:P,count:1,state:F},v.set(_,P)}}}function JN(a,o){wr.X(a,o);var d=ql;if(d&&a){var h=Wn(d).hoistableScripts,v=Yl(a),_=h.get(v);_||(_=d.querySelector(Ou(v)),_||(a=p({src:a,async:!0},o),(o=Vi.get(v))&&ay(a,o),_=d.createElement("script"),$t(_),On(_,"link",a),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function eD(a,o){wr.M(a,o);var d=ql;if(d&&a){var h=Wn(d).hoistableScripts,v=Yl(a),_=h.get(v);_||(_=d.querySelector(Ou(v)),_||(a=p({src:a,async:!0,type:"module"},o),(o=Vi.get(v))&&ay(a,o),_=d.createElement("script"),$t(_),On(_,"link",a),d.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(v,_))}}function eE(a,o,d,h){var v=(v=Ce.current)?wh(v):null;if(!v)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Gl(d.href),d=Wn(v).hoistableStyles,h=d.get(o),h||(h={type:"style",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Gl(d.href);var _=Wn(v).hoistableStyles,P=_.get(a);if(P||(v=v.ownerDocument||v,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,P),(_=v.querySelector(Mu(a)))&&!_._p&&(P.instance=_,P.state.loading=5),Vi.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Vi.set(a,d),_||tD(v,a,d,P.state))),o&&h===null)throw Error(i(528,""));return P}if(o&&h!==null)throw Error(i(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Yl(d),d=Wn(v).hoistableScripts,h=d.get(o),h||(h={type:"script",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function Gl(a){return'href="'+en(a)+'"'}function Mu(a){return'link[rel="stylesheet"]['+a+"]"}function tE(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function tD(a,o,d,h){a.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=a.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),On(o,"link",d),$t(o),a.head.appendChild(o))}function Yl(a){return'[src="'+en(a)+'"]'}function Ou(a){return"script[async]"+a}function nE(a,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var h=a.querySelector('style[data-href~="'+en(d.href)+'"]');if(h)return o.instance=h,$t(h),h;var v=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),$t(h),On(h,"style",v),Sh(h,d.precedence,a),o.instance=h;case"stylesheet":v=Gl(d.href);var _=a.querySelector(Mu(v));if(_)return o.state.loading|=4,o.instance=_,$t(_),_;h=tE(d),(v=Vi.get(v))&&ry(h,v),_=(a.ownerDocument||a).createElement("link"),$t(_);var P=_;return P._p=new Promise(function(F,G){P.onload=F,P.onerror=G}),On(_,"link",h),o.state.loading|=4,Sh(_,d.precedence,a),o.instance=_;case"script":return _=Yl(d.src),(v=a.querySelector(Ou(_)))?(o.instance=v,$t(v),v):(h=d,(v=Vi.get(_))&&(h=p({},d),ay(h,v)),a=a.ownerDocument||a,v=a.createElement("script"),$t(v),On(v,"link",h),a.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,Sh(h,d.precedence,a));return o.instance}function Sh(a,o,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,_=v,P=0;P<h.length;P++){var F=h[P];if(F.dataset.precedence===o)_=F;else if(_!==v)break}_?_.parentNode.insertBefore(a,_.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(a,o.firstChild))}function ry(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.title==null&&(a.title=o.title)}function ay(a,o){a.crossOrigin==null&&(a.crossOrigin=o.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=o.referrerPolicy),a.integrity==null&&(a.integrity=o.integrity)}var Eh=null;function iE(a,o,d){if(Eh===null){var h=new Map,v=Eh=new Map;v.set(d,h)}else v=Eh,h=v.get(d),h||(h=new Map,v.set(d,h));if(h.has(a))return h;for(h.set(a,null),d=d.getElementsByTagName(a),v=0;v<d.length;v++){var _=d[v];if(!(_[Qa]||_[cn]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var P=_.getAttribute(o)||"";P=a+P;var F=h.get(P);F?F.push(_):h.set(P,[_])}}return h}function sE(a,o,d){a=a.ownerDocument||a,a.head.insertBefore(d,o==="title"?a.querySelector("head > title"):null)}function nD(a,o,d){if(d===1||o.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return a=o.disabled,typeof o.precedence=="string"&&a==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function rE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Nu=null;function iD(){}function sD(a,o,d){if(Nu===null)throw Error(i(475));var h=Nu;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=Gl(d.href),_=a.querySelector(Mu(v));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(h.count++,h=Th.bind(h),a.then(h,h)),o.state.loading|=4,o.instance=_,$t(_);return}_=a.ownerDocument||a,d=tE(d),(v=Vi.get(v))&&ry(d,v),_=_.createElement("link"),$t(_);var P=_;P._p=new Promise(function(F,G){P.onload=F,P.onerror=G}),On(_,"link",d),o.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(h.count++,o=Th.bind(h),a.addEventListener("load",o),a.addEventListener("error",o))}}function rD(){if(Nu===null)throw Error(i(475));var a=Nu;return a.stylesheets&&a.count===0&&oy(a,a.stylesheets),0<a.count?function(o){var d=setTimeout(function(){if(a.stylesheets&&oy(a,a.stylesheets),a.unsuspend){var h=a.unsuspend;a.unsuspend=null,h()}},6e4);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(d)}}:null}function Th(){if(this.count--,this.count===0){if(this.stylesheets)oy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ch=null;function oy(a,o){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ch=new Map,o.forEach(aD,a),Ch=null,Th.call(a))}function aD(a,o){if(!(o.state.loading&4)){var d=Ch.get(a);if(d)var h=d.get(null);else{d=new Map,Ch.set(a,d);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<v.length;_++){var P=v[_];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(d.set(P.dataset.precedence,P),h=P)}h&&d.set(null,h)}v=o.instance,P=v.getAttribute("data-precedence"),_=d.get(P)||h,_===h&&d.set(null,v),d.set(P,v),this.count++,h=Th.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),_?_.parentNode.insertBefore(v,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),o.state.loading|=4}}var Du={$$typeof:A,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function oD(a,o,d,h,v,_,P,F){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zs(0),this.hiddenUpdates=Zs(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=_,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function aE(a,o,d,h,v,_,P,F,G,J,le,fe){return a=new oD(a,o,d,P,F,G,J,fe),o=1,_===!0&&(o|=24),_=hi(3,null,null,o),a.current=_,_.stateNode=a,o=Bg(),o.refCount++,a.pooledCache=o,o.refCount++,_.memoizedState={element:h,isDehydrated:d,cache:o},Gg(_),a}function oE(a){return a?(a=El,a):El}function lE(a,o,d,h,v,_){v=oE(v),h.context===null?h.context=v:h.pendingContext=v,h=na(o),h.payload={element:d},_=_===void 0?null:_,_!==null&&(h.callback=_),d=ia(a,h,o),d!==null&&(yi(d,a,o),cu(d,a,o))}function cE(a,o){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<o?d:o}}function ly(a,o){cE(a,o),(a=a.alternate)&&cE(a,o)}function uE(a){if(a.tag===13){var o=Sl(a,67108864);o!==null&&yi(o,a,67108864),ly(a,67108864)}}var Ah=!0;function lD(a,o,d,h){var v=$.T;$.T=null;var _=se.p;try{se.p=2,cy(a,o,d,h)}finally{se.p=_,$.T=v}}function cD(a,o,d,h){var v=$.T;$.T=null;var _=se.p;try{se.p=8,cy(a,o,d,h)}finally{se.p=_,$.T=v}}function cy(a,o,d,h){if(Ah){var v=uy(h);if(v===null)Xv(a,o,h,Rh,d),fE(a,h);else if(dD(v,a,o,d,h))h.stopPropagation();else if(fE(a,h),o&4&&-1<uD.indexOf(a)){for(;v!==null;){var _=fs(v);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var P=ui(_.pendingLanes);if(P!==0){var F=_;for(F.pendingLanes|=2,F.entangledLanes|=2;P;){var G=1<<31-bt(P);F.entanglements[1]|=G,P&=~G}Cs(_),(_t&6)===0&&(dh=Cn()+500,Cu(0))}}break;case 13:F=Sl(_,2),F!==null&&yi(F,_,2),hh(),ly(_,2)}if(_=uy(h),_===null&&Xv(a,o,h,Rh,d),_===v)break;v=_}v!==null&&h.stopPropagation()}else Xv(a,o,h,null,d)}}function uy(a){return a=Ri(a),dy(a)}var Rh=null;function dy(a){if(Rh=null,a=er(a),a!==null){var o=r(a);if(o===null)a=null;else{var d=o.tag;if(d===13){if(a=l(o),a!==null)return a;a=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}return Rh=a,null}function dE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ys()){case us:return 2;case Y:return 8;case ee:case ae:return 32;case ve:return 268435456;default:return 32}default:return 32}}var fy=!1,ga=null,va=null,ya=null,Pu=new Map,ku=new Map,ba=[],uD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fE(a,o){switch(a){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":Pu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ku.delete(o.pointerId)}}function Lu(a,o,d,h,v,_){return a===null||a.nativeEvent!==_?(a={blockedOn:o,domEventName:d,eventSystemFlags:h,nativeEvent:_,targetContainers:[v]},o!==null&&(o=fs(o),o!==null&&uE(o)),a):(a.eventSystemFlags|=h,o=a.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),a)}function dD(a,o,d,h,v){switch(o){case"focusin":return ga=Lu(ga,a,o,d,h,v),!0;case"dragenter":return va=Lu(va,a,o,d,h,v),!0;case"mouseover":return ya=Lu(ya,a,o,d,h,v),!0;case"pointerover":var _=v.pointerId;return Pu.set(_,Lu(Pu.get(_)||null,a,o,d,h,v)),!0;case"gotpointercapture":return _=v.pointerId,ku.set(_,Lu(ku.get(_)||null,a,o,d,h,v)),!0}return!1}function hE(a){var o=er(a.target);if(o!==null){var d=r(o);if(d!==null){if(o=d.tag,o===13){if(o=l(d),o!==null){a.blockedOn=o,hf(a.priority,function(){if(d.tag===13){var h=vi();h=Yr(h);var v=Sl(d,h);v!==null&&yi(v,d,h),ly(d,h)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ih(a){if(a.blockedOn!==null)return!1;for(var o=a.targetContainers;0<o.length;){var d=uy(a.nativeEvent);if(d===null){d=a.nativeEvent;var h=new d.constructor(d.type,d);sr=h,d.target.dispatchEvent(h),sr=null}else return o=fs(d),o!==null&&uE(o),a.blockedOn=d,!1;o.shift()}return!0}function pE(a,o,d){Ih(a)&&d.delete(o)}function fD(){fy=!1,ga!==null&&Ih(ga)&&(ga=null),va!==null&&Ih(va)&&(va=null),ya!==null&&Ih(ya)&&(ya=null),Pu.forEach(pE),ku.forEach(pE)}function Mh(a,o){a.blockedOn===o&&(a.blockedOn=null,fy||(fy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,fD)))}var Oh=null;function mE(a){Oh!==a&&(Oh=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Oh===a&&(Oh=null);for(var o=0;o<a.length;o+=3){var d=a[o],h=a[o+1],v=a[o+2];if(typeof h!="function"){if(dy(h||d)===null)continue;break}var _=fs(d);_!==null&&(a.splice(o,3),o-=3,dv(_,{pending:!0,data:v,method:d.method,action:h},h,v))}}))}function Vu(a){function o(G){return Mh(G,a)}ga!==null&&Mh(ga,a),va!==null&&Mh(va,a),ya!==null&&Mh(ya,a),Pu.forEach(o),ku.forEach(o);for(var d=0;d<ba.length;d++){var h=ba[d];h.blockedOn===a&&(h.blockedOn=null)}for(;0<ba.length&&(d=ba[0],d.blockedOn===null);)hE(d),d.blockedOn===null&&ba.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var v=d[h],_=d[h+1],P=v[Jt]||null;if(typeof _=="function")P||mE(d);else if(P){var F=null;if(_&&_.hasAttribute("formAction")){if(v=_,P=_[Jt]||null)F=P.formAction;else if(dy(v)!==null)continue}else F=P.action;typeof F=="function"?d[h+1]=F:(d.splice(h,3),h-=3),mE(d)}}}function hy(a){this._internalRoot=a}Nh.prototype.render=hy.prototype.render=function(a){var o=this._internalRoot;if(o===null)throw Error(i(409));var d=o.current,h=vi();lE(d,h,a,o,null,null)},Nh.prototype.unmount=hy.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var o=a.containerInfo;lE(a.current,2,null,a,null,null),hh(),o[Ci]=null}};function Nh(a){this._internalRoot=a}Nh.prototype.unstable_scheduleHydration=function(a){if(a){var o=Wr();a={blockedOn:null,target:a,priority:o};for(var d=0;d<ba.length&&o!==0&&o<ba[d].priority;d++);ba.splice(d,0,a),d===0&&hE(a)}};var gE=e.version;if(gE!=="19.1.0")throw Error(i(527,gE,"19.1.0"));se.findDOMNode=function(a){var o=a._reactInternals;if(o===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=u(o),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var hD={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dh.isDisabled&&Dh.supportsFiber)try{we=Dh.inject(hD),Me=Dh}catch{}}return Fu.createRoot=function(a,o){if(!s(a))throw Error(i(299));var d=!1,h="",v=Nw,_=Dw,P=Pw,F=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks)),o=aE(a,1,!1,null,null,d,h,v,_,P,F,null),a[Ci]=o.current,Kv(a),new hy(o)},Fu.hydrateRoot=function(a,o,d){if(!s(a))throw Error(i(299));var h=!1,v="",_=Nw,P=Dw,F=Pw,G=null,J=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(_=d.onUncaughtError),d.onCaughtError!==void 0&&(P=d.onCaughtError),d.onRecoverableError!==void 0&&(F=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(G=d.unstable_transitionCallbacks),d.formState!==void 0&&(J=d.formState)),o=aE(a,1,!0,o,d??null,h,v,_,P,F,G,J),o.context=oE(null),d=o.current,h=vi(),h=Yr(h),v=na(h),v.callback=null,ia(d,v,h),d=h,o.current.lanes=d,Js(o,d),Cs(o),a[Ci]=o.current,Kv(a),new Nh(o)},Fu.version="19.1.0",Fu}var AE;function TD(){if(AE)return gy.exports;AE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gy.exports=ED(),gy.exports}var CD=TD();const AD=MA(CD);var Uu={},RE;function RD(){if(RE)return Uu;RE=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.parse=l,Uu.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,r=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,x){const w=new r,S=b.length;if(S<2)return w;const T=(x==null?void 0:x.decode)||p;let C=0;do{const R=b.indexOf("=",C);if(R===-1)break;const A=b.indexOf(";",C),V=A===-1?S:A;if(R>V){C=b.lastIndexOf(";",R-1)+1;continue}const I=c(b,C,R),H=u(b,R,I),D=b.slice(I,H);if(w[D]===void 0){let O=c(b,R+1,V),N=u(b,V,O);const L=T(b.slice(O,N));w[D]=L}C=V+1}while(C<S);return w}function c(b,x,w){do{const S=b.charCodeAt(x);if(S!==32&&S!==9)return x}while(++x<w);return w}function u(b,x,w){for(;x>w;){const S=b.charCodeAt(--x);if(S!==32&&S!==9)return x+1}return w}function f(b,x,w){const S=(w==null?void 0:w.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const T=S(x);if(!e.test(T))throw new TypeError(`argument val is invalid: ${x}`);let C=b+"="+T;if(!w)return C;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);C+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);C+="; Domain="+w.domain}if(w.path){if(!i.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);C+="; Path="+w.path}if(w.expires){if(!g(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);C+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(C+="; HttpOnly"),w.secure&&(C+="; Secure"),w.partitioned&&(C+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return C}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function g(b){return s.call(b)==="[object Date]"}return Uu}RD();var IE="popstate";function ID(n={}){function e(i,s){let{pathname:r,search:l,hash:c}=i.location;return ub("",{pathname:r,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:Ed(s)}return OD(e,t,null,n)}function Lt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Bi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MD(){return Math.random().toString(36).substring(2,10)}function ME(n,e){return{usr:n.state,key:n.key,idx:e}}function ub(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Sc(e):e,state:t,key:e&&e.key||i||MD()}}function Ed({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Sc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function OD(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:r=!1}=i,l=s.history,c="POP",u=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function g(){c="POP";let T=p(),C=T==null?null:T-f;f=T,u&&u({action:c,location:S.location,delta:C})}function b(T,C){c="PUSH";let R=ub(S.location,T,C);f=p()+1;let A=ME(R,f),V=S.createHref(R);try{l.pushState(A,"",V)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;s.location.assign(V)}r&&u&&u({action:c,location:S.location,delta:1})}function x(T,C){c="REPLACE";let R=ub(S.location,T,C);f=p();let A=ME(R,f),V=S.createHref(R);l.replaceState(A,"",V),r&&u&&u({action:c,location:S.location,delta:0})}function w(T){return ND(T)}let S={get action(){return c},get location(){return n(s,l)},listen(T){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(IE,g),u=T,()=>{s.removeEventListener(IE,g),u=null}},createHref(T){return e(s,T)},createURL:w,encodeLocation(T){let C=w(T);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:b,replace:x,go(T){return l.go(T)}};return S}function ND(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ed(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function NA(n,e,t="/"){return DD(n,e,t,!1)}function DD(n,e,t,i){let s=typeof e=="string"?Sc(e):e,r=Vr(s.pathname||"/",t);if(r==null)return null;let l=DA(n);PD(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let f=qD(r);c=HD(l[u],f,i)}return c}function DA(n,e=[],t=[],i=""){let s=(r,l,c)=>{let u={relativePath:c===void 0?r.path||"":c,caseSensitive:r.caseSensitive===!0,childrenIndex:l,route:r};u.relativePath.startsWith("/")&&(Lt(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let f=Nr([i,u.relativePath]),p=t.concat(u);r.children&&r.children.length>0&&(Lt(r.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),DA(r.children,e,p,f)),!(r.path==null&&!r.index)&&e.push({path:f,score:zD(f,r.index),routesMeta:p})};return n.forEach((r,l)=>{var c;if(r.path===""||!((c=r.path)!=null&&c.includes("?")))s(r,l);else for(let u of PA(r.path))s(r,l,u)}),e}function PA(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(i.length===0)return s?[r,""]:[r];let l=PA(i.join("/")),c=[];return c.push(...l.map(u=>u===""?r:[r,u].join("/"))),s&&c.push(...l),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function PD(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:BD(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var kD=/^:[\w-]+$/,LD=3,VD=2,jD=1,FD=10,UD=-2,OE=n=>n==="*";function zD(n,e){let t=n.split("/"),i=t.length;return t.some(OE)&&(i+=UD),e&&(i+=VD),t.filter(s=>!OE(s)).reduce((s,r)=>s+(kD.test(r)?LD:r===""?jD:FD),i)}function BD(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function HD(n,e,t=!1){let{routesMeta:i}=n,s={},r="/",l=[];for(let c=0;c<i.length;++c){let u=i[c],f=c===i.length-1,p=r==="/"?e:e.slice(r.length)||"/",g=kp({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},p),b=u.route;if(!g&&f&&t&&!i[i.length-1].route.index&&(g=kp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:Nr([r,g.pathname]),pathnameBase:KD(Nr([r,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(r=Nr([r,g.pathnameBase]))}return l}function kp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=$D(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let r=s[0],l=r.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:g},b)=>{if(p==="*"){let w=c[b]||"";l=r.slice(0,r.length-w.length).replace(/(.)\/+$/,"$1")}const x=c[b];return g&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:r,pathnameBase:l,pattern:n}}function $D(n,e=!1,t=!0){Bi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function qD(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Vr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function GD(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Sc(n):n;return{pathname:t?t.startsWith("/")?t:YD(t,e):e,search:XD(i),hash:QD(s)}}function YD(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function _y(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WD(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function p0(n){let e=WD(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function m0(n,e,t,i=!1){let s;typeof n=="string"?s=Sc(n):(s={...n},Lt(!s.pathname||!s.pathname.includes("?"),_y("?","pathname","search",s)),Lt(!s.pathname||!s.pathname.includes("#"),_y("#","pathname","hash",s)),Lt(!s.search||!s.search.includes("#"),_y("#","search","hash",s)));let r=n===""||s.pathname==="",l=r?"/":s.pathname,c;if(l==null)c=t;else{let g=e.length-1;if(!i&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),g-=1;s.pathname=b.join("/")}c=g>=0?e[g]:"/"}let u=GD(s,c),f=l&&l!=="/"&&l.endsWith("/"),p=(r||l===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(f||p)&&(u.pathname+="/"),u}var Nr=n=>n.join("/").replace(/\/\/+/g,"/"),KD=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XD=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QD=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ZD(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var kA=["POST","PUT","PATCH","DELETE"];new Set(kA);var JD=["GET",...kA];new Set(JD);var Ec=k.createContext(null);Ec.displayName="DataRouter";var Dm=k.createContext(null);Dm.displayName="DataRouterState";var LA=k.createContext({isTransitioning:!1});LA.displayName="ViewTransition";var eP=k.createContext(new Map);eP.displayName="Fetchers";var tP=k.createContext(null);tP.displayName="Await";var ls=k.createContext(null);ls.displayName="Navigation";var qd=k.createContext(null);qd.displayName="Location";var $i=k.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var g0=k.createContext(null);g0.displayName="RouteError";function nP(n,{relative:e}={}){Lt(Tc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=k.useContext(ls),{hash:s,pathname:r,search:l}=Gd(n,{relative:e}),c=r;return t!=="/"&&(c=r==="/"?t:Nr([t,r])),i.createHref({pathname:c,search:l,hash:s})}function Tc(){return k.useContext(qd)!=null}function $r(){return Lt(Tc(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(qd).location}var VA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jA(n){k.useContext(ls).static||k.useLayoutEffect(n)}function vn(){let{isDataRoute:n}=k.useContext($i);return n?yP():iP()}function iP(){Lt(Tc(),"useNavigate() may be used only in the context of a <Router> component.");let n=k.useContext(Ec),{basename:e,navigator:t}=k.useContext(ls),{matches:i}=k.useContext($i),{pathname:s}=$r(),r=JSON.stringify(p0(i)),l=k.useRef(!1);return jA(()=>{l.current=!0}),k.useCallback((u,f={})=>{if(Bi(l.current,VA),!l.current)return;if(typeof u=="number"){t.go(u);return}let p=m0(u,JSON.parse(r),s,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Nr([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,r,s,n])}var sP=k.createContext(null);function rP(n){let e=k.useContext($i).outlet;return e&&k.createElement(sP.Provider,{value:n},e)}function aP(){let{matches:n}=k.useContext($i),e=n[n.length-1];return e?e.params:{}}function Gd(n,{relative:e}={}){let{matches:t}=k.useContext($i),{pathname:i}=$r(),s=JSON.stringify(p0(t));return k.useMemo(()=>m0(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function oP(n,e){return FA(n,e)}function FA(n,e,t,i){var C;Lt(Tc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=k.useContext(ls),{matches:r}=k.useContext($i),l=r[r.length-1],c=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let R=p&&p.path||"";UA(u,!p||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let g=$r(),b;if(e){let R=typeof e=="string"?Sc(e):e;Lt(f==="/"||((C=R.pathname)==null?void 0:C.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${R.pathname}" was given in the \`location\` prop.`),b=R}else b=g;let x=b.pathname||"/",w=x;if(f!=="/"){let R=f.replace(/^\//,"").split("/");w="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let S=NA(n,{pathname:w});Bi(p||S!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Bi(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=fP(S&&S.map(R=>Object.assign({},R,{params:Object.assign({},c,R.params),pathname:Nr([f,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:Nr([f,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),r,t,i);return e&&T?k.createElement(qd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function lP(){let n=vP(),e=ZD(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},r={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:r},"ErrorBoundary")," or"," ",k.createElement("code",{style:r},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:s},t):null,l)}var cP=k.createElement(lP,null),uP=class extends k.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?k.createElement($i.Provider,{value:this.props.routeContext},k.createElement(g0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dP({routeContext:n,match:e,children:t}){let i=k.useContext(Ec);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement($i.Provider,{value:n},t)}function fP(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,r=t==null?void 0:t.errors;if(r!=null){let u=s.findIndex(f=>f.route.id&&(r==null?void 0:r[f.route.id])!==void 0);Lt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(r).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(t)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:g}=t,b=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,p)=>{let g,b=!1,x=null,w=null;t&&(g=r&&f.route.id?r[f.route.id]:void 0,x=f.route.errorElement||cP,l&&(c<0&&p===0?(UA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):c===p&&(b=!0,w=f.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,p+1)),T=()=>{let C;return g?C=x:b?C=w:f.route.Component?C=k.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=u,k.createElement(dP,{match:f,routeContext:{outlet:u,matches:S,isDataRoute:t!=null},children:C})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?k.createElement(uP,{location:t.location,revalidation:t.revalidation,component:x,error:g,children:T(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):T()},null)}function v0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hP(n){let e=k.useContext(Ec);return Lt(e,v0(n)),e}function pP(n){let e=k.useContext(Dm);return Lt(e,v0(n)),e}function mP(n){let e=k.useContext($i);return Lt(e,v0(n)),e}function y0(n){let e=mP(n),t=e.matches[e.matches.length-1];return Lt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gP(){return y0("useRouteId")}function vP(){var i;let n=k.useContext(g0),e=pP("useRouteError"),t=y0("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function yP(){let{router:n}=hP("useNavigate"),e=y0("useNavigate"),t=k.useRef(!1);return jA(()=>{t.current=!0}),k.useCallback(async(s,r={})=>{Bi(t.current,VA),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...r}))},[n,e])}var NE={};function UA(n,e,t){!e&&!NE[n]&&(NE[n]=!0,Bi(!1,t))}k.memo(bP);function bP({routes:n,future:e,state:t}){return FA(n,void 0,t,e)}function _P({to:n,replace:e,state:t,relative:i}){Lt(Tc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=k.useContext(ls);Bi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:r}=k.useContext($i),{pathname:l}=$r(),c=vn(),u=m0(n,p0(r),l,i==="path"),f=JSON.stringify(u);return k.useEffect(()=>{c(JSON.parse(f),{replace:e,state:t,relative:i})},[c,f,i,e,t]),null}function zA(n){return rP(n.context)}function Yt(n){Lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xP({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:r=!1}){Lt(!Tc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:r,future:{}}),[l,s,r]);typeof t=="string"&&(t=Sc(t));let{pathname:u="/",search:f="",hash:p="",state:g=null,key:b="default"}=t,x=k.useMemo(()=>{let w=Vr(u,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:g,key:b},navigationType:i}},[l,u,f,p,g,b,i]);return Bi(x!=null,`<Router basename="${l}"> is not able to match the URL "${u}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:k.createElement(ls.Provider,{value:c},k.createElement(qd.Provider,{children:e,value:x}))}function wP({children:n,location:e}){return oP(db(n),e)}function db(n,e=[]){let t=[];return k.Children.forEach(n,(i,s)=>{if(!k.isValidElement(i))return;let r=[...e,s];if(i.type===k.Fragment){t.push.apply(t,db(i.props.children,r));return}Lt(i.type===Yt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Lt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||r.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=db(i.props.children,r)),t.push(l)}),t}var fp="get",hp="application/x-www-form-urlencoded";function Pm(n){return n!=null&&typeof n.tagName=="string"}function SP(n){return Pm(n)&&n.tagName.toLowerCase()==="button"}function EP(n){return Pm(n)&&n.tagName.toLowerCase()==="form"}function TP(n){return Pm(n)&&n.tagName.toLowerCase()==="input"}function CP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AP(n,e){return n.button===0&&(!e||e==="_self")&&!CP(n)}function fb(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let i=n[t];return e.concat(Array.isArray(i)?i.map(s=>[t,s]):[[t,i]])},[]))}function RP(n,e){let t=fb(n);return e&&e.forEach((i,s)=>{t.has(s)||e.getAll(s).forEach(r=>{t.append(s,r)})}),t}var Ph=null;function IP(){if(Ph===null)try{new FormData(document.createElement("form"),0),Ph=!1}catch{Ph=!0}return Ph}var MP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xy(n){return n!=null&&!MP.has(n)?(Bi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hp}"`),null):n}function OP(n,e){let t,i,s,r,l;if(EP(n)){let c=n.getAttribute("action");i=c?Vr(c,e):null,t=n.getAttribute("method")||fp,s=xy(n.getAttribute("enctype"))||hp,r=new FormData(n)}else if(SP(n)||TP(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(i=u?Vr(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||fp,s=xy(n.getAttribute("formenctype"))||xy(c.getAttribute("enctype"))||hp,r=new FormData(c,n),!IP()){let{name:f,type:p,value:g}=n;if(p==="image"){let b=f?`${f}.`:"";r.append(`${b}x`,"0"),r.append(`${b}y`,"0")}else f&&r.append(f,g)}}else{if(Pm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=fp,i=null,s=hp,l=n}return r&&s==="text/plain"&&(l=r,r=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:r,body:l}}function b0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function NP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function PP(n,e,t){let i=await Promise.all(n.map(async s=>{let r=e.routes[s.route.id];if(r){let l=await NP(r,t);return l.links?l.links():[]}return[]}));return jP(i.flat(1).filter(DP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function DE(n,e,t,i,s,r){let l=(u,f)=>t[f]?u.route.id!==t[f].route.id:!0,c=(u,f)=>{var p;return t[f].pathname!==u.pathname||((p=t[f].route.path)==null?void 0:p.endsWith("*"))&&t[f].params["*"]!==u.params["*"]};return r==="assets"?e.filter((u,f)=>l(u,f)||c(u,f)):r==="data"?e.filter((u,f)=>{var g;let p=i.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,f)||c(u,f))return!0;if(u.route.shouldRevalidate){let b=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function kP(n,e,{includeHydrateFallback:t}={}){return LP(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let r=[s.module];return s.clientActionModule&&(r=r.concat(s.clientActionModule)),s.clientLoaderModule&&(r=r.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(r=r.concat(s.hydrateFallbackModule)),s.imports&&(r=r.concat(s.imports)),r}).flat(1))}function LP(n){return[...new Set(n)]}function VP(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function jP(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let r=JSON.stringify(VP(s));return t.has(r)||(t.add(r),i.push({key:r,link:s})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var FP=new Set([100,101,204,205]);function UP(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Vr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function BA(){let n=k.useContext(Ec);return b0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zP(){let n=k.useContext(Dm);return b0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var _0=k.createContext(void 0);_0.displayName="FrameworkContext";function HA(){let n=k.useContext(_0);return b0(n,"You must render this element inside a <HydratedRouter> element"),n}function BP(n,e){let t=k.useContext(_0),[i,s]=k.useState(!1),[r,l]=k.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:f,onMouseLeave:p,onTouchStart:g}=e,b=k.useRef(null);k.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let S=C=>{C.forEach(R=>{l(R.isIntersecting)})},T=new IntersectionObserver(S,{threshold:.5});return b.current&&T.observe(b.current),()=>{T.disconnect()}}},[n]),k.useEffect(()=>{if(i){let S=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(S)}}},[i]);let x=()=>{s(!0)},w=()=>{s(!1),l(!1)};return t?n!=="intent"?[r,b,{}]:[r,b,{onFocus:zu(c,x),onBlur:zu(u,w),onMouseEnter:zu(f,x),onMouseLeave:zu(p,w),onTouchStart:zu(g,x)}]:[!1,b,{}]}function zu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function HP({page:n,...e}){let{router:t}=BA(),i=k.useMemo(()=>NA(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?k.createElement(qP,{page:n,matches:i,...e}):null}function $P(n){let{manifest:e,routeModules:t}=HA(),[i,s]=k.useState([]);return k.useEffect(()=>{let r=!1;return PP(n,e,t).then(l=>{r||s(l)}),()=>{r=!0}},[n,e,t]),i}function qP({page:n,matches:e,...t}){let i=$r(),{manifest:s,routeModules:r}=HA(),{basename:l}=BA(),{loaderData:c,matches:u}=zP(),f=k.useMemo(()=>DE(n,e,u,s,i,"data"),[n,e,u,s,i]),p=k.useMemo(()=>DE(n,e,u,s,i,"assets"),[n,e,u,s,i]),g=k.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,S=!1;if(e.forEach(C=>{var A;let R=s.routes[C.route.id];!R||!R.hasLoader||(!f.some(V=>V.route.id===C.route.id)&&C.route.id in c&&((A=r[C.route.id])!=null&&A.shouldRevalidate)||R.hasClientLoader?S=!0:w.add(C.route.id))}),w.size===0)return[];let T=UP(n,l);return S&&w.size>0&&T.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[T.pathname+T.search]},[l,c,i,s,f,e,n,r]),b=k.useMemo(()=>kP(p,s),[p,s]),x=$P(p);return k.createElement(k.Fragment,null,g.map(w=>k.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),b.map(w=>k.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),x.map(({key:w,link:S})=>k.createElement("link",{key:w,...S})))}function GP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$A&&(window.__reactRouterVersion="7.6.2")}catch{}function YP({basename:n,children:e,window:t}){let i=k.useRef();i.current==null&&(i.current=ID({window:t,v5Compat:!0}));let s=i.current,[r,l]=k.useState({action:s.action,location:s.location}),c=k.useCallback(u=>{k.startTransition(()=>l(u))},[l]);return k.useLayoutEffect(()=>s.listen(c),[s,c]),k.createElement(xP,{basename:n,children:e,location:r.location,navigationType:r.action,navigator:s})}var qA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Po=k.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:r,replace:l,state:c,target:u,to:f,preventScrollReset:p,viewTransition:g,...b},x){let{basename:w}=k.useContext(ls),S=typeof f=="string"&&qA.test(f),T,C=!1;if(typeof f=="string"&&S&&(T=f,$A))try{let N=new URL(window.location.href),L=f.startsWith("//")?new URL(N.protocol+f):new URL(f),U=Vr(L.pathname,w);L.origin===N.origin&&U!=null?f=U+L.search+L.hash:C=!0}catch{Bi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=nP(f,{relative:s}),[A,V,I]=BP(i,b),H=QP(f,{replace:l,state:c,target:u,preventScrollReset:p,relative:s,viewTransition:g});function D(N){e&&e(N),N.defaultPrevented||H(N)}let O=k.createElement("a",{...b,...I,href:T||R,onClick:C||r?e:D,ref:GP(x,V),target:u,"data-discover":!S&&t==="render"?"true":void 0});return A&&!S?k.createElement(k.Fragment,null,O,k.createElement(HP,{page:R})):O});Po.displayName="Link";var WP=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:r,to:l,viewTransition:c,children:u,...f},p){let g=Gd(l,{relative:f.relative}),b=$r(),x=k.useContext(Dm),{navigator:w,basename:S}=k.useContext(ls),T=x!=null&&nk(g)&&c===!0,C=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,R=b.pathname,A=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(R=R.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&S&&(A=Vr(A,S)||A);const V=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let I=R===C||!s&&R.startsWith(C)&&R.charAt(V)==="/",H=A!=null&&(A===C||!s&&A.startsWith(C)&&A.charAt(C.length)==="/"),D={isActive:I,isPending:H,isTransitioning:T},O=I?e:void 0,N;typeof i=="function"?N=i(D):N=[i,I?"active":null,H?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let L=typeof r=="function"?r(D):r;return k.createElement(Po,{...f,"aria-current":O,className:N,ref:p,style:L,to:l,viewTransition:c},typeof u=="function"?u(D):u)});WP.displayName="NavLink";var KP=k.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:r,method:l=fp,action:c,onSubmit:u,relative:f,preventScrollReset:p,viewTransition:g,...b},x)=>{let w=ek(),S=tk(c,{relative:f}),T=l.toLowerCase()==="get"?"get":"post",C=typeof c=="string"&&qA.test(c),R=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let V=A.nativeEvent.submitter,I=(V==null?void 0:V.getAttribute("formmethod"))||l;w(V||A.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:s,state:r,relative:f,preventScrollReset:p,viewTransition:g})};return k.createElement("form",{ref:x,method:T,action:S,onSubmit:i?u:R,...b,"data-discover":!C&&n==="render"?"true":void 0})});KP.displayName="Form";function XP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GA(n){let e=k.useContext(Ec);return Lt(e,XP(n)),e}function QP(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:r,viewTransition:l}={}){let c=vn(),u=$r(),f=Gd(n,{relative:r});return k.useCallback(p=>{if(AP(p,e)){p.preventDefault();let g=t!==void 0?t:Ed(u)===Ed(f);c(n,{replace:g,state:i,preventScrollReset:s,relative:r,viewTransition:l})}},[u,c,f,t,i,e,n,s,r,l])}function x0(n){Bi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(fb(n)),t=k.useRef(!1),i=$r(),s=k.useMemo(()=>RP(i.search,t.current?null:e.current),[i.search]),r=vn(),l=k.useCallback((c,u)=>{const f=fb(typeof c=="function"?c(s):c);t.current=!0,r("?"+f,u)},[r,s]);return[s,l]}var ZP=0,JP=()=>`__${String(++ZP)}__`;function ek(){let{router:n}=GA("useSubmit"),{basename:e}=k.useContext(ls),t=gP();return k.useCallback(async(i,s={})=>{let{action:r,method:l,encType:c,formData:u,body:f}=OP(i,e);if(s.navigate===!1){let p=s.fetcherKey||JP();await n.fetch(p,t,s.action||r,{preventScrollReset:s.preventScrollReset,formData:u,body:f,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||r,{preventScrollReset:s.preventScrollReset,formData:u,body:f,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function tk(n,{relative:e}={}){let{basename:t}=k.useContext(ls),i=k.useContext($i);Lt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),r={...Gd(n||".",{relative:e})},l=$r();if(n==null){r.search=l.search;let c=new URLSearchParams(r.search),u=c.getAll("index");if(u.some(p=>p==="")){c.delete("index"),u.filter(g=>g).forEach(g=>c.append("index",g));let p=c.toString();r.search=p?`?${p}`:""}}return(!n||n===".")&&s.route.index&&(r.search=r.search?r.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(r.pathname=r.pathname==="/"?t:Nr([t,r.pathname])),Ed(r)}function nk(n,e={}){let t=k.useContext(LA);Lt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=GA("useViewTransitionState"),s=Gd(n,{relative:e.relative});if(!t.isTransitioning)return!1;let r=Vr(t.currentLocation.pathname,i)||t.currentLocation.pathname,l=Vr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return kp(s.pathname,l)!=null||kp(s.pathname,r)!=null}[...FP];var ik=OA();const sk=()=>{};var PE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},rk=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=n[t++];e[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=n[t++],l=n[t++],c=n[t++],u=((s&7)<<18|(r&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(u&1023))}else{const r=n[t++],l=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|l&63)}}return e.join("")},WA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const r=n[s],l=s+1<n.length,c=l?n[s+1]:0,u=s+2<n.length,f=u?n[s+2]:0,p=r>>2,g=(r&3)<<4|c>>4;let b=(c&15)<<2|f>>6,x=f&63;u||(x=64,l||(b=64)),i.push(t[p],t[g],t[b],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):rk(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const r=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const g=s<n.length?t[n.charAt(s)]:64;if(++s,r==null||c==null||f==null||g==null)throw new ak;const b=r<<2|c>>4;if(i.push(b),f!==64){const x=c<<4&240|f>>2;if(i.push(x),g!==64){const w=f<<6&192|g;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ak extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ok=function(n){const e=YA(n);return WA.encodeByteArray(e,!0)},Lp=function(n){return ok(n).replace(/\./g,"")},KA=function(n){try{return WA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=()=>lk().__FIREBASE_DEFAULTS__,uk=()=>{if(typeof process>"u"||typeof PE>"u")return;const n=PE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},dk=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&KA(n[1]);return e&&JSON.parse(e)},km=()=>{try{return sk()||ck()||uk()||dk()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},XA=n=>{var e,t;return(t=(e=km())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},QA=n=>{const e=XA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},ZA=()=>{var n;return(n=km())===null||n===void 0?void 0:n.config},JA=n=>{var e;return(e=km())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){return n.endsWith(".cloudworkstations.dev")}async function w0(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Lp(JSON.stringify(t)),Lp(JSON.stringify(l)),""].join(".")}const ud={};function hk(){const n={prod:[],emulator:[]};for(const e of Object.keys(ud))ud[e]?n.emulator.push(e):n.prod.push(e);return n}function pk(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let kE=!1;function S0(n,e){if(typeof window>"u"||typeof document>"u"||!Cc(window.location.host)||ud[n]===e||ud[n]||kE)return;ud[n]=e;function t(b){return`__firebase__banner__${b}`}const i="__firebase__banner",r=hk().prod.length>0;function l(){const b=document.getElementById(i);b&&b.remove()}function c(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function u(b,x){b.setAttribute("width","24"),b.setAttribute("id",x),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function f(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{kE=!0,l()},b}function p(b,x){b.setAttribute("id",x),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function g(){const b=pk(i),x=t("text"),w=document.getElementById(x)||document.createElement("span"),S=t("learnmore"),T=document.getElementById(S)||document.createElement("a"),C=t("preprendIcon"),R=document.getElementById(C)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const A=b.element;c(A),p(T,S);const V=f();u(R,C),A.append(R,w,T,V),document.body.appendChild(A)}r?(w.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function gk(){var n;const e=(n=km())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yk(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function bk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _k(){const n=Yn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xk(){return!gk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function wk(){try{return typeof indexedDB=="object"}catch{return!1}}function Sk(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="FirebaseError";class $s extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Ek,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yd.prototype.create)}}class Yd{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],l=r?Tk(r,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new $s(s,c,i)}}function Tk(n,e){return n.replace(Ck,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const Ck=/\{\$([^}]+)}/g;function Ak(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Bo(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const r=n[s],l=e[s];if(LE(r)&&LE(l)){if(!Bo(r,l))return!1}else if(r!==l)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function LE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Zu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Ju(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Rk(n,e){const t=new Ik(n,e);return t.subscribe.bind(t)}class Ik{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Mk(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=wy),s.error===void 0&&(s.error=wy),s.complete===void 0&&(s.complete=wy);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mk(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function wy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class Va{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new fk;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dk(e))try{this.getOrInitializeService({instanceIdentifier:Oo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(e=Oo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oo){return this.instances.has(e)}getOptions(e=Oo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[r,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(r);i===c&&l.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(e),this.onInitCallbacks.set(s,r);const l=this.instances.get(s);return l&&e(l,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Nk(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Oo){return this.component?this.component.multipleInstances?e:Oo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nk(n){return n===Oo?void 0:n}function Dk(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ok(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(nt||(nt={}));const kk={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},Lk=nt.INFO,Vk={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},jk=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=Vk[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E0{constructor(e){this.name=e,this._logLevel=Lk,this._logHandler=jk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const Fk=(n,e)=>e.some(t=>n instanceof t);let VE,jE;function Uk(){return VE||(VE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zk(){return jE||(jE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tR=new WeakMap,hb=new WeakMap,nR=new WeakMap,Sy=new WeakMap,T0=new WeakMap;function Bk(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",r),n.removeEventListener("error",l)},r=()=>{t(Na(n.result)),s()},l=()=>{i(n.error),s()};n.addEventListener("success",r),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&tR.set(t,n)}).catch(()=>{}),T0.set(e,n),e}function Hk(n){if(hb.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",l),n.removeEventListener("abort",l)},r=()=>{t(),s()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",r),n.addEventListener("error",l),n.addEventListener("abort",l)});hb.set(n,e)}let pb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return hb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nR.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Na(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function $k(n){pb=n(pb)}function qk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Ey(this),e,...t);return nR.set(i,e.sort?e.sort():[e]),Na(i)}:zk().includes(n)?function(...e){return n.apply(Ey(this),e),Na(tR.get(this))}:function(...e){return Na(n.apply(Ey(this),e))}}function Gk(n){return typeof n=="function"?qk(n):(n instanceof IDBTransaction&&Hk(n),Fk(n,Uk())?new Proxy(n,pb):n)}function Na(n){if(n instanceof IDBRequest)return Bk(n);if(Sy.has(n))return Sy.get(n);const e=Gk(n);return e!==n&&(Sy.set(n,e),T0.set(e,n)),e}const Ey=n=>T0.get(n);function Yk(n,e,{blocked:t,upgrade:i,blocking:s,terminated:r}={}){const l=indexedDB.open(n,e),c=Na(l);return i&&l.addEventListener("upgradeneeded",u=>{i(Na(l.result),u.oldVersion,u.newVersion,Na(l.transaction),u)}),t&&l.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),c.then(u=>{r&&u.addEventListener("close",()=>r()),s&&u.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const Wk=["get","getKey","getAll","getAllKeys","count"],Kk=["put","add","delete","clear"],Ty=new Map;function FE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ty.get(e))return Ty.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=Kk.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Wk.includes(t)))return;const r=async function(l,...c){const u=this.transaction(l,s?"readwrite":"readonly");let f=u.store;return i&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),s&&u.done]))[0]};return Ty.set(e,r),r}$k(n=>({...n,get:(e,t,i)=>FE(e,t)||n.get(e,t,i),has:(e,t)=>!!FE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Qk(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Qk(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mb="@firebase/app",UE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new E0("@firebase/app"),Zk="@firebase/app-compat",Jk="@firebase/analytics-compat",eL="@firebase/analytics",tL="@firebase/app-check-compat",nL="@firebase/app-check",iL="@firebase/auth",sL="@firebase/auth-compat",rL="@firebase/database",aL="@firebase/data-connect",oL="@firebase/database-compat",lL="@firebase/functions",cL="@firebase/functions-compat",uL="@firebase/installations",dL="@firebase/installations-compat",fL="@firebase/messaging",hL="@firebase/messaging-compat",pL="@firebase/performance",mL="@firebase/performance-compat",gL="@firebase/remote-config",vL="@firebase/remote-config-compat",yL="@firebase/storage",bL="@firebase/storage-compat",_L="@firebase/firestore",xL="@firebase/ai",wL="@firebase/firestore-compat",SL="firebase",EL="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="[DEFAULT]",TL={[mb]:"fire-core",[Zk]:"fire-core-compat",[eL]:"fire-analytics",[Jk]:"fire-analytics-compat",[nL]:"fire-app-check",[tL]:"fire-app-check-compat",[iL]:"fire-auth",[sL]:"fire-auth-compat",[rL]:"fire-rtdb",[aL]:"fire-data-connect",[oL]:"fire-rtdb-compat",[lL]:"fire-fn",[cL]:"fire-fn-compat",[uL]:"fire-iid",[dL]:"fire-iid-compat",[fL]:"fire-fcm",[hL]:"fire-fcm-compat",[pL]:"fire-perf",[mL]:"fire-perf-compat",[gL]:"fire-rc",[vL]:"fire-rc-compat",[yL]:"fire-gcs",[bL]:"fire-gcs-compat",[_L]:"fire-fst",[wL]:"fire-fst-compat",[xL]:"fire-vertex","fire-js":"fire-js",[SL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new Map,CL=new Map,vb=new Map;function zE(n,e){try{n.container.addComponent(e)}catch(t){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ho(n){const e=n.name;if(vb.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;vb.set(e,n);for(const t of Vp.values())zE(t,n);for(const t of CL.values())zE(t,n);return!0}function Lm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function wi(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Da=new Yd("app","Firebase",AL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Da.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=EL;function iR(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:gb,automaticDataCollectionEnabled:!0},e),s=i.name;if(typeof s!="string"||!s)throw Da.create("bad-app-name",{appName:String(s)});if(t||(t=ZA()),!t)throw Da.create("no-options");const r=Vp.get(s);if(r){if(Bo(t,r.options)&&Bo(i,r.config))return r;throw Da.create("duplicate-app",{appName:s})}const l=new Pk(s);for(const u of vb.values())l.addComponent(u);const c=new RL(t,i,l);return Vp.set(s,c),c}function C0(n=gb){const e=Vp.get(n);if(!e&&n===gb&&ZA())return iR();if(!e)throw Da.create("no-app",{appName:n});return e}function Ls(n,e,t){var i;let s=(i=TL[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),l=e.match(/\s|\//);if(r||l){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(c.join(" "));return}Ho(new Va(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL="firebase-heartbeat-database",ML=1,Td="firebase-heartbeat-store";let Cy=null;function sR(){return Cy||(Cy=Yk(IL,ML,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Td)}catch(t){console.warn(t)}}}}).catch(n=>{throw Da.create("idb-open",{originalErrorMessage:n.message})})),Cy}async function OL(n){try{const t=(await sR()).transaction(Td),i=await t.objectStore(Td).get(rR(n));return await t.done,i}catch(e){if(e instanceof $s)jr.warn(e.message);else{const t=Da.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(t.message)}}}async function BE(n,e){try{const i=(await sR()).transaction(Td,"readwrite");await i.objectStore(Td).put(e,rR(n)),await i.done}catch(t){if(t instanceof $s)jr.warn(t.message);else{const i=Da.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});jr.warn(i.message)}}}function rR(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=1024,DL=30;class PL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new LL(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=HE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>DL){const l=VL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){jr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=HE(),{heartbeatsToSend:i,unsentEntries:s}=kL(this._heartbeatsCache.heartbeats),r=Lp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return jr.warn(t),""}}}function HE(){return new Date().toISOString().substring(0,10)}function kL(n,e=NL){const t=[];let i=n.slice();for(const s of n){const r=t.find(l=>l.agent===s.agent);if(r){if(r.dates.push(s.date),$E(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),$E(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class LL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wk()?Sk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await OL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $E(n){return Lp(JSON.stringify({version:2,heartbeats:n})).length}function VL(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(n){Ho(new Va("platform-logger",e=>new Xk(e),"PRIVATE")),Ho(new Va("heartbeat",e=>new PL(e),"PRIVATE")),Ls(mb,UE,n),Ls(mb,UE,"esm2017"),Ls("fire-js","")}jL("");var FL="firebase",UL="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(FL,UL,"app");function A0(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function aR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zL=aR,oR=new Yd("auth","Firebase",aR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp=new E0("@firebase/auth");function BL(n,...e){jp.logLevel<=nt.WARN&&jp.warn(`Auth (${Jo}): ${n}`,...e)}function pp(n,...e){jp.logLevel<=nt.ERROR&&jp.error(`Auth (${Jo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(n,...e){throw R0(n,...e)}function Vs(n,...e){return R0(n,...e)}function lR(n,e,t){const i=Object.assign(Object.assign({},zL()),{[e]:t});return new Yd("auth","Firebase",i).create(e,{appName:n.name})}function Dr(n){return lR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function R0(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return oR.create(n,...e)}function Pe(n,e,...t){if(!n)throw R0(e,...t)}function Ir(n){const e="INTERNAL ASSERTION FAILED: "+n;throw pp(e),new Error(e)}function Fr(n,e){n||Ir(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HL(){return qE()==="http:"||qE()==="https:"}function qE(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HL()||yk()||"connection"in navigator)?navigator.onLine:!0}function qL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Fr(t>e,"Short delay should be less than long delay!"),this.isMobile=mk()||bk()}get(){return $L()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(n,e){Fr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WL=new Kd(3e4,6e4);function cs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function qi(n,e,t,i,s={}){return uR(n,s,async()=>{let r={},l={};i&&(e==="GET"?l=i:r={body:JSON.stringify(i)});const c=Wd(Object.assign({key:n.config.apiKey},l)).slice(1),u=await n._getAdditionalHeaders();u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:u},r);return vk()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Cc(n.emulatorConfig.host)&&(f.credentials="include"),cR.fetch()(await dR(n,n.config.apiHost,t,c),f)})}async function uR(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},GL),e);try{const s=new XL(n),r=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await r.json();if("needConfirmation"in l)throw kh(n,"account-exists-with-different-credential",l);if(r.ok&&!("errorMessage"in l))return l;{const c=r.ok?l.errorMessage:l.error.message,[u,f]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(n,"credential-already-in-use",l);if(u==="EMAIL_EXISTS")throw kh(n,"email-already-in-use",l);if(u==="USER_DISABLED")throw kh(n,"user-disabled",l);const p=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw lR(n,p,f);rs(n,p)}}catch(s){if(s instanceof $s)throw s;rs(n,"network-request-failed",{message:String(s)})}}async function Xd(n,e,t,i,s={}){const r=await qi(n,e,t,i,s);return"mfaPendingCredential"in r&&rs(n,"multi-factor-auth-required",{_serverResponse:r}),r}async function dR(n,e,t,i){const s=`${e}${t}?${i}`,r=n,l=r.config.emulator?I0(n.config,s):`${n.config.apiScheme}://${s}`;return YL.includes(t)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(l).toString():l}function KL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Vs(this.auth,"network-request-failed")),WL.get())})}}function kh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Vs(n,e,i);return s.customData._tokenResponse=t,s}function GE(n){return n!==void 0&&n.enterprise!==void 0}class QL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return KL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ZL(n,e){return qi(n,"GET","/v2/recaptchaConfig",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(n,e){return qi(n,"POST","/v1/accounts:delete",e)}async function Fp(n,e){return qi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eV(n,e=!1){const t=jt(n),i=await t.getIdToken(e),s=M0(i);Pe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,l=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:dd(Ay(s.auth_time)),issuedAtTime:dd(Ay(s.iat)),expirationTime:dd(Ay(s.exp)),signInProvider:l||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Ay(n){return Number(n)*1e3}function M0(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return pp("JWT malformed, contained fewer than 3 sections"),null;try{const s=KA(t);return s?JSON.parse(s):(pp("Failed to decode base64 JWT payload"),null)}catch(s){return pp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function YE(n){const e=M0(n);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof $s&&tV(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function tV({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dd(this.lastLoginAt),this.creationTime=dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(n){var e;const t=n.auth,i=await n.getIdToken(),s=await dc(n,Fp(t,{idToken:i}));Pe(s==null?void 0:s.users.length,t,"internal-error");const r=s.users[0];n._notifyReloadListener(r);const l=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?fR(r.providerUserInfo):[],c=sV(n.providerData,l),u=n.isAnonymous,f=!(n.email&&r.passwordHash)&&!(c!=null&&c.length),p=u?f:!1,g={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new bb(r.createdAt,r.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function iV(n){const e=jt(n);await Up(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sV(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function fR(n){return n.map(e=>{var{providerId:t}=e,i=A0(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(n,e){const t=await uR(n,{},async()=>{const i=Wd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=n.config,l=await dR(n,s,"/v1/token",`key=${r}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",cR.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function aV(n,e){return qi(n,"POST","/v2/accounts:revokeToken",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=YE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:r}=await rV(e,t);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:r}=t,l=new sc;return i&&(Pe(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(Pe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),r&&(Pe(typeof r=="number","internal-error",{appName:e}),l.expirationTime=r),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sc,this.toJSON())}_performRefresh(){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(n,e){Pe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,r=A0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new bb(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return eV(this,e)}reload(){return iV(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Up(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wi(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await dc(this,JL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,r,l,c,u,f,p;const g=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(s=t.email)!==null&&s!==void 0?s:void 0,x=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,w=(l=t.photoURL)!==null&&l!==void 0?l:void 0,S=(c=t.tenantId)!==null&&c!==void 0?c:void 0,T=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,C=(f=t.createdAt)!==null&&f!==void 0?f:void 0,R=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:V,isAnonymous:I,providerData:H,stsTokenManager:D}=t;Pe(A&&D,e,"internal-error");const O=sc.fromJSON(this.name,D);Pe(typeof A=="string",e,"internal-error"),xa(g,e.name),xa(b,e.name),Pe(typeof V=="boolean",e,"internal-error"),Pe(typeof I=="boolean",e,"internal-error"),xa(x,e.name),xa(w,e.name),xa(S,e.name),xa(T,e.name),xa(C,e.name),xa(R,e.name);const N=new ts({uid:A,auth:e,email:b,emailVerified:V,displayName:g,isAnonymous:I,photoURL:w,phoneNumber:x,tenantId:S,stsTokenManager:O,createdAt:C,lastLoginAt:R});return H&&Array.isArray(H)&&(N.providerData=H.map(L=>Object.assign({},L))),T&&(N._redirectEventId=T),N}static async _fromIdTokenResponse(e,t,i=!1){const s=new sc;s.updateFromServerResponse(t);const r=new ts({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Up(r),r}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Pe(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?fR(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),c=new sc;c.updateFromIdToken(i);const u=new ts({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new bb(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,f),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=new Map;function Mr(n){Fr(n instanceof Function,"Expected a class definition");let e=WE.get(n);return e?(Fr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,WE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hR.type="NONE";const KE=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n,e,t){return`firebase:${n}:${e}:${t}`}class rc{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=mp(this.userKey,s.apiKey,r),this.fullPersistenceKey=mp("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Fp(this.auth,{idToken:e}).catch(()=>{});return t?ts._fromGetAccountInfoResponse(this.auth,t,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new rc(Mr(KE),e,i);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let r=s[0]||Mr(KE);const l=mp(i,e.config.apiKey,e.name);let c=null;for(const f of t)try{const p=await f._get(l);if(p){let g;if(typeof p=="string"){const b=await Fp(e,{idToken:p}).catch(()=>{});if(!b)break;g=await ts._fromGetAccountInfoResponse(e,b,p)}else g=ts._fromJSON(e,p);f!==r&&(c=g),r=f;break}}catch{}const u=s.filter(f=>f._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new rc(r,e,i):(r=u[0],c&&await r._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==r)try{await f._remove(l)}catch{}})),new rc(r,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bR(e))return"Blackberry";if(_R(e))return"Webos";if(mR(e))return"Safari";if((e.includes("chrome/")||gR(e))&&!e.includes("edge/"))return"Chrome";if(yR(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function pR(n=Yn()){return/firefox\//i.test(n)}function mR(n=Yn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gR(n=Yn()){return/crios\//i.test(n)}function vR(n=Yn()){return/iemobile/i.test(n)}function yR(n=Yn()){return/android/i.test(n)}function bR(n=Yn()){return/blackberry/i.test(n)}function _R(n=Yn()){return/webos/i.test(n)}function O0(n=Yn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function oV(n=Yn()){var e;return O0(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lV(){return _k()&&document.documentMode===10}function xR(n=Yn()){return O0(n)||yR(n)||_R(n)||bR(n)||/windows phone/i.test(n)||vR(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(n,e=[]){let t;switch(n){case"Browser":t=XE(Yn());break;case"Worker":t=`${XE(Yn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=r=>new Promise((l,c)=>{try{const u=e(r);l(u)}catch(u){c(u)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(n,e={}){return qi(n,"GET","/v2/passwordPolicy",cs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=6;class fV{constructor(e){var t,i,s,r;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:dV,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,r,l,c;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(i=u.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(r=u.containsUppercaseLetter)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(l=u.containsNumericCharacter)!==null&&l!==void 0?l:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QE(this),this.idTokenSubscription=new QE(this),this.beforeStateQueue=new cV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Mr(t)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await rc.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Fp(this,{idToken:e}),i=await ts._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!l||l===c)&&(u!=null&&u.user)&&(s=u.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Up(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wi(this.app))return Promise.reject(Dr(this));const t=e?jt(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wi(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wi(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uV(this),t=new fV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Yd("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await aV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Mr(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await rc.create(this,[Mr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const r=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(c,this,"internal-error"),c.then(()=>{l||r(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,i,s);return()=>{l=!0,u()}}else{const u=e.addObserver(t);return()=>{l=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&BL(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Ga(n){return jt(n)}class QE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Rk(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pV(n){Vm=n}function SR(n){return Vm.loadJS(n)}function mV(){return Vm.recaptchaEnterpriseScript}function gV(){return Vm.gapiScript}function vV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class yV{constructor(){this.enterprise=new bV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class bV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const _V="recaptcha-enterprise",ER="NO_RECAPTCHA";class xV{constructor(e){this.type=_V,this.auth=Ga(e)}async verify(e="verify",t=!1){async function i(r){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(l,c)=>{ZL(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new QL(u);return r.tenantId==null?r._agentRecaptchaConfig=f:r._tenantRecaptchaConfigs[r.tenantId]=f,l(f.siteKey)}}).catch(u=>{c(u)})})}function s(r,l,c){const u=window.grecaptcha;GE(u)?u.enterprise.ready(()=>{u.enterprise.execute(r,{action:e}).then(f=>{l(f)}).catch(()=>{l(ER)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yV().execute("siteKey",{action:"verify"}):new Promise((r,l)=>{i(this.auth).then(c=>{if(!t&&GE(window.grecaptcha))s(c,r,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let u=mV();u.length!==0&&(u+=c),SR(u).then(()=>{s(c,r,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function ZE(n,e,t,i=!1,s=!1){const r=new xV(n);let l;if(s)l=ER;else try{l=await r.verify(t)}catch{l=await r.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const u=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const u=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return i?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function zp(n,e,t,i,s){var r;if(!((r=n._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ZE(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await ZE(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(n,e){const t=Lm(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),r=t.getOptions();if(Bo(r,e??{}))return s;rs(s,"already-initialized")}return t.initialize({options:e})}function SV(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Mr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function EV(n,e,t){const i=Ga(n);Pe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,r=TR(e),{host:l,port:c}=TV(e),u=c===null?"":`:${c}`,f={url:`${r}//${l}${u}/`},p=Object.freeze({host:l,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){Pe(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Pe(Bo(f,i.config.emulator)&&Bo(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Cc(l)?(w0(`${r}//${l}${u}`),S0("Auth",!0)):CV()}function TR(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TV(n){const e=TR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:JE(i.substr(r.length+1))}}else{const[r,l]=i.split(":");return{host:r,port:JE(l)}}}function JE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function CV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ir("not implemented")}_getIdTokenResponse(e){return Ir("not implemented")}_linkToIdToken(e,t){return Ir("not implemented")}_getReauthenticationResolver(e){return Ir("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(n,e){return qi(n,"POST","/v1/accounts:resetPassword",cs(n,e))}async function RV(n,e){return qi(n,"POST","/v1/accounts:signUp",e)}async function IV(n,e){return qi(n,"POST","/v1/accounts:update",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(n,e){return Xd(n,"POST","/v1/accounts:signInWithPassword",cs(n,e))}async function CR(n,e){return qi(n,"POST","/v1/accounts:sendOobCode",cs(n,e))}async function OV(n,e){return CR(n,e)}async function NV(n,e){return CR(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DV(n,e){return Xd(n,"POST","/v1/accounts:signInWithEmailLink",cs(n,e))}async function PV(n,e){return Xd(n,"POST","/v1/accounts:signInWithEmailLink",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd extends N0{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Cd(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Cd(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,t,"signInWithPassword",MV);case"emailLink":return DV(e,{email:this._email,oobCode:this._password});default:rs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zp(e,i,"signUpPassword",RV);case"emailLink":return PV(e,{idToken:t,email:this._email,oobCode:this._password});default:rs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(n,e){return Xd(n,"POST","/v1/accounts:signInWithIdp",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="http://localhost";class $o extends N0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $o(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):rs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,r=A0(t,["providerId","signInMethod"]);if(!i||!s)return null;const l=new $o(i,s);return l.idToken=r.idToken||void 0,l.accessToken=r.accessToken||void 0,l.secret=r.secret,l.nonce=r.nonce,l.pendingToken=r.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return ac(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ac(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ac(e,t)}buildRequest(){const e={requestUri:kV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VV(n){const e=Zu(Ju(n)).link,t=e?Zu(Ju(e)).deep_link_id:null,i=Zu(Ju(n)).deep_link_id;return(i?Zu(Ju(i)).link:null)||i||t||e||n}class D0{constructor(e){var t,i,s,r,l,c;const u=Zu(Ju(e)),f=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(i=u.oobCode)!==null&&i!==void 0?i:null,g=LV((s=u.mode)!==null&&s!==void 0?s:null);Pe(f&&p&&g,"argument-error"),this.apiKey=f,this.operation=g,this.code=p,this.continueUrl=(r=u.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(l=u.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=VV(e);try{return new D0(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.providerId=Ac.PROVIDER_ID}static credential(e,t){return Cd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=D0.parseLink(t);return Pe(i,"argument-error"),Cd._fromEmailAndCode(e,i.code,i.tenantId)}}Ac.PROVIDER_ID="password";Ac.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ac.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends AR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends Qd{constructor(){super("facebook.com")}static credential(e){return $o._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ea.credential(e.oauthAccessToken)}catch{return null}}}Ea.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ea.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta extends Qd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $o._fromParams({providerId:Ta.PROVIDER_ID,signInMethod:Ta.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ta.credentialFromTaggedObject(e)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ta.credential(t,i)}catch{return null}}}Ta.GOOGLE_SIGN_IN_METHOD="google.com";Ta.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca extends Qd{constructor(){super("github.com")}static credential(e){return $o._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ca.credential(e.oauthAccessToken)}catch{return null}}}Ca.GITHUB_SIGN_IN_METHOD="github.com";Ca.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Qd{constructor(){super("twitter.com")}static credential(e,t){return $o._fromParams({providerId:Aa.PROVIDER_ID,signInMethod:Aa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Aa.credentialFromTaggedObject(e)}static credentialFromError(e){return Aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Aa.credential(t,i)}catch{return null}}}Aa.TWITTER_SIGN_IN_METHOD="twitter.com";Aa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(n,e){return Xd(n,"POST","/v1/accounts:signUp",cs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const r=await ts._fromIdTokenResponse(e,i,s),l=eT(i);return new qo({user:r,providerId:l,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=eT(i);return new qo({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function eT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends $s{constructor(e,t,i,s){var r;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Bp.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Bp(e,t,i,s)}}function RR(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Bp._fromErrorAndOperation(n,r,e,i):r})}async function FV(n,e,t=!1){const i=await dc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return qo._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(n,e,t=!1){const{auth:i}=n;if(wi(i.app))return Promise.reject(Dr(i));const s="reauthenticate";try{const r=await dc(n,RR(i,s,e,n),t);Pe(r.idToken,i,"internal-error");const l=M0(r.idToken);Pe(l,i,"internal-error");const{sub:c}=l;return Pe(n.uid===c,i,"user-mismatch"),qo._forOperation(n,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&rs(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IR(n,e,t=!1){if(wi(n.app))return Promise.reject(Dr(n));const i="signIn",s=await RR(n,i,e),r=await qo._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(r.user),r}async function zV(n,e){return IR(Ga(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(n,e,t){var i;Pe(((i=t.url)===null||i===void 0?void 0:i.length)>0,n,"invalid-continue-uri"),Pe(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),Pe(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Pe(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Pe(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P0(n){const e=Ga(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function HV(n,e,t){const i=Ga(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&BV(i,s,t),await zp(i,s,"getOobCode",NV)}async function $V(n,e,t){await AV(jt(n),{oobCode:e,newPassword:t}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&P0(n),i})}async function qV(n,e){await IV(jt(n),{oobCode:e})}async function GV(n,e,t){if(wi(n.app))return Promise.reject(Dr(n));const i=Ga(n),l=await zp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&P0(n),u}),c=await qo._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(c.user),c}function YV(n,e,t){return wi(n.app)?Promise.reject(Dr(n)):zV(jt(n),Ac.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&P0(n),i})}async function WV(n,e){const t=jt(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:r}=await OV(t.auth,s);r!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KV(n,e){return qi(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MR(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=jt(n),r={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=await dc(i,KV(i.auth,r));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const c=i.providerData.find(({providerId:u})=>u==="password");c&&(c.displayName=i.displayName,c.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function XV(n,e,t,i){return jt(n).onIdTokenChanged(e,t,i)}function QV(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function Zd(n,e,t,i){return jt(n).onAuthStateChanged(e,t,i)}function k0(n){return jt(n).signOut()}const Hp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hp,"1"),this.storage.removeItem(Hp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=1e3,JV=10;class NR extends OR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,u)=>{this.notifyListeners(l,u)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(i);!t&&this.localCache[i]===l||this.notifyListeners(i,l)},r=this.storage.getItem(i);lV()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,JV):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},ZV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}NR.type="LOCAL";const ej=NR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR extends OR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}DR.type="SESSION";const PR=DR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tj(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new jm(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:r}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const c=Array.from(l).map(async f=>f(t.origin,r)),u=await tj(c);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,l;return new Promise((c,u)=>{const f=L0("",20);s.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},i);l={messageChannel:s,onMessage(g){const b=g;if(b.data.eventId===f)switch(b.data.status){case"ack":clearTimeout(p),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(b.data.response);break;default:clearTimeout(p),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(){return window}function ij(n){js().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kR(){return typeof js().WorkerGlobalScope<"u"&&typeof js().importScripts=="function"}async function sj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rj(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function aj(){return kR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="firebaseLocalStorageDb",oj=1,$p="firebaseLocalStorage",VR="fbase_key";class Jd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fm(n,e){return n.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function lj(){const n=indexedDB.deleteDatabase(LR);return new Jd(n).toPromise()}function _b(){const n=indexedDB.open(LR,oj);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore($p,{keyPath:VR})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains($p)?e(i):(i.close(),await lj(),e(await _b()))})})}async function tT(n,e,t){const i=Fm(n,!0).put({[VR]:e,value:t});return new Jd(i).toPromise()}async function cj(n,e){const t=Fm(n,!1).get(e),i=await new Jd(t).toPromise();return i===void 0?null:i.value}function nT(n,e){const t=Fm(n,!0).delete(e);return new Jd(t).toPromise()}const uj=800,dj=3;class jR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _b(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>dj)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jm._getInstance(aj()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await sj(),!this.activeServiceWorker)return;this.sender=new nj(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _b();return await tT(e,Hp,"1"),await nT(e,Hp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>tT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>cj(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>nT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const r=Fm(s,!1).getAll();return new Jd(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:r}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jR.type="LOCAL";const fj=jR;new Kd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(n,e){return e?Mr(e):(Pe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends N0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ac(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ac(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pj(n){return IR(n.auth,new V0(n),n.bypassAuthState)}function mj(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),UV(t,new V0(n),n.bypassAuthState)}async function gj(n){const{auth:e,user:t}=n;return Pe(t,e,"internal-error"),FV(t,new V0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,t,i,s,r=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:r,error:l,type:c}=e;if(l){this.reject(l);return}const u={auth:this.auth,requestUri:t,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(u))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pj;case"linkViaPopup":case"linkViaRedirect":return gj;case"reauthViaPopup":case"reauthViaRedirect":return mj;default:rs(this.auth,"internal-error")}}resolve(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=new Kd(2e3,1e4);class nc extends FR{constructor(e,t,i,s,r){super(e,t,s,r),this.provider=i,this.authWindow=null,this.pollId=null,nc.currentPopupAction&&nc.currentPopupAction.cancel(),nc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const e=L0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,nc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vj.get())};e()}}nc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj="pendingRedirect",gp=new Map;class bj extends FR{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=gp.get(this.auth._key());if(!e){try{const i=await _j(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}gp.set(this.auth._key(),e)}return this.bypassAuthState||gp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _j(n,e){const t=Sj(e),i=wj(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function xj(n,e){gp.set(n._key(),e)}function wj(n){return Mr(n._redirectPersistence)}function Sj(n){return mp(yj,n.config.apiKey,n.name)}async function Ej(n,e,t=!1){if(wi(n.app))return Promise.reject(Dr(n));const i=Ga(n),s=hj(i,e),l=await new bj(i,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=10*60*1e3;class Cj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Aj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!UR(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Vs(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Tj&&this.cachedEventUids.clear(),this.cachedEventUids.has(iT(e))}saveEventToCache(e){this.cachedEventUids.add(iT(e)),this.lastProcessedEventTime=Date.now()}}function iT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UR({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Aj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UR(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rj(n,e={}){return qi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mj=/^https?/;async function Oj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Rj(n);for(const t of e)try{if(Nj(t))return}catch{}rs(n,"unauthorized-domain")}function Nj(n){const e=yb(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===i}if(!Mj.test(t))return!1;if(Ij.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj=new Kd(3e4,6e4);function sT(){const n=js().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Pj(n){return new Promise((e,t)=>{var i,s,r;function l(){sT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sT(),t(Vs(n,"network-request-failed"))},timeout:Dj.get()})}if(!((s=(i=js().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=js().gapi)===null||r===void 0)&&r.load)l();else{const c=vV("iframefcb");return js()[c]=()=>{gapi.load?l():t(Vs(n,"network-request-failed"))},SR(`${gV()}?onload=${c}`).catch(u=>t(u))}}).catch(e=>{throw vp=null,e})}let vp=null;function kj(n){return vp=vp||Pj(n),vp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=new Kd(5e3,15e3),Vj="__/auth/iframe",jj="emulator/auth/iframe",Fj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zj(n){const e=n.config;Pe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?I0(e,jj):`https://${n.config.authDomain}/${Vj}`,i={apiKey:e.apiKey,appName:n.name,v:Jo},s=Uj.get(n.config.apiHost);s&&(i.eid=s);const r=n._getFrameworks();return r.length&&(i.fw=r.join(",")),`${t}?${Wd(i).slice(1)}`}async function Bj(n){const e=await kj(n),t=js().gapi;return Pe(t,n,"internal-error"),e.open({where:document.body,url:zj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fj,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const l=Vs(n,"network-request-failed"),c=js().setTimeout(()=>{r(l)},Lj.get());function u(){js().clearTimeout(c),s(i)}i.ping(u).then(u,()=>{r(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$j=500,qj=600,Gj="_blank",Yj="http://localhost";class rT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Wj(n,e,t,i=$j,s=qj){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let c="";const u=Object.assign(Object.assign({},Hj),{width:i.toString(),height:s.toString(),top:r,left:l}),f=Yn().toLowerCase();t&&(c=gR(f)?Gj:t),pR(f)&&(e=e||Yj,u.scrollbars="yes");const p=Object.entries(u).reduce((b,[x,w])=>`${b}${x}=${w},`,"");if(oV(f)&&c!=="_self")return Kj(e||"",c),new rT(null);const g=window.open(e||"",c,p);Pe(g,n,"popup-blocked");try{g.focus()}catch{}return new rT(g)}function Kj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="__/auth/handler",Qj="emulator/auth/handler",Zj=encodeURIComponent("fac");async function aT(n,e,t,i,s,r){Pe(n.config.authDomain,n,"auth-domain-config-required"),Pe(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Jo,eventId:s};if(e instanceof AR){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Ak(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,g]of Object.entries({}))l[p]=g}if(e instanceof Qd){const p=e.getScopes().filter(g=>g!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const u=await n._getAppCheckToken(),f=u?`#${Zj}=${encodeURIComponent(u)}`:"";return`${Jj(n)}?${Wd(c).slice(1)}${f}`}function Jj({config:n}){return n.emulator?I0(n,Qj):`https://${n.authDomain}/${Xj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry="webStorageSupport";class e4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PR,this._completeRedirectFn=Ej,this._overrideRedirectResult=xj}async _openPopup(e,t,i,s){var r;Fr((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const l=await aT(e,t,i,yb(),s);return Wj(e,l,L0())}async _openRedirect(e,t,i,s){await this._originValidation(e);const r=await aT(e,t,i,yb(),s);return ij(r),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:r}=this.eventManagers[t];return s?Promise.resolve(s):(Fr(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Bj(e),i=new Cj(e);return t.register("authEvent",s=>(Pe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ry,{type:Ry},s=>{var r;const l=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Ry];l!==void 0&&t(!!l),rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Oj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xR()||mR()||O0()}}const t4=e4;var oT="@firebase/auth",lT="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s4(n){Ho(new Va("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;Pe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wR(n)},f=new hV(i,s,r,u);return SV(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ho(new Va("auth-internal",e=>{const t=Ga(e.getProvider("auth").getImmediate());return(i=>new n4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(oT,lT,i4(n)),Ls(oT,lT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4=5*60,a4=JA("authIdTokenMaxAge")||r4;let cT=null;const o4=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>a4)return;const s=t==null?void 0:t.token;cT!==s&&(cT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function zR(n=C0()){const e=Lm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=wV(n,{popupRedirectResolver:t4,persistence:[fj,ej,PR]}),i=JA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const l=o4(r.toString());QV(t,l,()=>l(t.currentUser)),XV(t,c=>l(c))}}const s=XA("auth");return s&&EV(t,`http://${s}`),t}function l4(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}pV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const r=Vs("internal-error");r.customData=s,t(r)},i.type="text/javascript",i.charset="UTF-8",l4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s4("Browser");var uT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pa,BR;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,O){function N(){}N.prototype=O.prototype,D.D=O.prototype,D.prototype=new N,D.prototype.constructor=D,D.C=function(L,U,B){for(var j=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)j[ie-2]=arguments[ie];return O.prototype[U].apply(L,j)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,O,N){N||(N=0);var L=Array(16);if(typeof O=="string")for(var U=0;16>U;++U)L[U]=O.charCodeAt(N++)|O.charCodeAt(N++)<<8|O.charCodeAt(N++)<<16|O.charCodeAt(N++)<<24;else for(U=0;16>U;++U)L[U]=O[N++]|O[N++]<<8|O[N++]<<16|O[N++]<<24;O=D.g[0],N=D.g[1],U=D.g[2];var B=D.g[3],j=O+(B^N&(U^B))+L[0]+3614090360&4294967295;O=N+(j<<7&4294967295|j>>>25),j=B+(U^O&(N^U))+L[1]+3905402710&4294967295,B=O+(j<<12&4294967295|j>>>20),j=U+(N^B&(O^N))+L[2]+606105819&4294967295,U=B+(j<<17&4294967295|j>>>15),j=N+(O^U&(B^O))+L[3]+3250441966&4294967295,N=U+(j<<22&4294967295|j>>>10),j=O+(B^N&(U^B))+L[4]+4118548399&4294967295,O=N+(j<<7&4294967295|j>>>25),j=B+(U^O&(N^U))+L[5]+1200080426&4294967295,B=O+(j<<12&4294967295|j>>>20),j=U+(N^B&(O^N))+L[6]+2821735955&4294967295,U=B+(j<<17&4294967295|j>>>15),j=N+(O^U&(B^O))+L[7]+4249261313&4294967295,N=U+(j<<22&4294967295|j>>>10),j=O+(B^N&(U^B))+L[8]+1770035416&4294967295,O=N+(j<<7&4294967295|j>>>25),j=B+(U^O&(N^U))+L[9]+2336552879&4294967295,B=O+(j<<12&4294967295|j>>>20),j=U+(N^B&(O^N))+L[10]+4294925233&4294967295,U=B+(j<<17&4294967295|j>>>15),j=N+(O^U&(B^O))+L[11]+2304563134&4294967295,N=U+(j<<22&4294967295|j>>>10),j=O+(B^N&(U^B))+L[12]+1804603682&4294967295,O=N+(j<<7&4294967295|j>>>25),j=B+(U^O&(N^U))+L[13]+4254626195&4294967295,B=O+(j<<12&4294967295|j>>>20),j=U+(N^B&(O^N))+L[14]+2792965006&4294967295,U=B+(j<<17&4294967295|j>>>15),j=N+(O^U&(B^O))+L[15]+1236535329&4294967295,N=U+(j<<22&4294967295|j>>>10),j=O+(U^B&(N^U))+L[1]+4129170786&4294967295,O=N+(j<<5&4294967295|j>>>27),j=B+(N^U&(O^N))+L[6]+3225465664&4294967295,B=O+(j<<9&4294967295|j>>>23),j=U+(O^N&(B^O))+L[11]+643717713&4294967295,U=B+(j<<14&4294967295|j>>>18),j=N+(B^O&(U^B))+L[0]+3921069994&4294967295,N=U+(j<<20&4294967295|j>>>12),j=O+(U^B&(N^U))+L[5]+3593408605&4294967295,O=N+(j<<5&4294967295|j>>>27),j=B+(N^U&(O^N))+L[10]+38016083&4294967295,B=O+(j<<9&4294967295|j>>>23),j=U+(O^N&(B^O))+L[15]+3634488961&4294967295,U=B+(j<<14&4294967295|j>>>18),j=N+(B^O&(U^B))+L[4]+3889429448&4294967295,N=U+(j<<20&4294967295|j>>>12),j=O+(U^B&(N^U))+L[9]+568446438&4294967295,O=N+(j<<5&4294967295|j>>>27),j=B+(N^U&(O^N))+L[14]+3275163606&4294967295,B=O+(j<<9&4294967295|j>>>23),j=U+(O^N&(B^O))+L[3]+4107603335&4294967295,U=B+(j<<14&4294967295|j>>>18),j=N+(B^O&(U^B))+L[8]+1163531501&4294967295,N=U+(j<<20&4294967295|j>>>12),j=O+(U^B&(N^U))+L[13]+2850285829&4294967295,O=N+(j<<5&4294967295|j>>>27),j=B+(N^U&(O^N))+L[2]+4243563512&4294967295,B=O+(j<<9&4294967295|j>>>23),j=U+(O^N&(B^O))+L[7]+1735328473&4294967295,U=B+(j<<14&4294967295|j>>>18),j=N+(B^O&(U^B))+L[12]+2368359562&4294967295,N=U+(j<<20&4294967295|j>>>12),j=O+(N^U^B)+L[5]+4294588738&4294967295,O=N+(j<<4&4294967295|j>>>28),j=B+(O^N^U)+L[8]+2272392833&4294967295,B=O+(j<<11&4294967295|j>>>21),j=U+(B^O^N)+L[11]+1839030562&4294967295,U=B+(j<<16&4294967295|j>>>16),j=N+(U^B^O)+L[14]+4259657740&4294967295,N=U+(j<<23&4294967295|j>>>9),j=O+(N^U^B)+L[1]+2763975236&4294967295,O=N+(j<<4&4294967295|j>>>28),j=B+(O^N^U)+L[4]+1272893353&4294967295,B=O+(j<<11&4294967295|j>>>21),j=U+(B^O^N)+L[7]+4139469664&4294967295,U=B+(j<<16&4294967295|j>>>16),j=N+(U^B^O)+L[10]+3200236656&4294967295,N=U+(j<<23&4294967295|j>>>9),j=O+(N^U^B)+L[13]+681279174&4294967295,O=N+(j<<4&4294967295|j>>>28),j=B+(O^N^U)+L[0]+3936430074&4294967295,B=O+(j<<11&4294967295|j>>>21),j=U+(B^O^N)+L[3]+3572445317&4294967295,U=B+(j<<16&4294967295|j>>>16),j=N+(U^B^O)+L[6]+76029189&4294967295,N=U+(j<<23&4294967295|j>>>9),j=O+(N^U^B)+L[9]+3654602809&4294967295,O=N+(j<<4&4294967295|j>>>28),j=B+(O^N^U)+L[12]+3873151461&4294967295,B=O+(j<<11&4294967295|j>>>21),j=U+(B^O^N)+L[15]+530742520&4294967295,U=B+(j<<16&4294967295|j>>>16),j=N+(U^B^O)+L[2]+3299628645&4294967295,N=U+(j<<23&4294967295|j>>>9),j=O+(U^(N|~B))+L[0]+4096336452&4294967295,O=N+(j<<6&4294967295|j>>>26),j=B+(N^(O|~U))+L[7]+1126891415&4294967295,B=O+(j<<10&4294967295|j>>>22),j=U+(O^(B|~N))+L[14]+2878612391&4294967295,U=B+(j<<15&4294967295|j>>>17),j=N+(B^(U|~O))+L[5]+4237533241&4294967295,N=U+(j<<21&4294967295|j>>>11),j=O+(U^(N|~B))+L[12]+1700485571&4294967295,O=N+(j<<6&4294967295|j>>>26),j=B+(N^(O|~U))+L[3]+2399980690&4294967295,B=O+(j<<10&4294967295|j>>>22),j=U+(O^(B|~N))+L[10]+4293915773&4294967295,U=B+(j<<15&4294967295|j>>>17),j=N+(B^(U|~O))+L[1]+2240044497&4294967295,N=U+(j<<21&4294967295|j>>>11),j=O+(U^(N|~B))+L[8]+1873313359&4294967295,O=N+(j<<6&4294967295|j>>>26),j=B+(N^(O|~U))+L[15]+4264355552&4294967295,B=O+(j<<10&4294967295|j>>>22),j=U+(O^(B|~N))+L[6]+2734768916&4294967295,U=B+(j<<15&4294967295|j>>>17),j=N+(B^(U|~O))+L[13]+1309151649&4294967295,N=U+(j<<21&4294967295|j>>>11),j=O+(U^(N|~B))+L[4]+4149444226&4294967295,O=N+(j<<6&4294967295|j>>>26),j=B+(N^(O|~U))+L[11]+3174756917&4294967295,B=O+(j<<10&4294967295|j>>>22),j=U+(O^(B|~N))+L[2]+718787259&4294967295,U=B+(j<<15&4294967295|j>>>17),j=N+(B^(U|~O))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+O&4294967295,D.g[1]=D.g[1]+(U+(j<<21&4294967295|j>>>11))&4294967295,D.g[2]=D.g[2]+U&4294967295,D.g[3]=D.g[3]+B&4294967295}i.prototype.u=function(D,O){O===void 0&&(O=D.length);for(var N=O-this.blockSize,L=this.B,U=this.h,B=0;B<O;){if(U==0)for(;B<=N;)s(this,D,B),B+=this.blockSize;if(typeof D=="string"){for(;B<O;)if(L[U++]=D.charCodeAt(B++),U==this.blockSize){s(this,L),U=0;break}}else for(;B<O;)if(L[U++]=D[B++],U==this.blockSize){s(this,L),U=0;break}}this.h=U,this.o+=O},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var O=1;O<D.length-8;++O)D[O]=0;var N=8*this.o;for(O=D.length-8;O<D.length;++O)D[O]=N&255,N/=256;for(this.u(D),D=Array(16),O=N=0;4>O;++O)for(var L=0;32>L;L+=8)D[N++]=this.g[O]>>>L&255;return D};function r(D,O){var N=c;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=O(D)}function l(D,O){this.h=O;for(var N=[],L=!0,U=D.length-1;0<=U;U--){var B=D[U]|0;L&&B==O||(N[U]=B,L=!1)}this.g=N}var c={};function u(D){return-128<=D&&128>D?r(D,function(O){return new l([O|0],0>O?-1:0)}):new l([D|0],0>D?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return T(f(-D));for(var O=[],N=1,L=0;D>=N;L++)O[L]=D/N|0,N*=4294967296;return new l(O,0)}function p(D,O){if(D.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(D.charAt(0)=="-")return T(p(D.substring(1),O));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=f(Math.pow(O,8)),L=g,U=0;U<D.length;U+=8){var B=Math.min(8,D.length-U),j=parseInt(D.substring(U,U+B),O);8>B?(B=f(Math.pow(O,B)),L=L.j(B).add(f(j))):(L=L.j(N),L=L.add(f(j)))}return L}var g=u(0),b=u(1),x=u(16777216);n=l.prototype,n.m=function(){if(S(this))return-T(this).m();for(var D=0,O=1,N=0;N<this.g.length;N++){var L=this.i(N);D+=(0<=L?L:4294967296+L)*O,O*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(S(this))return"-"+T(this).toString(D);for(var O=f(Math.pow(D,6)),N=this,L="";;){var U=V(N,O).g;N=C(N,U.j(O));var B=((0<N.g.length?N.g[0]:N.h)>>>0).toString(D);if(N=U,w(N))return B+L;for(;6>B.length;)B="0"+B;L=B+L}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(var O=0;O<D.g.length;O++)if(D.g[O]!=0)return!1;return!0}function S(D){return D.h==-1}n.l=function(D){return D=C(this,D),S(D)?-1:w(D)?0:1};function T(D){for(var O=D.g.length,N=[],L=0;L<O;L++)N[L]=~D.g[L];return new l(N,~D.h).add(b)}n.abs=function(){return S(this)?T(this):this},n.add=function(D){for(var O=Math.max(this.g.length,D.g.length),N=[],L=0,U=0;U<=O;U++){var B=L+(this.i(U)&65535)+(D.i(U)&65535),j=(B>>>16)+(this.i(U)>>>16)+(D.i(U)>>>16);L=j>>>16,B&=65535,j&=65535,N[U]=j<<16|B}return new l(N,N[N.length-1]&-2147483648?-1:0)};function C(D,O){return D.add(T(O))}n.j=function(D){if(w(this)||w(D))return g;if(S(this))return S(D)?T(this).j(T(D)):T(T(this).j(D));if(S(D))return T(this.j(T(D)));if(0>this.l(x)&&0>D.l(x))return f(this.m()*D.m());for(var O=this.g.length+D.g.length,N=[],L=0;L<2*O;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var U=0;U<D.g.length;U++){var B=this.i(L)>>>16,j=this.i(L)&65535,ie=D.i(U)>>>16,X=D.i(U)&65535;N[2*L+2*U]+=j*X,R(N,2*L+2*U),N[2*L+2*U+1]+=B*X,R(N,2*L+2*U+1),N[2*L+2*U+1]+=j*ie,R(N,2*L+2*U+1),N[2*L+2*U+2]+=B*ie,R(N,2*L+2*U+2)}for(L=0;L<O;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=O;L<2*O;L++)N[L]=0;return new l(N,0)};function R(D,O){for(;(D[O]&65535)!=D[O];)D[O+1]+=D[O]>>>16,D[O]&=65535,O++}function A(D,O){this.g=D,this.h=O}function V(D,O){if(w(O))throw Error("division by zero");if(w(D))return new A(g,g);if(S(D))return O=V(T(D),O),new A(T(O.g),T(O.h));if(S(O))return O=V(D,T(O)),new A(T(O.g),O.h);if(30<D.g.length){if(S(D)||S(O))throw Error("slowDivide_ only works with positive integers.");for(var N=b,L=O;0>=L.l(D);)N=I(N),L=I(L);var U=H(N,1),B=H(L,1);for(L=H(L,2),N=H(N,2);!w(L);){var j=B.add(L);0>=j.l(D)&&(U=U.add(N),B=j),L=H(L,1),N=H(N,1)}return O=C(D,U.j(O)),new A(U,O)}for(U=g;0<=D.l(O);){for(N=Math.max(1,Math.floor(D.m()/O.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),B=f(N),j=B.j(O);S(j)||0<j.l(D);)N-=L,B=f(N),j=B.j(O);w(B)&&(B=b),U=U.add(B),D=C(D,j)}return new A(U,D)}n.A=function(D){return V(this,D).h},n.and=function(D){for(var O=Math.max(this.g.length,D.g.length),N=[],L=0;L<O;L++)N[L]=this.i(L)&D.i(L);return new l(N,this.h&D.h)},n.or=function(D){for(var O=Math.max(this.g.length,D.g.length),N=[],L=0;L<O;L++)N[L]=this.i(L)|D.i(L);return new l(N,this.h|D.h)},n.xor=function(D){for(var O=Math.max(this.g.length,D.g.length),N=[],L=0;L<O;L++)N[L]=this.i(L)^D.i(L);return new l(N,this.h^D.h)};function I(D){for(var O=D.g.length+1,N=[],L=0;L<O;L++)N[L]=D.i(L)<<1|D.i(L-1)>>>31;return new l(N,D.h)}function H(D,O){var N=O>>5;O%=32;for(var L=D.g.length-N,U=[],B=0;B<L;B++)U[B]=0<O?D.i(B+N)>>>O|D.i(B+N+1)<<32-O:D.i(B+N);return new l(U,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,BR=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Pa=l}).apply(typeof uT<"u"?uT:typeof self<"u"?self:typeof window<"u"?window:{});var Lh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var HR,ed,$R,yp,xb,qR,GR,YR;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,E,M){return m==Array.prototype||m==Object.prototype||(m[E]=M.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lh=="object"&&Lh];for(var E=0;E<m.length;++E){var M=m[E];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var i=t(this);function s(m,E){if(E)e:{var M=i;m=m.split(".");for(var z=0;z<m.length-1;z++){var Q=m[z];if(!(Q in M))break e;M=M[Q]}m=m[m.length-1],z=M[m],E=E(z),E!=z&&E!=null&&e(M,m,{configurable:!0,writable:!0,value:E})}}function r(m,E){m instanceof String&&(m+="");var M=0,z=!1,Q={next:function(){if(!z&&M<m.length){var re=M++;return{value:E(re,m[re]),done:!1}}return z=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(m){return m||function(){return r(this,function(E,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function u(m){var E=typeof m;return E=E!="object"?E:m?Array.isArray(m)?"array":E:"null",E=="array"||E=="object"&&typeof m.length=="number"}function f(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function p(m,E,M){return m.call.apply(m.bind,arguments)}function g(m,E,M){if(!m)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,z),m.apply(E,Q)}}return function(){return m.apply(E,arguments)}}function b(m,E,M){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,b.apply(null,arguments)}function x(m,E){var M=Array.prototype.slice.call(arguments,1);return function(){var z=M.slice();return z.push.apply(z,arguments),m.apply(this,z)}}function w(m,E){function M(){}M.prototype=E.prototype,m.aa=E.prototype,m.prototype=new M,m.prototype.constructor=m,m.Qb=function(z,Q,re){for(var _e=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)_e[rt-2]=arguments[rt];return E.prototype[Q].apply(z,_e)}}function S(m){const E=m.length;if(0<E){const M=Array(E);for(let z=0;z<E;z++)M[z]=m[z];return M}return[]}function T(m,E){for(let M=1;M<arguments.length;M++){const z=arguments[M];if(u(z)){const Q=m.length||0,re=z.length||0;m.length=Q+re;for(let _e=0;_e<re;_e++)m[Q+_e]=z[_e]}else m.push(z)}}class C{constructor(E,M){this.i=E,this.j=M,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function R(m){return/^[\s\xa0]*$/.test(m)}function A(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function V(m){return V[" "](m),m}V[" "]=function(){};var I=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function H(m,E,M){for(const z in m)E.call(M,m[z],z,m)}function D(m,E){for(const M in m)E.call(void 0,m[M],M,m)}function O(m){const E={};for(const M in m)E[M]=m[M];return E}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(m,E){let M,z;for(let Q=1;Q<arguments.length;Q++){z=arguments[Q];for(M in z)m[M]=z[M];for(let re=0;re<N.length;re++)M=N[re],Object.prototype.hasOwnProperty.call(z,M)&&(m[M]=z[M])}}function U(m){var E=1;m=m.split(":");const M=[];for(;0<E&&m.length;)M.push(m.shift()),E--;return m.length&&M.push(m.join(":")),M}function B(m){c.setTimeout(()=>{throw m},0)}function j(){var m=ye;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class ie{constructor(){this.h=this.g=null}add(E,M){const z=X.get();z.set(E,M),this.h?this.h.next=z:this.g=z,this.h=z}}var X=new C(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(E,M){this.h=E,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ue=!1,ye=new ie,q=()=>{const m=c.Promise.resolve(void 0);se=()=>{m.then(oe)}};var oe=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(M){B(M)}var E=X;E.j(m),100>E.h&&(E.h++,m.next=E.g,E.g=m)}ue=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const M=()=>{};c.addEventListener("test",M,E),c.removeEventListener("test",M,E)}catch{}return m}();function Oe(m,E){if(de.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var M=this.type=m.type,z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget){if(I){e:{try{V(E.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(E=null)}}else M=="mouseover"?E=m.fromElement:M=="mouseout"&&(E=m.toElement);this.relatedTarget=E,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ce[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Oe.aa.h.call(this)}}w(Oe,de);var Ce={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),Ge=0;function Ht(m,E,M,z,Q){this.listener=m,this.proxy=null,this.src=E,this.type=M,this.capture=!!z,this.ha=Q,this.key=++Ge,this.da=this.fa=!1}function jn(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function xe(m){this.src=m,this.g={},this.h=0}xe.prototype.add=function(m,E,M,z,Q){var re=m.toString();m=this.g[re],m||(m=this.g[re]=[],this.h++);var _e=Ze(m,E,z,Q);return-1<_e?(E=m[_e],M||(E.fa=!1)):(E=new Ht(E,this.src,re,!!z,Q),E.fa=M,m.push(E)),E};function Te(m,E){var M=E.type;if(M in m.g){var z=m.g[M],Q=Array.prototype.indexOf.call(z,E,void 0),re;(re=0<=Q)&&Array.prototype.splice.call(z,Q,1),re&&(jn(E),m.g[M].length==0&&(delete m.g[M],m.h--))}}function Ze(m,E,M,z){for(var Q=0;Q<m.length;++Q){var re=m[Q];if(!re.da&&re.listener==E&&re.capture==!!M&&re.ha==z)return Q}return-1}var dt="closure_lm_"+(1e6*Math.random()|0),Nt={};function Gs(m,E,M,z,Q){if(Array.isArray(E)){for(var re=0;re<E.length;re++)Gs(m,E[re],M,z,Q);return null}return M=ge(M),m&&m[ct]?m.K(E,M,f(z)?!!z.capture:!1,Q):Cn(m,E,M,!1,z,Q)}function Cn(m,E,M,z,Q,re){if(!E)throw Error("Invalid event type");var _e=f(Q)?!!Q.capture:!!Q,rt=ve(m);if(rt||(m[dt]=rt=new xe(m)),M=rt.add(E,M,z,_e,re),M.proxy)return M;if(z=Ys(),M.proxy=z,z.src=m,z.listener=M,m.addEventListener)Se||(Q=_e),Q===void 0&&(Q=!1),m.addEventListener(E.toString(),z,Q);else if(m.attachEvent)m.attachEvent(ee(E.toString()),z);else if(m.addListener&&m.removeListener)m.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return M}function Ys(){function m(M){return E.call(m.src,m.listener,M)}const E=ae;return m}function us(m,E,M,z,Q){if(Array.isArray(E))for(var re=0;re<E.length;re++)us(m,E[re],M,z,Q);else z=f(z)?!!z.capture:!!z,M=ge(M),m&&m[ct]?(m=m.i,E=String(E).toString(),E in m.g&&(re=m.g[E],M=Ze(re,M,z,Q),-1<M&&(jn(re[M]),Array.prototype.splice.call(re,M,1),re.length==0&&(delete m.g[E],m.h--)))):m&&(m=ve(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Ze(E,M,z,Q)),(M=-1<m?E[m]:null)&&Y(M))}function Y(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[ct])Te(E.i,m);else{var M=m.type,z=m.proxy;E.removeEventListener?E.removeEventListener(M,z,m.capture):E.detachEvent?E.detachEvent(ee(M),z):E.addListener&&E.removeListener&&E.removeListener(z),(M=ve(E))?(Te(M,m),M.h==0&&(M.src=null,E[dt]=null)):jn(m)}}}function ee(m){return m in Nt?Nt[m]:Nt[m]="on"+m}function ae(m,E){if(m.da)m=!0;else{E=new Oe(E,this);var M=m.listener,z=m.ha||m.src;m.fa&&Y(m),m=M.call(z,E)}return m}function ve(m){return m=m[dt],m instanceof xe?m:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(m){return typeof m=="function"?m:(m[be]||(m[be]=function(E){return m.handleEvent(E)}),m[be])}function we(){me.call(this),this.i=new xe(this),this.M=this,this.F=null}w(we,me),we.prototype[ct]=!0,we.prototype.removeEventListener=function(m,E,M,z){us(this,m,E,M,z)};function Me(m,E){var M,z=m.F;if(z)for(M=[];z;z=z.F)M.push(z);if(m=m.M,z=E.type||E,typeof E=="string")E=new de(E,m);else if(E instanceof de)E.target=E.target||m;else{var Q=E;E=new de(z,m),L(E,Q)}if(Q=!0,M)for(var re=M.length-1;0<=re;re--){var _e=E.g=M[re];Q=We(_e,z,!0,E)&&Q}if(_e=E.g=m,Q=We(_e,z,!0,E)&&Q,Q=We(_e,z,!1,E)&&Q,M)for(re=0;re<M.length;re++)_e=E.g=M[re],Q=We(_e,z,!1,E)&&Q}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var m=this.i,E;for(E in m.g){for(var M=m.g[E],z=0;z<M.length;z++)jn(M[z]);delete m.g[E],m.h--}}this.F=null},we.prototype.K=function(m,E,M,z){return this.i.add(String(m),E,!1,M,z)},we.prototype.L=function(m,E,M,z){return this.i.add(String(m),E,!0,M,z)};function We(m,E,M,z){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();for(var Q=!0,re=0;re<E.length;++re){var _e=E[re];if(_e&&!_e.da&&_e.capture==M){var rt=_e.listener,un=_e.ha||_e.src;_e.fa&&Te(m.i,_e),Q=rt.call(un,z)!==!1&&Q}}return Q&&!z.defaultPrevented}function bt(m,E,M){if(typeof m=="function")M&&(m=b(m,M));else if(m&&typeof m.handleEvent=="function")m=b(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:c.setTimeout(m,E||0)}function Ws(m){m.g=bt(()=>{m.g=null,m.i&&(m.i=!1,Ws(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class Ti extends me{constructor(E,M){super(),this.m=E,this.l=M,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ws(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ks(m){me.call(this),this.h=m,this.g={}}w(Ks,me);var Gi=[];function Yi(m){H(m.g,function(E,M){this.g.hasOwnProperty(M)&&Y(E)},m),m.g={}}Ks.prototype.N=function(){Ks.aa.N.call(this),Yi(this)},Ks.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ui=c.JSON.stringify,Xs=c.JSON.parse,Qs=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Gr(){}Gr.prototype.h=null;function Pc(m){return m.h||(m.h=m.i())}function kc(){}var Zs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Js(){de.call(this,"d")}w(Js,de);function Lc(){de.call(this,"c")}w(Lc,de);var ds={},Vc=null;function Yr(){return Vc=Vc||new we}ds.La="serverreachability";function rl(m){de.call(this,ds.La,m)}w(rl,de);function Wr(m){const E=Yr();Me(E,new rl(E))}ds.STAT_EVENT="statevent";function hf(m,E){de.call(this,ds.STAT_EVENT,m),this.stat=E}w(hf,de);function Pt(m){const E=Yr();Me(E,new hf(E,m))}ds.Ma="timingevent";function cn(m,E){de.call(this,ds.Ma,m),this.size=E}w(cn,de);function Jt(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function Ci(){this.g=!0}Ci.prototype.xa=function(){this.g=!1};function jc(m,E,M,z,Q,re){m.info(function(){if(m.g)if(re)for(var _e="",rt=re.split("&"),un=0;un<rt.length;un++){var at=rt[un].split("=");if(1<at.length){var bn=at[0];at=at[1];var dn=bn.split("_");_e=2<=dn.length&&dn[1]=="type"?_e+(bn+"="+at+"&"):_e+(bn+"=redacted&")}}else _e=null;else _e=re;return"XMLHTTP REQ ("+z+") [attempt "+Q+"]: "+E+`
`+M+`
`+_e})}function vg(m,E,M,z,Q,re,_e){m.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+Q+"]: "+E+`
`+M+`
`+re+" "+_e})}function Kr(m,E,M,z){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+Qa(m,M)+(z?" "+z:"")})}function pf(m,E){m.info(function(){return"TIMEOUT: "+E})}Ci.prototype.info=function(){};function Qa(m,E){if(!m.g)return E;if(!E)return null;try{var M=JSON.parse(E);if(M){for(m=0;m<M.length;m++)if(Array.isArray(M[m])){var z=M[m];if(!(2>z.length)){var Q=z[1];if(Array.isArray(Q)&&!(1>Q.length)){var re=Q[0];if(re!="noop"&&re!="stop"&&re!="close")for(var _e=1;_e<Q.length;_e++)Q[_e]=""}}}}return ui(M)}catch{return E}}var Xr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},er={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fs;function hs(){}w(hs,Gr),hs.prototype.g=function(){return new XMLHttpRequest},hs.prototype.i=function(){return{}},fs=new hs;function Wn(m,E,M,z){this.j=m,this.i=E,this.l=M,this.R=z||1,this.U=new Ks(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $t}function $t(){this.i=null,this.g="",this.h=!1}var Fc={},al={};function Wi(m,E,M){m.L=1,m.v=no(di(E)),m.m=M,m.P=!0,tr(m,null)}function tr(m,E){m.F=Date.now(),Za(m),m.A=di(m.v);var M=m.A,z=m.R;Array.isArray(z)||(z=[String(z)]),qc(M.i,"t",z),m.C=0,M=m.j.J,m.h=new $t,m.g=Mf(m.j,M?E:null,!m.m),0<m.O&&(m.M=new Ti(b(m.Y,m,m.g),m.O)),E=m.U,M=m.g,z=m.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Gi[0]=Q.toString()),Q=Gi);for(var re=0;re<Q.length;re++){var _e=Gs(M,Q[re],z||E.handleEvent,!1,E.h||E);if(!_e)break;E.g[_e.key]=_e}E=m.H?O(m.H):{},m.m?(m.u||(m.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,E)):(m.u="GET",m.g.ea(m.A,m.u,null,E)),Wr(),jc(m.i,m.u,m.A,m.l,m.R,m.m)}Wn.prototype.ca=function(m){m=m.target;const E=this.M;E&&Mi(m)==3?E.j():this.Y(m)},Wn.prototype.Y=function(m){try{if(m==this.g)e:{const dn=Mi(this.g);var E=this.g.Ba();const cr=this.g.Z();if(!(3>dn)&&(dn!=3||this.g&&(this.h.h||this.g.oa()||wf(this.g)))){this.J||dn!=4||E==7||(E==8||0>=cr?Wr(3):Wr(2)),Qr(this);var M=this.g.Z();this.X=M;t:if(mf(this)){var z=wf(this.g);m="";var Q=z.length,re=Mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){An(this),ps(this);var _e="";break t}this.h.i=new c.TextDecoder}for(E=0;E<Q;E++)this.h.h=!0,m+=this.h.i.decode(z[E],{stream:!(re&&E==Q-1)});z.length=0,this.h.g+=m,this.C=0,_e=this.h.g}else _e=this.g.oa();if(this.o=M==200,vg(this.i,this.u,this.A,this.l,this.R,dn,M),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,un=this.g;if((rt=un.g?un.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(rt)){var at=rt;break t}}at=null}if(M=at)Kr(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ja(this,M);else{this.o=!1,this.s=3,Pt(12),An(this),ps(this);break e}}if(this.P){M=!0;let Rn;for(;!this.J&&this.C<_e.length;)if(Rn=gf(this,_e),Rn==al){dn==4&&(this.s=4,Pt(14),M=!1),Kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==Fc){this.s=4,Pt(15),Kr(this.i,this.l,_e,"[Invalid Chunk]"),M=!1;break}else Kr(this.i,this.l,Rn,null),Ja(this,Rn);if(mf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dn!=4||_e.length!=0||this.h.h||(this.s=1,Pt(16),M=!1),this.o=this.o&&M,!M)Kr(this.i,this.l,_e,"[Invalid Chunked Response]"),An(this),ps(this);else if(0<_e.length&&!this.W){this.W=!0;var bn=this.j;bn.g==this&&bn.ba&&!bn.M&&(bn.j.info("Great, no buffering proxy detected. Bytes received: "+_e.length),uo(bn),bn.M=!0,Pt(11))}}else Kr(this.i,this.l,_e,null),Ja(this,_e);dn==4&&An(this),this.o&&!this.J&&(dn==4?Af(this.j,this):(this.o=!1,Za(this)))}else wg(this.g),M==400&&0<_e.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),An(this),ps(this)}}}catch{}finally{}};function mf(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function gf(m,E){var M=m.C,z=E.indexOf(`
`,M);return z==-1?al:(M=Number(E.substring(M,z)),isNaN(M)?Fc:(z+=1,z+M>E.length?al:(E=E.slice(z,z+M),m.C=z+M,E)))}Wn.prototype.cancel=function(){this.J=!0,An(this)};function Za(m){m.S=Date.now()+m.I,vf(m,m.I)}function vf(m,E){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Jt(b(m.ba,m),E)}function Qr(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Wn.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(pf(this.i,this.A),this.L!=2&&(Wr(),Pt(17)),An(this),this.s=2,ps(this)):vf(this,this.S-m)};function ps(m){m.j.G==0||m.J||Af(m.j,m)}function An(m){Qr(m);var E=m.M;E&&typeof E.ma=="function"&&E.ma(),m.M=null,Yi(m.U),m.g&&(E=m.g,m.g=null,E.abort(),E.ma())}function Ja(m,E){try{var M=m.j;if(M.G!=0&&(M.g==m||Uc(M.h,m))){if(!m.K&&Uc(M.h,m)&&M.G==3){try{var z=M.Da.g.parse(E)}catch{z=null}if(Array.isArray(z)&&z.length==3){var Q=z;if(Q[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<m.F)yl(M),gl(M);else break e;Xc(M),Pt(18)}}else M.za=Q[1],0<M.za-M.T&&37500>Q[2]&&M.F&&M.v==0&&!M.C&&(M.C=Jt(b(M.Za,M),6e3));if(1>=ll(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else lr(M,11)}else if((m.K||M.g==m)&&yl(M),!R(E))for(Q=M.Da.g.parse(E),E=0;E<Q.length;E++){let at=Q[E];if(M.T=at[0],at=at[1],M.G==2)if(at[0]=="c"){M.K=at[1],M.ia=at[2];const bn=at[3];bn!=null&&(M.la=bn,M.j.info("VER="+M.la));const dn=at[4];dn!=null&&(M.Aa=dn,M.j.info("SVER="+M.Aa));const cr=at[5];cr!=null&&typeof cr=="number"&&0<cr&&(z=1.5*cr,M.L=z,M.j.info("backChannelRequestTimeoutMs_="+z)),z=M;const Rn=m.g;if(Rn){const xs=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xs){var re=z.h;re.g||xs.indexOf("spdy")==-1&&xs.indexOf("quic")==-1&&xs.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(cl(re,re.h),re.h=null))}if(z.D){const Zc=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zc&&(z.ya=Zc,St(z.I,z.D,Zc))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-m.F,M.j.info("Handshake RTT: "+M.R+"ms")),z=M;var _e=m;if(z.qa=If(z,z.J?z.ia:null,z.W),_e.K){Kn(z.h,_e);var rt=_e,un=z.L;un&&(rt.I=un),rt.B&&(Qr(rt),Za(rt)),z.g=_e}else Tf(z);0<M.i.length&&vl(M)}else at[0]!="stop"&&at[0]!="close"||lr(M,7);else M.G==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?lr(M,7):Wc(M):at[0]!="noop"&&M.l&&M.l.ta(at),M.v=0)}}Wr(4)}catch{}}var yf=class{constructor(m,E){this.g=m,this.map=E}};function nr(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ol(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function ll(m){return m.h?1:m.g?m.g.size:0}function Uc(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function cl(m,E){m.g?m.g.add(E):m.h=E}function Kn(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}nr.prototype.cancel=function(){if(this.i=zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function zc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const M of m.g.values())E=E.concat(M.D);return E}return S(m.i)}function yg(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(u(m)){for(var E=[],M=m.length,z=0;z<M;z++)E.push(m[z]);return E}E=[],M=0;for(z in m)E[M++]=m[z];return E}function ul(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(u(m)||typeof m=="string"){var E=[];m=m.length;for(var M=0;M<m;M++)E.push(M);return E}E=[],M=0;for(const z in m)E[M++]=z;return E}}}function Bc(m,E){if(m.forEach&&typeof m.forEach=="function")m.forEach(E,void 0);else if(u(m)||typeof m=="string")Array.prototype.forEach.call(m,E,void 0);else for(var M=ul(m),z=yg(m),Q=z.length,re=0;re<Q;re++)E.call(void 0,z[re],M&&M[re],m)}var eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bg(m,E){if(m){m=m.split("&");for(var M=0;M<m.length;M++){var z=m[M].indexOf("="),Q=null;if(0<=z){var re=m[M].substring(0,z);Q=m[M].substring(z+1)}else re=m[M];E(re,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function en(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof en){this.h=m.h,to(this,m.j),this.o=m.o,this.g=m.g,Zr(this,m.s),this.l=m.l;var E=m.i,M=new sr;M.i=E.i,E.g&&(M.g=new Map(E.g),M.h=E.h),ir(this,M),this.m=m.m}else m&&(E=String(m).match(eo))?(this.h=!1,to(this,E[1]||"",!0),this.o=Ai(E[2]||""),this.g=Ai(E[3]||"",!0),Zr(this,E[4]),this.l=Ai(E[5]||"",!0),ir(this,E[6]||"",!0),this.m=Ai(E[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}en.prototype.toString=function(){var m=[],E=this.j;E&&m.push(io(E,Hc,!0),":");var M=this.g;return(M||E=="file")&&(m.push("//"),(E=this.o)&&m.push(io(E,Hc,!0),"@"),m.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&m.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&m.push("/"),m.push(io(M,M.charAt(0)=="/"?_g:$c,!0))),(M=this.i.toString())&&m.push("?",M),(M=this.m)&&m.push("#",io(M,dl)),m.join("")};function di(m){return new en(m)}function to(m,E,M){m.j=M?Ai(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function Zr(m,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);m.s=E}else m.s=null}function ir(m,E,M){E instanceof sr?(m.i=E,_f(m.i,m.h)):(M||(E=io(E,xg)),m.i=new sr(E,m.h))}function St(m,E,M){m.i.set(E,M)}function no(m){return St(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Ai(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function io(m,E,M){return typeof m=="string"?(m=encodeURI(m).replace(E,bf),M&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function bf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Hc=/[#\/\?@]/g,$c=/[#\?:]/g,_g=/[#\?]/g,xg=/[#\?@]/g,dl=/#/g;function sr(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function Ri(m){m.g||(m.g=new Map,m.h=0,m.i&&bg(m.i,function(E,M){m.add(decodeURIComponent(E.replace(/\+/g," ")),M)}))}n=sr.prototype,n.add=function(m,E){Ri(this),this.i=null,m=ms(this,m);var M=this.g.get(m);return M||this.g.set(m,M=[]),M.push(E),this.h+=1,this};function rr(m,E){Ri(m),E=ms(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function ar(m,E){return Ri(m),E=ms(m,E),m.g.has(E)}n.forEach=function(m,E){Ri(this),this.g.forEach(function(M,z){M.forEach(function(Q){m.call(E,Q,z,this)},this)},this)},n.na=function(){Ri(this);const m=Array.from(this.g.values()),E=Array.from(this.g.keys()),M=[];for(let z=0;z<E.length;z++){const Q=m[z];for(let re=0;re<Q.length;re++)M.push(E[z])}return M},n.V=function(m){Ri(this);let E=[];if(typeof m=="string")ar(this,m)&&(E=E.concat(this.g.get(ms(this,m))));else{m=Array.from(this.g.values());for(let M=0;M<m.length;M++)E=E.concat(m[M])}return E},n.set=function(m,E){return Ri(this),this.i=null,m=ms(this,m),ar(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=this.V(m),0<m.length?String(m[0]):E):E};function qc(m,E,M){rr(m,E),0<M.length&&(m.i=null,m.g.set(ms(m,E),S(M)),m.h+=M.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(var M=0;M<E.length;M++){var z=E[M];const re=encodeURIComponent(String(z)),_e=this.V(z);for(z=0;z<_e.length;z++){var Q=re;_e[z]!==""&&(Q+="="+encodeURIComponent(String(_e[z]))),m.push(Q)}}return this.i=m.join("&")};function ms(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function _f(m,E){E&&!m.j&&(Ri(m),m.i=null,m.g.forEach(function(M,z){var Q=z.toLowerCase();z!=Q&&(rr(this,z),qc(this,Q,M))},m)),m.j=E}function so(m,E){const M=new Ci;if(c.Image){const z=new Image;z.onload=x(Ii,M,"TestLoadImage: loaded",!0,E,z),z.onerror=x(Ii,M,"TestLoadImage: error",!1,E,z),z.onabort=x(Ii,M,"TestLoadImage: abort",!1,E,z),z.ontimeout=x(Ii,M,"TestLoadImage: timeout",!1,E,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=m}else E(!1)}function Ki(m,E){const M=new Ci,z=new AbortController,Q=setTimeout(()=>{z.abort(),Ii(M,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:z.signal}).then(re=>{clearTimeout(Q),re.ok?Ii(M,"TestPingServer: ok",!0,E):Ii(M,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),Ii(M,"TestPingServer: error",!1,E)})}function Ii(m,E,M,z,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),z(M)}catch{}}function ro(){this.g=new Qs}function gs(m,E,M){const z=M||"";try{Bc(m,function(Q,re){let _e=Q;f(Q)&&(_e=ui(Q)),E.push(z+re+"="+encodeURIComponent(_e))})}catch(Q){throw E.push(z+"type="+encodeURIComponent("_badmap")),Q}}function Jr(m){this.l=m.Ub||null,this.j=m.eb||!1}w(Jr,Gr),Jr.prototype.g=function(){return new or(this.l,this.j)},Jr.prototype.i=function(m){return function(){return m}}({});function or(m,E){we.call(this),this.D=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(or,we),n=or.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=E,this.readyState=1,ys(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(E.body=m),(this.D||c).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vs(this)),this.readyState=0},n.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}n.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?vs(this):ys(this),this.readyState==3&&Gc(this)}},n.Ra=function(m){this.g&&(this.response=this.responseText=m,vs(this))},n.Qa=function(m){this.g&&(this.response=m,vs(this))},n.ga=function(){this.g&&vs(this)};function vs(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ys(m)}n.setRequestHeader=function(m,E){this.u.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var M=E.next();!M.done;)M=M.value,m.push(M[0]+": "+M[1]),M=E.next();return m.join(`\r
`)};function ys(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Yc(m){let E="";return H(m,function(M,z){E+=z,E+=":",E+=M,E+=`\r
`}),E}function yn(m,E,M){e:{for(z in M){var z=!1;break e}z=!0}z||(M=Yc(M),typeof m=="string"?M!=null&&encodeURIComponent(String(M)):St(m,E,M))}function gt(m){we.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(gt,we);var fl=/^https?$/i,ao=["POST","PUT"];n=gt.prototype,n.Ha=function(m){this.J=m},n.ea=function(m,E,M,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fs.g(),this.v=this.o?Pc(this.o):Pc(fs),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(re){xf(this,re);return}if(m=M||"",M=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var Q in z)M.set(Q,z[Q]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const re of z.keys())M.set(re,z.get(re));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(M.keys()).find(re=>re.toLowerCase()=="content-type"),Q=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ao,E,void 0))||z||Q||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,_e]of M)this.g.setRequestHeader(re,_e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{oo(this),this.u=!0,this.g.send(m),this.u=!1}catch(re){xf(this,re)}};function xf(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.m=5,hl(m),bs(m)}function hl(m){m.A||(m.A=!0,Me(m,"complete"),Me(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Me(this,"complete"),Me(this,"abort"),bs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),gt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?pl(this):this.bb())},n.bb=function(){pl(this)};function pl(m){if(m.h&&typeof l<"u"&&(!m.v[1]||Mi(m)!=4||m.Z()!=2)){if(m.u&&Mi(m)==4)bt(m.Ea,0,m);else if(Me(m,"readystatechange"),Mi(m)==4){m.h=!1;try{const _e=m.Z();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var M;if(!(M=E)){var z;if(z=_e===0){var Q=String(m.D).match(eo)[1]||null;!Q&&c.self&&c.self.location&&(Q=c.self.location.protocol.slice(0,-1)),z=!fl.test(Q?Q.toLowerCase():"")}M=z}if(M)Me(m,"complete"),Me(m,"success");else{m.m=6;try{var re=2<Mi(m)?m.g.statusText:""}catch{re=""}m.l=re+" ["+m.Z()+"]",hl(m)}}finally{bs(m)}}}}function bs(m,E){if(m.g){oo(m);const M=m.g,z=m.v[0]?()=>{}:null;m.g=null,m.v=null,E||Me(m,"ready");try{M.onreadystatechange=z}catch{}}}function oo(m){m.I&&(c.clearTimeout(m.I),m.I=null)}n.isActive=function(){return!!this.g};function Mi(m){return m.g?m.g.readyState:0}n.Z=function(){try{return 2<Mi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Xs(E)}};function wf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function wg(m){const E={};m=(m.g&&2<=Mi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<m.length;z++){if(R(m[z]))continue;var M=U(m[z]);const Q=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const re=E[Q]||[];E[Q]=re,re.push(M)}D(E,function(z){return z.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lo(m,E,M){return M&&M.internalChannelParams&&M.internalChannelParams[m]||E}function ml(m){this.Aa=0,this.i=[],this.j=new Ci,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lo("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lo("baseRetryDelayMs",5e3,m),this.cb=lo("retryDelaySeedMs",1e4,m),this.Wa=lo("forwardChannelMaxRetries",2,m),this.wa=lo("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new nr(m&&m.concurrentRequestLimit),this.Da=new ro,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ml.prototype,n.la=8,n.G=1,n.connect=function(m,E,M,z){Pt(0),this.W=m,this.H=E||{},M&&z!==void 0&&(this.H.OSID=M,this.H.OAID=z),this.F=this.X,this.I=If(this,null,this.W),vl(this)};function Wc(m){if(Sf(m),m.G==3){var E=m.U++,M=di(m.I);if(St(M,"SID",m.K),St(M,"RID",E),St(M,"TYPE","terminate"),co(m,M),E=new Wn(m,m.j,E),E.L=2,E.v=no(di(M)),M=!1,c.navigator&&c.navigator.sendBeacon)try{M=c.navigator.sendBeacon(E.v.toString(),"")}catch{}!M&&c.Image&&(new Image().src=E.v,M=!0),M||(E.g=Mf(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Za(E)}Rf(m)}function gl(m){m.g&&(uo(m),m.g.cancel(),m.g=null)}function Sf(m){gl(m),m.u&&(c.clearTimeout(m.u),m.u=null),yl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function vl(m){if(!ol(m.h)&&!m.s){m.s=!0;var E=m.Ga;se||q(),ue||(se(),ue=!0),ye.add(E,m),m.B=0}}function Sg(m,E){return ll(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=E.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Jt(b(m.Ga,m,E),Qc(m,m.B)),m.B++,!0)}n.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Q=new Wn(this,this.j,m);let re=this.o;if(this.S&&(re?(re=O(re),L(re,this.S)):re=this.S),this.m!==null||this.O||(Q.H=re,re=null),this.P)e:{for(var E=0,M=0;M<this.i.length;M++){t:{var z=this.i[M];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(E+=z,4096<E){E=M;break e}if(E===4096||M===this.i.length-1){E=M+1;break e}}E=1e3}else E=1e3;E=Ef(this,Q,E),M=di(this.I),St(M,"RID",m),St(M,"CVER",22),this.D&&St(M,"X-HTTP-Session-Id",this.D),co(this,M),re&&(this.O?E="headers="+encodeURIComponent(String(Yc(re)))+"&"+E:this.m&&yn(M,this.m,re)),cl(this.h,Q),this.Ua&&St(M,"TYPE","init"),this.P?(St(M,"$req",E),St(M,"SID","null"),Q.T=!0,Wi(Q,M,null)):Wi(Q,M,E),this.G=2}}else this.G==3&&(m?Kc(this,m):this.i.length==0||ol(this.h)||Kc(this))};function Kc(m,E){var M;E?M=E.l:M=m.U++;const z=di(m.I);St(z,"SID",m.K),St(z,"RID",M),St(z,"AID",m.T),co(m,z),m.m&&m.o&&yn(z,m.m,m.o),M=new Wn(m,m.j,M,m.B+1),m.m===null&&(M.H=m.o),E&&(m.i=E.D.concat(m.i)),E=Ef(m,M,1e3),M.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),cl(m.h,M),Wi(M,z,E)}function co(m,E){m.H&&H(m.H,function(M,z){St(E,z,M)}),m.l&&Bc({},function(M,z){St(E,z,M)})}function Ef(m,E,M){M=Math.min(m.i.length,M);var z=m.l?b(m.l.Na,m.l,m):null;e:{var Q=m.i;let re=-1;for(;;){const _e=["count="+M];re==-1?0<M?(re=Q[0].g,_e.push("ofs="+re)):re=0:_e.push("ofs="+re);let rt=!0;for(let un=0;un<M;un++){let at=Q[un].g;const bn=Q[un].map;if(at-=re,0>at)re=Math.max(0,Q[un].g-100),rt=!1;else try{gs(bn,_e,"req"+at+"_")}catch{z&&z(bn)}}if(rt){z=_e.join("&");break e}}}return m=m.i.splice(0,M),E.D=m,z}function Tf(m){if(!m.g&&!m.u){m.Y=1;var E=m.Fa;se||q(),ue||(se(),ue=!0),ye.add(E,m),m.v=0}}function Xc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Jt(b(m.Fa,m),Qc(m,m.v)),m.v++,!0)}n.Fa=function(){if(this.u=null,Cf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Jt(b(this.ab,this),m)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),gl(this),Cf(this))};function uo(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Cf(m){m.g=new Wn(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var E=di(m.qa);St(E,"RID","rpc"),St(E,"SID",m.K),St(E,"AID",m.T),St(E,"CI",m.F?"0":"1"),!m.F&&m.ja&&St(E,"TO",m.ja),St(E,"TYPE","xmlhttp"),co(m,E),m.m&&m.o&&yn(E,m.m,m.o),m.L&&(m.g.I=m.L);var M=m.g;m=m.ia,M.L=1,M.v=no(di(E)),M.m=null,M.P=!0,tr(M,m)}n.Za=function(){this.C!=null&&(this.C=null,gl(this),Xc(this),Pt(19))};function yl(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Af(m,E){var M=null;if(m.g==E){yl(m),uo(m),m.g=null;var z=2}else if(Uc(m.h,E))M=E.D,Kn(m.h,E),z=1;else return;if(m.G!=0){if(E.o)if(z==1){M=E.m?E.m.length:0,E=Date.now()-E.F;var Q=m.B;z=Yr(),Me(z,new cn(z,M)),vl(m)}else Tf(m);else if(Q=E.s,Q==3||Q==0&&0<E.X||!(z==1&&Sg(m,E)||z==2&&Xc(m)))switch(M&&0<M.length&&(E=m.h,E.i=E.i.concat(M)),Q){case 1:lr(m,5);break;case 4:lr(m,10);break;case 3:lr(m,6);break;default:lr(m,2)}}}function Qc(m,E){let M=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(M*=2),M*E}function lr(m,E){if(m.j.info("Error code "+E),E==2){var M=b(m.fb,m),z=m.Xa;const Q=!z;z=new en(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||to(z,"https"),no(z),Q?so(z.toString(),M):Ki(z.toString(),M)}else Pt(2);m.G=0,m.l&&m.l.sa(E),Rf(m),Sf(m)}n.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function Rf(m){if(m.G=0,m.ka=[],m.l){const E=zc(m.h);(E.length!=0||m.i.length!=0)&&(T(m.ka,E),T(m.ka,m.i),m.h.i.length=0,S(m.i),m.i.length=0),m.l.ra()}}function If(m,E,M){var z=M instanceof en?di(M):new en(M);if(z.g!="")E&&(z.g=E+"."+z.g),Zr(z,z.s);else{var Q=c.location;z=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;var re=new en(null);z&&to(re,z),E&&(re.g=E),Q&&Zr(re,Q),M&&(re.l=M),z=re}return M=m.D,E=m.ya,M&&E&&St(z,M,E),St(z,"VER",m.la),co(m,z),z}function Mf(m,E,M){if(E&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Ca&&!m.pa?new gt(new Jr({eb:M})):new gt(m.pa),E.Ha(m.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Of(){}n=Of.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function bl(){}bl.prototype.g=function(m,E){return new Xn(m,E)};function Xn(m,E){we.call(this),this.g=new ml(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(m?m["X-WebChannel-Client-Profile"]=E.va:m={"X-WebChannel-Client-Profile":E.va}),this.g.S=m,(m=E&&E.Sb)&&!R(m)&&(this.g.m=m),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!R(E)&&(this.g.D=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new _s(this)}w(Xn,we),Xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xn.prototype.close=function(){Wc(this.g)},Xn.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var M={};M.__data__=m,m=M}else this.u&&(M={},M.__data__=ui(m),m=M);E.i.push(new yf(E.Ya++,m)),E.G==3&&vl(E)},Xn.prototype.N=function(){this.g.l=null,delete this.j,Wc(this.g),delete this.g,Xn.aa.N.call(this)};function Nf(m){Js.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const M in E){m=M;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}w(Nf,Js);function Df(){Lc.call(this),this.status=1}w(Df,Lc);function _s(m){this.g=m}w(_s,Of),_s.prototype.ua=function(){Me(this.g,"a")},_s.prototype.ta=function(m){Me(this.g,new Nf(m))},_s.prototype.sa=function(m){Me(this.g,new Df)},_s.prototype.ra=function(){Me(this.g,"b")},bl.prototype.createWebChannel=bl.prototype.g,Xn.prototype.send=Xn.prototype.o,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,YR=function(){return new bl},GR=function(){return Yr()},qR=ds,xb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,yp=Xr,er.COMPLETE="complete",$R=er,kc.EventType=Zs,Zs.OPEN="a",Zs.CLOSE="b",Zs.ERROR="c",Zs.MESSAGE="d",we.prototype.listen=we.prototype.K,ed=kc,gt.prototype.listenOnce=gt.prototype.L,gt.prototype.getLastError=gt.prototype.Ka,gt.prototype.getLastErrorCode=gt.prototype.Ba,gt.prototype.getStatus=gt.prototype.Z,gt.prototype.getResponseJson=gt.prototype.Oa,gt.prototype.getResponseText=gt.prototype.oa,gt.prototype.send=gt.prototype.ea,gt.prototype.setWithCredentials=gt.prototype.Ha,HR=gt}).apply(typeof Lh<"u"?Lh:typeof self<"u"?self:typeof window<"u"?window:{});const dT="@firebase/firestore",fT="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new E0("@firebase/firestore");function Zl(){return Go.logLevel}function Ae(n,...e){if(Go.logLevel<=nt.DEBUG){const t=e.map(j0);Go.debug(`Firestore (${Rc}): ${n}`,...t)}}function Ur(n,...e){if(Go.logLevel<=nt.ERROR){const t=e.map(j0);Go.error(`Firestore (${Rc}): ${n}`,...t)}}function fc(n,...e){if(Go.logLevel<=nt.WARN){const t=e.map(j0);Go.warn(`Firestore (${Rc}): ${n}`,...t)}}function j0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,WR(n,i,t)}function WR(n,e,t){let i=`FIRESTORE (${Rc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ur(i),new Error(i)}function yt(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||WR(e,s,i)}function qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends $s{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class c4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Hn.UNAUTHENTICATED))}shutdown(){}}class u4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class d4{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yt(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let r=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Pr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const u=r;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},c=u=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Pr)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt(typeof i.accessToken=="string",31837,{l:i}),new KR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string",2055,{h:e}),new Hn(e)}}class f4{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h4{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new f4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){yt(this.o===void 0,3512);const i=r=>{r.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const l=r.token!==this.m;return this.m=r.token,Ae("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>i(r))};const s=r=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new hT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(yt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new hT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=m4(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<t&&(i+=e.charAt(s[r]%62))}return i}}function Qe(n,e){return n<e?-1:n>e?1:0}function wb(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=n.codePointAt(t),s=e.codePointAt(t);if(i!==s){if(i<128&&s<128)return Qe(i,s);{const r=XR(),l=g4(r.encode(pT(n,t)),r.encode(pT(e,t)));return l!==0?l:Qe(i,s)}}t+=i>65535?2:1}return Qe(n.length,e.length)}function pT(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function g4(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Qe(n[t],e[t]);return Qe(n.length,e.length)}function hc(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=-62135596800,gT=1e6;class mn{static now(){return mn.fromMillis(Date.now())}static fromDate(e){return mn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*gT);return new mn(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Re(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Re(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<mT)throw new Re(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gT}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-mT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{static fromTimestamp(e){return new $e(e)}static min(){return new $e(new mn(0,0))}static max(){return new $e(new mn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="__name__";class Ms{constructor(e,t,i){t===void 0?t=0:t>e.length&&ze(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ze(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ms.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ms?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const r=Ms.compareSegments(e.get(s),t.get(s));if(r!==0)return r}return Qe(e.length,t.length)}static compareSegments(e,t){const i=Ms.isNumericId(e),s=Ms.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Ms.extractNumericId(e).compare(Ms.extractNumericId(t)):wb(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pa.fromString(e.substring(4,e.length-2))}}class Dt extends Ms{construct(e,t,i){return new Dt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Re(pe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Dt(t)}static emptyPath(){return new Dt([])}}const v4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Ms{construct(e,t,i){return new kn(e,t,i)}static isValidIdentifier(e){return v4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vT}static keyField(){return new kn([vT])}static fromServerFormat(e){const t=[];let i="",s=0;const r=()=>{if(i.length===0)throw new Re(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Re(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Re(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=u,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(i+=c,s++):(r(),s++)}if(r(),l)throw new Re(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(t)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Dt.fromString(e))}static fromName(e){return new ke(Dt.fromString(e).popFirst(5))}static empty(){return new ke(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Dt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad=-1;function y4(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=$e.fromTimestamp(i===1e9?new mn(t+1,0):new mn(t,i));return new ja(s,ke.empty(),e)}function b4(n){return new ja(n.readTime,n.key,Ad)}class ja{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ja($e.min(),ke.empty(),Ad)}static max(){return new ja($e.max(),ke.empty(),Ad)}}function _4(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(n){if(n.code!==pe.FAILED_PRECONDITION||n.message!==x4)throw n;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(t,r).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,i)=>{t(e)})}static reject(e){return new he((t,i)=>{i(e)})}static waitFor(e){return new he((t,i)=>{let s=0,r=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++r,l&&r===s&&t()},u=>i(u))}),l=!0,r===s&&t()})}static or(e){let t=he.resolve(!1);for(const i of e)t=t.next(s=>s?he.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,r)=>{i.push(t.call(this,s,r))}),this.waitFor(i)}static mapArray(e,t){return new he((i,s)=>{const r=e.length,l=new Array(r);let c=0;for(let u=0;u<r;u++){const f=u;t(e[f]).next(p=>{l[f]=p,++c,c===r&&i(l)},p=>s(p))}})}static doWhile(e,t){return new he((i,s)=>{const r=()=>{e()===!0?t().next(()=>{r()},s):i()};r()})}}function S4(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>t.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Um.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=-1;function zm(n){return n==null}function qp(n){return n===0&&1/n==-1/0}function E4(n){return typeof n=="number"&&Number.isInteger(n)&&!qp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR="";function T4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=yT(e)),e=C4(n.get(t),e);return yT(e)}function C4(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const r=n.charAt(s);switch(r){case"\0":t+="";break;case ZR:t+="";break;default:t+=r}}return t}function yT(n){return n+ZR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ya(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function JR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,t){this.comparator=e,this.root=t||Dn.EMPTY}insert(e,t){return new Ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dn.BLACK,null,null))}remove(e){return new Ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vh(this.root,e,this.comparator,!0)}}class Vh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?i(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dn{constructor(e,t,i,s,r){this.key=e,this.value=t,this.color=i??Dn.RED,this.left=s??Dn.EMPTY,this.right=r??Dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,r){return new Dn(e??this.key,t??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const r=i(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,i),null):r===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Dn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ze(27949);return e+(this.isRed()?0:1)}}Dn.EMPTY=null,Dn.RED=!0,Dn.BLACK=!1;Dn.EMPTY=new class{constructor(){this.size=0}get key(){throw ze(57766)}get value(){throw ze(16141)}get color(){throw ze(16727)}get left(){throw ze(29726)}get right(){throw ze(36894)}copy(e,t,i,s,r){return this}insert(e,t,i){return new Dn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.comparator=e,this.data=new Ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new _T(this.data.getIterator())}getIteratorFrom(e){return new _T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof gn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new gn(this.comparator);return t.data=e,t}}class _T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new Si([])}unionWith(e){let t=new gn(kn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Si(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return hc(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new eI("Invalid base64 string: "+r):r}}(e);return new Vn(t)}static fromUint8Array(e){const t=function(s){let r="";for(let l=0;l<s.length;++l)r+=String.fromCharCode(s[l]);return r}(e);return new Vn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const A4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(n){if(yt(!!n,39018),typeof n=="string"){let e=0;const t=A4.exec(n);if(yt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Kt(n.seconds),nanos:Kt(n.nanos)}}function Kt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ua(n){return typeof n=="string"?Vn.fromBase64String(n):Vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="server_timestamp",nI="__type__",iI="__previous_value__",sI="__local_write_time__";function U0(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[nI])===null||t===void 0?void 0:t.stringValue)===tI}function Bm(n){const e=n.mapValue.fields[iI];return U0(e)?Bm(e):e}function Rd(n){const e=Fa(n.mapValue.fields[sI].timestampValue);return new mn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e,t,i,s,r,l,c,u,f,p){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=f,this.isUsingEmulator=p}}const Gp="(default)";class Id{constructor(e,t){this.projectId=e,this.database=t||Gp}static empty(){return new Id("","")}get isDefaultDatabase(){return this.database===Gp}isEqual(e){return e instanceof Id&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="__type__",I4="__max__",jh={mapValue:{}},aI="__vector__",Yp="value";function za(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?U0(n)?4:O4(n)?9007199254740991:M4(n)?10:11:ze(28295,{value:n})}function Bs(n,e){if(n===e)return!0;const t=za(n);if(t!==za(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Rd(n).isEqual(Rd(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const l=Fa(s.timestampValue),c=Fa(r.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,r){return Ua(s.bytesValue).isEqual(Ua(r.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,r){return Kt(s.geoPointValue.latitude)===Kt(r.geoPointValue.latitude)&&Kt(s.geoPointValue.longitude)===Kt(r.geoPointValue.longitude)}(n,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Kt(s.integerValue)===Kt(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const l=Kt(s.doubleValue),c=Kt(r.doubleValue);return l===c?qp(l)===qp(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return hc(n.arrayValue.values||[],e.arrayValue.values||[],Bs);case 10:case 11:return function(s,r){const l=s.mapValue.fields||{},c=r.mapValue.fields||{};if(bT(l)!==bT(c))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(c[u]===void 0||!Bs(l[u],c[u])))return!1;return!0}(n,e);default:return ze(52216,{left:n})}}function Md(n,e){return(n.values||[]).find(t=>Bs(t,e))!==void 0}function pc(n,e){if(n===e)return 0;const t=za(n),i=za(e);if(t!==i)return Qe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return function(r,l){const c=Kt(r.integerValue||r.doubleValue),u=Kt(l.integerValue||l.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(n,e);case 3:return xT(n.timestampValue,e.timestampValue);case 4:return xT(Rd(n),Rd(e));case 5:return wb(n.stringValue,e.stringValue);case 6:return function(r,l){const c=Ua(r),u=Ua(l);return c.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(r,l){const c=r.split("/"),u=l.split("/");for(let f=0;f<c.length&&f<u.length;f++){const p=Qe(c[f],u[f]);if(p!==0)return p}return Qe(c.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,l){const c=Qe(Kt(r.latitude),Kt(l.latitude));return c!==0?c:Qe(Kt(r.longitude),Kt(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return wT(n.arrayValue,e.arrayValue);case 10:return function(r,l){var c,u,f,p;const g=r.fields||{},b=l.fields||{},x=(c=g[Yp])===null||c===void 0?void 0:c.arrayValue,w=(u=b[Yp])===null||u===void 0?void 0:u.arrayValue,S=Qe(((f=x==null?void 0:x.values)===null||f===void 0?void 0:f.length)||0,((p=w==null?void 0:w.values)===null||p===void 0?void 0:p.length)||0);return S!==0?S:wT(x,w)}(n.mapValue,e.mapValue);case 11:return function(r,l){if(r===jh.mapValue&&l===jh.mapValue)return 0;if(r===jh.mapValue)return 1;if(l===jh.mapValue)return-1;const c=r.fields||{},u=Object.keys(c),f=l.fields||{},p=Object.keys(f);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const b=wb(u[g],p[g]);if(b!==0)return b;const x=pc(c[u[g]],f[p[g]]);if(x!==0)return x}return Qe(u.length,p.length)}(n.mapValue,e.mapValue);default:throw ze(23264,{Pe:t})}}function xT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=Fa(n),i=Fa(e),s=Qe(t.seconds,i.seconds);return s!==0?s:Qe(t.nanos,i.nanos)}function wT(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const r=pc(t[s],i[s]);if(r)return r}return Qe(t.length,i.length)}function mc(n){return Sb(n)}function Sb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Fa(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ua(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const r of t.values||[])s?s=!1:i+=",",i+=Sb(r);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",r=!0;for(const l of i)r?r=!1:s+=",",s+=`${l}:${Sb(t.fields[l])}`;return s+"}"}(n.mapValue):ze(61005,{value:n})}function bp(n){switch(za(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bm(n);return e?16+bp(e):16;case 5:return 2*n.stringValue.length;case 6:return Ua(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,r)=>s+bp(r),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return Ya(i.fields,(r,l)=>{s+=r.length+bp(l)}),s}(n.mapValue);default:throw ze(13486,{value:n})}}function ST(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Eb(n){return!!n&&"integerValue"in n}function z0(n){return!!n&&"arrayValue"in n}function ET(n){return!!n&&"nullValue"in n}function TT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _p(n){return!!n&&"mapValue"in n}function M4(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[rI])===null||t===void 0?void 0:t.stringValue)===aI}function fd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ya(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=fd(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function O4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===I4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.value=e}static empty(){return new oi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!_p(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fd(t)}setAll(e){let t=kn.emptyPath(),i={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const u=this.getFieldsMap(t);this.applyChanges(u,i,s),i={},s=[],t=c.popLast()}l?i[c.lastSegment()]=fd(l):s.push(c.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,i,s)}delete(e){const t=this.field(e.popLast());_p(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];_p(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){Ya(t,(s,r)=>e[s]=r);for(const s of i)delete e[s]}clone(){return new oi(fd(this.value))}}function oI(n){const e=[];return Ya(n.fields,(t,i)=>{const s=new kn([t]);if(_p(i)){const r=oI(i.mapValue).fields;if(r.length===0)e.push(s);else for(const l of r)e.push(s.child(l))}else e.push(s)}),new Si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,t,i,s,r,l,c){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=r,this.data=l,this.documentState=c}static newInvalidDocument(e){return new $n(e,0,$e.min(),$e.min(),$e.min(),oi.empty(),0)}static newFoundDocument(e,t,i,s){return new $n(e,1,t,$e.min(),i,s,0)}static newNoDocument(e,t){return new $n(e,2,t,$e.min(),$e.min(),oi.empty(),0)}static newUnknownDocument(e,t){return new $n(e,3,t,$e.min(),$e.min(),oi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=oi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=oi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,t){this.position=e,this.inclusive=t}}function CT(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const r=e[s],l=n.position[s];if(r.field.isKeyField()?i=ke.comparator(ke.fromName(l.referenceValue),t.key):i=pc(l,t.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function AT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Bs(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t="asc"){this.field=e,this.dir=t}}function N4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{}class an extends lI{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new P4(e,t,i):t==="array-contains"?new V4(e,i):t==="in"?new j4(e,i):t==="not-in"?new F4(e,i):t==="array-contains-any"?new U4(e,i):new an(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new k4(e,i):new L4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(pc(t,this.value)):t!==null&&za(this.value)===za(t)&&this.matchesComparison(pc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class as extends lI{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new as(e,t)}matches(e){return cI(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function cI(n){return n.op==="and"}function uI(n){return D4(n)&&cI(n)}function D4(n){for(const e of n.filters)if(e instanceof as)return!1;return!0}function Tb(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+mc(n.value);if(uI(n))return n.filters.map(e=>Tb(e)).join(",");{const e=n.filters.map(t=>Tb(t)).join(",");return`${n.op}(${e})`}}function dI(n,e){return n instanceof an?function(i,s){return s instanceof an&&i.op===s.op&&i.field.isEqual(s.field)&&Bs(i.value,s.value)}(n,e):n instanceof as?function(i,s){return s instanceof as&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,l,c)=>r&&dI(l,s.filters[c]),!0):!1}(n,e):void ze(19439)}function fI(n){return n instanceof an?function(t){return`${t.field.canonicalString()} ${t.op} ${mc(t.value)}`}(n):n instanceof as?function(t){return t.op.toString()+" {"+t.getFilters().map(fI).join(" ,")+"}"}(n):"Filter"}class P4 extends an{constructor(e,t,i){super(e,t,i),this.key=ke.fromName(i.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class k4 extends an{constructor(e,t){super(e,"in",t),this.keys=hI("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class L4 extends an{constructor(e,t){super(e,"not-in",t),this.keys=hI("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hI(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ke.fromName(i.referenceValue))}class V4 extends an{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return z0(t)&&Md(t.arrayValue,this.value)}}class j4 extends an{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Md(this.value.arrayValue,t)}}class F4 extends an{constructor(e,t){super(e,"not-in",t)}matches(e){if(Md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Md(this.value.arrayValue,t)}}class U4 extends an{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!z0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Md(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t=null,i=[],s=[],r=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=l,this.endAt=c,this.Ie=null}}function RT(n,e=null,t=[],i=[],s=null,r=null,l=null){return new z4(n,e,t,i,s,r,l)}function B0(n){const e=qe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Tb(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),zm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>mc(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>mc(i)).join(",")),e.Ie=t}return e.Ie}function H0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!N4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!dI(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!AT(n.startAt,e.startAt)&&AT(n.endAt,e.endAt)}function Cb(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t=null,i=[],s=[],r=null,l="F",c=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=l,this.startAt=c,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function B4(n,e,t,i,s,r,l,c){return new ef(n,e,t,i,s,r,l,c)}function $0(n){return new ef(n)}function IT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pI(n){return n.collectionGroup!==null}function hd(n){const e=qe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const r of e.explicitOrderBy)e.Ee.push(r),t.add(r.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new gn(kn.comparator);return l.filters.forEach(u=>{u.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.Ee.push(new Kp(r,i))}),t.has(kn.keyField().canonicalString())||e.Ee.push(new Kp(kn.keyField(),i))}return e.Ee}function Fs(n){const e=qe(n);return e.de||(e.de=H4(e,hd(n))),e.de}function H4(n,e){if(n.limitType==="F")return RT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const r=s.dir==="desc"?"asc":"desc";return new Kp(s.field,r)});const t=n.endAt?new Wp(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Wp(n.startAt.position,n.startAt.inclusive):null;return RT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Ab(n,e){const t=n.filters.concat([e]);return new ef(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Xp(n,e,t){return new ef(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hm(n,e){return H0(Fs(n),Fs(e))&&n.limitType===e.limitType}function mI(n){return`${B0(Fs(n))}|lt:${n.limitType}`}function Jl(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>fI(s)).join(", ")}]`),zm(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>mc(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>mc(s)).join(",")),`Target(${i})`}(Fs(n))}; limitType=${n.limitType})`}function $m(n,e){return e.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):ke.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(n,e)&&function(i,s){for(const r of hd(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(l,c,u){const f=CT(l,c,u);return l.inclusive?f<=0:f<0}(i.startAt,hd(i),s)||i.endAt&&!function(l,c,u){const f=CT(l,c,u);return l.inclusive?f>=0:f>0}(i.endAt,hd(i),s))}(n,e)}function $4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function gI(n){return(e,t)=>{let i=!1;for(const s of hd(n)){const r=q4(s,e,t);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function q4(n,e,t){const i=n.field.isKeyField()?ke.comparator(e.key,t.key):function(r,l,c){const u=l.data.field(r),f=c.data.field(r);return u!==null&&f!==null?pc(u,f):ze(42886)}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ze(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(t,i)=>{for(const[s,r]of i)e(s,r)})}isEmpty(){return JR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=new Ft(ke.comparator);function zr(){return G4}const vI=new Ft(ke.comparator);function td(...n){let e=vI;for(const t of n)e=e.insert(t.key,t);return e}function yI(n){let e=vI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Lo(){return pd()}function bI(){return pd()}function pd(){return new el(n=>n.toString(),(n,e)=>n.isEqual(e))}const Y4=new Ft(ke.comparator),W4=new gn(ke.comparator);function it(...n){let e=W4;for(const t of n)e=e.add(t);return e}const K4=new gn(Qe);function X4(){return K4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qp(e)?"-0":e}}function _I(n){return{integerValue:""+n}}function xI(n,e){return E4(e)?_I(e):q0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this._=void 0}}function Q4(n,e,t){return n instanceof Od?function(s,r){const l={fields:{[nI]:{stringValue:tI},[sI]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&U0(r)&&(r=Bm(r)),r&&(l.fields[iI]=r),{mapValue:l}}(t,e):n instanceof Nd?SI(n,e):n instanceof Dd?EI(n,e):function(s,r){const l=wI(s,r),c=MT(l)+MT(s.Re);return Eb(l)&&Eb(s.Re)?_I(c):q0(s.serializer,c)}(n,e)}function Z4(n,e,t){return n instanceof Nd?SI(n,e):n instanceof Dd?EI(n,e):t}function wI(n,e){return n instanceof Pd?function(i){return Eb(i)||function(r){return!!r&&"doubleValue"in r}(i)}(e)?e:{integerValue:0}:null}class Od extends qm{}class Nd extends qm{constructor(e){super(),this.elements=e}}function SI(n,e){const t=TI(e);for(const i of n.elements)t.some(s=>Bs(s,i))||t.push(i);return{arrayValue:{values:t}}}class Dd extends qm{constructor(e){super(),this.elements=e}}function EI(n,e){let t=TI(e);for(const i of n.elements)t=t.filter(s=>!Bs(s,i));return{arrayValue:{values:t}}}class Pd extends qm{constructor(e,t){super(),this.serializer=e,this.Re=t}}function MT(n){return Kt(n.integerValue||n.doubleValue)}function TI(n){return z0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,t){this.field=e,this.transform=t}}function J4(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Nd&&s instanceof Nd||i instanceof Dd&&s instanceof Dd?hc(i.elements,s.elements,Bs):i instanceof Pd&&s instanceof Pd?Bs(i.Re,s.Re):i instanceof Od&&s instanceof Od}(n.transform,e.transform)}class e3{constructor(e,t){this.version=e,this.transformResults=t}}class zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Gm{}function AI(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new G0(n.key,zi.none()):new tf(n.key,n.data,zi.none());{const t=n.data,i=oi.empty();let s=new gn(kn.comparator);for(let r of e.fields)if(!s.has(r)){let l=t.field(r);l===null&&r.length>1&&(r=r.popLast(),l=t.field(r)),l===null?i.delete(r):i.set(r,l),s=s.add(r)}return new Wa(n.key,i,new Si(s.toArray()),zi.none())}}function t3(n,e,t){n instanceof tf?function(s,r,l){const c=s.value.clone(),u=NT(s.fieldTransforms,r,l.transformResults);c.setAll(u),r.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Wa?function(s,r,l){if(!xp(s.precondition,r))return void r.convertToUnknownDocument(l.version);const c=NT(s.fieldTransforms,r,l.transformResults),u=r.data;u.setAll(RI(s)),u.setAll(c),r.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):function(s,r,l){r.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function md(n,e,t,i){return n instanceof tf?function(r,l,c,u){if(!xp(r.precondition,l))return c;const f=r.value.clone(),p=DT(r.fieldTransforms,u,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,i):n instanceof Wa?function(r,l,c,u){if(!xp(r.precondition,l))return c;const f=DT(r.fieldTransforms,u,l),p=l.data;return p.setAll(RI(r)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(g=>g.field))}(n,e,t,i):function(r,l,c){return xp(r.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function n3(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),r=wI(i.transform,s||null);r!=null&&(t===null&&(t=oi.empty()),t.set(i.field,r))}return t||null}function OT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&hc(i,s,(r,l)=>J4(r,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tf extends Gm{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wa extends Gm{constructor(e,t,i,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function RI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function NT(n,e,t){const i=new Map;yt(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const r=n[s],l=r.transform,c=e.data.field(r.field);i.set(r.field,Z4(l,c,t[s]))}return i}function DT(n,e,t){const i=new Map;for(const s of n){const r=s.transform,l=t.data.field(s.field);i.set(s.field,Q4(r,l,e))}return i}class G0 extends Gm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class i3 extends Gm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(e.key)&&t3(r,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=md(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=md(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=bI();return this.mutations.forEach(s=>{const r=e.get(s.key),l=r.overlayedDocument;let c=this.applyToLocalView(l,r.mutatedFields);c=t.has(s.key)?null:c;const u=AI(l,c);u!==null&&i.set(s.key,u),l.isValidDocument()||l.convertToNoDocument($e.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),it())}isEqual(e){return this.batchId===e.batchId&&hc(this.mutations,e.mutations,(t,i)=>OT(t,i))&&hc(this.baseMutations,e.baseMutations,(t,i)=>OT(t,i))}}class Y0{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){yt(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let s=function(){return Y4}();const r=e.mutations;for(let l=0;l<r.length;l++)s=s.insert(r[l].key,i[l].version);return new Y0(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn,lt;function o3(n){switch(n){case pe.OK:return ze(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return ze(15467,{code:n})}}function II(n){if(n===void 0)return Ur("GRPC error has no .code"),pe.UNKNOWN;switch(n){case sn.OK:return pe.OK;case sn.CANCELLED:return pe.CANCELLED;case sn.UNKNOWN:return pe.UNKNOWN;case sn.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case sn.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case sn.INTERNAL:return pe.INTERNAL;case sn.UNAVAILABLE:return pe.UNAVAILABLE;case sn.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case sn.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case sn.NOT_FOUND:return pe.NOT_FOUND;case sn.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case sn.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case sn.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case sn.ABORTED:return pe.ABORTED;case sn.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case sn.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case sn.DATA_LOSS:return pe.DATA_LOSS;default:return ze(39323,{code:n})}}(lt=sn||(sn={}))[lt.OK=0]="OK",lt[lt.CANCELLED=1]="CANCELLED",lt[lt.UNKNOWN=2]="UNKNOWN",lt[lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",lt[lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",lt[lt.NOT_FOUND=5]="NOT_FOUND",lt[lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",lt[lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",lt[lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",lt[lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",lt[lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",lt[lt.ABORTED=10]="ABORTED",lt[lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",lt[lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",lt[lt.INTERNAL=13]="INTERNAL",lt[lt.UNAVAILABLE=14]="UNAVAILABLE",lt[lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=new Pa([4294967295,4294967295],0);function PT(n){const e=XR().encode(n),t=new BR;return t.update(e),new Uint8Array(t.digest())}function kT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Pa([t,i],0),new Pa([s,r],0)]}class W0{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new nd(`Invalid padding: ${t}`);if(i<0)throw new nd(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new nd(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new nd(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Pa.fromNumber(this.pe)}we(e,t,i){let s=e.add(t.multiply(Pa.fromNumber(i)));return s.compare(l3)===1&&(s=new Pa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=PT(e),[i,s]=kT(t);for(let r=0;r<this.hashCount;r++){const l=this.we(i,s,r);if(!this.Se(l))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),l=new W0(r,s,t);return i.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=PT(e),[i,s]=kT(t);for(let r=0;r<this.hashCount;r++){const l=this.we(i,s,r);this.be(l)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class nd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t,i,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,nf.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ym($e.min(),s,new Ft(Qe),zr(),it())}}class nf{constructor(e,t,i,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new nf(i,t,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t,i,s){this.De=e,this.removedTargetIds=t,this.key=i,this.ve=s}}class MI{constructor(e,t){this.targetId=e,this.Ce=t}}class OI{constructor(e,t,i=Vn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class LT{constructor(){this.Fe=0,this.Me=VT(),this.xe=Vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=it(),t=it(),i=it();return this.Me.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:ze(38017,{changeType:r})}}),new nf(this.xe,this.Oe,e,t,i)}Qe(){this.Ne=!1,this.Me=VT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,yt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class c3{constructor(e){this.ze=e,this.je=new Map,this.He=zr(),this.Je=Fh(),this.Ye=Fh(),this.Ze=new Ft(Qe)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const i=this.rt(t);switch(e.state){case 0:this.it(t)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(t);break;case 3:this.it(t)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),i.ke(e.resumeToken));break;default:ze(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((i,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,i=e.Ce.count,s=this._t(t);if(s){const r=s.target;if(Cb(r))if(i===0){const l=new ke(r.path);this.tt(t,l,$n.newNoDocument(l,$e.min()))}else yt(i===1,20013,{expectedCount:i});else{const l=this.ut(t);if(l!==i){const c=this.ct(e),u=c?this.lt(c,e,l):1;if(u!==0){this.st(t);const f=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,f)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:r=0}=t;let l,c;try{l=Ua(i).toUint8Array()}catch(u){if(u instanceof eI)return fc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{c=new W0(l,s,r)}catch(u){return fc(u instanceof nd?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return c.pe===0?null:c}lt(e,t,i){return t.Ce.count===i-this.Tt(e,t.targetId)?0:2}Tt(e,t){const i=this.ze.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${r.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,r,null),s++)}),s}It(e){const t=new Map;this.je.forEach((r,l)=>{const c=this._t(l);if(c){if(r.current&&Cb(c.target)){const u=new ke(c.target.path);this.Et(u).has(l)||this.dt(l,u)||this.tt(l,u,$n.newNoDocument(u,e))}r.Le&&(t.set(l,r.qe()),r.Qe())}});let i=it();this.Ye.forEach((r,l)=>{let c=!0;l.forEachWhile(u=>{const f=this._t(u);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(r))}),this.He.forEach((r,l)=>l.setReadTime(e));const s=new Ym(e,t,this.Ze,this.He,i);return this.He=zr(),this.Je=Fh(),this.Ye=Fh(),this.Ze=new Ft(Qe),s}et(e,t){if(!this.it(e))return;const i=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,i),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,i){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),i&&(this.He=this.He.insert(t,i))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new LT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new gn(Qe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new gn(Qe),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||Ae("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new LT),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Fh(){return new Ft(ke.comparator)}function VT(){return new Ft(ke.comparator)}const u3={asc:"ASCENDING",desc:"DESCENDING"},d3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},f3={and:"AND",or:"OR"};class h3{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Rb(n,e){return n.useProto3Json||zm(e)?e:{value:e}}function Qp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NI(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function p3(n,e){return Qp(n,e.toTimestamp())}function Us(n){return yt(!!n,49232),$e.fromTimestamp(function(t){const i=Fa(t);return new mn(i.seconds,i.nanos)}(n))}function K0(n,e){return Ib(n,e).canonicalString()}function Ib(n,e){const t=function(s){return new Dt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function DI(n){const e=Dt.fromString(n);return yt(jI(e),10190,{key:e.toString()}),e}function Mb(n,e){return K0(n.databaseId,e.path)}function Iy(n,e){const t=DI(e);if(t.get(1)!==n.databaseId.projectId)throw new Re(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Re(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(kI(t))}function PI(n,e){return K0(n.databaseId,e)}function m3(n){const e=DI(n);return e.length===4?Dt.emptyPath():kI(e)}function Ob(n){return new Dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kI(n){return yt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function jT(n,e,t){return{name:Mb(n,e),fields:t.value.mapValue.fields}}function g3(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:ze(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(f,p){return f.useProto3Json?(yt(p===void 0||typeof p=="string",58123),Vn.fromBase64String(p||"")):(yt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Vn.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?pe.UNKNOWN:II(f.code);return new Re(p,f.message||"")}(l);t=new OI(i,s,r,c||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Iy(n,i.document.name),r=Us(i.document.updateTime),l=i.document.createTime?Us(i.document.createTime):$e.min(),c=new oi({mapValue:{fields:i.document.fields}}),u=$n.newFoundDocument(s,r,l,c),f=i.targetIds||[],p=i.removedTargetIds||[];t=new wp(f,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Iy(n,i.document),r=i.readTime?Us(i.readTime):$e.min(),l=$n.newNoDocument(s,r),c=i.removedTargetIds||[];t=new wp([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Iy(n,i.document),r=i.removedTargetIds||[];t=new wp([],r,s,null)}else{if(!("filter"in e))return ze(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,l=new a3(s,r),c=i.targetId;t=new MI(c,l)}}return t}function v3(n,e){let t;if(e instanceof tf)t={update:jT(n,e.key,e.value)};else if(e instanceof G0)t={delete:Mb(n,e.key)};else if(e instanceof Wa)t={update:jT(n,e.key,e.data),updateMask:C3(e.fieldMask)};else{if(!(e instanceof i3))return ze(16599,{ft:e.type});t={verify:Mb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,l){const c=l.transform;if(c instanceof Od)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Nd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Dd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Pd)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw ze(20930,{transform:l.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:p3(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ze(27497)}(n,e.precondition)),t}function y3(n,e){return n&&n.length>0?(yt(e!==void 0,14353),n.map(t=>function(s,r){let l=s.updateTime?Us(s.updateTime):Us(r);return l.isEqual($e.min())&&(l=Us(r)),new e3(l,s.transformResults||[])}(t,e))):[]}function b3(n,e){return{documents:[PI(n,e.path)]}}function _3(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=PI(n,s);const r=function(f){if(f.length!==0)return VI(as.create(f,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const l=function(f){if(f.length!==0)return f.map(p=>function(b){return{field:ec(b.field),direction:S3(b.dir)}}(p))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Rb(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{gt:t,parent:s}}function x3(n){let e=m3(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){yt(i===1,65062);const p=t.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let r=[];t.where&&(r=function(g){const b=LI(g);return b instanceof as&&uI(b)?b.getFilters():[b]}(t.where));let l=[];t.orderBy&&(l=function(g){return g.map(b=>function(w){return new Kp(tc(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(b))}(t.orderBy));let c=null;t.limit&&(c=function(g){let b;return b=typeof g=="object"?g.value:g,zm(b)?null:b}(t.limit));let u=null;t.startAt&&(u=function(g){const b=!!g.before,x=g.values||[];return new Wp(x,b)}(t.startAt));let f=null;return t.endAt&&(f=function(g){const b=!g.before,x=g.values||[];return new Wp(x,b)}(t.endAt)),B4(e,s,l,r,c,"F",u,f)}function w3(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ze(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function LI(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=tc(t.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=tc(t.unaryFilter.field);return an.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=tc(t.unaryFilter.field);return an.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=tc(t.unaryFilter.field);return an.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ze(61313);default:return ze(60726)}}(n):n.fieldFilter!==void 0?function(t){return an.create(tc(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ze(58110);default:return ze(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return as.create(t.compositeFilter.filters.map(i=>LI(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ze(1026)}}(t.compositeFilter.op))}(n):ze(30097,{filter:n})}function S3(n){return u3[n]}function E3(n){return d3[n]}function T3(n){return f3[n]}function ec(n){return{fieldPath:n.canonicalString()}}function tc(n){return kn.fromServerFormat(n.fieldPath)}function VI(n){return n instanceof an?function(t){if(t.op==="=="){if(TT(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NAN"}};if(ET(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(TT(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NOT_NAN"}};if(ET(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ec(t.field),op:E3(t.op),value:t.value}}}(n):n instanceof as?function(t){const i=t.getFilters().map(s=>VI(s));return i.length===1?i[0]:{compositeFilter:{op:T3(t.op),filters:i}}}(n):ze(54877,{filter:n})}function C3(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jI(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t,i,s,r=$e.min(),l=$e.min(),c=Vn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=u}withSequenceNumber(e){return new Ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e){this.wt=e}}function R3(n){const e=x3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(){this.Cn=new M3}addToCollectionParentIndex(e,t){return this.Cn.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}deleteAllFieldIndexes(e){return he.resolve()}createTargetIndexes(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(ja.min())}updateCollectionGroup(e,t,i){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class M3{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new gn(Dt.comparator),r=!s.has(i);return this.index[t]=s.add(i),r}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new gn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FI=41943040;class ai{static withCacheSize(e){return new ai(e,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(FI,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new gc(0)}static lr(){return new gc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="LruGarbageCollector",O3=1048576;function zT([n,e],[t,i]){const s=Qe(n,t);return s===0?Qe(e,i):s}class N3{constructor(e){this.Er=e,this.buffer=new gn(zT),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();zT(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class D3{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ae(UT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mc(t)?Ae(UT,"Ignoring IndexedDB error during garbage collection: ",t):await Ic(t)}await this.mr(3e5)})}}class P3{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return he.resolve(Um.le);const i=new N3(t);return this.gr.forEachTarget(e,s=>i.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>i.Rr(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.gr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ae("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(FT)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FT):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let i,s,r,l,c,u,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(i=g,c=Date.now(),this.removeTargets(e,i,t))).next(g=>(r=g,u=Date.now(),this.removeOrphanedDocuments(e,i))).next(g=>(f=Date.now(),Zl()<=nt.DEBUG&&Ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${r} targets in `+(u-c)+`ms
	Removed ${g} documents in `+(f-u)+`ms
Total Duration: ${f-p}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:r,documentsRemoved:g})))}}function k3(n,e){return new P3(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.changes=new el(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?he.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j3{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&md(i.mutation,s,Si.empty(),mn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,it()).next(()=>i))}getLocalViewOfDocuments(e,t,i=it()){const s=Lo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(r=>{let l=td();return r.forEach((c,u)=>{l=l.insert(c,u.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=Lo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,it()))}populateOverlays(e,t,i){const s=[];return i.forEach(r=>{t.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,i,s){let r=zr();const l=pd(),c=function(){return pd()}();return t.forEach((u,f)=>{const p=i.get(f.key);s.has(f.key)&&(p===void 0||p.mutation instanceof Wa)?r=r.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),md(p.mutation,f,p.mutation.getFieldMask(),mn.now())):l.set(f.key,Si.empty())}),this.recalculateAndSaveOverlays(e,r).next(u=>(u.forEach((f,p)=>l.set(f,p)),t.forEach((f,p)=>{var g;return c.set(f,new V3(p,(g=l.get(f))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,t){const i=pd();let s=new Ft((l,c)=>l-c),r=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(u=>{const f=t.get(u);if(f===null)return;let p=i.get(u)||Si.empty();p=c.applyToLocalView(f,p),i.set(u,p);const g=(s.get(c.batchId)||it()).add(u);s=s.insert(c.batchId,g)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const u=c.getNext(),f=u.key,p=u.value,g=bI();p.forEach(b=>{if(!r.has(b)){const x=AI(t.get(b),i.get(b));x!==null&&g.set(b,x),r=r.add(b)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,g))}return he.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(l){return ke.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(r=>{const l=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-r.size):he.resolve(Lo());let c=Ad,u=r;return l.next(f=>he.forEach(f,(p,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),r.get(p)?he.resolve():this.remoteDocumentCache.getEntry(e,p).next(b=>{u=u.insert(p,b)}))).next(()=>this.populateOverlays(e,f,r)).next(()=>this.computeViews(e,u,f,it())).next(p=>({batchId:c,changes:yI(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(i=>{let s=td();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const r=t.collectionGroup;let l=td();return this.indexManager.getCollectionParents(e,r).next(c=>he.forEach(c,u=>{const f=function(g,b){return new ef(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(r));return this.getDocumentsMatchingCollectionQuery(e,f,i,s).next(p=>{p.forEach((g,b)=>{l=l.insert(g,b)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,i,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(l=>(r=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r,s))).next(l=>{r.forEach((u,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,$n.newInvalidDocument(p)))});let c=td();return l.forEach((u,f)=>{const p=r.get(u);p!==void 0&&md(p.mutation,f,Si.empty(),mn.now()),$m(t,f)&&(c=c.insert(u,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return he.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Us(s.createTime)}}(t)),he.resolve()}getNamedQuery(e,t){return he.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:R3(s.bundledQuery),readTime:Us(s.readTime)}}(t)),he.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(){this.overlays=new Ft(ke.comparator),this.Qr=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Lo();return he.forEach(t,s=>this.getOverlay(e,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,r)=>{this.bt(e,t,r)}),he.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Qr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Qr.delete(i)),he.resolve()}getOverlaysForCollection(e,t,i){const s=Lo(),r=t.length+1,l=new ke(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const u=c.getNext().value,f=u.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===r&&u.largestBatchId>i&&s.set(u.getKey(),u)}return he.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let r=new Ft((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>i){let p=r.get(f.largestBatchId);p===null&&(p=Lo(),r=r.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=Lo(),u=r.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=s)););return he.resolve(c)}bt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(i.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new r3(t,i));let r=this.Qr.get(t);r===void 0&&(r=it(),this.Qr.set(t,r)),this.Qr.set(t,r.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return he.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,he.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(){this.$r=new gn(Sn.Ur),this.Kr=new gn(Sn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const i=new Sn(e,t);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.zr(new Sn(e,t))}jr(e,t){e.forEach(i=>this.removeReference(i,t))}Hr(e){const t=new ke(new Dt([])),i=new Sn(t,e),s=new Sn(t,e+1),r=[];return this.Kr.forEachInRange([i,s],l=>{this.zr(l),r.push(l.key)}),r}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ke(new Dt([])),i=new Sn(t,e),s=new Sn(t,e+1);let r=it();return this.Kr.forEachInRange([i,s],l=>{r=r.add(l.key)}),r}containsKey(e){const t=new Sn(e,0),i=this.$r.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Sn{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ke.comparator(e.key,t.key)||Qe(e.Zr,t.Zr)}static Wr(e,t){return Qe(e.Zr,t.Zr)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new gn(Sn.Ur)}checkEmpty(e){return he.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const r=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new s3(r,t,i,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new Sn(c.key,r)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return he.resolve(l)}lookupMutationBatch(e,t){return he.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ti(i),r=s<0?0:s;return he.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(this.mutationQueue.length===0?F0:this.nr-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Sn(t,0),s=new Sn(t,Number.POSITIVE_INFINITY),r=[];return this.Xr.forEachInRange([i,s],l=>{const c=this.ei(l.Zr);r.push(c)}),he.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new gn(Qe);return t.forEach(s=>{const r=new Sn(s,0),l=new Sn(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([r,l],c=>{i=i.add(c.Zr)})}),he.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let r=i;ke.isDocumentKey(r)||(r=r.child(""));const l=new Sn(new ke(r),0);let c=new gn(Qe);return this.Xr.forEachWhile(u=>{const f=u.key.path;return!!i.isPrefixOf(f)&&(f.length===s&&(c=c.add(u.Zr)),!0)},l),he.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(i=>{const s=this.ei(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){yt(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return he.forEach(t.mutations,s=>{const r=new Sn(s.key,t.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,t){const i=new Sn(t,0),s=this.Xr.firstAfterOrEqual(i);return he.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,he.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e){this.ii=e,this.docs=function(){return new Ft(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),r=s?s.size:0,l=this.ii(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-r,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return he.resolve(i?i.document.mutableCopy():$n.newInvalidDocument(t))}getEntries(e,t){let i=zr();return t.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():$n.newInvalidDocument(s))}),he.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let r=zr();const l=t.path,c=new ke(l.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){const{key:f,value:{document:p}}=u.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||_4(b4(p),i)<=0||(s.has(p.key)||$m(t,p))&&(r=r.insert(p.key,p.mutableCopy()))}return he.resolve(r)}getAllFromCollectionGroup(e,t,i,s){ze(9500)}si(e,t){return he.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new $3(this)}getSize(e){return he.resolve(this.size)}}class $3 extends L3{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(i)}),he.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.persistence=e,this.oi=new el(t=>B0(t),H0),this.lastRemoteSnapshotVersion=$e.min(),this.highestTargetId=0,this._i=0,this.ai=new X0,this.targetCount=0,this.ui=gc.cr()}forEachTarget(e,t){return this.oi.forEach((i,s)=>t(s)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this._i&&(this._i=t),he.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new gc(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Tr(t),he.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,i){let s=0;const r=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=t&&i.get(c.targetId)===null&&(this.oi.delete(l),r.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),he.waitFor(r).next(()=>s)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const i=this.oi.get(t)||null;return he.resolve(i)}addMatchingKeys(e,t,i){return this.ai.Gr(t,i),he.resolve()}removeMatchingKeys(e,t,i){this.ai.jr(t,i);const s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(l=>{r.push(s.markPotentiallyOrphaned(e,l))}),he.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),he.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ai.Yr(t);return he.resolve(i)}containsKey(e,t){return he.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t){this.ci={},this.overlays={},this.li=new Um(0),this.hi=!1,this.hi=!0,this.Pi=new z3,this.referenceDelegate=e(this),this.Ti=new q3(this),this.indexManager=new I3,this.remoteDocumentCache=function(s){return new H3(s)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new A3(t),this.Ei=new F3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new U3,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ci[e.toKey()];return i||(i=new B3(t,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,i){Ae("MemoryPersistence","Starting transaction:",e);const s=new G3(this.li.next());return this.referenceDelegate.di(),i(s).next(r=>this.referenceDelegate.Ai(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ri(e,t){return he.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,t)))}}class G3 extends w4{constructor(e){super(),this.currentSequenceNumber=e}}class Q0{constructor(e){this.persistence=e,this.Vi=new X0,this.mi=null}static fi(e){return new Q0(e)}get gi(){if(this.mi)return this.mi;throw ze(60996)}addReference(e,t,i){return this.Vi.addReference(i,t),this.gi.delete(i.toString()),he.resolve()}removeReference(e,t,i){return this.Vi.removeReference(i,t),this.gi.add(i.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(r=>this.gi.add(r.toString()))}).next(()=>i.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.gi,i=>{const s=ke.fromPath(i);return this.pi(e,s).next(r=>{r||t.removeEntry(s,$e.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(i=>{i?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return he.or([()=>he.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Zp{constructor(e,t){this.persistence=e,this.yi=new el(i=>T4(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=k3(this,t)}static fi(e,t){return new Zp(e,t)}di(){}Ai(e){return he.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}Sr(e){let t=0;return this.yr(e,i=>{t++}).next(()=>t)}yr(e,t){return he.forEach(this.yi,(i,s)=>this.Dr(e,i,s).next(r=>r?he.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),r=s.newChangeBuffer();return s.si(e,l=>this.Dr(e,l,t).next(c=>{c||(i++,r.removeEntry(l,$e.min()))})).next(()=>r.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),he.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),he.resolve()}removeReference(e,t,i){return this.yi.set(i,e.currentSequenceNumber),he.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),he.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=bp(e.data.value)),t}Dr(e,t,i){return he.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return he.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.ds=i,this.As=s}static Rs(e,t){let i=it(),s=it();for(const r of t.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Z0(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return xk()?8:S4(Yn())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,i,s){const r={result:null};return this.ws(e,t).next(l=>{r.result=l}).next(()=>{if(!r.result)return this.Ss(e,t,s,i).next(l=>{r.result=l})}).next(()=>{if(r.result)return;const l=new Y3;return this.bs(e,t,l).next(c=>{if(r.result=c,this.fs)return this.Ds(e,t,l,c.size)})}).next(()=>r.result)}Ds(e,t,i,s){return i.documentReadCount<this.gs?(Zl()<=nt.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",Jl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),he.resolve()):(Zl()<=nt.DEBUG&&Ae("QueryEngine","Query:",Jl(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ps*s?(Zl()<=nt.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",Jl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fs(t))):he.resolve())}ws(e,t){if(IT(t))return he.resolve(null);let i=Fs(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Xp(t,null,"F"),i=Fs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(r=>{const l=it(...r);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,i).next(u=>{const f=this.vs(t,c);return this.Cs(t,f,l,u.readTime)?this.ws(e,Xp(t,null,"F")):this.Fs(e,f,t,u)}))})))}Ss(e,t,i,s){return IT(t)||s.isEqual($e.min())?he.resolve(null):this.ys.getDocuments(e,i).next(r=>{const l=this.vs(t,r);return this.Cs(t,l,i,s)?he.resolve(null):(Zl()<=nt.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Jl(t)),this.Fs(e,l,t,y4(s,Ad)).next(c=>c))})}vs(e,t){let i=new gn(gI(e));return t.forEach((s,r)=>{$m(e,r)&&(i=i.add(r))}),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}bs(e,t,i){return Zl()<=nt.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",Jl(t)),this.ys.getDocumentsMatchingQuery(e,t,ja.min(),i)}Fs(e,t,i,s){return this.ys.getDocumentsMatchingQuery(e,i,s).next(r=>(t.forEach(l=>{r=r.insert(l.key,l)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="LocalStore",K3=3e8;class X3{constructor(e,t,i,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new Ft(Qe),this.Os=new el(r=>B0(r),H0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j3(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function Q3(n,e,t,i){return new X3(n,e,t,i)}async function zI(n,e){const t=qe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,t.Ls(e),t.mutationQueue.getAllMutationBatches(i))).next(r=>{const l=[],c=[];let u=it();for(const f of s){l.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}for(const f of r){c.push(f.batchId);for(const p of f.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(i,u).next(f=>({ks:f,removedBatchIds:l,addedBatchIds:c}))})})}function Z3(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),r=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,u,f,p){const g=f.batch,b=g.keys();let x=he.resolve();return b.forEach(w=>{x=x.next(()=>p.getEntry(u,w)).next(S=>{const T=f.docVersions.get(w);yt(T!==null,48541),S.version.compareTo(T)<0&&(g.applyToRemoteDocument(S,f),S.isValidDocument()&&(S.setReadTime(f.commitVersion),p.addEntry(S)))})}),x.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(t,i,e,r).next(()=>r.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let u=it();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(u=u.add(c.batch.mutations[f].key));return u}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function BI(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function J3(n,e){const t=qe(n),i=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const c=[];e.targetChanges.forEach((p,g)=>{const b=s.get(g);if(!b)return;c.push(t.Ti.removeMatchingKeys(r,p.removedDocuments,g).next(()=>t.Ti.addMatchingKeys(r,p.addedDocuments,g)));let x=b.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(g)!==null?x=x.withResumeToken(Vn.EMPTY_BYTE_STRING,$e.min()).withLastLimboFreeSnapshotVersion($e.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,i)),s=s.insert(g,x),function(S,T,C){return S.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=K3?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(b,x,p)&&c.push(t.Ti.updateTargetData(r,x))});let u=zr(),f=it();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(r,p))}),c.push(e6(r,l,e.documentUpdates).next(p=>{u=p.qs,f=p.Qs})),!i.isEqual($e.min())){const p=t.Ti.getLastRemoteSnapshotVersion(r).next(g=>t.Ti.setTargetsMetadata(r,r.currentSequenceNumber,i));c.push(p)}return he.waitFor(c).next(()=>l.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,u,f)).next(()=>u)}).then(r=>(t.xs=s,r))}function e6(n,e,t){let i=it(),s=it();return t.forEach(r=>i=i.add(r)),e.getEntries(n,i).next(r=>{let l=zr();return t.forEach((c,u)=>{const f=r.get(c);u.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(c)),u.isNoDocument()&&u.version.isEqual($e.min())?(e.removeEntry(c,u.readTime),l=l.insert(c,u)):!f.isValidDocument()||u.version.compareTo(f.version)>0||u.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(u),l=l.insert(c,u)):Ae(J0,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",u.version)}),{qs:l,Qs:s}})}function t6(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=F0),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function n6(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Ti.getTargetData(i,e).next(r=>r?(s=r,he.resolve(s)):t.Ti.allocateTargetId(i).next(l=>(s=new Ia(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Ti.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.xs.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(i.targetId,i),t.Os.set(e,i.targetId)),i})}async function Nb(n,e,t){const i=qe(n),s=i.xs.get(e),r=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",r,l=>i.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Mc(l))throw l;Ae(J0,`Failed to update sequence numbers for target ${e}: ${l}`)}i.xs=i.xs.remove(e),i.Os.delete(s.target)}function BT(n,e,t){const i=qe(n);let s=$e.min(),r=it();return i.persistence.runTransaction("Execute query","readwrite",l=>function(u,f,p){const g=qe(u),b=g.Os.get(p);return b!==void 0?he.resolve(g.xs.get(b)):g.Ti.getTargetData(f,p)}(i,l,Fs(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(l,c.targetId).next(u=>{r=u})}).next(()=>i.Ms.getDocumentsMatchingQuery(l,e,t?s:$e.min(),t?r:it())).next(c=>(i6(i,$4(e),c),{documents:c,$s:r})))}function i6(n,e,t){let i=n.Ns.get(e)||$e.min();t.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),n.Ns.set(e,i)}class HT{constructor(){this.activeTargetIds=X4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s6{constructor(){this.xo=new HT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,i){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new HT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="ConnectivityMonitor";class qT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ae($T,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ae($T,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=null;function Db(){return Uh===null?Uh=function(){return 268435456+Math.round(2147483648*Math.random())}():Uh++,"0x"+Uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="RestConnection",a6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class o6{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${i}/databases/${s}`,this.Go=this.databaseId.database===Gp?`project_id=${i}`:`project_id=${i}&database_id=${s}`}zo(e,t,i,s,r){const l=Db(),c=this.jo(e,t.toUriEncodedString());Ae(My,`Sending RPC '${e}' ${l}:`,c,i);const u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,s,r);const{host:f}=new URL(c),p=Cc(f);return this.Jo(e,c,u,i,p).then(g=>(Ae(My,`Received RPC '${e}' ${l}: `,g),g),g=>{throw fc(My,`RPC '${e}' ${l} failed with error: `,g,"url: ",c,"request:",i),g})}Yo(e,t,i,s,r,l){return this.zo(e,t,i,s,r)}Ho(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,r)=>e[r]=s),i&&i.headers.forEach((s,r)=>e[r]=s)}jo(e,t){const i=a6[e];return`${this.Ko}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class c6 extends o6{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,r){const l=Db();return new Promise((c,u)=>{const f=new HR;f.setWithCredentials(!0),f.listenOnce($R.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case yp.NO_ERROR:const g=f.getResponseJson();Ae(zn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),c(g);break;case yp.TIMEOUT:Ae(zn,`RPC '${e}' ${l} timed out`),u(new Re(pe.DEADLINE_EXCEEDED,"Request time out"));break;case yp.HTTP_ERROR:const b=f.getStatus();if(Ae(zn,`RPC '${e}' ${l} failed with status:`,b,"response text:",f.getResponseText()),b>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x==null?void 0:x.error;if(w&&w.status&&w.message){const S=function(C){const R=C.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(R)>=0?R:pe.UNKNOWN}(w.status);u(new Re(S,w.message))}else u(new Re(pe.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new Re(pe.UNAVAILABLE,"Connection failed."));break;default:ze(9055,{l_:e,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ae(zn,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);Ae(zn,`RPC '${e}' ${l} sending request:`,s),f.send(t,"POST",p,i,15)})}T_(e,t,i){const s=Db(),r=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=YR(),c=GR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(u.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,i),u.encodeInitMessageHeaders=!0;const p=r.join("");Ae(zn,`Creating RPC '${e}' stream ${s}: ${p}`,u);const g=l.createWebChannel(p,u);let b=!1,x=!1;const w=new l6({Zo:T=>{x?Ae(zn,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(b||(Ae(zn,`Opening RPC '${e}' stream ${s} transport.`),g.open(),b=!0),Ae(zn,`RPC '${e}' stream ${s} sending:`,T),g.send(T))},Xo:()=>g.close()}),S=(T,C,R)=>{T.listen(C,A=>{try{R(A)}catch(V){setTimeout(()=>{throw V},0)}})};return S(g,ed.EventType.OPEN,()=>{x||(Ae(zn,`RPC '${e}' stream ${s} transport opened.`),w.__())}),S(g,ed.EventType.CLOSE,()=>{x||(x=!0,Ae(zn,`RPC '${e}' stream ${s} transport closed`),w.u_())}),S(g,ed.EventType.ERROR,T=>{x||(x=!0,fc(zn,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),w.u_(new Re(pe.UNAVAILABLE,"The operation could not be completed")))}),S(g,ed.EventType.MESSAGE,T=>{var C;if(!x){const R=T.data[0];yt(!!R,16349);const A=R,V=(A==null?void 0:A.error)||((C=A[0])===null||C===void 0?void 0:C.error);if(V){Ae(zn,`RPC '${e}' stream ${s} received error:`,V);const I=V.status;let H=function(N){const L=sn[N];if(L!==void 0)return II(L)}(I),D=V.message;H===void 0&&(H=pe.INTERNAL,D="Unknown error status: "+I+" with message "+V.message),x=!0,w.u_(new Re(H,D)),g.close()}else Ae(zn,`RPC '${e}' stream ${s} received:`,R),w.c_(R)}}),S(c,qR.STAT_EVENT,T=>{T.stat===xb.PROXY?Ae(zn,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===xb.NOPROXY&&Ae(zn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.a_()},0),w}}function Oy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n){return new h3(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t,i=1e3,s=1.5,r=6e4){this.xi=e,this.timerId=t,this.I_=i,this.E_=s,this.d_=r,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),i=Math.max(0,Date.now()-this.V_),s=Math.max(0,t-i);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="PersistentStream";class $I{constructor(e,t,i,s,r,l,c,u){this.xi=e,this.y_=i,this.w_=s,this.connection=r,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new HI(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===pe.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.S_===t&&this.K_(i,s)},i=>{e(()=>{const s=new Re(pe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.W_(s)})})}K_(e,t){const i=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{i(()=>this.W_(s))}),this.stream.onMessage(s=>{i(()=>++this.v_==1?this.z_(s):this.onNext(s))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Ae(GT,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(Ae(GT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u6 extends $I{constructor(e,t,i,s,r,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,l),this.serializer=r}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=g3(this.serializer,e),i=function(r){if(!("targetChange"in r))return $e.min();const l=r.targetChange;return l.targetIds&&l.targetIds.length?$e.min():l.readTime?Us(l.readTime):$e.min()}(e);return this.listener.j_(t,i)}H_(e){const t={};t.database=Ob(this.serializer),t.addTarget=function(r,l){let c;const u=l.target;if(c=Cb(u)?{documents:b3(r,u)}:{query:_3(r,u).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=NI(r,l.resumeToken);const f=Rb(r,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo($e.min())>0){c.readTime=Qp(r,l.snapshotVersion.toTimestamp());const f=Rb(r,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const i=w3(this.serializer,e);i&&(t.labels=i),this.L_(t)}J_(e){const t={};t.database=Ob(this.serializer),t.removeTarget=e,this.L_(t)}}class d6 extends $I{constructor(e,t,i,s,r,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,l),this.serializer=r}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return yt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){yt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=y3(e.writeResults,e.commitTime),i=Us(e.commitTime);return this.listener.ea(i,t)}ta(){const e={};e.database=Ob(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>v3(this.serializer,i))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{}class h6 extends f6{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.na=!1}ra(){if(this.na)throw new Re(pe.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,l])=>this.connection.zo(e,Ib(t,i),s,r,l)).catch(r=>{throw r.name==="FirebaseError"?(r.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Re(pe.UNKNOWN,r.toString())})}Yo(e,t,i,s,r){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,Ib(t,i),s,l,c,r)).catch(l=>{throw l.name==="FirebaseError"?(l.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(pe.UNKNOWN,l.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class p6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ur(t),this.oa=!1):Ae("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="RemoteStore";class m6{constructor(e,t,i,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=r,this.Ea.No(l=>{i.enqueueAndForget(async()=>{tl(this)&&(Ae(Yo,"Restarting streams for network reachability change."),await async function(u){const f=qe(u);f.Ta.add(4),await sf(f),f.da.set("Unknown"),f.Ta.delete(4),await Km(f)}(this))})}),this.da=new p6(i,s)}}async function Km(n){if(tl(n))for(const e of n.Ia)await e(!0)}async function sf(n){for(const e of n.Ia)await e(!1)}function qI(n,e){const t=qe(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),i_(t)?n_(t):Oc(t).M_()&&t_(t,e))}function e_(n,e){const t=qe(n),i=Oc(t);t.Pa.delete(e),i.M_()&&GI(t,e),t.Pa.size===0&&(i.M_()?i.N_():tl(t)&&t.da.set("Unknown"))}function t_(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo($e.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oc(n).H_(e)}function GI(n,e){n.Aa.Ke(e),Oc(n).J_(e)}function n_(n){n.Aa=new c3({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Oc(n).start(),n.da._a()}function i_(n){return tl(n)&&!Oc(n).F_()&&n.Pa.size>0}function tl(n){return qe(n).Ta.size===0}function YI(n){n.Aa=void 0}async function g6(n){n.da.set("Online")}async function v6(n){n.Pa.forEach((e,t)=>{t_(n,e)})}async function y6(n,e){YI(n),i_(n)?(n.da.ca(e),n_(n)):n.da.set("Unknown")}async function b6(n,e,t){if(n.da.set("Online"),e instanceof OI&&e.state===2&&e.cause)try{await async function(s,r){const l=r.cause;for(const c of r.targetIds)s.Pa.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Pa.delete(c),s.Aa.removeTarget(c))}(n,e)}catch(i){Ae(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Jp(n,i)}else if(e instanceof wp?n.Aa.Xe(e):e instanceof MI?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual($e.min()))try{const i=await BI(n.localStore);t.compareTo(i)>=0&&await function(r,l){const c=r.Aa.It(l);return c.targetChanges.forEach((u,f)=>{if(u.resumeToken.approximateByteSize()>0){const p=r.Pa.get(f);p&&r.Pa.set(f,p.withResumeToken(u.resumeToken,l))}}),c.targetMismatches.forEach((u,f)=>{const p=r.Pa.get(u);if(!p)return;r.Pa.set(u,p.withResumeToken(Vn.EMPTY_BYTE_STRING,p.snapshotVersion)),GI(r,u);const g=new Ia(p.target,u,f,p.sequenceNumber);t_(r,g)}),r.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(i){Ae(Yo,"Failed to raise snapshot:",i),await Jp(n,i)}}async function Jp(n,e,t){if(!Mc(e))throw e;n.Ta.add(1),await sf(n),n.da.set("Offline"),t||(t=()=>BI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Ae(Yo,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await Km(n)})}function WI(n,e){return e().catch(t=>Jp(n,t,e))}async function Xm(n){const e=qe(n),t=Ba(e);let i=e.ha.length>0?e.ha[e.ha.length-1].batchId:F0;for(;_6(e);)try{const s=await t6(e.localStore,i);if(s===null){e.ha.length===0&&t.N_();break}i=s.batchId,x6(e,s)}catch(s){await Jp(e,s)}KI(e)&&XI(e)}function _6(n){return tl(n)&&n.ha.length<10}function x6(n,e){n.ha.push(e);const t=Ba(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function KI(n){return tl(n)&&!Ba(n).F_()&&n.ha.length>0}function XI(n){Ba(n).start()}async function w6(n){Ba(n).ta()}async function S6(n){const e=Ba(n);for(const t of n.ha)e.Z_(t.mutations)}async function E6(n,e,t){const i=n.ha.shift(),s=Y0.from(i,e,t);await WI(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Xm(n)}async function T6(n,e){e&&Ba(n).Y_&&await async function(i,s){if(function(l){return o3(l)&&l!==pe.ABORTED}(s.code)){const r=i.ha.shift();Ba(i).O_(),await WI(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Xm(i)}}(n,e),KI(n)&&XI(n)}async function YT(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Ae(Yo,"RemoteStore received new credentials");const i=tl(t);t.Ta.add(3),await sf(t),i&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Km(t)}async function C6(n,e){const t=qe(n);e?(t.Ta.delete(2),await Km(t)):e||(t.Ta.add(2),await sf(t),t.da.set("Unknown"))}function Oc(n){return n.Ra||(n.Ra=function(t,i,s){const r=qe(t);return r.ra(),new u6(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{e_:g6.bind(null,n),n_:v6.bind(null,n),i_:y6.bind(null,n),j_:b6.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),i_(n)?n_(n):n.da.set("Unknown")):(await n.Ra.stop(),YI(n))})),n.Ra}function Ba(n){return n.Va||(n.Va=function(t,i,s){const r=qe(t);return r.ra(),new d6(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:w6.bind(null,n),i_:T6.bind(null,n),X_:S6.bind(null,n),ea:E6.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await Xm(n)):(await n.Va.stop(),n.ha.length>0&&(Ae(Yo,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e,t,i,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,r){const l=Date.now()+i,c=new s_(e,t,l,s,r);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r_(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),Mc(n))return new Re(pe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{static emptySet(e){return new oc(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ke.comparator(t.key,i.key):(t,i)=>ke.comparator(t.key,i.key),this.keyedMap=td(),this.sortedSet=new Ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof oc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new oc;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.ma=new Ft(ke.comparator)}track(e){const t=e.doc.key,i=this.ma.get(t);i?e.type!==0&&i.type===3?this.ma=this.ma.insert(t,e):e.type===3&&i.type!==1?this.ma=this.ma.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ma=this.ma.remove(t):e.type===1&&i.type===2?this.ma=this.ma.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):ze(63341,{Vt:e,fa:i}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,i)=>{e.push(i)}),e}}class vc{constructor(e,t,i,s,r,l,c,u,f){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=u,this.hasCachedResults=f}static fromInitialDocuments(e,t,i,s,r){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new vc(e,t,oc.emptySet(t),l,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class R6{constructor(){this.queries=KT(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,i){const s=qe(t),r=s.queries;s.queries=KT(),r.forEach((l,c)=>{for(const u of c.ya)u.onError(i)})})(this,new Re(pe.ABORTED,"Firestore shutting down"))}}function KT(){return new el(n=>mI(n),Hm)}async function QI(n,e){const t=qe(n);let i=3;const s=e.query;let r=t.queries.get(s);r?!r.wa()&&e.Sa()&&(i=2):(r=new A6,i=e.Sa()?0:1);try{switch(i){case 0:r.pa=await t.onListen(s,!0);break;case 1:r.pa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=r_(l,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,r),r.ya.push(e),e.Da(t.onlineState),r.pa&&e.va(r.pa)&&a_(t)}async function ZI(n,e){const t=qe(n),i=e.query;let s=3;const r=t.queries.get(i);if(r){const l=r.ya.indexOf(e);l>=0&&(r.ya.splice(l,1),r.ya.length===0?s=e.Sa()?0:1:!r.wa()&&e.Sa()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function I6(n,e){const t=qe(n);let i=!1;for(const s of e){const r=s.query,l=t.queries.get(r);if(l){for(const c of l.ya)c.va(s)&&(i=!0);l.pa=s}}i&&a_(t)}function M6(n,e,t){const i=qe(n),s=i.queries.get(e);if(s)for(const r of s.ya)r.onError(t);i.queries.delete(e)}function a_(n){n.ba.forEach(e=>{e.next()})}var Pb,XT;(XT=Pb||(Pb={})).Ca="default",XT.Cache="cache";class JI{constructor(e,t,i){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=i||{}}va(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new vc(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const i=t!=="Offline";return(!this.options.La||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=vc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Pb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.key=e}}class t2{constructor(e){this.key=e}}class O6{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=it(),this.mutatedKeys=it(),this.Ha=gI(e),this.Ja=new oc(this.Ha)}get Ya(){return this.Ga}Za(e,t){const i=t?t.Xa:new WT,s=t?t.Ja:this.Ja;let r=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((p,g)=>{const b=s.get(p),x=$m(this.query,g)?g:null,w=!!b&&this.mutatedKeys.has(b.key),S=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let T=!1;b&&x?b.data.isEqual(x.data)?w!==S&&(i.track({type:3,doc:x}),T=!0):this.eu(b,x)||(i.track({type:2,doc:x}),T=!0,(u&&this.Ha(x,u)>0||f&&this.Ha(x,f)<0)&&(c=!0)):!b&&x?(i.track({type:0,doc:x}),T=!0):b&&!x&&(i.track({type:1,doc:b}),T=!0,(u||f)&&(c=!0)),T&&(x?(l=l.add(x),r=S?r.add(p):r.delete(p)):(l=l.delete(p),r=r.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),r=r.delete(p.key),i.track({type:1,doc:p})}return{Ja:l,Xa:i,Cs:c,mutatedKeys:r}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const r=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const l=e.Xa.ga();l.sort((p,g)=>function(x,w){const S=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ze(20277,{Vt:T})}};return S(x)-S(w)}(p.type,g.type)||this.Ha(p.doc,g.doc)),this.tu(i),s=s!=null&&s;const c=t&&!s?this.nu():[],u=this.ja.size===0&&this.current&&!s?1:0,f=u!==this.za;return this.za=u,l.length!==0||f?{snapshot:new vc(this.query,e.Ja,r,l,e.mutatedKeys,u===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),ru:c}:{ru:c}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new WT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=it(),this.Ja.forEach(i=>{this.iu(i.key)&&(this.ja=this.ja.add(i.key))});const t=[];return e.forEach(i=>{this.ja.has(i)||t.push(new t2(i))}),this.ja.forEach(i=>{e.has(i)||t.push(new e2(i))}),t}su(e){this.Ga=e.$s,this.ja=it();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return vc.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const o_="SyncEngine";class N6{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class D6{constructor(e){this.key=e,this._u=!1}}class P6{constructor(e,t,i,s,r,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=l,this.au={},this.uu=new el(c=>mI(c),Hm),this.cu=new Map,this.lu=new Set,this.hu=new Ft(ke.comparator),this.Pu=new Map,this.Tu=new X0,this.Iu={},this.Eu=new Map,this.du=gc.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function k6(n,e,t=!0){const i=o2(n);let s;const r=i.uu.get(e);return r?(i.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.ou()):s=await n2(i,e,t,!0),s}async function L6(n,e){const t=o2(n);await n2(t,e,!0,!1)}async function n2(n,e,t,i){const s=await n6(n.localStore,Fs(e)),r=s.targetId,l=n.sharedClientState.addLocalQueryTarget(r,t);let c;return i&&(c=await V6(n,e,r,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&qI(n.remoteStore,s),c}async function V6(n,e,t,i,s){n.Ru=(g,b,x)=>async function(S,T,C,R){let A=T.view.Za(C);A.Cs&&(A=await BT(S.localStore,T.query,!1).then(({documents:D})=>T.view.Za(D,A)));const V=R&&R.targetChanges.get(T.targetId),I=R&&R.targetMismatches.get(T.targetId)!=null,H=T.view.applyChanges(A,S.isPrimaryClient,V,I);return ZT(S,T.targetId,H.ru),H.snapshot}(n,g,b,x);const r=await BT(n.localStore,e,!0),l=new O6(e,r.$s),c=l.Za(r.documents),u=nf.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),f=l.applyChanges(c,n.isPrimaryClient,u);ZT(n,t,f.ru);const p=new N6(e,t,l);return n.uu.set(e,p),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),f.snapshot}async function j6(n,e,t){const i=qe(n),s=i.uu.get(e),r=i.cu.get(s.targetId);if(r.length>1)return i.cu.set(s.targetId,r.filter(l=>!Hm(l,e))),void i.uu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Nb(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&e_(i.remoteStore,s.targetId),kb(i,s.targetId)}).catch(Ic)):(kb(i,s.targetId),await Nb(i.localStore,s.targetId,!0))}async function F6(n,e){const t=qe(n),i=t.uu.get(e),s=t.cu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),e_(t.remoteStore,i.targetId))}async function U6(n,e,t){const i=Y6(n);try{const s=await function(l,c){const u=qe(l),f=mn.now(),p=c.reduce((x,w)=>x.add(w.key),it());let g,b;return u.persistence.runTransaction("Locally write mutations","readwrite",x=>{let w=zr(),S=it();return u.Bs.getEntries(x,p).next(T=>{w=T,w.forEach((C,R)=>{R.isValidDocument()||(S=S.add(C))})}).next(()=>u.localDocuments.getOverlayedDocuments(x,w)).next(T=>{g=T;const C=[];for(const R of c){const A=n3(R,g.get(R.key).overlayedDocument);A!=null&&C.push(new Wa(R.key,A,oI(A.value.mapValue),zi.exists(!0)))}return u.mutationQueue.addMutationBatch(x,f,C,c)}).next(T=>{b=T;const C=T.applyToLocalDocumentSet(g,S);return u.documentOverlayCache.saveOverlays(x,T.batchId,C)})}).then(()=>({batchId:b.batchId,changes:yI(g)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(l,c,u){let f=l.Iu[l.currentUser.toKey()];f||(f=new Ft(Qe)),f=f.insert(c,u),l.Iu[l.currentUser.toKey()]=f}(i,s.batchId,t),await rf(i,s.changes),await Xm(i.remoteStore)}catch(s){const r=r_(s,"Failed to persist write");t.reject(r)}}async function i2(n,e){const t=qe(n);try{const i=await J3(t.localStore,e);e.targetChanges.forEach((s,r)=>{const l=t.Pu.get(r);l&&(yt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l._u=!0:s.modifiedDocuments.size>0?yt(l._u,14607):s.removedDocuments.size>0&&(yt(l._u,42227),l._u=!1))}),await rf(t,i,e)}catch(i){await Ic(i)}}function QT(n,e,t){const i=qe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.uu.forEach((r,l)=>{const c=l.view.Da(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const u=qe(l);u.onlineState=c;let f=!1;u.queries.forEach((p,g)=>{for(const b of g.ya)b.Da(c)&&(f=!0)}),f&&a_(u)}(i.eventManager,e),s.length&&i.au.j_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function z6(n,e,t){const i=qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Pu.get(e),r=s&&s.key;if(r){let l=new Ft(ke.comparator);l=l.insert(r,$n.newNoDocument(r,$e.min()));const c=it().add(r),u=new Ym($e.min(),new Map,new Ft(Qe),l,c);await i2(i,u),i.hu=i.hu.remove(r),i.Pu.delete(e),l_(i)}else await Nb(i.localStore,e,!1).then(()=>kb(i,e,t)).catch(Ic)}async function B6(n,e){const t=qe(n),i=e.batch.batchId;try{const s=await Z3(t.localStore,e);r2(t,i,null),s2(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await rf(t,s)}catch(s){await Ic(s)}}async function H6(n,e,t){const i=qe(n);try{const s=await function(l,c){const u=qe(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return u.mutationQueue.lookupMutationBatch(f,c).next(g=>(yt(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(f,g))).next(()=>u.mutationQueue.performConsistencyCheck(f)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>u.localDocuments.getDocuments(f,p))})}(i.localStore,e);r2(i,e,t),s2(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await rf(i,s)}catch(s){await Ic(s)}}function s2(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function r2(n,e,t){const i=qe(n);let s=i.Iu[i.currentUser.toKey()];if(s){const r=s.get(e);r&&(t?r.reject(t):r.resolve(),s=s.remove(e)),i.Iu[i.currentUser.toKey()]=s}}function kb(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.cu.get(e))n.uu.delete(i),t&&n.au.Vu(i,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(i=>{n.Tu.containsKey(i)||a2(n,i)})}function a2(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(e_(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),l_(n))}function ZT(n,e,t){for(const i of t)i instanceof e2?(n.Tu.addReference(i.key,e),$6(n,i)):i instanceof t2?(Ae(o_,"Document no longer in limbo: "+i.key),n.Tu.removeReference(i.key,e),n.Tu.containsKey(i.key)||a2(n,i.key)):ze(19791,{mu:i})}function $6(n,e){const t=e.key,i=t.path.canonicalString();n.hu.get(t)||n.lu.has(i)||(Ae(o_,"New document in limbo: "+t),n.lu.add(i),l_(n))}function l_(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new ke(Dt.fromString(e)),i=n.du.next();n.Pu.set(i,new D6(t)),n.hu=n.hu.insert(t,i),qI(n.remoteStore,new Ia(Fs($0(t.path)),i,"TargetPurposeLimboResolution",Um.le))}}async function rf(n,e,t){const i=qe(n),s=[],r=[],l=[];i.uu.isEmpty()||(i.uu.forEach((c,u)=>{l.push(i.Ru(u,e,t).then(f=>{var p;if((f||t)&&i.isPrimaryClient){const g=f?!f.fromCache:(p=t==null?void 0:t.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;i.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(f){s.push(f);const g=Z0.Rs(u.targetId,f);r.push(g)}}))}),await Promise.all(l),i.au.j_(s),await async function(u,f){const p=qe(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>he.forEach(f,b=>he.forEach(b.ds,x=>p.persistence.referenceDelegate.addReference(g,b.targetId,x)).next(()=>he.forEach(b.As,x=>p.persistence.referenceDelegate.removeReference(g,b.targetId,x)))))}catch(g){if(!Mc(g))throw g;Ae(J0,"Failed to update sequence numbers: "+g)}for(const g of f){const b=g.targetId;if(!g.fromCache){const x=p.xs.get(b),w=x.snapshotVersion,S=x.withLastLimboFreeSnapshotVersion(w);p.xs=p.xs.insert(b,S)}}}(i.localStore,r))}async function q6(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Ae(o_,"User change. New user:",e.toKey());const i=await zI(t.localStore,e);t.currentUser=e,function(r,l){r.Eu.forEach(c=>{c.forEach(u=>{u.reject(new Re(pe.CANCELLED,l))})}),r.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await rf(t,i.ks)}}function G6(n,e){const t=qe(n),i=t.Pu.get(e);if(i&&i._u)return it().add(i.key);{let s=it();const r=t.cu.get(e);if(!r)return s;for(const l of r){const c=t.uu.get(l);s=s.unionWith(c.view.Ya)}return s}}function o2(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=i2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=G6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=z6.bind(null,e),e.au.j_=I6.bind(null,e.eventManager),e.au.Vu=M6.bind(null,e.eventManager),e}function Y6(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=B6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H6.bind(null,e),e}class em{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wm(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return Q3(this.persistence,new W3,e.initialUser,this.serializer)}yu(e){return new UI(Q0.fi,this.serializer)}pu(e){return new s6}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}em.provider={build:()=>new em};class W6 extends em{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){yt(this.persistence.referenceDelegate instanceof Zp,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new D3(i,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new UI(i=>Zp.fi(i,t),this.serializer)}}class Lb{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>QT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=q6.bind(null,this.syncEngine),await C6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new R6}()}createDatastore(e){const t=Wm(e.databaseInfo.databaseId),i=function(r){return new c6(r)}(e.databaseInfo);return function(r,l,c,u){return new h6(r,l,c,u)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,r,l,c){return new m6(i,s,r,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>QT(this.syncEngine,t,0),function(){return qT.C()?new qT:new r6}())}createSyncEngine(e,t){return function(s,r,l,c,u,f,p){const g=new P6(s,r,l,c,u,f);return p&&(g.Au=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const r=qe(s);Ae(Yo,"RemoteStore shutting down."),r.Ta.add(5),await sf(r),r.Ea.shutdown(),r.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lb.provider={build:()=>new Lb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="FirestoreClient";class K6{constructor(e,t,i,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=Hn.UNAUTHENTICATED,this.clientId=QR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(i,async l=>{Ae(Ha,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(i,l=>(Ae(Ha,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=r_(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ny(n,e){n.asyncQueue.verifyOperationInProgress(),Ae(Ha,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await zI(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function JT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await X6(n);Ae(Ha,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>YT(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>YT(e.remoteStore,s)),n._onlineComponents=e}async function X6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ae(Ha,"Using user provided OfflineComponentProvider");try{await Ny(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===pe.FAILED_PRECONDITION||s.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;fc("Error using user provided cache. Falling back to memory cache: "+t),await Ny(n,new em)}}else Ae(Ha,"Using default OfflineComponentProvider"),await Ny(n,new W6(void 0));return n._offlineComponents}async function c2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ae(Ha,"Using user provided OnlineComponentProvider"),await JT(n,n._uninitializedComponentsProvider._online)):(Ae(Ha,"Using default OnlineComponentProvider"),await JT(n,new Lb))),n._onlineComponents}function Q6(n){return c2(n).then(e=>e.syncEngine)}async function u2(n){const e=await c2(n),t=e.eventManager;return t.onListen=k6.bind(null,e.syncEngine),t.onUnlisten=j6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=L6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=F6.bind(null,e.syncEngine),t}function Z6(n,e,t={}){const i=new Pr;return n.asyncQueue.enqueueAndForget(async()=>function(r,l,c,u,f){const p=new l2({next:b=>{p.Cu(),l.enqueueAndForget(()=>ZI(r,g));const x=b.docs.has(c);!x&&b.fromCache?f.reject(new Re(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&b.fromCache&&u&&u.source==="server"?f.reject(new Re(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(b)},error:b=>f.reject(b)}),g=new JI($0(c.path),p,{includeMetadataChanges:!0,La:!0});return QI(r,g)}(await u2(n),n.asyncQueue,e,t,i)),i.promise}function J6(n,e,t={}){const i=new Pr;return n.asyncQueue.enqueueAndForget(async()=>function(r,l,c,u,f){const p=new l2({next:b=>{p.Cu(),l.enqueueAndForget(()=>ZI(r,g)),b.fromCache&&u.source==="server"?f.reject(new Re(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(b)},error:b=>f.reject(b)}),g=new JI(c,p,{includeMetadataChanges:!0,La:!0});return QI(r,g)}(await u2(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(n,e,t){if(!t)throw new Re(pe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function e5(n,e,t,i){if(e===!0&&i===!0)throw new Re(pe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function t1(n){if(!ke.isDocumentKey(n))throw new Re(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function n1(n){if(ke.isDocumentKey(n))throw new Re(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ze(12329,{type:typeof n})}function os(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Re(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qm(n);throw new Re(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="firestore.googleapis.com",i1=!0;class s1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h2,this.ssl=i1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:i1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<O3)throw new Re(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}e5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d2((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Re(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Re(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Re(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zm{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new c4;switch(i.type){case"firstParty":return new h4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Re(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=e1.get(t);i&&(Ae("ComponentProvider","Removing Datastore"),e1.delete(t),i.terminate())}(this),Promise.resolve()}}function t5(n,e,t,i={}){var s;n=os(n,Zm);const r=Cc(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;r&&(w0(`https://${u}`),S0("Firestore",!0)),l.host!==h2&&l.host!==u&&fc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:u,ssl:r,emulatorOptions:i});if(!Bo(f,c)&&(n._setSettings(f),i.mockUserToken)){let p,g;if(typeof i.mockUserToken=="string")p=i.mockUserToken,g=Hn.MOCK_USER;else{p=eR(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new Re(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Hn(b)}n._authCredentials=new u4(new KR(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new nl(this.firestore,e,this._query)}}class Jn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jn(this.firestore,e,this._key)}}class ka extends nl{constructor(e,t,i){super(e,t,$0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jn(this.firestore,null,new ke(e))}withConverter(e){return new ka(this.firestore,e,this._path)}}function Qt(n,e,...t){if(n=jt(n),f2("collection","path",e),n instanceof Zm){const i=Dt.fromString(e,...t);return n1(i),new ka(n,null,i)}{if(!(n instanceof Jn||n instanceof ka))throw new Re(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(e,...t));return n1(i),new ka(n.firestore,null,i)}}function qn(n,e,...t){if(n=jt(n),arguments.length===1&&(e=QR.newId()),f2("doc","path",e),n instanceof Zm){const i=Dt.fromString(e,...t);return t1(i),new Jn(n,null,new ke(i))}{if(!(n instanceof Jn||n instanceof ka))throw new Re(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Dt.fromString(e,...t));return t1(i),new Jn(n.firestore,n instanceof ka?n.converter:null,new ke(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="AsyncQueue";class a1{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new HI(this,"async_queue_retry"),this.ec=()=>{const i=Oy();i&&Ae(r1,"Visibility state changed to "+i.visibilityState),this.C_.p_()},this.tc=e;const t=Oy();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Oy();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Pr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Mc(e))throw e;Ae(r1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(i=>{throw this.Ju=i,this.Yu=!1,Ur("INTERNAL UNHANDLED ERROR: ",o1(i)),i}).then(i=>(this.Yu=!1,i))));return this.tc=t,t}enqueueAfterDelay(e,t,i){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const s=s_.createAndSchedule(this,e,t,i,r=>this.oc(r));return this.Hu.push(s),s}nc(){this.Ju&&ze(47125,{_c:o1(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function o1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class il extends Zm{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new a1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a1(e),this._firestoreClient=void 0,await e}}}function n5(n,e){const t=typeof n=="object"?n:C0(),i=typeof n=="string"?n:Gp,s=Lm(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=QA("firestore");r&&t5(s,...r)}return s}function c_(n){if(n._terminated)throw new Re(pe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||i5(n),n._firestoreClient}function i5(n){var e,t,i;const s=n._freezeSettings(),r=function(c,u,f,p){return new R4(c,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,d2(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new K6(n._authCredentials,n._appCheckCredentials,n._queue,r,n._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yc(Vn.fromBase64String(e))}catch(t){throw new Re(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yc(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Re(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Re(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Re(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=/^__.*__$/;class r5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new tf(e,this.data,t,this.fieldTransforms)}}class p2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Wa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function m2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ze(40011,{hc:n})}}class f_{constructor(e,t,i,s,r,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.Pc(),this.fieldTransforms=r||[],this.fieldMask=l||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new f_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:i,Ec:!1});return s.dc(e),s}Ac(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Tc({path:i,Ec:!1});return s.Pc(),s}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return tm(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(m2(this.hc)&&s5.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class a5{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Wm(e)}gc(e,t,i,s=!1){return new f_({hc:e,methodName:t,fc:i,path:kn.emptyPath(),Ec:!1,mc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eg(n){const e=n._freezeSettings(),t=Wm(n._databaseId);return new a5(n._databaseId,!!e.ignoreUndefinedProperties,t)}function g2(n,e,t,i,s,r={}){const l=n.gc(r.merge||r.mergeFields?2:0,e,t,s);m_("Data must be an object, but it was:",l,i);const c=v2(i,l);let u,f;if(r.merge)u=new Si(l.fieldMask),f=l.fieldTransforms;else if(r.mergeFields){const p=[];for(const g of r.mergeFields){const b=Vb(e,g,t);if(!l.contains(b))throw new Re(pe.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);b2(p,b)||p.push(b)}u=new Si(p),f=l.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,f=l.fieldTransforms;return new r5(new oi(c),u,f)}class tg extends af{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tg}}class h_ extends af{_toFieldTransform(e){return new CI(e.path,new Od)}isEqual(e){return e instanceof h_}}class p_ extends af{constructor(e,t){super(e),this.wc=t}_toFieldTransform(e){const t=new Pd(e.serializer,xI(e.serializer,this.wc));return new CI(e.path,t)}isEqual(e){return e instanceof p_&&this.wc===e.wc}}function o5(n,e,t,i){const s=n.gc(1,e,t);m_("Data must be an object, but it was:",s,i);const r=[],l=oi.empty();Ya(i,(u,f)=>{const p=g_(e,u,t);f=jt(f);const g=s.Ac(p);if(f instanceof tg)r.push(p);else{const b=of(f,g);b!=null&&(r.push(p),l.set(p,b))}});const c=new Si(r);return new p2(l,c,s.fieldTransforms)}function l5(n,e,t,i,s,r){const l=n.gc(1,e,t),c=[Vb(e,i,t)],u=[s];if(r.length%2!=0)throw new Re(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<r.length;b+=2)c.push(Vb(e,r[b])),u.push(r[b+1]);const f=[],p=oi.empty();for(let b=c.length-1;b>=0;--b)if(!b2(f,c[b])){const x=c[b];let w=u[b];w=jt(w);const S=l.Ac(x);if(w instanceof tg)f.push(x);else{const T=of(w,S);T!=null&&(f.push(x),p.set(x,T))}}const g=new Si(f);return new p2(p,g,l.fieldTransforms)}function c5(n,e,t,i=!1){return of(t,n.gc(i?4:3,e))}function of(n,e){if(y2(n=jt(n)))return m_("Unsupported field value:",e,n),v2(n,e);if(n instanceof af)return function(i,s){if(!m2(s.hc))throw s.Vc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Vc(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(i,s){const r=[];let l=0;for(const c of i){let u=of(c,s.Rc(l));u==null&&(u={nullValue:"NULL_VALUE"}),r.push(u),l++}return{arrayValue:{values:r}}}(n,e)}return function(i,s){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xI(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=mn.fromDate(i);return{timestampValue:Qp(s.serializer,r)}}if(i instanceof mn){const r=new mn(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Qp(s.serializer,r)}}if(i instanceof u_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof yc)return{bytesValue:NI(s.serializer,i._byteString)};if(i instanceof Jn){const r=s.databaseId,l=i.firestore._databaseId;if(!l.isEqual(r))throw s.Vc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:K0(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof d_)return function(l,c){return{mapValue:{fields:{[rI]:{stringValue:aI},[Yp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.Vc("VectorValues must only contain numeric values.");return q0(c.serializer,f)})}}}}}}(i,s);throw s.Vc(`Unsupported field value: ${Qm(i)}`)}(n,e)}function v2(n,e){const t={};return JR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(n,(i,s)=>{const r=of(s,e.Ic(i));r!=null&&(t[i]=r)}),{mapValue:{fields:t}}}function y2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof mn||n instanceof u_||n instanceof yc||n instanceof Jn||n instanceof af||n instanceof d_)}function m_(n,e,t){if(!y2(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Qm(t);throw i==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+i)}}function Vb(n,e,t){if((e=jt(e))instanceof Jm)return e._internalPath;if(typeof e=="string")return g_(n,e);throw tm("Field path arguments must be of type string or ",n,!1,void 0,t)}const u5=new RegExp("[~\\*/\\[\\]]");function g_(n,e,t){if(e.search(u5)>=0)throw tm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Jm(...e.split("."))._internalPath}catch{throw tm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tm(n,e,t,i,s){const r=i&&!i.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(r||l)&&(u+=" (found",r&&(u+=` in field ${i}`),l&&(u+=` in document ${s}`),u+=")"),new Re(pe.INVALID_ARGUMENT,c+n+u)}function b2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,t,i,s,r){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Jn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new d5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(v_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class d5 extends _2{data(){return super.data()}}function v_(n,e){return typeof e=="string"?g_(n,e):e instanceof Jm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Re(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y_{}class x2 extends y_{}function lf(n,e,...t){let i=[];e instanceof y_&&i.push(e),i=i.concat(t),function(r){const l=r.filter(u=>u instanceof b_).length,c=r.filter(u=>u instanceof ng).length;if(l>1||l>0&&c>0)throw new Re(pe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)n=s._apply(n);return n}class ng extends x2{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ng(e,t,i)}_apply(e){const t=this._parse(e);return w2(e._query,t),new nl(e.firestore,e.converter,Ab(e._query,t))}_parse(e){const t=eg(e.firestore);return function(r,l,c,u,f,p,g){let b;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){c1(g,p);const w=[];for(const S of g)w.push(l1(u,r,S));b={arrayValue:{values:w}}}else b=l1(u,r,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||c1(g,p),b=c5(c,l,g,p==="in"||p==="not-in");return an.create(f,p,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function lc(n,e,t){const i=e,s=v_("where",n);return ng._create(s,i,t)}class b_ extends y_{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new b_(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:as.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,r){let l=s;const c=r.getFlattenedFilters();for(const u of c)w2(l,u),l=Ab(l,u)}(e._query,t),new nl(e.firestore,e.converter,Ab(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class __ extends x2{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new __(e,t,i)}_apply(e){return new nl(e.firestore,e.converter,Xp(e._query,this._limit,this._limitType))}}function h5(n){return __._create("limit",n,"F")}function l1(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new Re(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pI(e)&&t.indexOf("/")!==-1)throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Dt.fromString(t));if(!ke.isDocumentKey(i))throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ST(n,new ke(i))}if(t instanceof Jn)return ST(n,t._key);throw new Re(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qm(t)}.`)}function c1(n,e){if(!Array.isArray(n)||n.length===0)throw new Re(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w2(n,e){const t=function(s,r){for(const l of s)for(const c of l.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Re(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class p5{convertValue(e,t="none"){switch(za(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ze(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ya(e,(s,r)=>{i[s]=this.convertValue(r,t)}),i}convertVectorValue(e){var t,i,s;const r=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Yp].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(l=>Kt(l.doubleValue));return new d_(r)}convertGeoPoint(e){return new u_(Kt(e.latitude),Kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Bm(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Rd(e));default:return null}}convertTimestamp(e){const t=Fa(e);return new mn(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Dt.fromString(e);yt(jI(i),9688,{name:e});const s=new Id(i.get(1),i.get(3)),r=new ke(i.popFirst(5));return s.isEqual(t)||Ur(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E2 extends _2{constructor(e,t,i,s,r,l){super(e,t,i,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(v_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Sp extends E2{data(e={}){return super.data(e)}}class m5{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new id(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Sp(this._firestore,this._userDataWriter,i.key,i,new id(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Re(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const u=new Sp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new id(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{const u=new Sp(s._firestore,s._userDataWriter,c.doc.key,c.doc,new id(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:g5(c.type),doc:u,oldIndex:f,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function g5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ze(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(n){n=os(n,Jn);const e=os(n.firestore,il);return Z6(c_(e),n._key).then(t=>v5(e,n,t))}class T2 extends p5{constructor(e){super(),this.firestore=e}convertBytes(e){return new yc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Jn(this.firestore,null,t)}}function Tn(n){n=os(n,nl);const e=os(n.firestore,il),t=c_(e),i=new T2(e);return f5(n._query),J6(t,n._query).then(s=>new m5(e,i,n,s))}function C2(n,e,t){n=os(n,Jn);const i=os(n.firestore,il),s=S2(n.converter,e);return sg(i,[g2(eg(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,zi.none())])}function Or(n,e,t,...i){n=os(n,Jn);const s=os(n.firestore,il),r=eg(s);let l;return l=typeof(e=jt(e))=="string"||e instanceof Jm?l5(r,"updateDoc",n._key,e,t,i):o5(r,"updateDoc",n._key,e),sg(s,[l.toMutation(n._key,zi.exists(!0))])}function A2(n){return sg(os(n.firestore,il),[new G0(n._key,zi.none())])}function x_(n,e){const t=os(n.firestore,il),i=qn(n),s=S2(n.converter,e);return sg(t,[g2(eg(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,zi.exists(!1))]).then(()=>i)}function sg(n,e){return function(i,s){const r=new Pr;return i.asyncQueue.enqueueAndForget(async()=>U6(await Q6(i),s,r)),r.promise}(c_(n),e)}function v5(n,e,t){const i=t.docs.get(e._key),s=new T2(n);return new E2(n,s,e._key,i,new id(t.hasPendingWrites,t.fromCache),e.converter)}function y5(){return new h_("serverTimestamp")}function b5(n){return new p_("increment",n)}(function(e,t=!0){(function(s){Rc=s})(Jo),Ho(new Va("firestore",(i,{instanceIdentifier:s,options:r})=>{const l=i.getProvider("app").getImmediate(),c=new il(new d4(i.getProvider("auth-internal")),new p4(l,i.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Re(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Id(f.options.projectId,p)}(l,s),l);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),Ls(dT,fT,e),Ls(dT,fT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="firebasestorage.googleapis.com",_5="storageBucket",x5=2*60*1e3,w5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends $s{constructor(e,t,i=0){super(Dy(e),`Firebase Storage: ${t} (${Dy(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hs;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hs||(Hs={}));function Dy(n){return"storage/"+n}function S5(){const n="An unknown error occurred, please check the error payload for server response.";return new qs(Hs.UNKNOWN,n)}function E5(){return new qs(Hs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function T5(){return new qs(Hs.CANCELED,"User canceled the upload/download.")}function C5(n){return new qs(Hs.INVALID_URL,"Invalid URL '"+n+"'.")}function A5(n){return new qs(Hs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function u1(n){return new qs(Hs.INVALID_ARGUMENT,n)}function I2(){return new qs(Hs.APP_DELETED,"The Firebase app was deleted.")}function R5(n){return new qs(Hs.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=ns.makeFromUrl(e,t)}catch{return new ns(e,"")}if(i.path==="")return i;throw A5(e)}static makeFromUrl(e,t){let i=null;const s="([A-Za-z0-9.\\-_]+)";function r(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),u={bucket:1,path:3};function f(V){V.path_=decodeURIComponent(V.path)}const p="v[A-Za-z0-9_]+",g=t.replace(/[.]/g,"\\."),b="(/([^?#]*).*)?$",x=new RegExp(`^https?://${g}/${p}/b/${s}/o${b}`,"i"),w={bucket:1,path:3},S=t===R2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",C=new RegExp(`^https?://${S}/${s}/${T}`,"i"),A=[{regex:c,indices:u,postModify:r},{regex:x,indices:w,postModify:f},{regex:C,indices:{bucket:1,path:2},postModify:f}];for(let V=0;V<A.length;V++){const I=A[V],H=I.regex.exec(e);if(H){const D=H[I.indices.bucket];let O=H[I.indices.path];O||(O=""),i=new ns(D,O),I.postModify(i);break}}if(i==null)throw C5(e);return i}}class I5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(n,e,t){let i=1,s=null,r=null,l=!1,c=0;function u(){return c===2}let f=!1;function p(...T){f||(f=!0,e.apply(null,T))}function g(T){s=setTimeout(()=>{s=null,n(x,u())},T)}function b(){r&&clearTimeout(r)}function x(T,...C){if(f){b();return}if(T){b(),p.call(null,T,...C);return}if(u()||l){b(),p.call(null,T,...C);return}i<64&&(i*=2);let A;c===1?(c=2,A=0):A=(i+Math.random())*1e3,g(A)}let w=!1;function S(T){w||(w=!0,b(),!f&&(s!==null?(T||(c=2),clearTimeout(s),g(0)):T||(c=1)))}return g(0),r=setTimeout(()=>{l=!0,S(!0)},t),S}function O5(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(n){return n!==void 0}function d1(n,e,t,i){if(i<e)throw u1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw u1(`Invalid value for '${n}'. Expected ${t} or less.`)}function D5(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const s=e(i)+"="+e(n[i]);t=t+s+"&"}return t=t.slice(0,-1),t}var nm;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(nm||(nm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P5(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,r=e.indexOf(n)!==-1;return t||s||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,t,i,s,r,l,c,u,f,p,g,b=!0,x=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=s,this.successCodes_=r,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=u,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=g,this.retry=b,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,S)=>{this.resolve_=w,this.reject_=S,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new zh(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const l=c=>{const u=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,f)};this.progressCallback_!==null&&r.addUploadProgressListener(l),r.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(l),this.pendingConnection_=null;const c=r.getErrorCode()===nm.NO_ERROR,u=r.getStatus();if(!c||P5(u,this.additionalRetryCodes_)&&this.retry){const p=r.getErrorCode()===nm.ABORT;i(!1,new zh(!1,null,p));return}const f=this.successCodes_.indexOf(u)!==-1;i(!0,new zh(f,r))})},t=(i,s)=>{const r=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(c,c.getResponse());N5(u)?r(u):r()}catch(u){l(u)}else if(c!==null){const u=S5();u.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,u)):l(u)}else if(s.canceled){const u=this.appDelete_?I2():T5();l(u)}else{const u=E5();l(u)}};this.canceled_?t(!1,new zh(!1,null,!0)):this.backoffId_=M5(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&O5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zh{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function L5(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function V5(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function j5(n,e){e&&(n["X-Firebase-GMPID"]=e)}function F5(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function U5(n,e,t,i,s,r,l=!0,c=!1){const u=D5(n.urlParams),f=n.url+u,p=Object.assign({},n.headers);return j5(p,e),L5(p,t),V5(p,r),F5(p,i),new k5(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function B5(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){this._service=e,t instanceof ns?this._location=t:this._location=ns.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new im(e,t)}get root(){const e=new ns(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B5(this._location.path)}get storage(){return this._service}get parent(){const e=z5(this._location.path);if(e===null)return null;const t=new ns(this._location.bucket,e);return new im(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw R5(e)}}function f1(n,e){const t=e==null?void 0:e[_5];return t==null?null:ns.makeFromBucketSpec(t,n)}function H5(n,e,t,i={}){n.host=`${e}:${t}`;const s=Cc(e);s&&(w0(`https://${n.host}`),S0("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken=typeof r=="string"?r:eR(r,n.app.options.projectId))}class $5{constructor(e,t,i,s,r,l=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=s,this._firebaseVersion=r,this._isUsingEmulator=l,this._bucket=null,this._host=R2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=x5,this._maxUploadRetryTime=w5,this._requests=new Set,s!=null?this._bucket=ns.makeFromBucketSpec(s,this._host):this._bucket=f1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ns.makeFromBucketSpec(this._url,e):this._bucket=f1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){d1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){d1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(wi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new im(this,e)}_makeRequest(e,t,i,s,r=!0){if(this._deleted)return new I5(I2());{const l=U5(e,this._appId,i,s,t,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,t){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,s).getPromise()}}const h1="@firebase/storage",p1="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="storage";function q5(n=C0(),e){n=jt(n);const i=Lm(n,M2).getImmediate({identifier:e}),s=QA("storage");return s&&G5(i,...s),i}function G5(n,e,t,i={}){H5(n,e,t,i)}function Y5(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new $5(t,i,s,e,Jo)}function W5(){Ho(new Va(M2,Y5,"PUBLIC").setMultipleInstances(!0)),Ls(h1,p1,""),Ls(h1,p1,"esm2017")}W5();const K5={apiKey:"AIzaSyCJ_LrvyuzvpwBy3XnY_xhOrN2qXMLylv8",authDomain:"nikosperu-store.firebaseapp.com",projectId:"nikosperu-store",storageBucket:"nikosperu-store.firebasestorage.app",messagingSenderId:"63793384667",appId:"1:63793384667:web:cbc4442746cd7d6d4ad0fe"},w_=iR(K5),st=n5(w_),on=zR(w_);q5(w_);function rg(){const[n,e]=k.useState(null),[t,i]=k.useState(!0);return k.useEffect(()=>{const s=Zd(on,r=>{e(r),i(!1)});return()=>s()},[]),{user:n,loading:t}}function X5({setIsMobileMenuOpen:n}){const{user:e}=rg();return y.jsxs("div",{className:"header-left",children:[y.jsx("div",{className:"menu-bar",children:y.jsx("a",{href:"#",onClick:t=>{t.preventDefault(),n(!0)},className:"flex md992:hidden menu-trigger",children:y.jsx("i",{className:"bx bx-menu"})})}),y.jsx("div",{className:"hidden md992:block list-inline",children:y.jsx("ul",{className:"list-none",children:y.jsx("li",{className:e?"w-[280px]":"w-[170px]"})})})]})}function Q5(){return y.jsx("div",{className:"header-center",children:y.jsx("nav",{className:"hidden md992:grid menu",children:y.jsxs("ul",{className:"list-none",children:[y.jsx("li",{children:y.jsx("a",{className:"link-menu",href:"",children:"Inicio"})}),y.jsx("li",{children:y.jsx("a",{className:"link-menu",href:"/productos",children:"Productos"})}),y.jsx("li",{className:"font-[Anton] uppercase italic text-[40px] mx-5",children:y.jsx("a",{href:"/",children:"Nikos"})}),y.jsx("li",{children:y.jsx("a",{className:"link-menu",href:"/#marcas",children:"Marcas"})}),y.jsx("li",{children:y.jsx("a",{className:"link-menu",href:"#contacto",children:"Contacto"})})]})})})}const O2=k.createContext();function Z5({children:n}){const[e,t]=k.useState(()=>{const c=localStorage.getItem("carrito");return c?JSON.parse(c):[]});k.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(e))},[e]);const i=c=>{t(u=>{const f=u.findIndex(p=>p.slug===c.slug&&p.talla===c.talla&&p.color===c.color);if(f!==-1){const p=[...u],g=p[f].cantidad+c.cantidad;return p[f].cantidad=Math.min(g,3),p}return[...u,{...c,cantidad:Math.min(c.cantidad,3)}]})},s=(c,u,f)=>{t(p=>p.filter(g=>!(g.slug===c&&g.talla===u&&g.color===f)))},r=()=>{t([])},l=(c,u,f,p)=>{t(g=>g.map(b=>b.slug===c&&b.talla===u&&b.color===f?{...b,cantidad:p}:b))};return y.jsx(O2.Provider,{value:{carrito:e,agregarAlCarrito:i,quitarDelCarrito:s,vaciarCarrito:r,actualizarCantidad:l},children:n})}function ag(){return k.useContext(O2)}const N2=k.createContext();function J5({children:n}){const[e,t]=k.useState(!1),[i,s]=k.useState(!1),r=()=>t(!0),l=()=>{s(!0),setTimeout(()=>{t(!1),s(!1)},400)};return y.jsx(N2.Provider,{value:{mostrarCarrito:e,animatingClose:i,abrirCarrito:r,cerrarModalConAnimacion:l},children:n})}function S_(){return k.useContext(N2)}function eF(){const{user:n}=rg(),[e,t]=k.useState(!1),i=k.useRef(null),s=vn(),r=()=>t(!e),l=async()=>{try{await k0(on),localStorage.removeItem("usuario"),sessionStorage.removeItem("usuario"),s("/login")}catch(c){console.error("Error al cerrar sesión:",c)}};return k.useEffect(()=>{const c=u=>{i.current&&!i.current.contains(u.target)&&t(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]),n?y.jsxs("div",{className:"relative inline-block text-left",ref:i,children:[y.jsxs("button",{onClick:r,className:"cursor-pointer text-black font-medium hover:underline max-w-[100px] overflow-hidden text-ellipsis whitespace-nowrap",children:["Hola, ",n.displayName]}),e&&y.jsxs("div",{className:`absolute right-0 w-48 bg-white border border-gray-200 shadow-md z-50
            transition transform duration-200 ease-out origin-top scale-100 opacity-100
            animate-fade-in`,children:[y.jsx("button",{onClick:()=>{t(!1),s("/mi-perfil")},className:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",children:"Ver perfil"}),y.jsx("hr",{className:"border-t border-gray-200"}),y.jsx("button",{onClick:()=>{t(!1),s("/mis-compras")},className:"block w-full text-left px-4 py-2 text-sm text-black hover:bg-gray-100",children:"Mis compras"}),y.jsx("hr",{className:"border-t border-gray-200"}),y.jsx("button",{onClick:l,className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-100",children:"Cerrar sesión"})]})]}):null}function tF({setIsSearchOpen:n}){const{abrirCarrito:e}=S_(),{carrito:t}=ag(),{user:i}=rg();return y.jsx("div",{className:"header-right",children:y.jsx("div",{className:"list-inline",children:y.jsxs("ul",{className:"list-none",children:[y.jsx("li",{className:"flex",children:y.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),n(!0)},children:y.jsx("i",{className:"bx bx-search"})})}),y.jsx("li",{className:"flex",children:y.jsxs("button",{onClick:e,className:"flex relative text-[24px] py-0 px-[24px]",children:[y.jsx("i",{className:"bx bx-cart text-2xl"}),t.length>0&&y.jsx("span",{className:"absolute -top-2 right-[10px] py-0 px-1 bg-red-500 text-white text-xs px-1 rounded-full",children:t.length})]})}),y.jsx("li",{className:"hidden md992:flex",children:i?y.jsx(eF,{}):y.jsx("a",{href:"/login",children:y.jsx("i",{className:"bx bx-user"})})})]})})})}function Br(n){return Array.isArray?Array.isArray(n):k2(n)==="[object Array]"}function nF(n){if(typeof n=="string")return n;let e=n+"";return e=="0"&&1/n==-1/0?"-0":e}function iF(n){return n==null?"":nF(n)}function Ds(n){return typeof n=="string"}function D2(n){return typeof n=="number"}function sF(n){return n===!0||n===!1||rF(n)&&k2(n)=="[object Boolean]"}function P2(n){return typeof n=="object"}function rF(n){return P2(n)&&n!==null}function xi(n){return n!=null}function Py(n){return!n.trim().length}function k2(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}const aF="Incorrect 'index' type",oF=n=>`Invalid value for key ${n}`,lF=n=>`Pattern length exceeds max of ${n}.`,cF=n=>`Missing ${n} property in key`,uF=n=>`Property 'weight' in key '${n}' must be a positive integer`,m1=Object.prototype.hasOwnProperty;class dF{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(i=>{let s=L2(i);this._keys.push(s),this._keyMap[s.id]=s,t+=s.weight}),this._keys.forEach(i=>{i.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function L2(n){let e=null,t=null,i=null,s=1,r=null;if(Ds(n)||Br(n))i=n,e=g1(n),t=jb(n);else{if(!m1.call(n,"name"))throw new Error(cF("name"));const l=n.name;if(i=l,m1.call(n,"weight")&&(s=n.weight,s<=0))throw new Error(uF(l));e=g1(l),t=jb(l),r=n.getFn}return{path:e,id:t,weight:s,src:i,getFn:r}}function g1(n){return Br(n)?n:n.split(".")}function jb(n){return Br(n)?n.join("."):n}function fF(n,e){let t=[],i=!1;const s=(r,l,c)=>{if(xi(r))if(!l[c])t.push(r);else{let u=l[c];const f=r[u];if(!xi(f))return;if(c===l.length-1&&(Ds(f)||D2(f)||sF(f)))t.push(iF(f));else if(Br(f)){i=!0;for(let p=0,g=f.length;p<g;p+=1)s(f[p],l,c+1)}else l.length&&s(f,l,c+1)}};return s(n,Ds(e)?e.split("."):e,0),i?t:t[0]}const hF={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},pF={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(n,e)=>n.score===e.score?n.idx<e.idx?-1:1:n.score<e.score?-1:1},mF={location:0,threshold:.6,distance:100},gF={useExtendedSearch:!1,getFn:fF,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var He={...pF,...hF,...mF,...gF};const vF=/[^ ]+/g;function yF(n=1,e=3){const t=new Map,i=Math.pow(10,e);return{get(s){const r=s.match(vF).length;if(t.has(r))return t.get(r);const l=1/Math.pow(r,.5*n),c=parseFloat(Math.round(l*i)/i);return t.set(r,c),c},clear(){t.clear()}}}class E_{constructor({getFn:e=He.getFn,fieldNormWeight:t=He.fieldNormWeight}={}){this.norm=yF(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,i)=>{this._keysMap[t.id]=i})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Ds(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();Ds(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!xi(e)||Py(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach((s,r)=>{let l=s.getFn?s.getFn(e):this.getFn(e,s.path);if(xi(l)){if(Br(l)){let c=[];const u=[{nestedArrIndex:-1,value:l}];for(;u.length;){const{nestedArrIndex:f,value:p}=u.pop();if(xi(p))if(Ds(p)&&!Py(p)){let g={v:p,i:f,n:this.norm.get(p)};c.push(g)}else Br(p)&&p.forEach((g,b)=>{u.push({nestedArrIndex:b,value:g})})}i.$[r]=c}else if(Ds(l)&&!Py(l)){let c={v:l,n:this.norm.get(l)};i.$[r]=c}}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function V2(n,e,{getFn:t=He.getFn,fieldNormWeight:i=He.fieldNormWeight}={}){const s=new E_({getFn:t,fieldNormWeight:i});return s.setKeys(n.map(L2)),s.setSources(e),s.create(),s}function bF(n,{getFn:e=He.getFn,fieldNormWeight:t=He.fieldNormWeight}={}){const{keys:i,records:s}=n,r=new E_({getFn:e,fieldNormWeight:t});return r.setKeys(i),r.setIndexRecords(s),r}function Bh(n,{errors:e=0,currentLocation:t=0,expectedLocation:i=0,distance:s=He.distance,ignoreLocation:r=He.ignoreLocation}={}){const l=e/n.length;if(r)return l;const c=Math.abs(i-t);return s?l+c/s:c?1:l}function _F(n=[],e=He.minMatchCharLength){let t=[],i=-1,s=-1,r=0;for(let l=n.length;r<l;r+=1){let c=n[r];c&&i===-1?i=r:!c&&i!==-1&&(s=r-1,s-i+1>=e&&t.push([i,s]),i=-1)}return n[r-1]&&r-i>=e&&t.push([i,r-1]),t}const ko=32;function xF(n,e,t,{location:i=He.location,distance:s=He.distance,threshold:r=He.threshold,findAllMatches:l=He.findAllMatches,minMatchCharLength:c=He.minMatchCharLength,includeMatches:u=He.includeMatches,ignoreLocation:f=He.ignoreLocation}={}){if(e.length>ko)throw new Error(lF(ko));const p=e.length,g=n.length,b=Math.max(0,Math.min(i,g));let x=r,w=b;const S=c>1||u,T=S?Array(g):[];let C;for(;(C=n.indexOf(e,w))>-1;){let D=Bh(e,{currentLocation:C,expectedLocation:b,distance:s,ignoreLocation:f});if(x=Math.min(D,x),w=C+p,S){let O=0;for(;O<p;)T[C+O]=1,O+=1}}w=-1;let R=[],A=1,V=p+g;const I=1<<p-1;for(let D=0;D<p;D+=1){let O=0,N=V;for(;O<N;)Bh(e,{errors:D,currentLocation:b+N,expectedLocation:b,distance:s,ignoreLocation:f})<=x?O=N:V=N,N=Math.floor((V-O)/2+O);V=N;let L=Math.max(1,b-N+1),U=l?g:Math.min(b+N,g)+p,B=Array(U+2);B[U+1]=(1<<D)-1;for(let ie=U;ie>=L;ie-=1){let X=ie-1,$=t[n.charAt(X)];if(S&&(T[X]=+!!$),B[ie]=(B[ie+1]<<1|1)&$,D&&(B[ie]|=(R[ie+1]|R[ie])<<1|1|R[ie+1]),B[ie]&I&&(A=Bh(e,{errors:D,currentLocation:X,expectedLocation:b,distance:s,ignoreLocation:f}),A<=x)){if(x=A,w=X,w<=b)break;L=Math.max(1,2*b-w)}}if(Bh(e,{errors:D+1,currentLocation:b,expectedLocation:b,distance:s,ignoreLocation:f})>x)break;R=B}const H={isMatch:w>=0,score:Math.max(.001,A)};if(S){const D=_F(T,c);D.length?u&&(H.indices=D):H.isMatch=!1}return H}function wF(n){let e={};for(let t=0,i=n.length;t<i;t+=1){const s=n.charAt(t);e[s]=(e[s]||0)|1<<i-t-1}return e}const sm=String.prototype.normalize?n=>n.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):n=>n;class j2{constructor(e,{location:t=He.location,threshold:i=He.threshold,distance:s=He.distance,includeMatches:r=He.includeMatches,findAllMatches:l=He.findAllMatches,minMatchCharLength:c=He.minMatchCharLength,isCaseSensitive:u=He.isCaseSensitive,ignoreDiacritics:f=He.ignoreDiacritics,ignoreLocation:p=He.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:s,includeMatches:r,findAllMatches:l,minMatchCharLength:c,isCaseSensitive:u,ignoreDiacritics:f,ignoreLocation:p},e=u?e:e.toLowerCase(),e=f?sm(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const g=(x,w)=>{this.chunks.push({pattern:x,alphabet:wF(x),startIndex:w})},b=this.pattern.length;if(b>ko){let x=0;const w=b%ko,S=b-w;for(;x<S;)g(this.pattern.substr(x,ko),x),x+=ko;if(w){const T=b-ko;g(this.pattern.substr(T),T)}}else g(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,ignoreDiacritics:i,includeMatches:s}=this.options;if(e=t?e:e.toLowerCase(),e=i?sm(e):e,this.pattern===e){let S={isMatch:!0,score:0};return s&&(S.indices=[[0,e.length-1]]),S}const{location:r,distance:l,threshold:c,findAllMatches:u,minMatchCharLength:f,ignoreLocation:p}=this.options;let g=[],b=0,x=!1;this.chunks.forEach(({pattern:S,alphabet:T,startIndex:C})=>{const{isMatch:R,score:A,indices:V}=xF(e,S,T,{location:r+C,distance:l,threshold:c,findAllMatches:u,minMatchCharLength:f,includeMatches:s,ignoreLocation:p});R&&(x=!0),b+=A,R&&V&&(g=[...g,...V])});let w={isMatch:x,score:x?b/this.chunks.length:1};return x&&s&&(w.indices=g),w}}class Ka{constructor(e){this.pattern=e}static isMultiMatch(e){return v1(e,this.multiRegex)}static isSingleMatch(e){return v1(e,this.singleRegex)}search(){}}function v1(n,e){const t=n.match(e);return t?t[1]:null}class SF extends Ka{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class EF extends Ka{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const i=e.indexOf(this.pattern)===-1;return{isMatch:i,score:i?0:1,indices:[0,e.length-1]}}}class TF extends Ka{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class CF extends Ka{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class AF extends Ka{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class RF extends Ka{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class F2 extends Ka{constructor(e,{location:t=He.location,threshold:i=He.threshold,distance:s=He.distance,includeMatches:r=He.includeMatches,findAllMatches:l=He.findAllMatches,minMatchCharLength:c=He.minMatchCharLength,isCaseSensitive:u=He.isCaseSensitive,ignoreDiacritics:f=He.ignoreDiacritics,ignoreLocation:p=He.ignoreLocation}={}){super(e),this._bitapSearch=new j2(e,{location:t,threshold:i,distance:s,includeMatches:r,findAllMatches:l,minMatchCharLength:c,isCaseSensitive:u,ignoreDiacritics:f,ignoreLocation:p})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class U2 extends Ka{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,i;const s=[],r=this.pattern.length;for(;(i=e.indexOf(this.pattern,t))>-1;)t=i+r,s.push([i,t-1]);const l=!!s.length;return{isMatch:l,score:l?0:1,indices:s}}}const Fb=[SF,U2,TF,CF,RF,AF,EF,F2],y1=Fb.length,IF=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,MF="|";function OF(n,e={}){return n.split(MF).map(t=>{let i=t.trim().split(IF).filter(r=>r&&!!r.trim()),s=[];for(let r=0,l=i.length;r<l;r+=1){const c=i[r];let u=!1,f=-1;for(;!u&&++f<y1;){const p=Fb[f];let g=p.isMultiMatch(c);g&&(s.push(new p(g,e)),u=!0)}if(!u)for(f=-1;++f<y1;){const p=Fb[f];let g=p.isSingleMatch(c);if(g){s.push(new p(g,e));break}}}return s})}const NF=new Set([F2.type,U2.type]);class DF{constructor(e,{isCaseSensitive:t=He.isCaseSensitive,ignoreDiacritics:i=He.ignoreDiacritics,includeMatches:s=He.includeMatches,minMatchCharLength:r=He.minMatchCharLength,ignoreLocation:l=He.ignoreLocation,findAllMatches:c=He.findAllMatches,location:u=He.location,threshold:f=He.threshold,distance:p=He.distance}={}){this.query=null,this.options={isCaseSensitive:t,ignoreDiacritics:i,includeMatches:s,minMatchCharLength:r,findAllMatches:c,ignoreLocation:l,location:u,threshold:f,distance:p},e=t?e:e.toLowerCase(),e=i?sm(e):e,this.pattern=e,this.query=OF(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:s,ignoreDiacritics:r}=this.options;e=s?e:e.toLowerCase(),e=r?sm(e):e;let l=0,c=[],u=0;for(let f=0,p=t.length;f<p;f+=1){const g=t[f];c.length=0,l=0;for(let b=0,x=g.length;b<x;b+=1){const w=g[b],{isMatch:S,indices:T,score:C}=w.search(e);if(S){if(l+=1,u+=C,i){const R=w.constructor.type;NF.has(R)?c=[...c,...T]:c.push(T)}}else{u=0,l=0,c.length=0;break}}if(l){let b={isMatch:!0,score:u/l};return i&&(b.indices=c),b}}return{isMatch:!1,score:1}}}const Ub=[];function PF(...n){Ub.push(...n)}function zb(n,e){for(let t=0,i=Ub.length;t<i;t+=1){let s=Ub[t];if(s.condition(n,e))return new s(n,e)}return new j2(n,e)}const rm={AND:"$and",OR:"$or"},Bb={PATH:"$path",PATTERN:"$val"},Hb=n=>!!(n[rm.AND]||n[rm.OR]),kF=n=>!!n[Bb.PATH],LF=n=>!Br(n)&&P2(n)&&!Hb(n),b1=n=>({[rm.AND]:Object.keys(n).map(e=>({[e]:n[e]}))});function z2(n,e,{auto:t=!0}={}){const i=s=>{let r=Object.keys(s);const l=kF(s);if(!l&&r.length>1&&!Hb(s))return i(b1(s));if(LF(s)){const u=l?s[Bb.PATH]:r[0],f=l?s[Bb.PATTERN]:s[u];if(!Ds(f))throw new Error(oF(u));const p={keyId:jb(u),pattern:f};return t&&(p.searcher=zb(f,e)),p}let c={children:[],operator:r[0]};return r.forEach(u=>{const f=s[u];Br(f)&&f.forEach(p=>{c.children.push(i(p))})}),c};return Hb(n)||(n=b1(n)),i(n)}function VF(n,{ignoreFieldNorm:e=He.ignoreFieldNorm}){n.forEach(t=>{let i=1;t.matches.forEach(({key:s,norm:r,score:l})=>{const c=s?s.weight:null;i*=Math.pow(l===0&&c?Number.EPSILON:l,(c||1)*(e?1:r))}),t.score=i})}function jF(n,e){const t=n.matches;e.matches=[],xi(t)&&t.forEach(i=>{if(!xi(i.indices)||!i.indices.length)return;const{indices:s,value:r}=i;let l={indices:s,value:r};i.key&&(l.key=i.key.src),i.idx>-1&&(l.refIndex=i.idx),e.matches.push(l)})}function FF(n,e){e.score=n.score}function UF(n,e,{includeMatches:t=He.includeMatches,includeScore:i=He.includeScore}={}){const s=[];return t&&s.push(jF),i&&s.push(FF),n.map(r=>{const{idx:l}=r,c={item:e[l],refIndex:l};return s.length&&s.forEach(u=>{u(r,c)}),c})}class Wo{constructor(e,t={},i){this.options={...He,...t},this.options.useExtendedSearch,this._keyStore=new dF(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof E_))throw new Error(aF);this._myIndex=t||V2(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){xi(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let i=0,s=this._docs.length;i<s;i+=1){const r=this._docs[i];e(r,i)&&(this.removeAt(i),i-=1,s-=1,t.push(r))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:i,includeScore:s,shouldSort:r,sortFn:l,ignoreFieldNorm:c}=this.options;let u=Ds(e)?Ds(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return VF(u,{ignoreFieldNorm:c}),r&&u.sort(l),D2(t)&&t>-1&&(u=u.slice(0,t)),UF(u,this._docs,{includeMatches:i,includeScore:s})}_searchStringList(e){const t=zb(e,this.options),{records:i}=this._myIndex,s=[];return i.forEach(({v:r,i:l,n:c})=>{if(!xi(r))return;const{isMatch:u,score:f,indices:p}=t.searchIn(r);u&&s.push({item:r,idx:l,matches:[{score:f,value:r,norm:c,indices:p}]})}),s}_searchLogical(e){const t=z2(e,this.options),i=(c,u,f)=>{if(!c.children){const{keyId:g,searcher:b}=c,x=this._findMatches({key:this._keyStore.get(g),value:this._myIndex.getValueForItemAtKeyId(u,g),searcher:b});return x&&x.length?[{idx:f,item:u,matches:x}]:[]}const p=[];for(let g=0,b=c.children.length;g<b;g+=1){const x=c.children[g],w=i(x,u,f);if(w.length)p.push(...w);else if(c.operator===rm.AND)return[]}return p},s=this._myIndex.records,r={},l=[];return s.forEach(({$:c,i:u})=>{if(xi(c)){let f=i(t,c,u);f.length&&(r[u]||(r[u]={idx:u,item:c,matches:[]},l.push(r[u])),f.forEach(({matches:p})=>{r[u].matches.push(...p)}))}}),l}_searchObjectList(e){const t=zb(e,this.options),{keys:i,records:s}=this._myIndex,r=[];return s.forEach(({$:l,i:c})=>{if(!xi(l))return;let u=[];i.forEach((f,p)=>{u.push(...this._findMatches({key:f,value:l[p],searcher:t}))}),u.length&&r.push({idx:c,item:l,matches:u})}),r}_findMatches({key:e,value:t,searcher:i}){if(!xi(t))return[];let s=[];if(Br(t))t.forEach(({v:r,i:l,n:c})=>{if(!xi(r))return;const{isMatch:u,score:f,indices:p}=i.searchIn(r);u&&s.push({score:f,key:e,value:r,idx:l,norm:c,indices:p})});else{const{v:r,n:l}=t,{isMatch:c,score:u,indices:f}=i.searchIn(r);c&&s.push({score:u,key:e,value:r,norm:l,indices:f})}return s}}Wo.version="7.1.0";Wo.createIndex=V2;Wo.parseIndex=bF;Wo.config=He;Wo.parseQuery=z2;PF(DF);function zF({isSearchOpen:n,setIsSearchOpen:e,productos:t}){const[i,s]=k.useState(""),[r,l]=k.useState([]),[c,u]=k.useState(!1),f=vn(),p=k.useMemo(()=>new Wo(t,{keys:["nombre","descripcion","marca","etiquetas","tipoCalzado","uso","material","origen"],threshold:.3,includeMatches:!0}),[t]),g=(S,T)=>{let C;return(...R)=>{clearTimeout(C),C=setTimeout(()=>S(...R),T)}},b=k.useCallback(g(async S=>{if(t.length>0){const T=p.search(S);l(T)}else{u(!0);const T=Qt(st,"productos"),R=(await Tn(T)).docs.map(I=>({id:I.id,...I.data()})),V=new Wo(R,{keys:["nombre","descripcion","marca","etiquetas","tipoCalzado","uso","material","origen"],threshold:.3,includeMatches:!0}).search(S);l(V),u(!1)}},300),[p,t]);k.useEffect(()=>{if(!n){s(""),l([]);return}const S=i.trim();if(S===""){l([]);return}b(S)},[i,n,b]),k.useEffect(()=>(document.body.style.overflow=n?"hidden":"",()=>{document.body.style.overflow=""}),[n]);const x=()=>e(!1),w=(S,T)=>{if(!T||T.length===0)return S;let C="",R=0;return T[0].indices.forEach(([A,V])=>{C+=S.slice(R,A),C+=`<mark class='bg-yellow-200'>${S.slice(A,V+1)}</mark>`,R=V+1}),C+=S.slice(R),C};return y.jsx(y.Fragment,{children:n&&y.jsx("div",{className:"fixed inset-0 z-[1000] bg-black/30 backdrop-blur-sm",children:y.jsxs("div",{className:"fixed top-0 left-0 right-0 h-20 bg-white shadow-md z-[1001]",children:[y.jsxs("form",{className:"relative h-full w-full flex items-center px-4",children:[y.jsx("i",{className:"bx bx-search text-xl absolute left-4"}),y.jsx("input",{type:"search",placeholder:"Buscar productos",value:i,autoFocus:!0,onChange:S=>s(S.target.value),className:"pl-10 pr-10 w-full h-full outline-none border-none text-base"}),y.jsx("i",{className:"bx bx-x text-xl absolute right-4 cursor-pointer",onClick:x})]}),i.trim()!==""&&y.jsxs("div",{className:"bg-white max-h-[calc(100vh-10rem)] overflow-y-auto border-t border-gray-200 shadow rounded-b-md flex flex-col",children:[y.jsx("ul",{className:"divide-y divide-gray-100 flex-1 overflow-y-auto",children:c?y.jsx("li",{className:"px-4 py-4 text-sm text-gray-500 text-center",children:"Buscando..."}):y.jsx(y.Fragment,{children:r.length>0?r.map(({item:S,matches:T})=>y.jsx("li",{className:"px-4 py-2 text-sm text-gray-700 cursor-pointer hover:bg-gray-50 transition",onClick:()=>{f(`/productos/${S.slug}`),x()},children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("i",{className:"bx bx-sneaker text-gray-400 text-base"}),y.jsx("span",{className:"truncate",dangerouslySetInnerHTML:{__html:w(S.nombre,T!=null&&T.find(C=>C.key==="nombre")?[T.find(C=>C.key==="nombre")]:[])}})]})},S.id)):y.jsx("li",{className:"px-4 py-4 text-sm text-gray-500 text-center",children:"No encontramos el producto que buscas."})})}),y.jsx("div",{className:"border-t px-4 py-3 bg-white sticky bottom-0 z-10",children:y.jsxs("button",{onClick:()=>{f("/productos"),x()},className:"w-full flex items-center justify-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium transition-colors",children:[y.jsx("i",{className:"bx bx-store-alt text-lg"}),y.jsx("span",{children:"Ver todos los productos"})]})})]})]})})})}function T_({mostrarModalFiltros:n,animatingClose:e,cerrarModalConAnimacion:t,direction:i="left",width:s="w-72",minHeight:r="max-h-[calc(100vh-8rem)] md:max-h-[calc(100vh-4rem)]",children:l}){if(k.useEffect(()=>(n?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[n]),!n&&!e)return null;const c=i==="left"?e?"slide-out-left":"slide-in-left":e?"slide-out-right":"slide-in-right";return y.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm transition-opacity duration-300 opacity-100",onClick:t}),y.jsxs("div",{className:`relative h-full bg-white shadow-xl ${s} ${c} ${i==="right"?"max-w-[80%] right-0 absolute ml-auto":"left-0 absolute"}`,children:[y.jsx("div",{className:"flex justify-end items-center p-4",children:y.jsx("button",{onClick:t,children:"✕"})}),y.jsx("div",{className:`p-2 overflow-y-auto h-full ${r}`,children:l})]})]})}function BF({isMobileMenuOpen:n,setIsMobileMenuOpen:e}){const[t,i]=k.useState(!1),[s,r]=k.useState(!1),{user:l}=rg(),c=vn(),u=()=>{i(!0),setTimeout(()=>{e(!1),i(!1)},400)},f=async()=>{try{await k0(on),localStorage.removeItem("usuario"),sessionStorage.removeItem("usuario"),c("/login")}catch(p){console.error("Error al cerrar sesión:",p)}};return y.jsx(T_,{mostrarModalFiltros:n,animatingClose:t,cerrarModalConAnimacion:u,children:y.jsxs("div",{className:"main-menu scrollto flex flex-col h-full",children:[y.jsx("nav",{className:"wrapper",children:y.jsxs("ul",{className:"pt-2 space-y-2",children:[y.jsx("li",{children:y.jsx("a",{className:"block px-4 text-black",href:"",children:"Inicio"})}),y.jsx("li",{children:y.jsx("a",{className:"block px-4 text-black",href:"/productos",children:"Productos"})}),y.jsx("li",{children:y.jsx("a",{className:"block px-4 text-black",href:"/#marcas",onClick:()=>e(!1),children:"Marcas"})}),y.jsx("li",{children:y.jsx("a",{className:"block px-4 text-black",href:"#contacto",onClick:()=>e(!1),children:"Contacto"})})]})}),!l&&y.jsxs("div",{className:"mt-auto p-4 flex flex-col space-y-2 gap-2",children:[y.jsx("a",{href:"/login",className:"btn secondary-btn text-center bg-black text-white py-2 rounded",children:"Iniciar Sesión"}),y.jsx("a",{href:"/register",className:"btn primary-btn text-center border border-black py-2 text-black rounded",children:"Registrarse"})]}),l&&y.jsxs("div",{className:"mt-auto border-t border-gray-200 px-4 pt-4",children:[y.jsxs("button",{onClick:()=>r(!s),className:"w-full flex justify-between items-center text-black font-medium text-left truncate",children:[y.jsxs("span",{className:"truncate max-w-[80%]",title:l.displayName||l.email,children:["Hola, ",l.displayName||l.email]}),y.jsx("svg",{className:`w-4 h-4 transition-transform duration-300 ${s?"rotate-180":"rotate-0"}`,fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})]}),y.jsxs("ul",{className:`mt-3 space-y-2 text-sm text-gray-800 overflow-hidden transition-all duration-300 ${s?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:[y.jsx("li",{children:y.jsx("button",{onClick:()=>{c("/mi-perfil"),e(!1)},className:"block w-full text-left hover:bg-gray-100 px-2 py-1 rounded",children:"Ver perfil"})}),y.jsx("li",{children:y.jsx("button",{onClick:()=>{c("/mis-compras"),e(!1)},className:"block w-full text-left hover:bg-gray-100 px-2 py-1 rounded",children:"Mis compras"})}),y.jsx("li",{children:y.jsx("button",{onClick:f,className:"block w-full text-left text-red-600 hover:bg-gray-100 px-2 py-1 rounded",children:"Cerrar sesión"})})]})]})]})})}function HF(){const[n,e]=k.useState(!1),[t,i]=k.useState(!1),[s,r]=k.useState(!1),[l,c]=k.useState([]);return k.useEffect(()=>{if(!n)return;(async()=>{try{const f=lf(Qt(st,"productos"),h5(20)),g=(await Tn(f)).docs.map(b=>({id:b.id,...b.data()}));c(g)}catch(f){console.error("Error al obtener productos:",f)}})()},[n]),k.useEffect(()=>{const u=window.matchMedia("(min-width: 992px)"),f=p=>{p.matches&&r(!1)};return u.addEventListener("change",f),()=>u.removeEventListener("change",f)},[]),y.jsxs("div",{id:"page",className:`${s?"mobile-version":""}`,children:[y.jsx("header",{children:y.jsxs("div",{className:"inner-header leading-[80px]",children:[y.jsx("div",{className:"wide",children:y.jsxs("div",{className:"wrap",children:[y.jsx(X5,{setIsMobileMenuOpen:r}),y.jsx(Q5,{}),y.jsx(tF,{setIsSearchOpen:e})]})}),y.jsx(zF,{isSearchOpen:n,setIsSearchOpen:e,productos:l})]})}),y.jsx(BF,{isMobileMenuOpen:s,setIsMobileMenuOpen:r,isSubmenuOpen:t,setIsSubMenuOpen:i})]})}function $F(){return y.jsx("div",{id:"contacto",className:"footer relative left-1/2 -translate-x-1/2 w-screen",children:y.jsxs("footer",{className:"bg-black text-gray-200 py-6 mt-10",children:[y.jsxs("div",{className:"max-w-7xl mx-auto px-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"title-footer text-2xl font-bold mb-2 font-[Anton] uppercase italic text-[40px]",children:"Nikos"}),y.jsx("p",{className:"text-sm",children:"Vendemos productos únicos para personas únicas. Calidad, estilo y funcionalidad en uno solo."})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Enlaces"}),y.jsxs("ul",{className:"space-y-2 text-sm",children:[y.jsx("li",{children:y.jsx("a",{href:"/",className:"hover:underline",children:"Inicio"})}),y.jsx("li",{children:y.jsx("a",{href:"/productos",className:"hover:underline",children:"Productos"})}),y.jsx("li",{children:y.jsx("a",{href:"/#marcas",className:"hover:underline",children:"Marcas"})}),y.jsx("li",{children:y.jsx("a",{href:"#contacto",className:"hover:underline",children:"Contacto"})})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Contacto"}),y.jsxs("ul",{className:"space-y-2 text-sm",children:[y.jsx("li",{children:"Email: contacto@mimarca.com"}),y.jsx("li",{children:"Tel: +51 944 788 568"}),y.jsx("li",{children:"Dirección: Calle Ficticia 123, Ciudad"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Síguenos"}),y.jsxs("div",{className:"flex gap-4 text-xl",children:[y.jsx("a",{href:"https://www.facebook.com",target:"_blank",className:"hover:text-white",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"24",height:"24",children:y.jsx("path",{d:"M22 12a10 10 0 1 0-11.6 9.9v-7H8v-2.9h2.4V9.8c0-2.4 1.4-3.7 3.5-3.7 1 0 2 .2 2 .2v2.3h-1.1c-1.1 0-1.4.7-1.4 1.4v1.7h2.5l-.4 2.9H13.4v7A10 10 0 0 0 22 12z"})})}),y.jsx("a",{href:"https://www.instagram.com",target:"_blank",className:"hover:text-white",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"white",viewBox:"0 0 24 24",width:"24",height:"24",children:y.jsx("path",{d:"M7 2C4.2 2 2 4.2 2 7v10c0 2.8 2.2 5 5 5h10c2.8 0 5-2.2 5-5V7c0-2.8-2.2-5-5-5H7zm10 2c1.7 0 3 1.3 3 3v10c0 1.7-1.3 3-3 3H7c-1.7 0-3-1.3-3-3V7c0-1.7 1.3-3 3-3h10zM12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0 2a3 3 0 1 1 0 6 3 3 0 0 1 0-6zm4.5-2a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"})})})]})]})]}),y.jsxs("div",{className:"border-t border-gray-700 mt-10 pt-4 text-center text-sm",children:["v.1.0.6 © ",new Date().getFullYear()," Nikos. Todos los derechos reservados."]})]})})}const C_=""+new URL("no-photo-B4rHX3et.JPG",import.meta.url).href;function qF(){const{carrito:n,quitarDelCarrito:e,vaciarCarrito:t,actualizarCantidad:i}=ag(),s=vn(),{cerrarModalConAnimacion:r}=S_(),[l,c]=k.useState(null),[u,f]=k.useState("");k.useEffect(()=>{const x=JSON.parse(localStorage.getItem("usuario"));c((x==null?void 0:x.usuarioMayorista)||!1)},[]);const p=()=>{r(),setTimeout(()=>s("/checkout"),400)},g=(x,w)=>{const S=x.cantidad+w;S>3?f(x.slug+x.talla+x.color):f(""),i(x.slug,x.talla,x.color,S)},b=k.useMemo(()=>n.reduce((x,w)=>{const S=l?w.precioMayorista:w.precioDescuento||w.precio;return x+S*w.cantidad},0),[n,l]);return l===null?null:y.jsxs("div",{className:"flex flex-col h-full",children:[y.jsxs("div",{className:"px-4 pb-1 flex justify-between items-center",children:[y.jsx("h2",{className:"text-xl font-bold",children:"Mi Carrito"}),n.length>0&&y.jsx("button",{onClick:t,className:"btn btn-sm secondary-btn px-2 py-1","aria-label":"Vaciar carrito",children:y.jsx("i",{className:"bx bx-trash"})})]}),y.jsx("div",{className:"flex-1 overflow-y-auto p-2 md:p-4 space-y-4",children:n.length===0?y.jsx("p",{className:"text-gray-500",children:"Tu carrito está vacío."}):n.map((x,w)=>{const S=l?x.precioMayorista:x.precioDescuento||x.precio;return y.jsxs("div",{className:"flex gap-4 bg-white py-2 relative",children:[y.jsx("img",{src:x.imagen||C_,alt:`Imagen de ${x.nombre}`,className:"w-20 h-20 object-cover rounded border",loading:"lazy"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-semibold text-gray-800 cursor-pointer hover:underline",onClick:()=>s(`/productos/${x.slug}`),"aria-label":`Ir a ${x.nombre}`,children:x.nombre}),y.jsxs("div",{className:"text-sm text-gray-600 flex gap-2",children:[y.jsxs("span",{children:["Talla: ",y.jsx("strong",{children:x.talla})]}),y.jsx("span",{children:"|"}),y.jsxs("span",{children:["Color: ",x.color]})]}),y.jsxs("div",{className:"text-sm text-gray-700 mt-1",children:["S/ ",S==null?void 0:S.toFixed(2)," c/u"]}),y.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[y.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded",onClick:()=>g(x,-1),disabled:x.cantidad===1,"aria-label":"Disminuir cantidad",children:"−"}),y.jsx("input",{type:"text",value:x.cantidad,readOnly:!0,className:"w-8 text-center border rounded","aria-label":"Cantidad"}),y.jsx("button",{className:"px-2 py-1 bg-gray-200 rounded",onClick:()=>g(x,1),"aria-label":"Aumentar cantidad",children:"+"})]})]}),y.jsx("button",{onClick:()=>e(x.slug,x.talla,x.color),className:"text-red-500 hover:text-red-700 self-start",title:"Quitar del carrito","aria-label":`Quitar ${x.nombre}`,children:y.jsx("i",{className:"bx bx-trash"})})]},`${x.slug}-${x.talla}-${x.color}-${w}`)})}),n.length>0&&y.jsxs("div",{className:"bg-black text-white p-4 border-t",children:[y.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm",children:[y.jsx("span",{children:"Total:"}),y.jsxs("span",{className:"font-semibold",children:["S/ ",b.toFixed(2)]})]}),u!==""&&y.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Si deseas hacer compras al por mayor, comunícate con nosotros para acceder a mejores precios."}),y.jsx("button",{onClick:p,className:"w-full bg-green-600 hover:bg-green-700 py-2 rounded text-white font-semibold transition","aria-label":"Confirmar compra",children:"Confirmar compra"})]})]})}function GF(){return y.jsx("a",{href:"https://wa.me/51944788568",className:"whatsapp-float",target:"_blank",rel:"noopener noreferrer","aria-label":"Contáctanos por WhatsApp",children:y.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/5e/WhatsApp_icon.png",alt:"WhatsApp",width:"50",height:"50"})})}function YF(){const{mostrarCarrito:n,animatingClose:e,cerrarModalConAnimacion:t}=S_();return y.jsxs(y.Fragment,{children:[y.jsx(HF,{}),y.jsx(zA,{}),y.jsx($F,{}),y.jsx(T_,{mostrarModalFiltros:n,animatingClose:e,cerrarModalConAnimacion:t,direction:"right",width:"w-[500px]",children:y.jsx(qF,{})}),y.jsx(GF,{})]})}function _1(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function A_(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:_1(e[i])&&_1(n[i])&&Object.keys(e[i]).length>0&&A_(n[i],e[i])})}const B2={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Xa(){const n=typeof document<"u"?document:{};return A_(n,B2),n}const WF={document:B2,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function ei(){const n=typeof window<"u"?window:{};return A_(n,WF),n}function KF(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function XF(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function $b(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Uo(){return Date.now()}function QF(n){const e=ei();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function ZF(n,e){e===void 0&&(e="x");const t=ei();let i,s,r;const l=QF(n);return t.WebKitCSSMatrix?(s=l.transform||l.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(c=>c.replace(",",".")).join(", ")),r=new t.WebKitCSSMatrix(s==="none"?"":s)):(r=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=r.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?s=r.m41:i.length===16?s=parseFloat(i[12]):s=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?s=r.m42:i.length===16?s=parseFloat(i[13]):s=parseFloat(i[5])),s||0}function sd(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function JF(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function bi(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!JF(i)){const s=Object.keys(Object(i)).filter(r=>e.indexOf(r)<0);for(let r=0,l=s.length;r<l;r+=1){const c=s[r],u=Object.getOwnPropertyDescriptor(i,c);u!==void 0&&u.enumerable&&(sd(n[c])&&sd(i[c])?i[c].__swiper__?n[c]=i[c]:bi(n[c],i[c]):!sd(n[c])&&sd(i[c])?(n[c]={},i[c].__swiper__?n[c]=i[c]:bi(n[c],i[c])):n[c]=i[c])}}}return n}function Hh(n,e,t){n.style.setProperty(e,t)}function H2(n){let{swiper:e,targetPosition:t,side:i}=n;const s=ei(),r=-e.translate;let l=null,c;const u=e.params.speed;e.wrapperEl.style.scrollSnapType="none",s.cancelAnimationFrame(e.cssModeFrameID);const f=t>r?"next":"prev",p=(b,x)=>f==="next"&&b>=x||f==="prev"&&b<=x,g=()=>{c=new Date().getTime(),l===null&&(l=c);const b=Math.max(Math.min((c-l)/u,1),0),x=.5-Math.cos(b*Math.PI)/2;let w=r+x*(t-r);if(p(w,t)&&(w=t),e.wrapperEl.scrollTo({[i]:w}),p(w,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:w})}),s.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=s.requestAnimationFrame(g)};g()}function is(n,e){e===void 0&&(e="");const t=ei(),i=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&i.push(...n.assignedElements()),e?i.filter(s=>s.matches(e)):i}function eU(n,e){const t=[e];for(;t.length>0;){const i=t.shift();if(n===i)return!0;t.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function tU(n,e){const t=ei();let i=e.contains(n);return!i&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(n),i||(i=eU(n,e))),i}function am(n){try{console.warn(n);return}catch{}}function om(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:KF(e)),t}function nU(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function iU(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function Ma(n,e){return ei().getComputedStyle(n,null).getPropertyValue(e)}function lm(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function $2(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function ky(n,e){function t(i){i.target===n&&(e.call(n,i),n.removeEventListener("transitionend",t))}e&&n.addEventListener("transitionend",t)}function qb(n,e,t){const i=ei();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function En(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function cm(n,e){e===void 0&&(e=""),typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let Ly;function sU(){const n=ei(),e=Xa();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function q2(){return Ly||(Ly=sU()),Ly}let Vy;function rU(n){let{userAgent:e}=n===void 0?{}:n;const t=q2(),i=ei(),s=i.navigator.platform,r=e||i.navigator.userAgent,l={ios:!1,android:!1},c=i.screen.width,u=i.screen.height,f=r.match(/(Android);?[\s\/]+([\d.]+)?/);let p=r.match(/(iPad).*OS\s([\d_]+)/);const g=r.match(/(iPod)(.*OS\s([\d_]+))?/),b=!p&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),x=s==="Win32";let w=s==="MacIntel";const S=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&w&&t.touch&&S.indexOf(`${c}x${u}`)>=0&&(p=r.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),w=!1),f&&!x&&(l.os="android",l.android=!0),(p||b||g)&&(l.os="ios",l.ios=!0),l}function G2(n){return n===void 0&&(n={}),Vy||(Vy=rU(n)),Vy}let jy;function aU(){const n=ei(),e=G2();let t=!1;function i(){const c=n.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(i()){const c=String(n.navigator.userAgent);if(c.includes("Version/")){const[u,f]=c.split("Version/")[1].split(" ")[0].split(".").map(p=>Number(p));t=u<16||u===16&&f<2}}const s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),r=i(),l=r||s&&e.ios;return{isSafari:t||r,needPerspectiveFix:t,need3dFix:l,isWebView:s}}function Y2(){return jy||(jy=aU()),jy}function oU(n){let{swiper:e,on:t,emit:i}=n;const s=ei();let r=null,l=null;const c=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},u=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(g=>{l=s.requestAnimationFrame(()=>{const{width:b,height:x}=e;let w=b,S=x;g.forEach(T=>{let{contentBoxSize:C,contentRect:R,target:A}=T;A&&A!==e.el||(w=R?R.width:(C[0]||C).inlineSize,S=R?R.height:(C[0]||C).blockSize)}),(w!==b||S!==x)&&c()})}),r.observe(e.el))},f=()=>{l&&s.cancelAnimationFrame(l),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},p=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof s.ResizeObserver<"u"){u();return}s.addEventListener("resize",c),s.addEventListener("orientationchange",p)}),t("destroy",()=>{f(),s.removeEventListener("resize",c),s.removeEventListener("orientationchange",p)})}function lU(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r=[],l=ei(),c=function(p,g){g===void 0&&(g={});const b=l.MutationObserver||l.WebkitMutationObserver,x=new b(w=>{if(e.__preventObserver__)return;if(w.length===1){s("observerUpdate",w[0]);return}const S=function(){s("observerUpdate",w[0])};l.requestAnimationFrame?l.requestAnimationFrame(S):l.setTimeout(S,0)});x.observe(p,{attributes:typeof g.attributes>"u"?!0:g.attributes,childList:e.isElement||(typeof g.childList>"u"?!0:g).childList,characterData:typeof g.characterData>"u"?!0:g.characterData}),r.push(x)},u=()=>{if(e.params.observer){if(e.params.observeParents){const p=$2(e.hostEl);for(let g=0;g<p.length;g+=1)c(p[g])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},f=()=>{r.forEach(p=>{p.disconnect()}),r.splice(0,r.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",u),i("destroy",f)}var cU={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const s=t?"unshift":"push";return n.split(" ").forEach(r=>{i.eventsListeners[r]||(i.eventsListeners[r]=[]),i.eventsListeners[r][s](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function s(){i.off(n,s),s.__emitterProxy&&delete s.__emitterProxy;for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];e.apply(i,l)}return s.__emitterProxy=e,i.on(n,s,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((s,r)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&t.eventsListeners[i].splice(r,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],t=r.slice(1,r.length),i=n):(e=r[0].events,t=r[0].data,i=r[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(u=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(f=>{f.apply(i,[u,...t])}),n.eventsListeners&&n.eventsListeners[u]&&n.eventsListeners[u].forEach(f=>{f.apply(i,t)})}),n}};function uU(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Ma(i,"padding-left")||0,10)-parseInt(Ma(i,"padding-right")||0,10),t=t-parseInt(Ma(i,"padding-top")||0,10)-parseInt(Ma(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function dU(){const n=this;function e(L,U){return parseFloat(L.getPropertyValue(n.getDirectionLabel(U))||0)}const t=n.params,{wrapperEl:i,slidesEl:s,size:r,rtlTranslate:l,wrongRTL:c}=n,u=n.virtual&&t.virtual.enabled,f=u?n.virtual.slides.length:n.slides.length,p=is(s,`.${n.params.slideClass}, swiper-slide`),g=u?n.virtual.slides.length:p.length;let b=[];const x=[],w=[];let S=t.slidesOffsetBefore;typeof S=="function"&&(S=t.slidesOffsetBefore.call(n));let T=t.slidesOffsetAfter;typeof T=="function"&&(T=t.slidesOffsetAfter.call(n));const C=n.snapGrid.length,R=n.slidesGrid.length;let A=t.spaceBetween,V=-S,I=0,H=0;if(typeof r>"u")return;typeof A=="string"&&A.indexOf("%")>=0?A=parseFloat(A.replace("%",""))/100*r:typeof A=="string"&&(A=parseFloat(A)),n.virtualSize=-A,p.forEach(L=>{l?L.style.marginLeft="":L.style.marginRight="",L.style.marginBottom="",L.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(Hh(i,"--swiper-centered-offset-before",""),Hh(i,"--swiper-centered-offset-after",""));const D=t.grid&&t.grid.rows>1&&n.grid;D?n.grid.initSlides(p):n.grid&&n.grid.unsetSlides();let O;const N=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(L=>typeof t.breakpoints[L].slidesPerView<"u").length>0;for(let L=0;L<g;L+=1){O=0;let U;if(p[L]&&(U=p[L]),D&&n.grid.updateSlide(L,U,p),!(p[L]&&Ma(U,"display")==="none")){if(t.slidesPerView==="auto"){N&&(p[L].style[n.getDirectionLabel("width")]="");const B=getComputedStyle(U),j=U.style.transform,ie=U.style.webkitTransform;if(j&&(U.style.transform="none"),ie&&(U.style.webkitTransform="none"),t.roundLengths)O=n.isHorizontal()?qb(U,"width"):qb(U,"height");else{const X=e(B,"width"),$=e(B,"padding-left"),se=e(B,"padding-right"),ue=e(B,"margin-left"),ye=e(B,"margin-right"),q=B.getPropertyValue("box-sizing");if(q&&q==="border-box")O=X+ue+ye;else{const{clientWidth:oe,offsetWidth:me}=U;O=X+$+se+ue+ye+(me-oe)}}j&&(U.style.transform=j),ie&&(U.style.webkitTransform=ie),t.roundLengths&&(O=Math.floor(O))}else O=(r-(t.slidesPerView-1)*A)/t.slidesPerView,t.roundLengths&&(O=Math.floor(O)),p[L]&&(p[L].style[n.getDirectionLabel("width")]=`${O}px`);p[L]&&(p[L].swiperSlideSize=O),w.push(O),t.centeredSlides?(V=V+O/2+I/2+A,I===0&&L!==0&&(V=V-r/2-A),L===0&&(V=V-r/2-A),Math.abs(V)<1/1e3&&(V=0),t.roundLengths&&(V=Math.floor(V)),H%t.slidesPerGroup===0&&b.push(V),x.push(V)):(t.roundLengths&&(V=Math.floor(V)),(H-Math.min(n.params.slidesPerGroupSkip,H))%n.params.slidesPerGroup===0&&b.push(V),x.push(V),V=V+O+A),n.virtualSize+=O+A,I=O,H+=1}}if(n.virtualSize=Math.max(n.virtualSize,r)+T,l&&c&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${n.virtualSize+A}px`),t.setWrapperSize&&(i.style[n.getDirectionLabel("width")]=`${n.virtualSize+A}px`),D&&n.grid.updateWrapperSize(O,b),!t.centeredSlides){const L=[];for(let U=0;U<b.length;U+=1){let B=b[U];t.roundLengths&&(B=Math.floor(B)),b[U]<=n.virtualSize-r&&L.push(B)}b=L,Math.floor(n.virtualSize-r)-Math.floor(b[b.length-1])>1&&b.push(n.virtualSize-r)}if(u&&t.loop){const L=w[0]+A;if(t.slidesPerGroup>1){const U=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),B=L*t.slidesPerGroup;for(let j=0;j<U;j+=1)b.push(b[b.length-1]+B)}for(let U=0;U<n.virtual.slidesBefore+n.virtual.slidesAfter;U+=1)t.slidesPerGroup===1&&b.push(b[b.length-1]+L),x.push(x[x.length-1]+L),n.virtualSize+=L}if(b.length===0&&(b=[0]),A!==0){const L=n.isHorizontal()&&l?"marginLeft":n.getDirectionLabel("marginRight");p.filter((U,B)=>!t.cssMode||t.loop?!0:B!==p.length-1).forEach(U=>{U.style[L]=`${A}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let L=0;w.forEach(B=>{L+=B+(A||0)}),L-=A;const U=L>r?L-r:0;b=b.map(B=>B<=0?-S:B>U?U+T:B)}if(t.centerInsufficientSlides){let L=0;w.forEach(B=>{L+=B+(A||0)}),L-=A;const U=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(L+U<r){const B=(r-L-U)/2;b.forEach((j,ie)=>{b[ie]=j-B}),x.forEach((j,ie)=>{x[ie]=j+B})}}if(Object.assign(n,{slides:p,snapGrid:b,slidesGrid:x,slidesSizesGrid:w}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){Hh(i,"--swiper-centered-offset-before",`${-b[0]}px`),Hh(i,"--swiper-centered-offset-after",`${n.size/2-w[w.length-1]/2}px`);const L=-n.snapGrid[0],U=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(B=>B+L),n.slidesGrid=n.slidesGrid.map(B=>B+U)}if(g!==f&&n.emit("slidesLengthChange"),b.length!==C&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),x.length!==R&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!u&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const L=`${t.containerModifierClass}backface-hidden`,U=n.el.classList.contains(L);g<=t.maxBackfaceHiddenSlides?U||n.el.classList.add(L):U&&n.el.classList.remove(L)}}function fU(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let s=0,r;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const l=c=>i?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{t.push(c)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const c=e.activeIndex+r;if(c>e.slides.length&&!i)break;t.push(l(c))}else t.push(l(e.activeIndex));for(r=0;r<t.length;r+=1)if(typeof t[r]<"u"){const c=t[r].offsetHeight;s=c>s?c:s}(s||s===0)&&(e.wrapperEl.style.height=`${s}px`)}function hU(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}const x1=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function pU(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:s,snapGrid:r}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-n;s&&(l=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=t.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let u=0;u<i.length;u+=1){const f=i[u];let p=f.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(p-=i[0].swiperSlideOffset);const g=(l+(t.centeredSlides?e.minTranslate():0)-p)/(f.swiperSlideSize+c),b=(l-r[0]+(t.centeredSlides?e.minTranslate():0)-p)/(f.swiperSlideSize+c),x=-(l-p),w=x+e.slidesSizesGrid[u],S=x>=0&&x<=e.size-e.slidesSizesGrid[u],T=x>=0&&x<e.size-1||w>1&&w<=e.size||x<=0&&w>=e.size;T&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(u)),x1(f,T,t.slideVisibleClass),x1(f,S,t.slideFullyVisibleClass),f.progress=s?-g:g,f.originalProgress=s?-b:b}}function mU(n){const e=this;if(typeof n>"u"){const p=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*p||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:r,isEnd:l,progressLoop:c}=e;const u=r,f=l;if(i===0)s=0,r=!0,l=!0;else{s=(n-e.minTranslate())/i;const p=Math.abs(n-e.minTranslate())<1,g=Math.abs(n-e.maxTranslate())<1;r=p||s<=0,l=g||s>=1,p&&(s=0),g&&(s=1)}if(t.loop){const p=e.getSlideIndexByData(0),g=e.getSlideIndexByData(e.slides.length-1),b=e.slidesGrid[p],x=e.slidesGrid[g],w=e.slidesGrid[e.slidesGrid.length-1],S=Math.abs(n);S>=b?c=(S-b)/w:c=(S+w-x)/w,c>1&&(c-=1)}Object.assign(e,{progress:s,progressLoop:c,isBeginning:r,isEnd:l}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),r&&!u&&e.emit("reachBeginning toEdge"),l&&!f&&e.emit("reachEnd toEdge"),(u&&!r||f&&!l)&&e.emit("fromEdge"),e.emit("progress",s)}const Fy=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function gU(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:s}=n,r=n.virtual&&t.virtual.enabled,l=n.grid&&t.grid&&t.grid.rows>1,c=g=>is(i,`.${t.slideClass}${g}, swiper-slide${g}`)[0];let u,f,p;if(r)if(t.loop){let g=s-n.virtual.slidesBefore;g<0&&(g=n.virtual.slides.length+g),g>=n.virtual.slides.length&&(g-=n.virtual.slides.length),u=c(`[data-swiper-slide-index="${g}"]`)}else u=c(`[data-swiper-slide-index="${s}"]`);else l?(u=e.find(g=>g.column===s),p=e.find(g=>g.column===s+1),f=e.find(g=>g.column===s-1)):u=e[s];u&&(l||(p=iU(u,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!p&&(p=e[0]),f=nU(u,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!f===0&&(f=e[e.length-1]))),e.forEach(g=>{Fy(g,g===u,t.slideActiveClass),Fy(g,g===p,t.slideNextClass),Fy(g,g===f,t.slidePrevClass)}),n.emitSlidesClasses()}const Ep=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,i=e.closest(t());if(i){let s=i.querySelector(`.${n.params.lazyPreloaderClass}`);!s&&n.isElement&&(i.shadowRoot?s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(s=i.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),s&&s.remove())})),s&&s.remove()}},Uy=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Gb=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),s=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const l=s,c=[l-e];c.push(...Array.from({length:e}).map((u,f)=>l+i+f)),n.slides.forEach((u,f)=>{c.includes(u.column)&&Uy(n,f)});return}const r=s+i-1;if(n.params.rewind||n.params.loop)for(let l=s-e;l<=r+e;l+=1){const c=(l%t+t)%t;(c<s||c>r)&&Uy(n,c)}else for(let l=Math.max(s-e,0);l<=Math.min(r+e,t-1);l+=1)l!==s&&(l>r||l<s)&&Uy(n,l)};function vU(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let s;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?i>=e[r]&&i<e[r+1]-(e[r+1]-e[r])/2?s=r:i>=e[r]&&i<e[r+1]&&(s=r+1):i>=e[r]&&(s=r);return t.normalizeSlideIndex&&(s<0||typeof s>"u")&&(s=0),s}function yU(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:s,activeIndex:r,realIndex:l,snapIndex:c}=e;let u=n,f;const p=x=>{let w=x-e.virtual.slidesBefore;return w<0&&(w=e.virtual.slides.length+w),w>=e.virtual.slides.length&&(w-=e.virtual.slides.length),w};if(typeof u>"u"&&(u=vU(e)),i.indexOf(t)>=0)f=i.indexOf(t);else{const x=Math.min(s.slidesPerGroupSkip,u);f=x+Math.floor((u-x)/s.slidesPerGroup)}if(f>=i.length&&(f=i.length-1),u===r&&!e.params.loop){f!==c&&(e.snapIndex=f,e.emit("snapIndexChange"));return}if(u===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=p(u);return}const g=e.grid&&s.grid&&s.grid.rows>1;let b;if(e.virtual&&s.virtual.enabled&&s.loop)b=p(u);else if(g){const x=e.slides.find(S=>S.column===u);let w=parseInt(x.getAttribute("data-swiper-slide-index"),10);Number.isNaN(w)&&(w=Math.max(e.slides.indexOf(x),0)),b=Math.floor(w/s.grid.rows)}else if(e.slides[u]){const x=e.slides[u].getAttribute("data-swiper-slide-index");x?b=parseInt(x,10):b=u}else b=u;Object.assign(e,{previousSnapIndex:c,snapIndex:f,previousRealIndex:l,realIndex:b,previousIndex:r,activeIndex:u}),e.initialized&&Gb(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(l!==b&&e.emit("realIndexChange"),e.emit("slideChange"))}function bU(n,e){const t=this,i=t.params;let s=n.closest(`.${i.slideClass}, swiper-slide`);!s&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(c=>{!s&&c.matches&&c.matches(`.${i.slideClass}, swiper-slide`)&&(s=c)});let r=!1,l;if(s){for(let c=0;c<t.slides.length;c+=1)if(t.slides[c]===s){r=!0,l=c;break}}if(s&&r)t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(s.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=l;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var _U={updateSize:uU,updateSlides:dU,updateAutoHeight:fU,updateSlidesOffset:hU,updateSlidesProgress:pU,updateProgress:mU,updateSlidesClasses:gU,updateActiveIndex:yU,updateClickedSlide:bU};function xU(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:s,wrapperEl:r}=e;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;let l=ZF(r,n);return l+=e.cssOverflowAdjustment(),i&&(l=-l),l||0}function wU(n,e){const t=this,{rtlTranslate:i,params:s,wrapperEl:r,progress:l}=t;let c=0,u=0;const f=0;t.isHorizontal()?c=i?-n:n:u=n,s.roundLengths&&(c=Math.floor(c),u=Math.floor(u)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?c:u,s.cssMode?r[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-c:-u:s.virtualTranslate||(t.isHorizontal()?c-=t.cssOverflowAdjustment():u-=t.cssOverflowAdjustment(),r.style.transform=`translate3d(${c}px, ${u}px, ${f}px)`);let p;const g=t.maxTranslate()-t.minTranslate();g===0?p=0:p=(n-t.minTranslate())/g,p!==l&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function SU(){return-this.snapGrid[0]}function EU(){return-this.snapGrid[this.snapGrid.length-1]}function TU(n,e,t,i,s){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const r=this,{params:l,wrapperEl:c}=r;if(r.animating&&l.preventInteractionOnTransition)return!1;const u=r.minTranslate(),f=r.maxTranslate();let p;if(i&&n>u?p=u:i&&n<f?p=f:p=n,r.updateProgress(p),l.cssMode){const g=r.isHorizontal();if(e===0)c[g?"scrollLeft":"scrollTop"]=-p;else{if(!r.support.smoothScroll)return H2({swiper:r,targetPosition:-p,side:g?"left":"top"}),!0;c.scrollTo({[g?"left":"top"]:-p,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(p),t&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(p),t&&(r.emit("beforeTransitionStart",e,s),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(b){!r||r.destroyed||b.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,t&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var CU={getTranslate:xU,setTranslate:wU,minTranslate:SU,maxTranslate:EU,translateTo:TU};function AU(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function W2(n){let{swiper:e,runCallbacks:t,direction:i,step:s}=n;const{activeIndex:r,previousIndex:l}=e;let c=i;c||(r>l?c="next":r<l?c="prev":c="reset"),e.emit(`transition${s}`),t&&c==="reset"?e.emit(`slideResetTransition${s}`):t&&r!==l&&(e.emit(`slideChangeTransition${s}`),c==="next"?e.emit(`slideNextTransition${s}`):e.emit(`slidePrevTransition${s}`))}function RU(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),W2({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function IU(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),W2({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var MU={setTransition:AU,transitionStart:RU,transitionEnd:IU};function OU(n,e,t,i,s){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const r=this;let l=n;l<0&&(l=0);const{params:c,snapGrid:u,slidesGrid:f,previousIndex:p,activeIndex:g,rtlTranslate:b,wrapperEl:x,enabled:w}=r;if(!w&&!i&&!s||r.destroyed||r.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const S=Math.min(r.params.slidesPerGroupSkip,l);let T=S+Math.floor((l-S)/r.params.slidesPerGroup);T>=u.length&&(T=u.length-1);const C=-u[T];if(c.normalizeSlideIndex)for(let D=0;D<f.length;D+=1){const O=-Math.floor(C*100),N=Math.floor(f[D]*100),L=Math.floor(f[D+1]*100);typeof f[D+1]<"u"?O>=N&&O<L-(L-N)/2?l=D:O>=N&&O<L&&(l=D+1):O>=N&&(l=D)}if(r.initialized&&l!==g&&(!r.allowSlideNext&&(b?C>r.translate&&C>r.minTranslate():C<r.translate&&C<r.minTranslate())||!r.allowSlidePrev&&C>r.translate&&C>r.maxTranslate()&&(g||0)!==l))return!1;l!==(p||0)&&t&&r.emit("beforeSlideChangeStart"),r.updateProgress(C);let R;l>g?R="next":l<g?R="prev":R="reset";const A=r.virtual&&r.params.virtual.enabled;if(!(A&&s)&&(b&&-C===r.translate||!b&&C===r.translate))return r.updateActiveIndex(l),c.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),c.effect!=="slide"&&r.setTranslate(C),R!=="reset"&&(r.transitionStart(t,R),r.transitionEnd(t,R)),!1;if(c.cssMode){const D=r.isHorizontal(),O=b?C:-C;if(e===0)A&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),A&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{x[D?"scrollLeft":"scrollTop"]=O})):x[D?"scrollLeft":"scrollTop"]=O,A&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1});else{if(!r.support.smoothScroll)return H2({swiper:r,targetPosition:O,side:D?"left":"top"}),!0;x.scrollTo({[D?"left":"top"]:O,behavior:"smooth"})}return!0}const H=Y2().isSafari;return A&&!s&&H&&r.isElement&&r.virtual.update(!1,!1,l),r.setTransition(e),r.setTranslate(C),r.updateActiveIndex(l),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,i),r.transitionStart(t,R),e===0?r.transitionEnd(t,R):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(O){!r||r.destroyed||O.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(t,R))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function NU(n,e,t,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;if(s.destroyed)return;typeof e>"u"&&(e=s.params.speed);const r=s.grid&&s.params.grid&&s.params.grid.rows>1;let l=n;if(s.params.loop)if(s.virtual&&s.params.virtual.enabled)l=l+s.virtual.slidesBefore;else{let c;if(r){const b=l*s.params.grid.rows;c=s.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===b).column}else c=s.getSlideIndexByData(l);const u=r?Math.ceil(s.slides.length/s.params.grid.rows):s.slides.length,{centeredSlides:f}=s.params;let p=s.params.slidesPerView;p==="auto"?p=s.slidesPerViewDynamic():(p=Math.ceil(parseFloat(s.params.slidesPerView,10)),f&&p%2===0&&(p=p+1));let g=u-c<p;if(f&&(g=g||c<Math.ceil(p/2)),i&&f&&s.params.slidesPerView!=="auto"&&!r&&(g=!1),g){const b=f?c<s.activeIndex?"prev":"next":c-s.activeIndex-1<s.params.slidesPerView?"next":"prev";s.loopFix({direction:b,slideTo:!0,activeSlideIndex:b==="next"?c+1:c-u+1,slideRealIndex:b==="next"?s.realIndex:void 0})}if(r){const b=l*s.params.grid.rows;l=s.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===b).column}else l=s.getSlideIndexByData(l)}return requestAnimationFrame(()=>{s.slideTo(l,e,t,i)}),s}function DU(n,e,t){e===void 0&&(e=!0);const i=this,{enabled:s,params:r,animating:l}=i;if(!s||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);let c=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(c=Math.max(i.slidesPerViewDynamic("current",!0),1));const u=i.activeIndex<r.slidesPerGroupSkip?1:c,f=i.virtual&&r.virtual.enabled;if(r.loop){if(l&&!f&&r.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+u,n,e,t)}),!0}return r.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+u,n,e,t)}function PU(n,e,t){e===void 0&&(e=!0);const i=this,{params:s,snapGrid:r,slidesGrid:l,rtlTranslate:c,enabled:u,animating:f}=i;if(!u||i.destroyed)return i;typeof n>"u"&&(n=i.params.speed);const p=i.virtual&&s.virtual.enabled;if(s.loop){if(f&&!p&&s.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const g=c?i.translate:-i.translate;function b(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const x=b(g),w=r.map(R=>b(R)),S=s.freeMode&&s.freeMode.enabled;let T=r[w.indexOf(x)-1];if(typeof T>"u"&&(s.cssMode||S)){let R;r.forEach((A,V)=>{x>=A&&(R=V)}),typeof R<"u"&&(T=S?r[R]:r[R>0?R-1:R])}let C=0;if(typeof T<"u"&&(C=l.indexOf(T),C<0&&(C=i.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(C=C-i.slidesPerViewDynamic("previous",!0)+1,C=Math.max(C,0))),s.rewind&&i.isBeginning){const R=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(R,n,e,t)}else if(s.loop&&i.activeIndex===0&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(C,n,e,t)}),!0;return i.slideTo(C,n,e,t)}function kU(n,e,t){e===void 0&&(e=!0);const i=this;if(!i.destroyed)return typeof n>"u"&&(n=i.params.speed),i.slideTo(i.activeIndex,n,e,t)}function LU(n,e,t,i){e===void 0&&(e=!0),i===void 0&&(i=.5);const s=this;if(s.destroyed)return;typeof n>"u"&&(n=s.params.speed);let r=s.activeIndex;const l=Math.min(s.params.slidesPerGroupSkip,r),c=l+Math.floor((r-l)/s.params.slidesPerGroup),u=s.rtlTranslate?s.translate:-s.translate;if(u>=s.snapGrid[c]){const f=s.snapGrid[c],p=s.snapGrid[c+1];u-f>(p-f)*i&&(r+=s.params.slidesPerGroup)}else{const f=s.snapGrid[c-1],p=s.snapGrid[c];u-f<=(p-f)*i&&(r-=s.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,s.slidesGrid.length-1),s.slideTo(r,n,e,t)}function VU(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let s=n.clickedIndex,r;const l=n.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(n.animating)return;r=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?s<n.loopedSlides-i/2||s>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),s=n.getSlideIndex(is(t,`${l}[data-swiper-slide-index="${r}"]`)[0]),$b(()=>{n.slideTo(s)})):n.slideTo(s):s>n.slides.length-i?(n.loopFix(),s=n.getSlideIndex(is(t,`${l}[data-swiper-slide-index="${r}"]`)[0]),$b(()=>{n.slideTo(s)})):n.slideTo(s)}else n.slideTo(s)}var jU={slideTo:OU,slideToLoop:NU,slideNext:DU,slidePrev:PU,slideReset:kU,slideToClosest:LU,slideToClickedSlide:VU};function FU(n,e){const t=this,{params:i,slidesEl:s}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;const r=()=>{is(s,`.${i.slideClass}, swiper-slide`).forEach((b,x)=>{b.setAttribute("data-swiper-slide-index",x)})},l=t.grid&&i.grid&&i.grid.rows>1,c=i.slidesPerGroup*(l?i.grid.rows:1),u=t.slides.length%c!==0,f=l&&t.slides.length%i.grid.rows!==0,p=g=>{for(let b=0;b<g;b+=1){const x=t.isElement?om("swiper-slide",[i.slideBlankClass]):om("div",[i.slideClass,i.slideBlankClass]);t.slidesEl.append(x)}};if(u){if(i.loopAddBlankSlides){const g=c-t.slides.length%c;p(g),t.recalcSlides(),t.updateSlides()}else am("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(f){if(i.loopAddBlankSlides){const g=i.grid.rows-t.slides.length%i.grid.rows;p(g),t.recalcSlides(),t.updateSlides()}else am("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();t.loopFix({slideRealIndex:n,direction:i.centeredSlides?void 0:"next",initial:e})}function UU(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:s,activeSlideIndex:r,initial:l,byController:c,byMousewheel:u}=n===void 0?{}:n;const f=this;if(!f.params.loop)return;f.emit("beforeLoopFix");const{slides:p,allowSlidePrev:g,allowSlideNext:b,slidesEl:x,params:w}=f,{centeredSlides:S,initialSlide:T}=w;if(f.allowSlidePrev=!0,f.allowSlideNext=!0,f.virtual&&w.virtual.enabled){t&&(!w.centeredSlides&&f.snapIndex===0?f.slideTo(f.virtual.slides.length,0,!1,!0):w.centeredSlides&&f.snapIndex<w.slidesPerView?f.slideTo(f.virtual.slides.length+f.snapIndex,0,!1,!0):f.snapIndex===f.snapGrid.length-1&&f.slideTo(f.virtual.slidesBefore,0,!1,!0)),f.allowSlidePrev=g,f.allowSlideNext=b,f.emit("loopFix");return}let C=w.slidesPerView;C==="auto"?C=f.slidesPerViewDynamic():(C=Math.ceil(parseFloat(w.slidesPerView,10)),S&&C%2===0&&(C=C+1));const R=w.slidesPerGroupAuto?C:w.slidesPerGroup;let A=R;A%R!==0&&(A+=R-A%R),A+=w.loopAdditionalSlides,f.loopedSlides=A;const V=f.grid&&w.grid&&w.grid.rows>1;p.length<C+A||f.params.effect==="cards"&&p.length<C+A*2?am("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):V&&w.grid.fill==="row"&&am("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const I=[],H=[],D=V?Math.ceil(p.length/w.grid.rows):p.length,O=l&&D-T<C&&!S;let N=O?T:f.activeIndex;typeof r>"u"?r=f.getSlideIndex(p.find($=>$.classList.contains(w.slideActiveClass))):N=r;const L=i==="next"||!i,U=i==="prev"||!i;let B=0,j=0;const X=(V?p[r].column:r)+(S&&typeof s>"u"?-C/2+.5:0);if(X<A){B=Math.max(A-X,R);for(let $=0;$<A-X;$+=1){const se=$-Math.floor($/D)*D;if(V){const ue=D-se-1;for(let ye=p.length-1;ye>=0;ye-=1)p[ye].column===ue&&I.push(ye)}else I.push(D-se-1)}}else if(X+C>D-A){j=Math.max(X-(D-A*2),R),O&&(j=Math.max(j,C-D+T+1));for(let $=0;$<j;$+=1){const se=$-Math.floor($/D)*D;V?p.forEach((ue,ye)=>{ue.column===se&&H.push(ye)}):H.push(se)}}if(f.__preventObserver__=!0,requestAnimationFrame(()=>{f.__preventObserver__=!1}),f.params.effect==="cards"&&p.length<C+A*2&&(H.includes(r)&&H.splice(H.indexOf(r),1),I.includes(r)&&I.splice(I.indexOf(r),1)),U&&I.forEach($=>{p[$].swiperLoopMoveDOM=!0,x.prepend(p[$]),p[$].swiperLoopMoveDOM=!1}),L&&H.forEach($=>{p[$].swiperLoopMoveDOM=!0,x.append(p[$]),p[$].swiperLoopMoveDOM=!1}),f.recalcSlides(),w.slidesPerView==="auto"?f.updateSlides():V&&(I.length>0&&U||H.length>0&&L)&&f.slides.forEach(($,se)=>{f.grid.updateSlide(se,$,f.slides)}),w.watchSlidesProgress&&f.updateSlidesOffset(),t){if(I.length>0&&U){if(typeof e>"u"){const $=f.slidesGrid[N],ue=f.slidesGrid[N+B]-$;u?f.setTranslate(f.translate-ue):(f.slideTo(N+Math.ceil(B),0,!1,!0),s&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-ue,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-ue))}else if(s){const $=V?I.length/w.grid.rows:I.length;f.slideTo(f.activeIndex+$,0,!1,!0),f.touchEventsData.currentTranslate=f.translate}}else if(H.length>0&&L)if(typeof e>"u"){const $=f.slidesGrid[N],ue=f.slidesGrid[N-j]-$;u?f.setTranslate(f.translate-ue):(f.slideTo(N-j,0,!1,!0),s&&(f.touchEventsData.startTranslate=f.touchEventsData.startTranslate-ue,f.touchEventsData.currentTranslate=f.touchEventsData.currentTranslate-ue))}else{const $=V?H.length/w.grid.rows:H.length;f.slideTo(f.activeIndex-$,0,!1,!0)}}if(f.allowSlidePrev=g,f.allowSlideNext=b,f.controller&&f.controller.control&&!c){const $={slideRealIndex:e,direction:i,setTranslate:s,activeSlideIndex:r,byController:!0};Array.isArray(f.controller.control)?f.controller.control.forEach(se=>{!se.destroyed&&se.params.loop&&se.loopFix({...$,slideTo:se.params.slidesPerView===w.slidesPerView?t:!1})}):f.controller.control instanceof f.constructor&&f.controller.control.params.loop&&f.controller.control.loopFix({...$,slideTo:f.controller.control.params.slidesPerView===w.slidesPerView?t:!1})}f.emit("loopFix")}function zU(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(s=>{const r=typeof s.swiperSlideIndex>"u"?s.getAttribute("data-swiper-slide-index")*1:s.swiperSlideIndex;i[r]=s}),n.slides.forEach(s=>{s.removeAttribute("data-swiper-slide-index")}),i.forEach(s=>{t.append(s)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var BU={loopCreate:FU,loopFix:UU,loopDestroy:zU};function HU(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function $U(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var qU={setGrabCursor:HU,unsetGrabCursor:$U};function GU(n,e){e===void 0&&(e=this);function t(i){if(!i||i===Xa()||i===ei())return null;i.assignedSlot&&(i=i.assignedSlot);const s=i.closest(n);return!s&&!i.getRootNode?null:s||t(i.getRootNode().host)}return t(e)}function w1(n,e,t){const i=ei(),{params:s}=n,r=s.edgeSwipeDetection,l=s.edgeSwipeThreshold;return r&&(t<=l||t>=i.innerWidth-l)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function YU(n){const e=this,t=Xa();let i=n;i.originalEvent&&(i=i.originalEvent);const s=e.touchEventsData;if(i.type==="pointerdown"){if(s.pointerId!==null&&s.pointerId!==i.pointerId)return;s.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(s.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){w1(e,i,i.targetTouches[0].pageX);return}const{params:r,touches:l,enabled:c}=e;if(!c||!r.simulateTouch&&i.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let u=i.target;if(r.touchEventsTarget==="wrapper"&&!tU(u,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||s.isTouched&&s.isMoved)return;const f=!!r.noSwipingClass&&r.noSwipingClass!=="",p=i.composedPath?i.composedPath():i.path;f&&i.target&&i.target.shadowRoot&&p&&(u=p[0]);const g=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,b=!!(i.target&&i.target.shadowRoot);if(r.noSwiping&&(b?GU(g,u):u.closest(g))){e.allowClick=!0;return}if(r.swipeHandler&&!u.closest(r.swipeHandler))return;l.currentX=i.pageX,l.currentY=i.pageY;const x=l.currentX,w=l.currentY;if(!w1(e,i,x))return;Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=x,l.startY=w,s.touchStartTime=Uo(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(s.allowThresholdMove=!1);let S=!0;u.matches(s.focusableElements)&&(S=!1,u.nodeName==="SELECT"&&(s.isTouched=!1)),t.activeElement&&t.activeElement.matches(s.focusableElements)&&t.activeElement!==u&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!u.matches(s.focusableElements))&&t.activeElement.blur();const T=S&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||T)&&!u.isContentEditable&&i.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function WU(n){const e=Xa(),t=this,i=t.touchEventsData,{params:s,touches:r,rtlTranslate:l,enabled:c}=t;if(!c||!s.simulateTouch&&n.pointerType==="mouse")return;let u=n;if(u.originalEvent&&(u=u.originalEvent),u.type==="pointermove"&&(i.touchId!==null||u.pointerId!==i.pointerId))return;let f;if(u.type==="touchmove"){if(f=[...u.changedTouches].find(I=>I.identifier===i.touchId),!f||f.identifier!==i.touchId)return}else f=u;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",u);return}const p=f.pageX,g=f.pageY;if(u.preventedByNestedSwiper){r.startX=p,r.startY=g;return}if(!t.allowTouchMove){u.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(r,{startX:p,startY:g,currentX:p,currentY:g}),i.touchStartTime=Uo());return}if(s.touchReleaseOnEdges&&!s.loop)if(t.isVertical()){if(g<r.startY&&t.translate<=t.maxTranslate()||g>r.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(l&&(p>r.startX&&-t.translate<=t.maxTranslate()||p<r.startX&&-t.translate>=t.minTranslate()))return;if(!l&&(p<r.startX&&t.translate<=t.maxTranslate()||p>r.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==u.target&&u.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&u.target===e.activeElement&&u.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",u),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=p,r.currentY=g;const b=r.currentX-r.startX,x=r.currentY-r.startY;if(t.params.threshold&&Math.sqrt(b**2+x**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let I;t.isHorizontal()&&r.currentY===r.startY||t.isVertical()&&r.currentX===r.startX?i.isScrolling=!1:b*b+x*x>=25&&(I=Math.atan2(Math.abs(x),Math.abs(b))*180/Math.PI,i.isScrolling=t.isHorizontal()?I>s.touchAngle:90-I>s.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",u),typeof i.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(i.startMoving=!0),i.isScrolling||u.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!s.cssMode&&u.cancelable&&u.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&u.stopPropagation();let w=t.isHorizontal()?b:x,S=t.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;s.oneWayMovement&&(w=Math.abs(w)*(l?1:-1),S=Math.abs(S)*(l?1:-1)),r.diff=w,w*=s.touchRatio,l&&(w=-w,S=-S);const T=t.touchesDirection;t.swipeDirection=w>0?"prev":"next",t.touchesDirection=S>0?"prev":"next";const C=t.params.loop&&!s.cssMode,R=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(C&&R&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const I=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(I)}i.allowMomentumBounce=!1,s.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",u)}if(new Date().getTime(),s._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&T!==t.touchesDirection&&C&&R&&Math.abs(w)>=1){Object.assign(r,{startX:p,startY:g,currentX:p,currentY:g,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",u),i.isMoved=!0,i.currentTranslate=w+i.startTranslate;let A=!0,V=s.resistanceRatio;if(s.touchReleaseOnEdges&&(V=0),w>0?(C&&R&&i.allowThresholdMove&&i.currentTranslate>(s.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(A=!1,s.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+w)**V))):w<0&&(C&&R&&i.allowThresholdMove&&i.currentTranslate<(s.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(s.slidesPerView!=="auto"&&t.slides.length-s.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(s.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(s.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(A=!1,s.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-w)**V))),A&&(u.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),s.threshold>0)if(Math.abs(w)>s.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,i.currentTranslate=i.startTranslate,r.diff=t.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{i.currentTranslate=i.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&t.freeMode||s.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function KU(n){const e=this,t=e.touchEventsData;let i=n;i.originalEvent&&(i=i.originalEvent);let s;if(i.type==="touchend"||i.type==="touchcancel"){if(s=[...i.changedTouches].find(I=>I.identifier===t.touchId),!s||s.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;s=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:l,touches:c,rtlTranslate:u,slidesGrid:f,enabled:p}=e;if(!p||!l.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&l.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}l.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const g=Uo(),b=g-t.touchStartTime;if(e.allowClick){const I=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(I&&I[0]||i.target,I),e.emit("tap click",i),b<300&&g-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=Uo(),$b(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||c.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let x;if(l.followFinger?x=u?e.translate:-e.translate:x=-t.currentTranslate,l.cssMode)return;if(l.freeMode&&l.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:x});return}const w=x>=-e.maxTranslate()&&!e.params.loop;let S=0,T=e.slidesSizesGrid[0];for(let I=0;I<f.length;I+=I<l.slidesPerGroupSkip?1:l.slidesPerGroup){const H=I<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;typeof f[I+H]<"u"?(w||x>=f[I]&&x<f[I+H])&&(S=I,T=f[I+H]-f[I]):(w||x>=f[I])&&(S=I,T=f[f.length-1]-f[f.length-2])}let C=null,R=null;l.rewind&&(e.isBeginning?R=l.virtual&&l.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(C=0));const A=(x-f[S])/T,V=S<l.slidesPerGroupSkip-1?1:l.slidesPerGroup;if(b>l.longSwipesMs){if(!l.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(A>=l.longSwipesRatio?e.slideTo(l.rewind&&e.isEnd?C:S+V):e.slideTo(S)),e.swipeDirection==="prev"&&(A>1-l.longSwipesRatio?e.slideTo(S+V):R!==null&&A<0&&Math.abs(A)>l.longSwipesRatio?e.slideTo(R):e.slideTo(S))}else{if(!l.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(S+V):e.slideTo(S):(e.swipeDirection==="next"&&e.slideTo(C!==null?C:S+V),e.swipeDirection==="prev"&&e.slideTo(R!==null?R:S))}}function S1(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:s,snapGrid:r}=n,l=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const c=l&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!c?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!l?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=s,n.allowSlideNext=i,n.params.watchOverflow&&r!==n.snapGrid&&n.checkOverflow()}function XU(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function QU(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let s;const r=n.maxTranslate()-n.minTranslate();r===0?s=0:s=(n.translate-n.minTranslate())/r,s!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function ZU(n){const e=this;Ep(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function JU(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const K2=(n,e)=>{const t=Xa(),{params:i,el:s,wrapperEl:r,device:l}=n,c=!!i.nested,u=e==="on"?"addEventListener":"removeEventListener",f=e;!s||typeof s=="string"||(t[u]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:c}),s[u]("touchstart",n.onTouchStart,{passive:!1}),s[u]("pointerdown",n.onTouchStart,{passive:!1}),t[u]("touchmove",n.onTouchMove,{passive:!1,capture:c}),t[u]("pointermove",n.onTouchMove,{passive:!1,capture:c}),t[u]("touchend",n.onTouchEnd,{passive:!0}),t[u]("pointerup",n.onTouchEnd,{passive:!0}),t[u]("pointercancel",n.onTouchEnd,{passive:!0}),t[u]("touchcancel",n.onTouchEnd,{passive:!0}),t[u]("pointerout",n.onTouchEnd,{passive:!0}),t[u]("pointerleave",n.onTouchEnd,{passive:!0}),t[u]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&s[u]("click",n.onClick,!0),i.cssMode&&r[u]("scroll",n.onScroll),i.updateOnWindowResize?n[f](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",S1,!0):n[f]("observerUpdate",S1,!0),s[u]("load",n.onLoad,{capture:!0}))};function ez(){const n=this,{params:e}=n;n.onTouchStart=YU.bind(n),n.onTouchMove=WU.bind(n),n.onTouchEnd=KU.bind(n),n.onDocumentTouchStart=JU.bind(n),e.cssMode&&(n.onScroll=QU.bind(n)),n.onClick=XU.bind(n),n.onLoad=ZU.bind(n),K2(n,"on")}function tz(){K2(this,"off")}var nz={attachEvents:ez,detachEvents:tz};const E1=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function iz(){const n=this,{realIndex:e,initialized:t,params:i,el:s}=n,r=i.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const l=Xa(),c=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",u=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?n.el:l.querySelector(i.breakpointsBase),f=n.getBreakpoint(r,c,u);if(!f||n.currentBreakpoint===f)return;const g=(f in r?r[f]:void 0)||n.originalParams,b=E1(n,i),x=E1(n,g),w=n.params.grabCursor,S=g.grabCursor,T=i.enabled;b&&!x?(s.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),n.emitContainerClasses()):!b&&x&&(s.classList.add(`${i.containerModifierClass}grid`),(g.grid.fill&&g.grid.fill==="column"||!g.grid.fill&&i.grid.fill==="column")&&s.classList.add(`${i.containerModifierClass}grid-column`),n.emitContainerClasses()),w&&!S?n.unsetGrabCursor():!w&&S&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(H=>{if(typeof g[H]>"u")return;const D=i[H]&&i[H].enabled,O=g[H]&&g[H].enabled;D&&!O&&n[H].disable(),!D&&O&&n[H].enable()});const C=g.direction&&g.direction!==i.direction,R=i.loop&&(g.slidesPerView!==i.slidesPerView||C),A=i.loop;C&&t&&n.changeDirection(),bi(n.params,g);const V=n.params.enabled,I=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),T&&!V?n.disable():!T&&V&&n.enable(),n.currentBreakpoint=f,n.emit("_beforeBreakpoint",g),t&&(R?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!A&&I?(n.loopCreate(e),n.updateSlides()):A&&!I&&n.loopDestroy()),n.emit("breakpoint",g)}function sz(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const s=ei(),r=e==="window"?s.innerHeight:t.clientHeight,l=Object.keys(n).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const u=parseFloat(c.substr(1));return{value:r*u,point:c}}return{value:c,point:c}});l.sort((c,u)=>parseInt(c.value,10)-parseInt(u.value,10));for(let c=0;c<l.length;c+=1){const{point:u,value:f}=l[c];e==="window"?s.matchMedia(`(min-width: ${f}px)`).matches&&(i=u):f<=t.clientWidth&&(i=u)}return i||"max"}var rz={setBreakpoint:iz,getBreakpoint:sz};function az(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(s=>{i[s]&&t.push(e+s)}):typeof i=="string"&&t.push(e+i)}),t}function oz(){const n=this,{classNames:e,params:t,rtl:i,el:s,device:r}=n,l=az(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...l),s.classList.add(...e),n.emitContainerClasses()}function lz(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var cz={addClasses:oz,removeClasses:lz};function uz(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const s=n.slides.length-1,r=n.slidesGrid[s]+n.slidesSizesGrid[s]+i*2;n.isLocked=n.size>r}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var dz={checkOverflow:uz},Yb={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function fz(n,e){return function(i){i===void 0&&(i={});const s=Object.keys(i)[0],r=i[s];if(typeof r!="object"||r===null){bi(e,i);return}if(n[s]===!0&&(n[s]={enabled:!0}),s==="navigation"&&n[s]&&n[s].enabled&&!n[s].prevEl&&!n[s].nextEl&&(n[s].auto=!0),["pagination","scrollbar"].indexOf(s)>=0&&n[s]&&n[s].enabled&&!n[s].el&&(n[s].auto=!0),!(s in n&&"enabled"in r)){bi(e,i);return}typeof n[s]=="object"&&!("enabled"in n[s])&&(n[s].enabled=!0),n[s]||(n[s]={enabled:!1}),bi(e,i)}}const zy={eventsEmitter:cU,update:_U,translate:CU,transition:MU,slide:jU,loop:BU,grabCursor:qU,events:nz,breakpoints:rz,checkOverflow:dz,classes:cz},By={};let R_=class Tr{constructor(){let e,t;for(var i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];s.length===1&&s[0].constructor&&Object.prototype.toString.call(s[0]).slice(8,-1)==="Object"?t=s[0]:[e,t]=s,t||(t={}),t=bi({},t),e&&!t.el&&(t.el=e);const l=Xa();if(t.el&&typeof t.el=="string"&&l.querySelectorAll(t.el).length>1){const p=[];return l.querySelectorAll(t.el).forEach(g=>{const b=bi({},t,{el:g});p.push(new Tr(b))}),p}const c=this;c.__swiper__=!0,c.support=q2(),c.device=G2({userAgent:t.userAgent}),c.browser=Y2(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],t.modules&&Array.isArray(t.modules)&&c.modules.push(...t.modules);const u={};c.modules.forEach(p=>{p({params:t,swiper:c,extendParams:fz(t,u),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const f=bi({},Yb,u);return c.params=bi({},f,By,t),c.originalParams=bi({},c.params),c.passedParams=bi({},t),c.params&&c.params.on&&Object.keys(c.params.on).forEach(p=>{c.on(p,c.params.on[p])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,s=is(t,`.${i.slideClass}, swiper-slide`),r=lm(s[0]);return lm(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=is(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),l=(i.maxTranslate()-s)*e+s;i.translateTo(l,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const s=e.getSlideClasses(i);t.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:s,slides:r,slidesGrid:l,slidesSizesGrid:c,size:u,activeIndex:f}=i;let p=1;if(typeof s.slidesPerView=="number")return s.slidesPerView;if(s.centeredSlides){let g=r[f]?Math.ceil(r[f].swiperSlideSize):0,b;for(let x=f+1;x<r.length;x+=1)r[x]&&!b&&(g+=Math.ceil(r[x].swiperSlideSize),p+=1,g>u&&(b=!0));for(let x=f-1;x>=0;x-=1)r[x]&&!b&&(g+=r[x].swiperSlideSize,p+=1,g>u&&(b=!0))}else if(e==="current")for(let g=f+1;g<r.length;g+=1)(t?l[g]+c[g]-l[f]<u:l[g]-l[f]<u)&&(p+=1);else for(let g=f-1;g>=0;g-=1)l[f]-l[g]<u&&(p+=1);return p}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(l=>{l.complete&&Ep(e,l)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const l=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)s(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const l=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(l.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||s()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,s=i.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${s}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const s=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(s()):is(i,s())[0];return!l&&t.params.createElements&&(l=om("div",t.params.wrapperClass),i.append(l),is(i,`.${t.params.slideClass}`).forEach(c=>{l.append(c)})),Object.assign(t,{el:i,wrapperEl:l,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:l,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Ma(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Ma(i,"direction")==="rtl"),wrongRTL:Ma(l,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const s=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&s.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),s.forEach(r=>{r.complete?Ep(t,r):r.addEventListener("load",l=>{Ep(t,l.target)})}),Gb(t),t.initialized=!0,Gb(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:s,el:r,wrapperEl:l,slides:c}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),l&&l.removeAttribute("style"),c&&c.length&&c.forEach(u=>{u.classList.remove(s.slideVisibleClass,s.slideFullyVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass),u.removeAttribute("style"),u.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(u=>{i.off(u)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),XF(i)),i.destroyed=!0),null}static extendDefaults(e){bi(By,e)}static get extendedDefaults(){return By}static get defaults(){return Yb}static installModule(e){Tr.prototype.__modules__||(Tr.prototype.__modules__=[]);const t=Tr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>Tr.installModule(t)),Tr):(Tr.installModule(e),Tr)}};Object.keys(zy).forEach(n=>{Object.keys(zy[n]).forEach(e=>{R_.prototype[e]=zy[n][e]})});R_.use([oU,lU]);const X2=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Ko(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function cc(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:Ko(e[i])&&Ko(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:cc(n[i],e[i]):n[i]=e[i]})}function Q2(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function Z2(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function J2(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function eM(n){n===void 0&&(n="");const e=n.split(" ").map(i=>i.trim()).filter(i=>!!i),t=[];return e.forEach(i=>{t.indexOf(i)<0&&t.push(i)}),t.join(" ")}function hz(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function pz(n){let{swiper:e,slides:t,passedParams:i,changedParams:s,nextEl:r,prevEl:l,scrollbarEl:c,paginationEl:u}=n;const f=s.filter(N=>N!=="children"&&N!=="direction"&&N!=="wrapperClass"),{params:p,pagination:g,navigation:b,scrollbar:x,virtual:w,thumbs:S}=e;let T,C,R,A,V,I,H,D;s.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&!i.thumbs.swiper.destroyed&&p.thumbs&&(!p.thumbs.swiper||p.thumbs.swiper.destroyed)&&(T=!0),s.includes("controller")&&i.controller&&i.controller.control&&p.controller&&!p.controller.control&&(C=!0),s.includes("pagination")&&i.pagination&&(i.pagination.el||u)&&(p.pagination||p.pagination===!1)&&g&&!g.el&&(R=!0),s.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||c)&&(p.scrollbar||p.scrollbar===!1)&&x&&!x.el&&(A=!0),s.includes("navigation")&&i.navigation&&(i.navigation.prevEl||l)&&(i.navigation.nextEl||r)&&(p.navigation||p.navigation===!1)&&b&&!b.prevEl&&!b.nextEl&&(V=!0);const O=N=>{e[N]&&(e[N].destroy(),N==="navigation"?(e.isElement&&(e[N].prevEl.remove(),e[N].nextEl.remove()),p[N].prevEl=void 0,p[N].nextEl=void 0,e[N].prevEl=void 0,e[N].nextEl=void 0):(e.isElement&&e[N].el.remove(),p[N].el=void 0,e[N].el=void 0))};s.includes("loop")&&e.isElement&&(p.loop&&!i.loop?I=!0:!p.loop&&i.loop?H=!0:D=!0),f.forEach(N=>{if(Ko(p[N])&&Ko(i[N]))Object.assign(p[N],i[N]),(N==="navigation"||N==="pagination"||N==="scrollbar")&&"enabled"in i[N]&&!i[N].enabled&&O(N);else{const L=i[N];(L===!0||L===!1)&&(N==="navigation"||N==="pagination"||N==="scrollbar")?L===!1&&O(N):p[N]=i[N]}}),f.includes("controller")&&!C&&e.controller&&e.controller.control&&p.controller&&p.controller.control&&(e.controller.control=p.controller.control),s.includes("children")&&t&&w&&p.virtual.enabled?(w.slides=t,w.update(!0)):s.includes("virtual")&&w&&p.virtual.enabled&&(t&&(w.slides=t),w.update(!0)),s.includes("children")&&t&&p.loop&&(D=!0),T&&S.init()&&S.update(!0),C&&(e.controller.control=p.controller.control),R&&(e.isElement&&(!u||typeof u=="string")&&(u=document.createElement("div"),u.classList.add("swiper-pagination"),u.part.add("pagination"),e.el.appendChild(u)),u&&(p.pagination.el=u),g.init(),g.render(),g.update()),A&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(p.scrollbar.el=c),x.init(),x.updateSize(),x.setTranslate()),V&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),cm(r,e.hostEl.constructor.nextButtonSvg),r.part.add("button-next"),e.el.appendChild(r)),(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-button-prev"),cm(l,e.hostEl.constructor.prevButtonSvg),l.part.add("button-prev"),e.el.appendChild(l))),r&&(p.navigation.nextEl=r),l&&(p.navigation.prevEl=l),b.init(),b.update()),s.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),s.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),s.includes("direction")&&e.changeDirection(i.direction,!1),(I||D)&&e.loopDestroy(),(H||D)&&e.loopCreate(),e.update()}function mz(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},i={},s={};cc(t,Yb),t._emitClasses=!0,t.init=!1;const r={},l=X2.map(u=>u.replace(/_/,"")),c=Object.assign({},n);return Object.keys(c).forEach(u=>{typeof n[u]>"u"||(l.indexOf(u)>=0?Ko(n[u])?(t[u]={},s[u]={},cc(t[u],n[u]),cc(s[u],n[u])):(t[u]=n[u],s[u]=n[u]):u.search(/on[A-Z]/)===0&&typeof n[u]=="function"?e?i[`${u[2].toLowerCase()}${u.substr(3)}`]=n[u]:t.on[`${u[2].toLowerCase()}${u.substr(3)}`]=n[u]:r[u]=n[u])}),["navigation","pagination","scrollbar"].forEach(u=>{t[u]===!0&&(t[u]={}),t[u]===!1&&delete t[u]}),{params:t,passedParams:s,rest:r,events:i}}function gz(n,e){let{el:t,nextEl:i,prevEl:s,paginationEl:r,scrollbarEl:l,swiper:c}=n;Q2(e)&&i&&s&&(c.params.navigation.nextEl=i,c.originalParams.navigation.nextEl=i,c.params.navigation.prevEl=s,c.originalParams.navigation.prevEl=s),Z2(e)&&r&&(c.params.pagination.el=r,c.originalParams.pagination.el=r),J2(e)&&l&&(c.params.scrollbar.el=l,c.originalParams.scrollbar.el=l),c.init(t)}function vz(n,e,t,i,s){const r=[];if(!e)return r;const l=u=>{r.indexOf(u)<0&&r.push(u)};if(t&&i){const u=i.map(s),f=t.map(s);u.join("")!==f.join("")&&l("children"),i.length!==t.length&&l("children")}return X2.filter(u=>u[0]==="_").map(u=>u.replace(/_/,"")).forEach(u=>{if(u in n&&u in e)if(Ko(n[u])&&Ko(e[u])){const f=Object.keys(n[u]),p=Object.keys(e[u]);f.length!==p.length?l(u):(f.forEach(g=>{n[u][g]!==e[u][g]&&l(u)}),p.forEach(g=>{n[u][g]!==e[u][g]&&l(u)}))}else n[u]!==e[u]&&l(u)}),r}const yz=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function um(){return um=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},um.apply(this,arguments)}function tM(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function nM(n){const e=[];return Le.Children.toArray(n).forEach(t=>{tM(t)?e.push(t):t.props&&t.props.children&&nM(t.props.children).forEach(i=>e.push(i))}),e}function bz(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Le.Children.toArray(n).forEach(i=>{if(tM(i))e.push(i);else if(i.props&&i.props.slot&&t[i.props.slot])t[i.props.slot].push(i);else if(i.props&&i.props.children){const s=nM(i.props.children);s.length>0?s.forEach(r=>e.push(r)):t["container-end"].push(i)}else t["container-end"].push(i)}),{slides:e,slots:t}}function _z(n,e,t){if(!t)return null;const i=p=>{let g=p;return p<0?g=e.length+p:g>=e.length&&(g=g-e.length),g},s=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:r,to:l}=t,c=n.params.loop?-e.length:0,u=n.params.loop?e.length*2:e.length,f=[];for(let p=c;p<u;p+=1)p>=r&&p<=l&&f.push(e[i(p)]);return f.map((p,g)=>Le.cloneElement(p,{swiper:n,style:s,key:p.props.virtualIndex||p.key||`slide-${g}`}))}function gd(n,e){return typeof window>"u"?k.useEffect(n,e):k.useLayoutEffect(n,e)}const T1=k.createContext(null),xz=k.createContext(null),kd=k.forwardRef(function(n,e){let{className:t,tag:i="div",wrapperTag:s="div",children:r,onSwiper:l,...c}=n===void 0?{}:n,u=!1;const[f,p]=k.useState("swiper"),[g,b]=k.useState(null),[x,w]=k.useState(!1),S=k.useRef(!1),T=k.useRef(null),C=k.useRef(null),R=k.useRef(null),A=k.useRef(null),V=k.useRef(null),I=k.useRef(null),H=k.useRef(null),D=k.useRef(null),{params:O,passedParams:N,rest:L,events:U}=mz(c),{slides:B,slots:j}=bz(r),ie=()=>{w(!x)};Object.assign(O.on,{_containerClasses(ye,q){p(q)}});const X=()=>{Object.assign(O.on,U),u=!0;const ye={...O};if(delete ye.wrapperClass,C.current=new R_(ye),C.current.virtual&&C.current.params.virtual.enabled){C.current.virtual.slides=B;const q={cache:!1,slides:B,renderExternal:b,renderExternalUpdate:!1};cc(C.current.params.virtual,q),cc(C.current.originalParams.virtual,q)}};T.current||X(),C.current&&C.current.on("_beforeBreakpoint",ie);const $=()=>{u||!U||!C.current||Object.keys(U).forEach(ye=>{C.current.on(ye,U[ye])})},se=()=>{!U||!C.current||Object.keys(U).forEach(ye=>{C.current.off(ye,U[ye])})};k.useEffect(()=>()=>{C.current&&C.current.off("_beforeBreakpoint",ie)}),k.useEffect(()=>{!S.current&&C.current&&(C.current.emitSlidesClasses(),S.current=!0)}),gd(()=>{if(e&&(e.current=T.current),!!T.current)return C.current.destroyed&&X(),gz({el:T.current,nextEl:V.current,prevEl:I.current,paginationEl:H.current,scrollbarEl:D.current,swiper:C.current},O),l&&!C.current.destroyed&&l(C.current),()=>{C.current&&!C.current.destroyed&&C.current.destroy(!0,!1)}},[]),gd(()=>{$();const ye=vz(N,R.current,B,A.current,q=>q.key);return R.current=N,A.current=B,ye.length&&C.current&&!C.current.destroyed&&pz({swiper:C.current,slides:B,passedParams:N,changedParams:ye,nextEl:V.current,prevEl:I.current,scrollbarEl:D.current,paginationEl:H.current}),()=>{se()}}),gd(()=>{yz(C.current)},[g]);function ue(){return O.virtual?_z(C.current,B,g):B.map((ye,q)=>Le.cloneElement(ye,{swiper:C.current,swiperSlideIndex:q}))}return Le.createElement(i,um({ref:T,className:eM(`${f}${t?` ${t}`:""}`)},L),Le.createElement(xz.Provider,{value:C.current},j["container-start"],Le.createElement(s,{className:hz(O.wrapperClass)},j["wrapper-start"],ue(),j["wrapper-end"]),Q2(O)&&Le.createElement(Le.Fragment,null,Le.createElement("div",{ref:I,className:"swiper-button-prev"}),Le.createElement("div",{ref:V,className:"swiper-button-next"})),J2(O)&&Le.createElement("div",{ref:D,className:"swiper-scrollbar"}),Z2(O)&&Le.createElement("div",{ref:H,className:"swiper-pagination"}),j["container-end"]))});kd.displayName="Swiper";const Ld=k.forwardRef(function(n,e){let{tag:t="div",children:i,className:s="",swiper:r,zoom:l,lazy:c,virtualIndex:u,swiperSlideIndex:f,...p}=n===void 0?{}:n;const g=k.useRef(null),[b,x]=k.useState("swiper-slide"),[w,S]=k.useState(!1);function T(V,I,H){I===g.current&&x(H)}gd(()=>{if(typeof f<"u"&&(g.current.swiperSlideIndex=f),e&&(e.current=g.current),!(!g.current||!r)){if(r.destroyed){b!=="swiper-slide"&&x("swiper-slide");return}return r.on("_slideClass",T),()=>{r&&r.off("_slideClass",T)}}}),gd(()=>{r&&g.current&&!r.destroyed&&x(r.getSlideClasses(g.current))},[r]);const C={isActive:b.indexOf("swiper-slide-active")>=0,isVisible:b.indexOf("swiper-slide-visible")>=0,isPrev:b.indexOf("swiper-slide-prev")>=0,isNext:b.indexOf("swiper-slide-next")>=0},R=()=>typeof i=="function"?i(C):i,A=()=>{S(!0)};return Le.createElement(t,um({ref:g,className:eM(`${b}${s?` ${s}`:""}`),"data-swiper-slide-index":u,onLoad:A},p),l&&Le.createElement(T1.Provider,{value:C},Le.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0},R(),c&&!w&&Le.createElement("div",{className:"swiper-lazy-preloader"}))),!l&&Le.createElement(T1.Provider,{value:C},R(),c&&!w&&Le.createElement("div",{className:"swiper-lazy-preloader"})))});Ld.displayName="SwiperSlide";function iM(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(s=>{if(!t[s]&&t.auto===!0){let r=is(n.el,`.${i[s]}`)[0];r||(r=om("div",i[s]),r.className=i[s],n.el.append(r)),t[s]=r,e[s]=r}}),t}function wz(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(w){let S;return w&&typeof w=="string"&&e.isElement&&(S=e.el.querySelector(w)||e.hostEl.querySelector(w),S)?S:(w&&(typeof w=="string"&&(S=[...document.querySelectorAll(w)]),e.params.uniqueNavElements&&typeof w=="string"&&S&&S.length>1&&e.el.querySelectorAll(w).length===1?S=e.el.querySelector(w):S&&S.length===1&&(S=S[0])),w&&!S?w:S)}function l(w,S){const T=e.params.navigation;w=En(w),w.forEach(C=>{C&&(C.classList[S?"add":"remove"](...T.disabledClass.split(" ")),C.tagName==="BUTTON"&&(C.disabled=S),e.params.watchOverflow&&e.enabled&&C.classList[e.isLocked?"add":"remove"](T.lockClass))})}function c(){const{nextEl:w,prevEl:S}=e.navigation;if(e.params.loop){l(S,!1),l(w,!1);return}l(S,e.isBeginning&&!e.params.rewind),l(w,e.isEnd&&!e.params.rewind)}function u(w){w.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),s("navigationPrev"))}function f(w){w.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),s("navigationNext"))}function p(){const w=e.params.navigation;if(e.params.navigation=iM(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(w.nextEl||w.prevEl))return;let S=r(w.nextEl),T=r(w.prevEl);Object.assign(e.navigation,{nextEl:S,prevEl:T}),S=En(S),T=En(T);const C=(R,A)=>{R&&R.addEventListener("click",A==="next"?f:u),!e.enabled&&R&&R.classList.add(...w.lockClass.split(" "))};S.forEach(R=>C(R,"next")),T.forEach(R=>C(R,"prev"))}function g(){let{nextEl:w,prevEl:S}=e.navigation;w=En(w),S=En(S);const T=(C,R)=>{C.removeEventListener("click",R==="next"?f:u),C.classList.remove(...e.params.navigation.disabledClass.split(" "))};w.forEach(C=>T(C,"next")),S.forEach(C=>T(C,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?x():(p(),c())}),i("toEdge fromEdge lock unlock",()=>{c()}),i("destroy",()=>{g()}),i("enable disable",()=>{let{nextEl:w,prevEl:S}=e.navigation;if(w=En(w),S=En(S),e.enabled){c();return}[...w,...S].filter(T=>!!T).forEach(T=>T.classList.add(e.params.navigation.lockClass))}),i("click",(w,S)=>{let{nextEl:T,prevEl:C}=e.navigation;T=En(T),C=En(C);const R=S.target;let A=C.includes(R)||T.includes(R);if(e.isElement&&!A){const V=S.path||S.composedPath&&S.composedPath();V&&(A=V.find(I=>T.includes(I)||C.includes(I)))}if(e.params.navigation.hideOnClick&&!A){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===R||e.pagination.el.contains(R)))return;let V;T.length?V=T[0].classList.contains(e.params.navigation.hiddenClass):C.length&&(V=C[0].classList.contains(e.params.navigation.hiddenClass)),s(V===!0?"navigationShow":"navigationHide"),[...T,...C].filter(I=>!!I).forEach(I=>I.classList.toggle(e.params.navigation.hiddenClass))}});const b=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),p(),c()},x=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),g()};Object.assign(e.navigation,{enable:b,disable:x,update:c,init:p,destroy:g})}function Bu(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function sM(n){let{swiper:e,extendParams:t,on:i,emit:s}=n;const r="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:R=>R,formatFractionTotal:R=>R,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),e.pagination={el:null,bullets:[]};let l,c=0;function u(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function f(R,A){const{bulletActiveClass:V}=e.params.pagination;R&&(R=R[`${A==="prev"?"previous":"next"}ElementSibling`],R&&(R.classList.add(`${V}-${A}`),R=R[`${A==="prev"?"previous":"next"}ElementSibling`],R&&R.classList.add(`${V}-${A}-${A}`)))}function p(R,A,V){if(R=R%V,A=A%V,A===R+1)return"next";if(A===R-1)return"previous"}function g(R){const A=R.target.closest(Bu(e.params.pagination.bulletClass));if(!A)return;R.preventDefault();const V=lm(A)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===V)return;const I=p(e.realIndex,V,e.slides.length);I==="next"?e.slideNext():I==="previous"?e.slidePrev():e.slideToLoop(V)}else e.slideTo(V)}function b(){const R=e.rtl,A=e.params.pagination;if(u())return;let V=e.pagination.el;V=En(V);let I,H;const D=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,O=e.params.loop?Math.ceil(D/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(H=e.previousRealIndex||0,I=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(I=e.snapIndex,H=e.previousSnapIndex):(H=e.previousIndex||0,I=e.activeIndex||0),A.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const N=e.pagination.bullets;let L,U,B;if(A.dynamicBullets&&(l=qb(N[0],e.isHorizontal()?"width":"height"),V.forEach(j=>{j.style[e.isHorizontal()?"width":"height"]=`${l*(A.dynamicMainBullets+4)}px`}),A.dynamicMainBullets>1&&H!==void 0&&(c+=I-(H||0),c>A.dynamicMainBullets-1?c=A.dynamicMainBullets-1:c<0&&(c=0)),L=Math.max(I-c,0),U=L+(Math.min(N.length,A.dynamicMainBullets)-1),B=(U+L)/2),N.forEach(j=>{const ie=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(X=>`${A.bulletActiveClass}${X}`)].map(X=>typeof X=="string"&&X.includes(" ")?X.split(" "):X).flat();j.classList.remove(...ie)}),V.length>1)N.forEach(j=>{const ie=lm(j);ie===I?j.classList.add(...A.bulletActiveClass.split(" ")):e.isElement&&j.setAttribute("part","bullet"),A.dynamicBullets&&(ie>=L&&ie<=U&&j.classList.add(...`${A.bulletActiveClass}-main`.split(" ")),ie===L&&f(j,"prev"),ie===U&&f(j,"next"))});else{const j=N[I];if(j&&j.classList.add(...A.bulletActiveClass.split(" ")),e.isElement&&N.forEach((ie,X)=>{ie.setAttribute("part",X===I?"bullet-active":"bullet")}),A.dynamicBullets){const ie=N[L],X=N[U];for(let $=L;$<=U;$+=1)N[$]&&N[$].classList.add(...`${A.bulletActiveClass}-main`.split(" "));f(ie,"prev"),f(X,"next")}}if(A.dynamicBullets){const j=Math.min(N.length,A.dynamicMainBullets+4),ie=(l*j-l)/2-B*l,X=R?"right":"left";N.forEach($=>{$.style[e.isHorizontal()?X:"top"]=`${ie}px`})}}V.forEach((N,L)=>{if(A.type==="fraction"&&(N.querySelectorAll(Bu(A.currentClass)).forEach(U=>{U.textContent=A.formatFractionCurrent(I+1)}),N.querySelectorAll(Bu(A.totalClass)).forEach(U=>{U.textContent=A.formatFractionTotal(O)})),A.type==="progressbar"){let U;A.progressbarOpposite?U=e.isHorizontal()?"vertical":"horizontal":U=e.isHorizontal()?"horizontal":"vertical";const B=(I+1)/O;let j=1,ie=1;U==="horizontal"?j=B:ie=B,N.querySelectorAll(Bu(A.progressbarFillClass)).forEach(X=>{X.style.transform=`translate3d(0,0,0) scaleX(${j}) scaleY(${ie})`,X.style.transitionDuration=`${e.params.speed}ms`})}A.type==="custom"&&A.renderCustom?(cm(N,A.renderCustom(e,I+1,O)),L===0&&s("paginationRender",N)):(L===0&&s("paginationRender",N),s("paginationUpdate",N)),e.params.watchOverflow&&e.enabled&&N.classList[e.isLocked?"add":"remove"](A.lockClass)})}function x(){const R=e.params.pagination;if(u())return;const A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let V=e.pagination.el;V=En(V);let I="";if(R.type==="bullets"){let H=e.params.loop?Math.ceil(A/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&H>A&&(H=A);for(let D=0;D<H;D+=1)R.renderBullet?I+=R.renderBullet.call(e,D,R.bulletClass):I+=`<${R.bulletElement} ${e.isElement?'part="bullet"':""} class="${R.bulletClass}"></${R.bulletElement}>`}R.type==="fraction"&&(R.renderFraction?I=R.renderFraction.call(e,R.currentClass,R.totalClass):I=`<span class="${R.currentClass}"></span> / <span class="${R.totalClass}"></span>`),R.type==="progressbar"&&(R.renderProgressbar?I=R.renderProgressbar.call(e,R.progressbarFillClass):I=`<span class="${R.progressbarFillClass}"></span>`),e.pagination.bullets=[],V.forEach(H=>{R.type!=="custom"&&cm(H,I||""),R.type==="bullets"&&e.pagination.bullets.push(...H.querySelectorAll(Bu(R.bulletClass)))}),R.type!=="custom"&&s("paginationRender",V[0])}function w(){e.params.pagination=iM(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const R=e.params.pagination;if(!R.el)return;let A;typeof R.el=="string"&&e.isElement&&(A=e.el.querySelector(R.el)),!A&&typeof R.el=="string"&&(A=[...document.querySelectorAll(R.el)]),A||(A=R.el),!(!A||A.length===0)&&(e.params.uniqueNavElements&&typeof R.el=="string"&&Array.isArray(A)&&A.length>1&&(A=[...e.el.querySelectorAll(R.el)],A.length>1&&(A=A.find(V=>$2(V,".swiper")[0]===e.el))),Array.isArray(A)&&A.length===1&&(A=A[0]),Object.assign(e.pagination,{el:A}),A=En(A),A.forEach(V=>{R.type==="bullets"&&R.clickable&&V.classList.add(...(R.clickableClass||"").split(" ")),V.classList.add(R.modifierClass+R.type),V.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.type==="bullets"&&R.dynamicBullets&&(V.classList.add(`${R.modifierClass}${R.type}-dynamic`),c=0,R.dynamicMainBullets<1&&(R.dynamicMainBullets=1)),R.type==="progressbar"&&R.progressbarOpposite&&V.classList.add(R.progressbarOppositeClass),R.clickable&&V.addEventListener("click",g),e.enabled||V.classList.add(R.lockClass)}))}function S(){const R=e.params.pagination;if(u())return;let A=e.pagination.el;A&&(A=En(A),A.forEach(V=>{V.classList.remove(R.hiddenClass),V.classList.remove(R.modifierClass+R.type),V.classList.remove(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.clickable&&(V.classList.remove(...(R.clickableClass||"").split(" ")),V.removeEventListener("click",g))})),e.pagination.bullets&&e.pagination.bullets.forEach(V=>V.classList.remove(...R.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const R=e.params.pagination;let{el:A}=e.pagination;A=En(A),A.forEach(V=>{V.classList.remove(R.horizontalClass,R.verticalClass),V.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?C():(w(),x(),b())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&b()}),i("snapIndexChange",()=>{b()}),i("snapGridLengthChange",()=>{x(),b()}),i("destroy",()=>{S()}),i("enable disable",()=>{let{el:R}=e.pagination;R&&(R=En(R),R.forEach(A=>A.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{b()}),i("click",(R,A)=>{const V=A.target,I=En(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&I&&I.length>0&&!V.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&V===e.navigation.nextEl||e.navigation.prevEl&&V===e.navigation.prevEl))return;const H=I[0].classList.contains(e.params.pagination.hiddenClass);s(H===!0?"paginationShow":"paginationHide"),I.forEach(D=>D.classList.toggle(e.params.pagination.hiddenClass))}});const T=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=En(R),R.forEach(A=>A.classList.remove(e.params.pagination.paginationDisabledClass))),w(),x(),b()},C=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=En(R),R.forEach(A=>A.classList.add(e.params.pagination.paginationDisabledClass))),S()};Object.assign(e.pagination,{enable:T,disable:C,render:x,update:b,init:w,destroy:S})}function C1(n){let{swiper:e,extendParams:t,on:i}=n;t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let s=!1,r=!1;e.thumbs={swiper:null};function l(){const f=e.thumbs.swiper;if(!f||f.destroyed)return;const p=f.clickedIndex,g=f.clickedSlide;if(g&&g.classList.contains(e.params.thumbs.slideThumbActiveClass)||typeof p>"u"||p===null)return;let b;f.params.loop?b=parseInt(f.clickedSlide.getAttribute("data-swiper-slide-index"),10):b=p,e.params.loop?e.slideToLoop(b):e.slideTo(b)}function c(){const{thumbs:f}=e.params;if(s)return!1;s=!0;const p=e.constructor;if(f.swiper instanceof p){if(f.swiper.destroyed)return s=!1,!1;e.thumbs.swiper=f.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper.update()}else if(sd(f.swiper)){const g=Object.assign({},f.swiper);Object.assign(g,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new p(g),r=!0}return e.thumbs.swiper.el.classList.add(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",l),!0}function u(f){const p=e.thumbs.swiper;if(!p||p.destroyed)return;const g=p.params.slidesPerView==="auto"?p.slidesPerViewDynamic():p.params.slidesPerView;let b=1;const x=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(b=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(b=1),b=Math.floor(b),p.slides.forEach(T=>T.classList.remove(x)),p.params.loop||p.params.virtual&&p.params.virtual.enabled)for(let T=0;T<b;T+=1)is(p.slidesEl,`[data-swiper-slide-index="${e.realIndex+T}"]`).forEach(C=>{C.classList.add(x)});else for(let T=0;T<b;T+=1)p.slides[e.realIndex+T]&&p.slides[e.realIndex+T].classList.add(x);const w=e.params.thumbs.autoScrollOffset,S=w&&!p.params.loop;if(e.realIndex!==p.realIndex||S){const T=p.activeIndex;let C,R;if(p.params.loop){const A=p.slides.find(V=>V.getAttribute("data-swiper-slide-index")===`${e.realIndex}`);C=p.slides.indexOf(A),R=e.activeIndex>e.previousIndex?"next":"prev"}else C=e.realIndex,R=C>e.previousIndex?"next":"prev";S&&(C+=R==="next"?w:-1*w),p.visibleSlidesIndexes&&p.visibleSlidesIndexes.indexOf(C)<0&&(p.params.centeredSlides?C>T?C=C-Math.floor(g/2)+1:C=C+Math.floor(g/2)-1:C>T&&p.params.slidesPerGroup,p.slideTo(C,f?0:void 0))}}i("beforeInit",()=>{const{thumbs:f}=e.params;if(!(!f||!f.swiper))if(typeof f.swiper=="string"||f.swiper instanceof HTMLElement){const p=Xa(),g=()=>{const x=typeof f.swiper=="string"?p.querySelector(f.swiper):f.swiper;if(x&&x.swiper)f.swiper=x.swiper,c(),u(!0);else if(x){const w=`${e.params.eventsPrefix}init`,S=T=>{f.swiper=T.detail[0],x.removeEventListener(w,S),c(),u(!0),f.swiper.update(),e.update()};x.addEventListener(w,S)}return x},b=()=>{if(e.destroyed)return;g()||requestAnimationFrame(b)};requestAnimationFrame(b)}else c(),u(!0)}),i("slideChange update resize observerUpdate",()=>{u()}),i("setTransition",(f,p)=>{const g=e.thumbs.swiper;!g||g.destroyed||g.setTransition(p)}),i("beforeDestroy",()=>{const f=e.thumbs.swiper;!f||f.destroyed||r&&f.destroy()}),Object.assign(e.thumbs,{init:c,update:u})}function Sz(n){let{swiper:e,extendParams:t,emit:i,once:s}=n;t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}});function r(){if(e.params.cssMode)return;const u=e.getTranslate();e.setTranslate(u),e.setTransition(0),e.touchEventsData.velocities.length=0,e.freeMode.onTouchEnd({currentPos:e.rtl?e.translate:-e.translate})}function l(){if(e.params.cssMode)return;const{touchEventsData:u,touches:f}=e;u.velocities.length===0&&u.velocities.push({position:f[e.isHorizontal()?"startX":"startY"],time:u.touchStartTime}),u.velocities.push({position:f[e.isHorizontal()?"currentX":"currentY"],time:Uo()})}function c(u){let{currentPos:f}=u;if(e.params.cssMode)return;const{params:p,wrapperEl:g,rtlTranslate:b,snapGrid:x,touchEventsData:w}=e,T=Uo()-w.touchStartTime;if(f<-e.minTranslate()){e.slideTo(e.activeIndex);return}if(f>-e.maxTranslate()){e.slides.length<x.length?e.slideTo(x.length-1):e.slideTo(e.slides.length-1);return}if(p.freeMode.momentum){if(w.velocities.length>1){const O=w.velocities.pop(),N=w.velocities.pop(),L=O.position-N.position,U=O.time-N.time;e.velocity=L/U,e.velocity/=2,Math.abs(e.velocity)<p.freeMode.minimumVelocity&&(e.velocity=0),(U>150||Uo()-O.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=p.freeMode.momentumVelocityRatio,w.velocities.length=0;let C=1e3*p.freeMode.momentumRatio;const R=e.velocity*C;let A=e.translate+R;b&&(A=-A);let V=!1,I;const H=Math.abs(e.velocity)*20*p.freeMode.momentumBounceRatio;let D;if(A<e.maxTranslate())p.freeMode.momentumBounce?(A+e.maxTranslate()<-H&&(A=e.maxTranslate()-H),I=e.maxTranslate(),V=!0,w.allowMomentumBounce=!0):A=e.maxTranslate(),p.loop&&p.centeredSlides&&(D=!0);else if(A>e.minTranslate())p.freeMode.momentumBounce?(A-e.minTranslate()>H&&(A=e.minTranslate()+H),I=e.minTranslate(),V=!0,w.allowMomentumBounce=!0):A=e.minTranslate(),p.loop&&p.centeredSlides&&(D=!0);else if(p.freeMode.sticky){let O;for(let N=0;N<x.length;N+=1)if(x[N]>-A){O=N;break}Math.abs(x[O]-A)<Math.abs(x[O-1]-A)||e.swipeDirection==="next"?A=x[O]:A=x[O-1],A=-A}if(D&&s("transitionEnd",()=>{e.loopFix()}),e.velocity!==0){if(b?C=Math.abs((-A-e.translate)/e.velocity):C=Math.abs((A-e.translate)/e.velocity),p.freeMode.sticky){const O=Math.abs((b?-A:A)-e.translate),N=e.slidesSizesGrid[e.activeIndex];O<N?C=p.speed:O<2*N?C=p.speed*1.5:C=p.speed*2.5}}else if(p.freeMode.sticky){e.slideToClosest();return}p.freeMode.momentumBounce&&V?(e.updateProgress(I),e.setTransition(C),e.setTranslate(A),e.transitionStart(!0,e.swipeDirection),e.animating=!0,ky(g,()=>{!e||e.destroyed||!w.allowMomentumBounce||(i("momentumBounce"),e.setTransition(p.speed),setTimeout(()=>{e.setTranslate(I),ky(g,()=>{!e||e.destroyed||e.transitionEnd()})},0))})):e.velocity?(i("_freeModeNoMomentumRelease"),e.updateProgress(A),e.setTransition(C),e.setTranslate(A),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,ky(g,()=>{!e||e.destroyed||e.transitionEnd()}))):e.updateProgress(A),e.updateActiveIndex(),e.updateSlidesClasses()}else if(p.freeMode.sticky){e.slideToClosest();return}else p.freeMode&&i("_freeModeNoMomentumRelease");(!p.freeMode.momentum||T>=p.longSwipesMs)&&(i("_freeModeStaticRelease"),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}Object.assign(e,{freeMode:{onTouchStart:r,onTouchMove:l,onTouchEnd:c}})}const Ez=""+new URL("banner-1-DTPlrS7y.png",import.meta.url).href,Tz=""+new URL("banner1_small-CCBtV6oB.png",import.meta.url).href,Cz=""+new URL("banner-2-DRYg38-f.png",import.meta.url).href,Az=""+new URL("banner2_small-CcaYcGmp.png",import.meta.url).href,Rz=""+new URL("banner-4-DKsyLWdi.png",import.meta.url).href,Iz=""+new URL("banner4_small-4inaOCxD.png",import.meta.url).href;function Mz(){const[n,e]=k.useState(0),t=[{id:1,image:{small:Tz,medium:Ez},title:"Activa tu ritmo",textColor:"primary-btn"},{id:2,image:{small:Az,medium:Cz},title:"Distinción en cada paso",description:"",textColor:"primary-btn"},{id:3,image:{small:Iz,medium:Rz},title:"Nikos Kids",description:"",textColor:"secondary-btn"}],i=r=>window.innerWidth<780?r.small:r.medium,s=({image:r})=>{const[l,c]=k.useState(i(r));return k.useEffect(()=>{const u=()=>{c(i(r))};return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[r]),y.jsx("img",{src:l,alt:""})};return y.jsx("main",{id:"#banner",children:y.jsx("div",{className:"slider",children:y.jsx("div",{className:"sliderbox",children:y.jsx("div",{className:"wrap",children:y.jsx(kd,{slidesPerView:1,spaceBetween:30,loop:!0,pagination:{clickable:!0},modules:[sM],onSlideChange:r=>{e(r.realIndex)},children:t.map((r,l)=>y.jsx(Ld,{children:y.jsx("div",{className:"item",children:y.jsxs("div",{className:"image",children:[y.jsx("div",{className:"ob-cover",children:y.jsx(s,{image:r.image})}),y.jsx("div",{className:`title-info transition-all duration-[700ms] ease-[cubic-bezier(0.25,0.1,0.25,1)] 
                            ${n===l?"opacity-100 translate-y-0":"opacity-0 translate-y-6 pointer-events-none"}
                          `,children:y.jsx("div",{className:"wide",children:y.jsxs("div",{className:"wrap",children:[y.jsx("h3",{className:`title ${r.textColor==="primary-btn"?"md:text-white":"md:text-black"}`,children:r.title}),y.jsx("div",{className:"button",children:y.jsx("a",{href:"/productos",className:`btn ${r.textColor==="primary-btn"?"primary-btn":"secondary-btn"}`,children:"Compra Ahora"})})]})})})]})})},r.id))})})})})})}const Oz=async()=>{const n=qn(st,"config","ordenes"),e=await ig(n);if(e.exists()){const t=e.data().ultimoNumero||0;return await Or(n,{ultimoNumero:b5(1)}),t+1}else return await C2(n,{ultimoNumero:1}),1},rM=(n,e,t,i)=>{const s=`${e.nombre} ${e.apellido}`,r=t.map(l=>`• ${l.nombre} x${l.cantidad} – S/ ${l.precio*l.cantidad}`).join(`
`);return`Hola! se envía la orden N°${String(n).padStart(4,"0")} de ${s}

 Productos:
${r}

 Total: S/. ${i}`},Nz=n=>n.toLowerCase().normalize("NFD").replace(/[^\w\s-]/g,"").trim().replace(/\s+/g,"-").replace(/-+/g,"-"),Dz=async(n,e=null)=>{const t=Nz(n);let i=t,s=1;for(;;){const r=lf(Qt(st,"productos"),lc("slug","==",i));if(!(await Tn(r)).docs.find(u=>u.id!==e))break;i=`${t}-${s++}`}return i},Xo=n=>n?n.replace("/upload/","/upload/f_auto,q_auto/"):C_;function I_({producto:n,onClose:e}){const t=vn(),[i,s]=k.useState(!1),[r,l]=k.useState(!0),{nombre:c="Producto sin nombre",precio:u=0,precioDescuento:f,precioMayorista:p,imagenes:g=[],slug:b=""}=n||{};k.useEffect(()=>{const T=zR(),C=Zd(T,R=>{if(R){const A=JSON.parse(localStorage.getItem("usuario"));console.log(A),s((A==null?void 0:A.usuarioMayorista)||!1)}else s(!1);l(!1)});return()=>C()},[]);const x=()=>{t(`/productos/${b}`),e&&e()},w=k.useMemo(()=>i&&p?p:f&&f<u?f:u,[i,u,f,p]),S=k.useMemo(()=>i&&p&&p<u||!i&&f&&f<u?u:null,[i,u,f,p]);return!n||!n.nombre||!n.precio||r?null:y.jsxs("div",{className:"item cursor-pointer",onClick:x,"aria-label":`Producto ${c}`,children:[y.jsxs("div",{className:"dot-images relative",children:[y.jsx("div",{className:"thumbnail",children:y.jsx("img",{loading:"lazy",className:"mx-auto",src:Xo(g==null?void 0:g[0]),alt:`Imagen principal de ${c}`})}),y.jsx("div",{className:"thumbnail hover",children:y.jsx("img",{loading:"lazy",className:"mx-auto",src:Xo((g==null?void 0:g[1])||(g==null?void 0:g[0])),alt:`Imagen secundaria de ${c}`})}),!i&&y.jsx("div",{className:"label absolute top-0 left-0 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:y.jsxs("span",{children:["-",Math.round(100-f/u*100),"%"]})})]}),y.jsxs("div",{className:"dot-info text-center",children:[y.jsx("h2",{className:"dot-title text-sm font-semibold truncate",children:c}),y.jsxs("div",{className:"product-price mt-1",children:[S&&y.jsxs("span",{className:"before line-through text-gray-500 mr-1",children:["s/.",S.toFixed(2)]}),y.jsxs("span",{className:"current font-bold text-black",children:["s/.",w.toFixed(2)]})]})]})]})}function Pz({productos:n}){const e=n.filter(g=>g.creadoEn).sort((g,b)=>new Date(b.creadoEn)-new Date(g.creadoEn)).slice(0,8),t=k.useRef(null),i=k.useRef(null),[s,r]=k.useState(null),[l,c]=k.useState(!0),[u,f]=k.useState(!1),p=g=>{c(g.isBeginning),f(g.isEnd)};return y.jsx("div",{className:"products-carousel",children:y.jsxs("div",{className:"wrap",children:[y.jsx("div",{className:"mt-5 md:mt-0 heading",children:y.jsx("h2",{className:"title",children:"🆕 Nuevos ingresos"})}),y.jsx("div",{className:"inner-wrapper",children:y.jsx("div",{className:"dotgrid carouselbox",children:y.jsxs("div",{className:"wrapper relative",children:[y.jsxs("div",{className:"swiper-nav-buttons flex justify-between items-center mb-4",children:[!l&&y.jsx("button",{ref:t,onClick:()=>s.slidePrev(),className:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10 border border-black rounded-full w-10 h-10 flex items-center justify-center bg-transparent",children:y.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),!u&&y.jsx("button",{ref:i,onClick:()=>s.slideNext(),className:"absolute right-2 top-1/2 transform -translate-y-1/2 z-10 border border-black rounded-full w-10 h-10 flex items-center justify-center bg-transparent",children:y.jsx("svg",{className:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})})]}),y.jsx(kd,{slidesPerView:1,slidesPerGroup:1,spaceBetween:20,loop:!1,navigation:{prevEl:t.current,nextEl:i.current},onSlideChange:p,onSwiper:g=>r(g),breakpoints:{640:{slidesPerView:2,slidesPerGroup:2},768:{slidesPerView:2,slidesPerGroup:2},992:{slidesPerView:3,slidesPerGroup:3},1024:{slidesPerView:4,slidesPerGroup:4}},modules:[wz],children:e.map((g,b)=>y.jsx(Ld,{children:y.jsx(I_,{producto:g})},b))})]})})})]})})}function kz({options:n,initial:e,onSelect:t}){const[i,s]=k.useState(!1),[r,l]=k.useState(e);k.useEffect(()=>{l(e)},[e]);const c=u=>{l(u),s(!1),t&&t(u)};return y.jsxs("div",{className:"relative max-w-[150px] inline-block text-left",children:[y.jsxs("h3",{className:"opt-trigger cursor-pointer flex items-center gap-2",onClick:()=>s(!i),children:[y.jsx("span",{className:"value font-medium",children:r==null?void 0:r.nombre}),y.jsx("i",{className:"bx bx-chevron-down text-[20px]"})]}),i&&y.jsx("ul",{className:"absolute mt-2 bg-white border border-gray-300 shadow-md z-10 min-w-[120px]",children:n.map(u=>y.jsx("li",{className:"text-[1rem]",children:y.jsx("button",{className:`tabbed-trigger px-4 py-2 block w-full text-left hover:bg-black hover:text-white ${(r==null?void 0:r.nombre)===u.nombre?"font-semibold bg-black text-white":""}`,onClick:()=>c(u),children:u==null?void 0:u.nombre})},u.id||u.nombre))})]})}function Lz({productos:n,usuarios:e}){const t=vn(),[i,s]=k.useState([]),[r,l]=k.useState(null),c=()=>t("/productos"),u=()=>{const p=window.innerWidth;return p>=1024?8:p>=768?3:2},f=p=>{p!=null&&p.nombre&&l(p)};return k.useEffect(()=>{e.length>0&&!r&&l(e[0])},[e]),k.useEffect(()=>{if(!r||n.length===0)return;const p=r.nombre,g=n.filter(x=>x.usuario===p),b=u();s(g.slice(0,b))},[n,r]),y.jsx("div",{className:"bycats",children:y.jsxs("div",{className:"wrap",children:[e.length>0&&r&&y.jsxs("div",{className:"mt-5 md:mt-0 heading sort-list tabs",children:[y.jsx("span",{className:"grey-color mr-3",children:"in"}),y.jsx(kz,{options:e,initial:e[0],onSelect:f})]}),y.jsx("div",{className:"tabbed",children:y.jsx("div",{className:"sort-data",children:y.jsxs("div",{className:"dotgrid",children:[y.jsx("div",{className:`wrapper grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5 ${i.length>0?"animate-fadeIn":""}`,children:i.map((p,g)=>y.jsx(I_,{producto:p},p.id||g))}),y.jsx("div",{onClick:c,className:"button my-3 mx-auto min-w-[150px] cursor-pointer",children:y.jsx("div",{className:"btn primary-btn",children:"Ver más"})})]})})})]})})}function Vz({marcas:n=[]}){return k.useEffect(()=>{if(!n.length)return;const e=document.getElementById("scrolling-container");let t=0;const i=.5,s=()=>{e&&(e.scrollLeft+=i,t+=i,t>=e.scrollWidth-e.clientWidth&&(e.scrollLeft=0,t=0)),requestAnimationFrame(s)};console.log(n),s()},[n]),y.jsx("div",{className:"brandssection",id:"marcas",children:y.jsx("div",{className:"wrap",children:y.jsx("div",{className:"dotgrid",children:y.jsx("div",{id:"scrolling-container",className:"wrapper overflow-x-auto whitespace-nowrap max-w-full",children:y.jsx("div",{className:"flex gap-2 py-2",children:n.map((e,t)=>y.jsx(y.Fragment,{children:e.imagen&&y.jsx("div",{className:"flex-shrink-0 max-w-[220px] w-full bg-gray-100 rounded shadow p-4 flex items-center justify-center",children:y.jsx("img",{alt:e.nombre,loading:"lazy",src:Xo(e.imagen),className:"w-32 h-32 object-contain"})},t)}))})})})})})}const jz=["Hombre","Mujer","Juvenil"],Fz=()=>{const[n,e]=k.useState([]),[t,i]=k.useState([]),[s,r]=k.useState([]);return k.useEffect(()=>{(async()=>{const u=(await Tn(Qt(st,"productos"))).docs.map(x=>({id:x.id,...x.data()}));e(u);const p=(await Tn(Qt(st,"filtros"))).docs.map(x=>x.data()),g=p.filter(x=>x.tipo==="marca").map(x=>({nombre:x.valor,imagen:x.imagen})),b=jz.filter(x=>p.some(w=>w.tipo==="usuario"&&w.valor===x)).map(x=>({nombre:x}));i(g),r(b)})()},[]),y.jsxs(y.Fragment,{children:[y.jsx(Mz,{}),y.jsx(Pz,{productos:n}),y.jsx(Lz,{productos:n,usuarios:s}),y.jsx(Vz,{marcas:t})]})};function Uz({producto:n}){return y.jsx("div",{className:"wrap",children:y.jsx("div",{className:"breadcrumb list-inline py-4 py-2 md:px-0",children:y.jsxs("ul",{className:"flex justify-left md992:justify-center gap-[10px]",children:[y.jsx("li",{children:y.jsx("a",{href:"",children:"Inicio"})}),y.jsx("li",{children:y.jsx("a",{href:"/productos",children:"Productos"})}),y.jsx("li",{children:y.jsx("a",{href:`/productos/${n.slug}`,children:y.jsx("span",{children:n.nombre})})})]})})})}function zz({producto:n,varianteIndex:e}){const[t,i]=k.useState(null),[s,r]=k.useState(null),[l,c]=k.useState(null),u=Array.isArray(n.imagenes)&&n.imagenes.length>0?n.imagenes:[C_];k.useEffect(()=>{var p,g;if((g=(p=n.variantes)==null?void 0:p[e])!=null&&g.imagen&&u.includes(n.variantes[e].imagen)){c(n.variantes[e].imagen);const b=u.indexOf(n.variantes[e].imagen);s&&b>=0&&s.slideTo(b)}},[e,n,u,s]);const f=(p,g)=>{c(p),s&&s.slideTo(g)};return y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 max-w-3xl",children:[y.jsx("div",{className:"hidden sm:block w-20 h-[500px]",children:y.jsx(kd,{onSwiper:i,direction:"vertical",spaceBetween:10,slidesPerView:5.5,freeMode:!0,watchSlidesProgress:!0,modules:[C1,Sz],className:"h-full",children:u.map((p,g)=>y.jsx(Ld,{children:y.jsx("img",{src:Xo(p),loading:"lazy",onClick:()=>f(p,g),className:`object-cover w-full h-20 cursor-pointer rounded border 
                  ${l===p?"ring-2 ring-black":""}`,alt:`Miniatura ${g}`})},g))})}),y.jsx(kd,{onSwiper:r,thumbs:{swiper:t&&!t.destroyed?t:null},spaceBetween:0,modules:[C1,sM],pagination:{clickable:!0},className:"w-full max-w-full md992:max-w-[500px] h-full md992:h-[500px] rounded-md overflow-hidden bg-white",onSlideChange:p=>c(u[p.activeIndex]),children:u.map((p,g)=>y.jsx(Ld,{children:y.jsx("img",{src:Xo(p),loading:"lazy",className:"object-contain w-full h-full",alt:`Imagen ${g}`})},g))})]})}function aM({isOpen:n,onClose:e,children:t}){return n?y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-opacity-50 backdrop-blur-sm transition-opacity",onClick:e}),y.jsxs("div",{className:"relative z-10 bg-white p-6 rounded shadow-lg w-full max-w-md mx-4",children:[y.jsx("button",{onClick:e,className:"absolute top-2 right-2 text-gray-500 hover:text-black text-xl",children:"×"}),t]})]}):null}function Bz({producto:n,varianteIndex:e,setVarianteIndex:t}){var j,ie;const{agregarAlCarrito:i}=ag(),[s,r]=k.useState(""),[l,c]=k.useState(1),[u,f]=k.useState(!1),[p,g]=k.useState(!1),[b,x]=k.useState(""),[w,S]=k.useState(""),[T,C]=k.useState(!1),[R,A]=k.useState(null),V=typeof window<"u"?window.location.href:"";k.useEffect(()=>{const X=JSON.parse(localStorage.getItem("usuario"));X!=null&&X.usuarioMayorista?A(!0):A(!1)},[]);const I=()=>{navigator.clipboard.writeText(V),g(!0),setTimeout(()=>g(!1),2e3)},H=X=>{var ue;const $=(ue=X.variantes)==null?void 0:ue[e];if(!s||!$){x("Selecciona talla e imagen");return}x(""),C(!0);const se={slug:X.slug,nombre:X.nombre,imagen:$.imagen,talla:s,color:$.color||"",cantidad:parseInt(l),precio:X.precio,precioMayorista:X.precioMayorista,precioDescuento:X.precioDescuento};i(se),S("Producto añadido al carrito"),setTimeout(()=>{S(""),C(!1)},2e3)},D=(j=n.variantes)==null?void 0:j[e];if(R===null)return null;const O=n.precio,N=n.precioDescuento,L=n.precioMayorista,U=R?L:N||O,B=!R&&N&&N<O?O:null;return y.jsxs("div",{className:"summary",children:[y.jsxs("div",{className:"entry",children:[y.jsx("h1",{className:"title",children:n.nombre}),y.jsx("div",{className:"product-grow",children:y.jsxs("div",{className:"product-price",children:[y.jsxs("span",{className:"current",children:["s/.",U==null?void 0:U.toFixed(2)]}),B&&y.jsx("div",{className:"wrap",children:y.jsxs("span",{className:"before line-through",children:["s/.",B.toFixed(2)]})})]})}),y.jsxs("div",{className:"product-color",children:[y.jsx("span",{children:"Variantes:"}),y.jsx("div",{className:"wrap flex gap-2 flex-wrap",children:(ie=n.variantes)==null?void 0:ie.map((X,$)=>y.jsx("img",{src:Xo(X.imagen),alt:`Variante de color ${X.color||$+1}`,onClick:()=>{t($),r(""),x("")},className:`w-12 h-12 rounded object-cover border-2 cursor-pointer transition-all
                  ${$===e?"border-black ring-2 ring-offset-1":"border-transparent"}`,loading:"lazy"},$))})]}),D&&y.jsxs("div",{className:"product-size mt-4 w-[350px] max-w-[350px]",children:[y.jsx("span",{children:"Tallas:"}),y.jsx("div",{className:"wrap",children:(Array.isArray(D.tallas)?[...D.tallas]:[]).sort((X,$)=>X.talla.localeCompare($.talla,void 0,{numeric:!0})).map(({talla:X,stock:$})=>y.jsx("button",{onClick:()=>{$>0&&(r(X),x(""))},disabled:$===0,className:`px-3 py-1 border rounded mx-1 my-1 
                      ${$===0?"opacity-50 cursor-not-allowed bg-gray-200 text-gray-500":"cursor-pointer"} 
                      ${s===X?"selected bg-black text-white":""}`,"aria-label":`Seleccionar talla ${X}${$===0?" (sin stock)":""}`,children:X},X))})]}),y.jsxs("div",{className:"product-action flex flex-col sm:flex-row gap-6 justify-left items-left md:items-center mt-2",children:[y.jsxs("div",{className:"qty flex flex-wrap items-center",children:[y.jsx("button",{onClick:()=>c(X=>Math.max(1,X-1)),className:"cursor-pointer decrease h-[40px] w-[40px] bg-[#f1f1f1]","aria-label":"Disminuir cantidad",children:"-"}),y.jsx("input",{className:"w-[50px] border text-center",readOnly:!0,type:"number",value:l,"aria-label":"Cantidad seleccionada"}),y.jsx("button",{onClick:()=>c(X=>X+1),className:"cursor-pointer increase h-[40px] w-[40px] bg-[#f1f1f1]","aria-label":"Aumentar cantidad",children:"+"})]}),y.jsx("div",{className:"addcart button mr-auto",children:y.jsx("button",{onClick:()=>H(n),type:"button",className:"cursor-pointer btn primary-btn min-w-[201px]",disabled:T,"aria-label":"Agregar al carrito",children:T?"Agregando...":"Añadir al carrito"})})]}),b&&y.jsx("p",{className:"text-sm text-red-600 m-0",role:"alert",children:b}),w&&y.jsx("p",{className:"text-sm text-green-600 m-0",role:"status",children:w}),y.jsx("div",{className:"product-control list-inline mt-4",children:y.jsx("ul",{children:y.jsx("li",{children:y.jsxs("button",{onClick:()=>f(!0),className:"cursor-pointer flex items-center gap-1","aria-label":"Compartir producto",children:[y.jsx("i",{className:"bx bx-share","aria-hidden":"true"}),y.jsx("span",{children:"Compartir Producto"})]})})})})]}),y.jsx(aM,{isOpen:u,onClose:()=>f(!1),children:y.jsxs("div",{className:"text-center",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Comparte este producto"}),y.jsx("input",{readOnly:!0,className:"w-full border border-gray-300 rounded px-3 py-2 text-sm text-gray-700",value:V,"aria-label":"Enlace del producto"}),y.jsx("button",{onClick:I,className:"mt-4 w-full bg-black text-white py-2 rounded hover:bg-gray-800 transition","aria-label":"Copiar enlace",children:"Copiar enlace"}),p&&y.jsx("p",{className:"text-green-600 mt-2 text-sm",children:"¡Copiado!"})]})})]})}function Hz({producto:n}){var i,s,r;const[e,t]=k.useState("description");return y.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[y.jsx("nav",{className:"border-b border-gray-300",children:y.jsxs("ul",{className:"flex flex-wrap gap-4",children:[y.jsx("li",{children:y.jsx("button",{onClick:()=>t("description"),className:`pb-2 border-b-2 font-semibold transition-colors ${e==="description"?"border-black text-black":"border-transparent text-gray-500 hover:text-black"}`,children:"Detalle del producto"})}),y.jsx("li",{children:y.jsx("button",{onClick:()=>t("additional"),className:`pb-2 border-b-2 font-semibold transition-colors ${e==="additional"?"border-black text-black":"border-transparent text-gray-500 hover:text-black"}`,children:"Información adicional"})})]})}),y.jsxs("div",{className:"mt-6 text-gray-700 space-y-6",children:[e==="description"&&y.jsxs(y.Fragment,{children:[y.jsx("h3",{className:"text-xl font-bold",children:n.nombre}),y.jsx("p",{className:"text-base",children:n.descripcion}),y.jsxs("ul",{className:"list-disc list-inside mt-4 space-y-1",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Marca:"})," ",n.marca]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Precio:"})," s/.",n.precio,n.precioDescuento&&y.jsxs("span",{className:"text-sm text-red-500 ml-2",children:["-",Math.round(100-n.precioDescuento/n.precio*100),"% OFF"]})]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Uso:"})," ",(i=n.uso)==null?void 0:i.join(", ")]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Tipo de calzado:"})," ",n.tipoCalzado]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Origen:"})," ",n.origen]})]})]}),e==="additional"&&y.jsxs(y.Fragment,{children:[y.jsx("h3",{className:"text-xl font-bold",children:"Información adicional"}),y.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[y.jsxs("li",{children:[y.jsx("strong",{children:"Materiales:"})," ",(s=n.material)==null?void 0:s.join(", ")]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Etiquetas:"})," ",(r=n.etiquetas)==null?void 0:r.join(", ")]}),y.jsxs("li",{children:[y.jsx("strong",{children:"Slug:"})," ",y.jsx("code",{children:n.slug})]})]})]})]})]})}const $z=()=>{const{slug:n}=aP(),[e,t]=k.useState(null),[i,s]=k.useState(!0),[r,l]=k.useState(0);return k.useEffect(()=>{(async()=>{try{const u=Qt(st,"productos"),f=lf(u,lc("slug","==",n)),p=await Tn(f);if(p.empty)t(null);else{const g=p.docs[0];t({id:g.id,...g.data()})}}catch(u){console.error("Error al obtener el producto por slug:",u),t(null)}finally{s(!1)}})()},[n]),i?y.jsx("p",{className:"text-center mt-10",children:"Cargando producto..."}):e?y.jsxs("main",{className:"m-2",children:[y.jsx(Uz,{producto:e}),y.jsx("div",{className:"dotgrid",children:y.jsxs("div",{className:"wrapper flex gap-[20px] flex-col md992:flex-row justify-center",children:[y.jsx(zz,{producto:e,varianteIndex:r}),y.jsx(Bz,{producto:e,varianteIndex:r,setVarianteIndex:l})]})}),y.jsx(Hz,{producto:e})]}):y.jsx("h2",{className:"text-center mt-10",children:"Producto no encontrado"})},A1=4,Ao=({titulo:n,items:e,campo:t,valoresSeleccionados:i,toggleFiltro:s})=>{const[r,l]=k.useState(!0),[c,u]=k.useState(!1),f=c?e:e.slice(0,A1);return y.jsxs("div",{className:"pb-4",children:[y.jsxs("div",{className:"flex justify-between items-center cursor-pointer mb-2",onClick:()=>l(!r),children:[y.jsx("h3",{className:"font-semibold text-gray-800",children:n}),y.jsx("i",{className:`bx text-lg ${r?"bx-chevron-up":"bx-chevron-down"}`})]}),r&&y.jsxs("div",{className:"space-y-2 pl-1",children:[f.map(p=>y.jsxs("label",{className:"flex items-center text-sm text-gray-700",children:[y.jsx("input",{type:"checkbox",className:"mr-2 accent-blue-600",checked:i.includes(p),onChange:()=>s(t,p)}),p]},p)),e.length>A1&&y.jsx("button",{onClick:()=>u(!c),className:"text-blue-600 text-xs hover:underline mt-1",children:c?"Ver menos":"Ver más"})]})]})};function R1({filters:n,disponibles:e,toggleFiltro:t,setFilters:i,onFiltrar:s}){return y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"max-h-[75vh] overflow-y-auto pr-2 space-y-6 text-sm text-gray-800",children:[y.jsx(Ao,{titulo:"Tipo de Calzado",items:e.tipo,campo:"tipo",valoresSeleccionados:n.tipo,toggleFiltro:t}),y.jsx(Ao,{titulo:"Marca",items:e.marca,campo:"marca",valoresSeleccionados:n.marca,toggleFiltro:t}),y.jsx(Ao,{titulo:"Usuario / Talla",items:e.usuario,campo:"usuario",valoresSeleccionados:n.usuario,toggleFiltro:t}),y.jsx(Ao,{titulo:"Material",items:e.material,campo:"material",valoresSeleccionados:n.material,toggleFiltro:t}),y.jsx(Ao,{titulo:"Uso",items:e.uso,campo:"uso",valoresSeleccionados:n.uso,toggleFiltro:t}),y.jsx(Ao,{titulo:"Origen",items:e.origen,campo:"origen",valoresSeleccionados:n.origen,toggleFiltro:t}),y.jsx(Ao,{titulo:"Colores",items:e.color,campo:"color",valoresSeleccionados:n.color,toggleFiltro:t}),y.jsxs("div",{className:"pb-4",children:[y.jsxs("h3",{className:"font-semibold mb-2 flex justify-between items-center",children:["Precio máximo: ",y.jsxs("span",{className:"text-blue-700",children:["S/. ",n.precioMax]})]}),y.jsx("input",{type:"range",min:"50",max:"500",step:"10",value:n.precioMax,onChange:r=>i({...n,precioMax:parseInt(r.target.value)}),className:"w-full accent-blue-600"})]})]}),y.jsx("div",{className:"button pt-4",children:y.jsx("button",{onClick:s,className:"btn primary-btn",children:"Filtrar"})})]})}function qz(){const[n,e]=k.useState({tipo:[],marca:[],usuario:[],material:[],uso:[],origen:[],color:[],precioMax:500}),[t,i]=k.useState({tipo:[],marca:[],usuario:[],material:[],uso:[],origen:[],color:[]}),[s,r]=k.useState([]),[l,c]=k.useState(!1),[u,f]=k.useState(!1),[p,g]=k.useState(6),[b,x]=k.useState(!0),w=()=>{f(!0),setTimeout(()=>{c(!1),f(!1)},400)},S=()=>{const A=Qt(st,"productos"),V=[];return n.marca.length===1&&V.push(lc("marca","==",n.marca[0])),n.usuario.length===1&&V.push(lc("usuario","==",n.usuario[0])),n.precioMax<500&&V.push(lc("precio","<=",n.precioMax)),V.length>0?lf(A,...V):A},T=async()=>{try{x(!0);const A=S(),H=(await Tn(A)).docs.map(D=>({id:D.id,...D.data()})).filter(D=>{const O=n.tipo.length===0||n.tipo.some(ie=>{var X;return(X=D.tipoCalzado)==null?void 0:X.includes(ie)}),N=n.material.length===0||n.material.some(ie=>{var X;return(X=D.material)==null?void 0:X.includes(ie)}),L=n.uso.length===0||n.uso.some(ie=>{var X;return(X=D.uso)==null?void 0:X.includes(ie)}),U=n.origen.length===0||n.origen.includes(D.origen),B=n.usuario.length===0||n.usuario.includes(D.usuario),j=n.color.length===0||n.color.some(ie=>{var X;return(X=D.variantes)==null?void 0:X.some($=>{var se;return((se=$.color)==null?void 0:se.toLowerCase())===ie.toLowerCase()})});return O&&N&&L&&U&&B&&j});r(H),g(6)}catch(A){console.error("Error al filtrar productos:",A)}finally{x(!1)}},C=async()=>{const V=(await Tn(Qt(st,"filtros"))).docs.map(N=>N.data()),I={tipo:[],marca:[],usuario:[],material:[],uso:[],origen:[],color:[]};V.forEach(N=>{const L=N.tipo.toLowerCase();I[L]&&!I[L].includes(N.valor)&&I[L].push(N.valor)});const D=(await Tn(Qt(st,"productos"))).docs.map(N=>N.data()),O=new Set;D.forEach(N=>{N.variantes&&Array.isArray(N.variantes)&&N.variantes.forEach(L=>{L.color&&O.add(L.color.trim().toLowerCase())})}),I.color=Array.from(O),i(I)};k.useEffect(()=>{C(),T()},[]);const R=(A,V)=>{e(I=>{const D=I[A].includes(V)?I[A].filter(O=>O!==V):[...I[A],V];return{...I,[A]:D}})};return y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 px-4 py-1",children:[y.jsx(T_,{mostrarModalFiltros:l,animatingClose:u,cerrarModalConAnimacion:w,filters:n,disponibles:t,toggleFiltro:R,setFilters:e,children:y.jsx(R1,{filters:n,disponibles:t,toggleFiltro:R,setFilters:e,onFiltrar:T})}),y.jsx("aside",{className:"hidden md992:block w-full max-w-[250px]",children:y.jsx(R1,{filters:n,disponibles:t,toggleFiltro:R,setFilters:e,onFiltrar:T})}),y.jsx("main",{className:"flex-1",children:b?y.jsx("p",{className:"text-center mt-10",children:"Cargando productos..."}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("h1",{className:"text-md font-light",children:["Mostrando 1 - ",Math.min(p,s.length)," de"," ",s.length," productos"]}),y.jsx("button",{className:"md992:hidden btn border px-3 py-2",onClick:()=>c(!0),children:y.jsx("i",{className:"bx bx-filter"})})]}),y.jsx("div",{className:"bycats tabbed !p-0",children:y.jsx("div",{className:"sort-data",children:y.jsx("div",{className:"dotgrid",children:y.jsx("div",{className:"wrapper grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-4",children:s.slice(0,p).map((A,V)=>y.jsx(I_,{producto:A},A.id||V))})})})}),p<s.length&&y.jsx("div",{className:"text-center mt-6",children:y.jsx("button",{onClick:()=>g(p+6),className:"btn secondary-btn border px-4 py-2",children:"Ver más"})})]})})]})}var cf=n=>n.type==="checkbox",Vo=n=>n instanceof Date,Zn=n=>n==null;const oM=n=>typeof n=="object";var Zt=n=>!Zn(n)&&!Array.isArray(n)&&oM(n)&&!Vo(n),lM=n=>Zt(n)&&n.target?cf(n.target)?n.target.checked:n.target.value:n,Gz=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,cM=(n,e)=>n.has(Gz(e)),Yz=n=>{const e=n.constructor&&n.constructor.prototype;return Zt(e)&&e.hasOwnProperty("isPrototypeOf")},M_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Nn(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(M_&&(n instanceof Blob||i))&&(t||Zt(n)))if(e=t?[]:{},!t&&!Yz(n))e=n;else for(const s in n)n.hasOwnProperty(s)&&(e[s]=Nn(n[s]));else return n;return e}var og=n=>/^\w*$/.test(n),Xt=n=>n===void 0,O_=n=>Array.isArray(n)?n.filter(Boolean):[],N_=n=>O_(n.replace(/["|']|\]/g,"").split(/\.|\[/)),Ee=(n,e,t)=>{if(!e||!Zt(n))return t;const i=(og(e)?[e]:N_(e)).reduce((s,r)=>Zn(s)?s:s[r],n);return Xt(i)||i===n?Xt(n[e])?t:n[e]:i},_i=n=>typeof n=="boolean",Rt=(n,e,t)=>{let i=-1;const s=og(e)?[e]:N_(e),r=s.length,l=r-1;for(;++i<r;){const c=s[i];let u=t;if(i!==l){const f=n[c];u=Zt(f)||Array.isArray(f)?f:isNaN(+s[i+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;n[c]=u,n=n[c]}};const dm={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ji={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Sr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uM=Le.createContext(null);uM.displayName="HookFormContext";const D_=()=>Le.useContext(uM);var dM=(n,e,t,i=!0)=>{const s={defaultValues:e._defaultValues};for(const r in n)Object.defineProperty(s,r,{get:()=>{const l=r;return e._proxyFormState[l]!==Ji.all&&(e._proxyFormState[l]=!i||Ji.all),t&&(t[l]=!0),n[l]}});return s};const P_=typeof window<"u"?k.useLayoutEffect:k.useEffect;function Wz(n){const e=D_(),{control:t=e.control,disabled:i,name:s,exact:r}=n||{},[l,c]=Le.useState(t._formState),u=Le.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return P_(()=>t._subscribe({name:s,formState:u.current,exact:r,callback:f=>{!i&&c({...t._formState,...f})}}),[s,i,r]),Le.useEffect(()=>{u.current.isValid&&t._setValid(!0)},[t]),Le.useMemo(()=>dM(l,t,u.current,!1),[l,t])}var Ps=n=>typeof n=="string",fM=(n,e,t,i,s)=>Ps(n)?(i&&e.watch.add(n),Ee(t,n,s)):Array.isArray(n)?n.map(r=>(i&&e.watch.add(r),Ee(t,r))):(i&&(e.watchAll=!0),t);function Kz(n){const e=D_(),{control:t=e.control,name:i,defaultValue:s,disabled:r,exact:l}=n||{},c=Le.useRef(s),[u,f]=Le.useState(t._getWatch(i,c.current));return P_(()=>t._subscribe({name:i,formState:{values:!0},exact:l,callback:p=>!r&&f(fM(i,t._names,p.values||t._formValues,!1,c.current))}),[i,t,r,l]),Le.useEffect(()=>t._removeUnmounted()),u}function Xz(n){const e=D_(),{name:t,disabled:i,control:s=e.control,shouldUnregister:r}=n,l=cM(s._names.array,t),c=Kz({control:s,name:t,defaultValue:Ee(s._formValues,t,Ee(s._defaultValues,t,n.defaultValue)),exact:!0}),u=Wz({control:s,name:t,exact:!0}),f=Le.useRef(n),p=Le.useRef(s.register(t,{...n.rules,value:c,..._i(n.disabled)?{disabled:n.disabled}:{}})),g=Le.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ee(u.errors,t)},isDirty:{enumerable:!0,get:()=>!!Ee(u.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!Ee(u.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!Ee(u.validatingFields,t)},error:{enumerable:!0,get:()=>Ee(u.errors,t)}}),[u,t]),b=Le.useCallback(T=>p.current.onChange({target:{value:lM(T),name:t},type:dm.CHANGE}),[t]),x=Le.useCallback(()=>p.current.onBlur({target:{value:Ee(s._formValues,t),name:t},type:dm.BLUR}),[t,s._formValues]),w=Le.useCallback(T=>{const C=Ee(s._fields,t);C&&T&&(C._f.ref={focus:()=>T.focus&&T.focus(),select:()=>T.select&&T.select(),setCustomValidity:R=>T.setCustomValidity(R),reportValidity:()=>T.reportValidity()})},[s._fields,t]),S=Le.useMemo(()=>({name:t,value:c,..._i(i)||u.disabled?{disabled:u.disabled||i}:{},onChange:b,onBlur:x,ref:w}),[t,i,u.disabled,b,x,w,c]);return Le.useEffect(()=>{const T=s._options.shouldUnregister||r;s.register(t,{...f.current.rules,..._i(f.current.disabled)?{disabled:f.current.disabled}:{}});const C=(R,A)=>{const V=Ee(s._fields,R);V&&V._f&&(V._f.mount=A)};if(C(t,!0),T){const R=Nn(Ee(s._options.defaultValues,t));Rt(s._defaultValues,t,R),Xt(Ee(s._formValues,t))&&Rt(s._formValues,t,R)}return!l&&s.register(t),()=>{(l?T&&!s._state.action:T)?s.unregister(t):C(t,!1)}},[t,s,l,r]),Le.useEffect(()=>{s._setDisabledField({disabled:i,name:t})},[i,t,s]),Le.useMemo(()=>({field:S,formState:u,fieldState:g}),[S,u,g])}const Qz=n=>n.render(Xz(n));var Zz=(n,e,t,i,s)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:s||!0}}:{},vd=n=>Array.isArray(n)?n:[n],I1=()=>{let n=[];return{get observers(){return n},next:s=>{for(const r of n)r.next&&r.next(s)},subscribe:s=>(n.push(s),{unsubscribe:()=>{n=n.filter(r=>r!==s)}}),unsubscribe:()=>{n=[]}}},Wb=n=>Zn(n)||!oM(n);function Ra(n,e){if(Wb(n)||Wb(e))return n===e;if(Vo(n)&&Vo(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const s of t){const r=n[s];if(!i.includes(s))return!1;if(s!=="ref"){const l=e[s];if(Vo(r)&&Vo(l)||Zt(r)&&Zt(l)||Array.isArray(r)&&Array.isArray(l)?!Ra(r,l):r!==l)return!1}}return!0}var ri=n=>Zt(n)&&!Object.keys(n).length,k_=n=>n.type==="file",es=n=>typeof n=="function",fm=n=>{if(!M_)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hM=n=>n.type==="select-multiple",L_=n=>n.type==="radio",Jz=n=>L_(n)||cf(n),Hy=n=>fm(n)&&n.isConnected;function e9(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=Xt(n)?i++:n[e[i++]];return n}function t9(n){for(const e in n)if(n.hasOwnProperty(e)&&!Xt(n[e]))return!1;return!0}function pn(n,e){const t=Array.isArray(e)?e:og(e)?[e]:N_(e),i=t.length===1?n:e9(n,t),s=t.length-1,r=t[s];return i&&delete i[r],s!==0&&(Zt(i)&&ri(i)||Array.isArray(i)&&t9(i))&&pn(n,t.slice(0,-1)),n}var pM=n=>{for(const e in n)if(es(n[e]))return!0;return!1};function hm(n,e={}){const t=Array.isArray(n);if(Zt(n)||t)for(const i in n)Array.isArray(n[i])||Zt(n[i])&&!pM(n[i])?(e[i]=Array.isArray(n[i])?[]:{},hm(n[i],e[i])):Zn(n[i])||(e[i]=!0);return e}function mM(n,e,t){const i=Array.isArray(n);if(Zt(n)||i)for(const s in n)Array.isArray(n[s])||Zt(n[s])&&!pM(n[s])?Xt(e)||Wb(t[s])?t[s]=Array.isArray(n[s])?hm(n[s],[]):{...hm(n[s])}:mM(n[s],Zn(e)?{}:e[s],t[s]):t[s]=!Ra(n[s],e[s]);return t}var Hu=(n,e)=>mM(n,e,hm(e));const M1={value:!1,isValid:!1},O1={value:!0,isValid:!0};var gM=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Xt(n[0].attributes.value)?Xt(n[0].value)||n[0].value===""?O1:{value:n[0].value,isValid:!0}:O1:M1}return M1},vM=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>Xt(n)?n:e?n===""?NaN:n&&+n:t&&Ps(n)?new Date(n):i?i(n):n;const N1={isValid:!1,value:null};var yM=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,N1):N1;function D1(n){const e=n.ref;return k_(e)?e.files:L_(e)?yM(n.refs).value:hM(e)?[...e.selectedOptions].map(({value:t})=>t):cf(e)?gM(n.refs).value:vM(Xt(e.value)?n.ref.value:e.value,n)}var n9=(n,e,t,i)=>{const s={};for(const r of n){const l=Ee(e,r);l&&Rt(s,r,l._f)}return{criteriaMode:t,names:[...n],fields:s,shouldUseNativeValidation:i}},pm=n=>n instanceof RegExp,$u=n=>Xt(n)?n:pm(n)?n.source:Zt(n)?pm(n.value)?n.value.source:n.value:n,P1=n=>({isOnSubmit:!n||n===Ji.onSubmit,isOnBlur:n===Ji.onBlur,isOnChange:n===Ji.onChange,isOnAll:n===Ji.all,isOnTouch:n===Ji.onTouched});const k1="AsyncFunction";var i9=n=>!!n&&!!n.validate&&!!(es(n.validate)&&n.validate.constructor.name===k1||Zt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===k1)),s9=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),L1=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const yd=(n,e,t,i)=>{for(const s of t||Object.keys(n)){const r=Ee(n,s);if(r){const{_f:l,...c}=r;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!i)return!0;if(l.ref&&e(l.ref,l.name)&&!i)return!0;if(yd(c,e))break}else if(Zt(c)&&yd(c,e))break}}};function V1(n,e,t){const i=Ee(n,t);if(i||og(t))return{error:i,name:t};const s=t.split(".");for(;s.length;){const r=s.join("."),l=Ee(e,r),c=Ee(n,r);if(l&&!Array.isArray(l)&&t!==r)return{name:t};if(c&&c.type)return{name:r,error:c};if(c&&c.root&&c.root.type)return{name:`${r}.root`,error:c.root};s.pop()}return{name:t}}var r9=(n,e,t,i)=>{t(n);const{name:s,...r}=n;return ri(r)||Object.keys(r).length>=Object.keys(e).length||Object.keys(r).find(l=>e[l]===(!i||Ji.all))},a9=(n,e,t)=>!n||!e||n===e||vd(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i))),o9=(n,e,t,i,s)=>s.isOnAll?!1:!t&&s.isOnTouch?!(e||n):(t?i.isOnBlur:s.isOnBlur)?!n:(t?i.isOnChange:s.isOnChange)?n:!0,l9=(n,e)=>!O_(Ee(n,e)).length&&pn(n,e),c9=(n,e,t)=>{const i=vd(Ee(n,t));return Rt(i,"root",e[t]),Rt(n,t,i),n},Tp=n=>Ps(n);function j1(n,e,t="validate"){if(Tp(n)||Array.isArray(n)&&n.every(Tp)||_i(n)&&!n)return{type:t,message:Tp(n)?n:"",ref:e}}var Wl=n=>Zt(n)&&!pm(n)?n:{value:n,message:""},F1=async(n,e,t,i,s,r)=>{const{ref:l,refs:c,required:u,maxLength:f,minLength:p,min:g,max:b,pattern:x,validate:w,name:S,valueAsNumber:T,mount:C}=n._f,R=Ee(t,S);if(!C||e.has(S))return{};const A=c?c[0]:l,V=B=>{s&&A.reportValidity&&(A.setCustomValidity(_i(B)?"":B||""),A.reportValidity())},I={},H=L_(l),D=cf(l),O=H||D,N=(T||k_(l))&&Xt(l.value)&&Xt(R)||fm(l)&&l.value===""||R===""||Array.isArray(R)&&!R.length,L=Zz.bind(null,S,i,I),U=(B,j,ie,X=Sr.maxLength,$=Sr.minLength)=>{const se=B?j:ie;I[S]={type:B?X:$,message:se,ref:l,...L(B?X:$,se)}};if(r?!Array.isArray(R)||!R.length:u&&(!O&&(N||Zn(R))||_i(R)&&!R||D&&!gM(c).isValid||H&&!yM(c).isValid)){const{value:B,message:j}=Tp(u)?{value:!!u,message:u}:Wl(u);if(B&&(I[S]={type:Sr.required,message:j,ref:A,...L(Sr.required,j)},!i))return V(j),I}if(!N&&(!Zn(g)||!Zn(b))){let B,j;const ie=Wl(b),X=Wl(g);if(!Zn(R)&&!isNaN(R)){const $=l.valueAsNumber||R&&+R;Zn(ie.value)||(B=$>ie.value),Zn(X.value)||(j=$<X.value)}else{const $=l.valueAsDate||new Date(R),se=q=>new Date(new Date().toDateString()+" "+q),ue=l.type=="time",ye=l.type=="week";Ps(ie.value)&&R&&(B=ue?se(R)>se(ie.value):ye?R>ie.value:$>new Date(ie.value)),Ps(X.value)&&R&&(j=ue?se(R)<se(X.value):ye?R<X.value:$<new Date(X.value))}if((B||j)&&(U(!!B,ie.message,X.message,Sr.max,Sr.min),!i))return V(I[S].message),I}if((f||p)&&!N&&(Ps(R)||r&&Array.isArray(R))){const B=Wl(f),j=Wl(p),ie=!Zn(B.value)&&R.length>+B.value,X=!Zn(j.value)&&R.length<+j.value;if((ie||X)&&(U(ie,B.message,j.message),!i))return V(I[S].message),I}if(x&&!N&&Ps(R)){const{value:B,message:j}=Wl(x);if(pm(B)&&!R.match(B)&&(I[S]={type:Sr.pattern,message:j,ref:l,...L(Sr.pattern,j)},!i))return V(j),I}if(w){if(es(w)){const B=await w(R,t),j=j1(B,A);if(j&&(I[S]={...j,...L(Sr.validate,j.message)},!i))return V(j.message),I}else if(Zt(w)){let B={};for(const j in w){if(!ri(B)&&!i)break;const ie=j1(await w[j](R,t),A,j);ie&&(B={...ie,...L(j,ie.message)},V(ie.message),i&&(I[S]=B))}if(!ri(B)&&(I[S]={ref:A,...B},!i))return I}}return V(!0),I};const u9={mode:Ji.onSubmit,reValidateMode:Ji.onChange,shouldFocusError:!0};function d9(n={}){let e={...u9,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:es(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const i={};let s=Zt(e.defaultValues)||Zt(e.values)?Nn(e.defaultValues||e.values)||{}:{},r=e.shouldUnregister?{}:Nn(s),l={action:!1,mount:!1,watch:!1},c={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,f=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let g={...p};const b={array:I1(),state:I1()},x=e.criteriaMode===Ji.all,w=Y=>ee=>{clearTimeout(f),f=setTimeout(Y,ee)},S=async Y=>{if(!e.disabled&&(p.isValid||g.isValid||Y)){const ee=e.resolver?ri((await D()).errors):await N(i,!0);ee!==t.isValid&&b.state.next({isValid:ee})}},T=(Y,ee)=>{!e.disabled&&(p.isValidating||p.validatingFields||g.isValidating||g.validatingFields)&&((Y||Array.from(c.mount)).forEach(ae=>{ae&&(ee?Rt(t.validatingFields,ae,ee):pn(t.validatingFields,ae))}),b.state.next({validatingFields:t.validatingFields,isValidating:!ri(t.validatingFields)}))},C=(Y,ee=[],ae,ve,be=!0,ge=!0)=>{if(ve&&ae&&!e.disabled){if(l.action=!0,ge&&Array.isArray(Ee(i,Y))){const we=ae(Ee(i,Y),ve.argA,ve.argB);be&&Rt(i,Y,we)}if(ge&&Array.isArray(Ee(t.errors,Y))){const we=ae(Ee(t.errors,Y),ve.argA,ve.argB);be&&Rt(t.errors,Y,we),l9(t.errors,Y)}if((p.touchedFields||g.touchedFields)&&ge&&Array.isArray(Ee(t.touchedFields,Y))){const we=ae(Ee(t.touchedFields,Y),ve.argA,ve.argB);be&&Rt(t.touchedFields,Y,we)}(p.dirtyFields||g.dirtyFields)&&(t.dirtyFields=Hu(s,r)),b.state.next({name:Y,isDirty:U(Y,ee),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else Rt(r,Y,ee)},R=(Y,ee)=>{Rt(t.errors,Y,ee),b.state.next({errors:t.errors})},A=Y=>{t.errors=Y,b.state.next({errors:t.errors,isValid:!1})},V=(Y,ee,ae,ve)=>{const be=Ee(i,Y);if(be){const ge=Ee(r,Y,Xt(ae)?Ee(s,Y):ae);Xt(ge)||ve&&ve.defaultChecked||ee?Rt(r,Y,ee?ge:D1(be._f)):ie(Y,ge),l.mount&&S()}},I=(Y,ee,ae,ve,be)=>{let ge=!1,we=!1;const Me={name:Y};if(!e.disabled){if(!ae||ve){(p.isDirty||g.isDirty)&&(we=t.isDirty,t.isDirty=Me.isDirty=U(),ge=we!==Me.isDirty);const We=Ra(Ee(s,Y),ee);we=!!Ee(t.dirtyFields,Y),We?pn(t.dirtyFields,Y):Rt(t.dirtyFields,Y,!0),Me.dirtyFields=t.dirtyFields,ge=ge||(p.dirtyFields||g.dirtyFields)&&we!==!We}if(ae){const We=Ee(t.touchedFields,Y);We||(Rt(t.touchedFields,Y,ae),Me.touchedFields=t.touchedFields,ge=ge||(p.touchedFields||g.touchedFields)&&We!==ae)}ge&&be&&b.state.next(Me)}return ge?Me:{}},H=(Y,ee,ae,ve)=>{const be=Ee(t.errors,Y),ge=(p.isValid||g.isValid)&&_i(ee)&&t.isValid!==ee;if(e.delayError&&ae?(u=w(()=>R(Y,ae)),u(e.delayError)):(clearTimeout(f),u=null,ae?Rt(t.errors,Y,ae):pn(t.errors,Y)),(ae?!Ra(be,ae):be)||!ri(ve)||ge){const we={...ve,...ge&&_i(ee)?{isValid:ee}:{},errors:t.errors,name:Y};t={...t,...we},b.state.next(we)}},D=async Y=>{T(Y,!0);const ee=await e.resolver(r,e.context,n9(Y||c.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return T(Y),ee},O=async Y=>{const{errors:ee}=await D(Y);if(Y)for(const ae of Y){const ve=Ee(ee,ae);ve?Rt(t.errors,ae,ve):pn(t.errors,ae)}else t.errors=ee;return ee},N=async(Y,ee,ae={valid:!0})=>{for(const ve in Y){const be=Y[ve];if(be){const{_f:ge,...we}=be;if(ge){const Me=c.array.has(ge.name),We=be._f&&i9(be._f);We&&p.validatingFields&&T([ve],!0);const bt=await F1(be,c.disabled,r,x,e.shouldUseNativeValidation&&!ee,Me);if(We&&p.validatingFields&&T([ve]),bt[ge.name]&&(ae.valid=!1,ee))break;!ee&&(Ee(bt,ge.name)?Me?c9(t.errors,bt,ge.name):Rt(t.errors,ge.name,bt[ge.name]):pn(t.errors,ge.name))}!ri(we)&&await N(we,ee,ae)}}return ae.valid},L=()=>{for(const Y of c.unMount){const ee=Ee(i,Y);ee&&(ee._f.refs?ee._f.refs.every(ae=>!Hy(ae)):!Hy(ee._f.ref))&&ct(Y)}c.unMount=new Set},U=(Y,ee)=>!e.disabled&&(Y&&ee&&Rt(r,Y,ee),!Ra(q(),s)),B=(Y,ee,ae)=>fM(Y,c,{...l.mount?r:Xt(ee)?s:Ps(Y)?{[Y]:ee}:ee},ae,ee),j=Y=>O_(Ee(l.mount?r:s,Y,e.shouldUnregister?Ee(s,Y,[]):[])),ie=(Y,ee,ae={})=>{const ve=Ee(i,Y);let be=ee;if(ve){const ge=ve._f;ge&&(!ge.disabled&&Rt(r,Y,vM(ee,ge)),be=fm(ge.ref)&&Zn(ee)?"":ee,hM(ge.ref)?[...ge.ref.options].forEach(we=>we.selected=be.includes(we.value)):ge.refs?cf(ge.ref)?ge.refs.forEach(we=>{(!we.defaultChecked||!we.disabled)&&(Array.isArray(be)?we.checked=!!be.find(Me=>Me===we.value):we.checked=be===we.value||!!be)}):ge.refs.forEach(we=>we.checked=we.value===be):k_(ge.ref)?ge.ref.value="":(ge.ref.value=be,ge.ref.type||b.state.next({name:Y,values:Nn(r)})))}(ae.shouldDirty||ae.shouldTouch)&&I(Y,be,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&ye(Y)},X=(Y,ee,ae)=>{for(const ve in ee){if(!ee.hasOwnProperty(ve))return;const be=ee[ve],ge=Y+"."+ve,we=Ee(i,ge);(c.array.has(Y)||Zt(be)||we&&!we._f)&&!Vo(be)?X(ge,be,ae):ie(ge,be,ae)}},$=(Y,ee,ae={})=>{const ve=Ee(i,Y),be=c.array.has(Y),ge=Nn(ee);Rt(r,Y,ge),be?(b.array.next({name:Y,values:Nn(r)}),(p.isDirty||p.dirtyFields||g.isDirty||g.dirtyFields)&&ae.shouldDirty&&b.state.next({name:Y,dirtyFields:Hu(s,r),isDirty:U(Y,ge)})):ve&&!ve._f&&!Zn(ge)?X(Y,ge,ae):ie(Y,ge,ae),L1(Y,c)&&b.state.next({...t}),b.state.next({name:l.mount?Y:void 0,values:Nn(r)})},se=async Y=>{l.mount=!0;const ee=Y.target;let ae=ee.name,ve=!0;const be=Ee(i,ae),ge=We=>{ve=Number.isNaN(We)||Vo(We)&&isNaN(We.getTime())||Ra(We,Ee(r,ae,We))},we=P1(e.mode),Me=P1(e.reValidateMode);if(be){let We,bt;const Ws=ee.type?D1(be._f):lM(Y),Ti=Y.type===dm.BLUR||Y.type===dm.FOCUS_OUT,Ks=!s9(be._f)&&!e.resolver&&!Ee(t.errors,ae)&&!be._f.deps||o9(Ti,Ee(t.touchedFields,ae),t.isSubmitted,Me,we),Gi=L1(ae,c,Ti);Rt(r,ae,Ws),Ti?(be._f.onBlur&&be._f.onBlur(Y),u&&u(0)):be._f.onChange&&be._f.onChange(Y);const Yi=I(ae,Ws,Ti),ui=!ri(Yi)||Gi;if(!Ti&&b.state.next({name:ae,type:Y.type,values:Nn(r)}),Ks)return(p.isValid||g.isValid)&&(e.mode==="onBlur"?Ti&&S():Ti||S()),ui&&b.state.next({name:ae,...Gi?{}:Yi});if(!Ti&&Gi&&b.state.next({...t}),e.resolver){const{errors:Xs}=await D([ae]);if(ge(Ws),ve){const Qs=V1(t.errors,i,ae),Gr=V1(Xs,i,Qs.name||ae);We=Gr.error,ae=Gr.name,bt=ri(Xs)}}else T([ae],!0),We=(await F1(be,c.disabled,r,x,e.shouldUseNativeValidation))[ae],T([ae]),ge(Ws),ve&&(We?bt=!1:(p.isValid||g.isValid)&&(bt=await N(i,!0)));ve&&(be._f.deps&&ye(be._f.deps),H(ae,bt,We,Yi))}},ue=(Y,ee)=>{if(Ee(t.errors,ee)&&Y.focus)return Y.focus(),1},ye=async(Y,ee={})=>{let ae,ve;const be=vd(Y);if(e.resolver){const ge=await O(Xt(Y)?Y:be);ae=ri(ge),ve=Y?!be.some(we=>Ee(ge,we)):ae}else Y?(ve=(await Promise.all(be.map(async ge=>{const we=Ee(i,ge);return await N(we&&we._f?{[ge]:we}:we)}))).every(Boolean),!(!ve&&!t.isValid)&&S()):ve=ae=await N(i);return b.state.next({...!Ps(Y)||(p.isValid||g.isValid)&&ae!==t.isValid?{}:{name:Y},...e.resolver||!Y?{isValid:ae}:{},errors:t.errors}),ee.shouldFocus&&!ve&&yd(i,ue,Y?be:c.mount),ve},q=Y=>{const ee={...l.mount?r:s};return Xt(Y)?ee:Ps(Y)?Ee(ee,Y):Y.map(ae=>Ee(ee,ae))},oe=(Y,ee)=>({invalid:!!Ee((ee||t).errors,Y),isDirty:!!Ee((ee||t).dirtyFields,Y),error:Ee((ee||t).errors,Y),isValidating:!!Ee(t.validatingFields,Y),isTouched:!!Ee((ee||t).touchedFields,Y)}),me=Y=>{Y&&vd(Y).forEach(ee=>pn(t.errors,ee)),b.state.next({errors:Y?t.errors:{}})},de=(Y,ee,ae)=>{const ve=(Ee(i,Y,{_f:{}})._f||{}).ref,be=Ee(t.errors,Y)||{},{ref:ge,message:we,type:Me,...We}=be;Rt(t.errors,Y,{...We,...ee,ref:ve}),b.state.next({name:Y,errors:t.errors,isValid:!1}),ae&&ae.shouldFocus&&ve&&ve.focus&&ve.focus()},Se=(Y,ee)=>es(Y)?b.state.subscribe({next:ae=>Y(B(void 0,ee),ae)}):B(Y,ee,!0),Oe=Y=>b.state.subscribe({next:ee=>{a9(Y.name,ee.name,Y.exact)&&r9(ee,Y.formState||p,Cn,Y.reRenderRoot)&&Y.callback({values:{...r},...t,...ee})}}).unsubscribe,Ce=Y=>(l.mount=!0,g={...g,...Y.formState},Oe({...Y,formState:g})),ct=(Y,ee={})=>{for(const ae of Y?vd(Y):c.mount)c.mount.delete(ae),c.array.delete(ae),ee.keepValue||(pn(i,ae),pn(r,ae)),!ee.keepError&&pn(t.errors,ae),!ee.keepDirty&&pn(t.dirtyFields,ae),!ee.keepTouched&&pn(t.touchedFields,ae),!ee.keepIsValidating&&pn(t.validatingFields,ae),!e.shouldUnregister&&!ee.keepDefaultValue&&pn(s,ae);b.state.next({values:Nn(r)}),b.state.next({...t,...ee.keepDirty?{isDirty:U()}:{}}),!ee.keepIsValid&&S()},Ge=({disabled:Y,name:ee})=>{(_i(Y)&&l.mount||Y||c.disabled.has(ee))&&(Y?c.disabled.add(ee):c.disabled.delete(ee))},Ht=(Y,ee={})=>{let ae=Ee(i,Y);const ve=_i(ee.disabled)||_i(e.disabled);return Rt(i,Y,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:Y}},name:Y,mount:!0,...ee}}),c.mount.add(Y),ae?Ge({disabled:_i(ee.disabled)?ee.disabled:e.disabled,name:Y}):V(Y,!0,ee.value),{...ve?{disabled:ee.disabled||e.disabled}:{},...e.progressive?{required:!!ee.required,min:$u(ee.min),max:$u(ee.max),minLength:$u(ee.minLength),maxLength:$u(ee.maxLength),pattern:$u(ee.pattern)}:{},name:Y,onChange:se,onBlur:se,ref:be=>{if(be){Ht(Y,ee),ae=Ee(i,Y);const ge=Xt(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,we=Jz(ge),Me=ae._f.refs||[];if(we?Me.find(We=>We===ge):ge===ae._f.ref)return;Rt(i,Y,{_f:{...ae._f,...we?{refs:[...Me.filter(Hy),ge,...Array.isArray(Ee(s,Y))?[{}]:[]],ref:{type:ge.type,name:Y}}:{ref:ge}}}),V(Y,!1,void 0,ge)}else ae=Ee(i,Y,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||ee.shouldUnregister)&&!(cM(c.array,Y)&&l.action)&&c.unMount.add(Y)}}},jn=()=>e.shouldFocusError&&yd(i,ue,c.mount),xe=Y=>{_i(Y)&&(b.state.next({disabled:Y}),yd(i,(ee,ae)=>{const ve=Ee(i,ae);ve&&(ee.disabled=ve._f.disabled||Y,Array.isArray(ve._f.refs)&&ve._f.refs.forEach(be=>{be.disabled=ve._f.disabled||Y}))},0,!1))},Te=(Y,ee)=>async ae=>{let ve;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let be=Nn(r);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:ge,values:we}=await D();t.errors=ge,be=we}else await N(i);if(c.disabled.size)for(const ge of c.disabled)Rt(be,ge,void 0);if(pn(t.errors,"root"),ri(t.errors)){b.state.next({errors:{}});try{await Y(be,ae)}catch(ge){ve=ge}}else ee&&await ee({...t.errors},ae),jn(),setTimeout(jn);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ri(t.errors)&&!ve,submitCount:t.submitCount+1,errors:t.errors}),ve)throw ve},Ze=(Y,ee={})=>{Ee(i,Y)&&(Xt(ee.defaultValue)?$(Y,Nn(Ee(s,Y))):($(Y,ee.defaultValue),Rt(s,Y,Nn(ee.defaultValue))),ee.keepTouched||pn(t.touchedFields,Y),ee.keepDirty||(pn(t.dirtyFields,Y),t.isDirty=ee.defaultValue?U(Y,Nn(Ee(s,Y))):U()),ee.keepError||(pn(t.errors,Y),p.isValid&&S()),b.state.next({...t}))},dt=(Y,ee={})=>{const ae=Y?Nn(Y):s,ve=Nn(ae),be=ri(Y),ge=be?s:ve;if(ee.keepDefaultValues||(s=ae),!ee.keepValues){if(ee.keepDirtyValues){const we=new Set([...c.mount,...Object.keys(Hu(s,r))]);for(const Me of Array.from(we))Ee(t.dirtyFields,Me)?Rt(ge,Me,Ee(r,Me)):$(Me,Ee(ge,Me))}else{if(M_&&Xt(Y))for(const we of c.mount){const Me=Ee(i,we);if(Me&&Me._f){const We=Array.isArray(Me._f.refs)?Me._f.refs[0]:Me._f.ref;if(fm(We)){const bt=We.closest("form");if(bt){bt.reset();break}}}}for(const we of c.mount)$(we,Ee(ge,we))}r=Nn(ge),b.array.next({values:{...ge}}),b.state.next({values:{...ge}})}c={mount:ee.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!p.isValid||!!ee.keepIsValid||!!ee.keepDirtyValues,l.watch=!!e.shouldUnregister,b.state.next({submitCount:ee.keepSubmitCount?t.submitCount:0,isDirty:be?!1:ee.keepDirty?t.isDirty:!!(ee.keepDefaultValues&&!Ra(Y,s)),isSubmitted:ee.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:be?{}:ee.keepDirtyValues?ee.keepDefaultValues&&r?Hu(s,r):t.dirtyFields:ee.keepDefaultValues&&Y?Hu(s,Y):ee.keepDirty?t.dirtyFields:{},touchedFields:ee.keepTouched?t.touchedFields:{},errors:ee.keepErrors?t.errors:{},isSubmitSuccessful:ee.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},Nt=(Y,ee)=>dt(es(Y)?Y(r):Y,ee),Gs=(Y,ee={})=>{const ae=Ee(i,Y),ve=ae&&ae._f;if(ve){const be=ve.refs?ve.refs[0]:ve.ref;be.focus&&(be.focus(),ee.shouldSelect&&es(be.select)&&be.select())}},Cn=Y=>{t={...t,...Y}},us={control:{register:Ht,unregister:ct,getFieldState:oe,handleSubmit:Te,setError:de,_subscribe:Oe,_runSchema:D,_focusError:jn,_getWatch:B,_getDirty:U,_setValid:S,_setFieldArray:C,_setDisabledField:Ge,_setErrors:A,_getFieldArray:j,_reset:dt,_resetDefaultValues:()=>es(e.defaultValues)&&e.defaultValues().then(Y=>{Nt(Y,e.resetOptions),b.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:xe,_subjects:b,_proxyFormState:p,get _fields(){return i},get _formValues(){return r},get _state(){return l},set _state(Y){l=Y},get _defaultValues(){return s},get _names(){return c},set _names(Y){c=Y},get _formState(){return t},get _options(){return e},set _options(Y){e={...e,...Y}}},subscribe:Ce,trigger:ye,register:Ht,handleSubmit:Te,watch:Se,setValue:$,getValues:q,reset:Nt,resetField:Ze,clearErrors:me,unregister:ct,setError:de,setFocus:Gs,getFieldState:oe};return{...us,formControl:us}}function V_(n={}){const e=Le.useRef(void 0),t=Le.useRef(void 0),[i,s]=Le.useState({isDirty:!1,isValidating:!1,isLoading:es(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:es(n.defaultValues)?void 0:n.defaultValues});if(!e.current)if(n.formControl)e.current={...n.formControl,formState:i},n.defaultValues&&!es(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions);else{const{formControl:l,...c}=d9(n);e.current={...c,formState:i}}const r=e.current.control;return r._options=n,P_(()=>{const l=r._subscribe({formState:r._proxyFormState,callback:()=>s({...r._formState}),reRenderRoot:!0});return s(c=>({...c,isReady:!0})),r._formState.isReady=!0,l},[r]),Le.useEffect(()=>r._disableForm(n.disabled),[r,n.disabled]),Le.useEffect(()=>{n.mode&&(r._options.mode=n.mode),n.reValidateMode&&(r._options.reValidateMode=n.reValidateMode)},[r,n.mode,n.reValidateMode]),Le.useEffect(()=>{n.errors&&(r._setErrors(n.errors),r._focusError())},[r,n.errors]),Le.useEffect(()=>{n.shouldUnregister&&r._subjects.state.next({values:r._getWatch()})},[r,n.shouldUnregister]),Le.useEffect(()=>{if(r._proxyFormState.isDirty){const l=r._getDirty();l!==i.isDirty&&r._subjects.state.next({isDirty:l})}},[r,i.isDirty]),Le.useEffect(()=>{n.values&&!Ra(n.values,t.current)?(r._reset(n.values,r._options.resetOptions),t.current=n.values,s(l=>({...l}))):r._resetDefaultValues()},[r,n.values]),Le.useEffect(()=>{r._state.mount||(r._setValid(),r._state.mount=!0),r._state.watch&&(r._state.watch=!1,r._subjects.state.next({...r._formState})),r._removeUnmounted()}),e.current.formState=dM(i,r),e.current}function Fi({name:n,label:e,register:t,rules:i={},type:s="text",error:r}){return y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{htmlFor:n,className:"text-sm font-medium text-gray-700",children:e}),y.jsx("input",{type:s,id:n,...t(n,i),className:`border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black ${r?"border-red-500":"border-gray-300"}`}),r&&y.jsx("span",{className:"text-xs text-red-500 mt-1",children:r.message})]})}function mm({name:n,label:e,options:t=[],register:i,required:s=!1,error:r}){return y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("label",{htmlFor:n,className:"text-sm font-medium text-gray-700",children:e}),y.jsxs("select",{id:n,...i(n,{required:s?"Este campo es obligatorio":!1}),className:`border px-3 py-2 rounded focus:outline-none focus:ring-2 focus:ring-black ${r?"border-red-500":"border-gray-300"}`,children:[y.jsx("option",{value:"",children:"Seleccione una opción"}),t.map((l,c)=>y.jsx("option",{value:l,children:l},c))]}),r&&y.jsx("span",{className:"text-xs text-red-500 mt-1",children:r.message})]})}const gm={Lima:["Miraflores","San Isidro","Barranco","Surco","San Borja","La Molina","Lince","Jesus María","Pueblo Libre","San Miguel","Callao"],Arequipa:["Cercado","Yanahuara","Cayma","José Luis Bustamante y Rivero","Miraflores (Arequipa)"],Trujillo:["Trujillo Centro","El Porvenir","Florencia de Mora","La Esperanza"],Cusco:["Cusco Centro","San Sebastián","San Jerónimo","Santiago"],Piura:["Piura Centro","Castilla","Veintiséis de Octubre"]},f9=void 0;function h9(){const{carrito:n,vaciarCarrito:e}=ag(),t=vn(),{register:i,handleSubmit:s,watch:r,reset:l,formState:{errors:c,isValid:u}}=V_({mode:"onChange"}),[f,p]=k.useState(!1),[g,b]=k.useState(!1),x=k.useMemo(()=>{try{const A=JSON.parse(localStorage.getItem("usuario"));return(A==null?void 0:A.usuarioMayorista)===!0}catch(A){return console.error("Error:",A),!1}},[]),w=Object.keys(gm),S=r("ciudad")?gm[r("ciudad")]:[];k.useEffect(()=>{const A=on.currentUser;A&&(async()=>{const I=qn(st,"usuarios",A.uid),H=await ig(I);if(H.exists()){const D=H.data(),O=A.displayName||"",[N,L]=O.split(" ");l({nombre:N||"",apellido:L||"",telefono:D.telefono||"",dni:D.dni||"",direccion:D.direccion||"",codigopostal:D.codigopostal||"",ciudad:D.ciudad||"",notas:D.notas||""}),setTimeout(()=>{l(U=>({...U,distrito:D.distrito||""}))},50)}})()},[l]);const T=k.useMemo(()=>n.reduce((A,V)=>{const I=x?V.precioMayorista:V.precioDescuento||V.precio;return A+I*V.cantidad},0),[n,x]),C=async A=>{var V;if(b(!0),!u){console.warn("Formulario inválido"),b(!1);return}try{const I=await Oz();await x_(Qt(st,"ordenes"),{uid:((V=on.currentUser)==null?void 0:V.uid)||"",numeroOrden:I,cliente:A,estado:"pendiente",carrito:n,total:T,creadoEn:y5()});const H=rM(I,A,n,T),D=`https://wa.me/${f9||"51944788568"}?text=${encodeURIComponent(H)}`;window.open(D,"_blank"),b(!1),p(!0)}catch(I){console.error("Error al registrar la orden:",I)}},R=()=>{e(),p(!1),l(),t("/")};return y.jsxs("div",{className:"p-4 max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8",children:[y.jsxs("form",{onSubmit:s(C),className:"p-6",noValidate:!0,children:[y.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Información de Envío"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Fi,{label:"Nombre",name:"nombre",register:i,rules:{required:"Obligatorio",pattern:{value:/^[A-Za-z\s]+$/,message:"Solo letras"}},error:c.nombre}),y.jsx(Fi,{label:"Apellido",name:"apellido",register:i,rules:{required:"Obligatorio",pattern:{value:/^[A-Za-z\s]+$/,message:"Solo letras"}},error:c.apellido}),y.jsx(Fi,{label:"DNI",name:"dni",register:i,rules:{required:"Obligatorio",pattern:{value:/^[0-9]{8}$/,message:"8 dígitos"}},error:c.dni}),y.jsx(Fi,{label:"Teléfono",name:"telefono",register:i,rules:{required:"Obligatorio",pattern:{value:/^[0-9]+$/,message:"Solo números"}},error:c.telefono}),y.jsx(Fi,{label:"Dirección",name:"direccion",register:i,rules:{required:"Obligatorio"},error:c.direccion}),y.jsx(Fi,{label:"Código Postal",name:"codigopostal",register:i,rules:{required:"Obligatorio",pattern:{value:/^[0-9]{1,6}$/,message:"Máximo 6 dígitos"}},error:c.codigopostal}),y.jsx(mm,{label:"Ciudad",name:"ciudad",options:w,register:i,error:c.ciudad,required:!0}),y.jsx(mm,{label:"Distrito",name:"distrito",options:S,register:i,error:c.distrito,required:!0})]}),y.jsxs("div",{className:"mt-3",children:[y.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales"}),y.jsx("textarea",{...i("notas"),rows:4,className:"w-full border rounded px-3 py-2 text-sm resize-none",placeholder:"Punto de referencia, facturación, etc."})]}),y.jsx("div",{className:"pt-4",children:y.jsx("button",{type:"submit",disabled:!u||g,className:`w-full py-3 rounded font-semibold transition ${u&&!g?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:g?"Enviando...":"Enviar compra"})})]}),y.jsxs("div",{className:"bg-gray-100 p-4 rounded shadow-md",children:[y.jsx("h2",{className:"text-xl font-bold mb-4",children:"Resumen de compra"}),n.map((A,V)=>{const I=x?A.precioMayorista:A.precioDescuento||A.precio;return y.jsxs("div",{className:"flex items-center gap-4 mb-3 border-b pb-2",children:[y.jsx("img",{src:Xo(A.imagen),alt:`Imagen de ${A.nombre}`,loading:"lazy",className:"w-16 h-16 object-cover rounded"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-semibold",children:A.nombre}),y.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:["Talla: ",A.talla," | Color: ",A.color]}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Cantidad: ",A.cantidad]}),y.jsxs("p",{className:"text-sm font-medium text-gray-800",children:["S/ ",(I*A.cantidad).toFixed(2)]})]})]},V)}),y.jsxs("div",{className:"mt-4 pt-4 text-right font-bold text-lg",children:["Total: S/ ",T.toFixed(2)]}),y.jsx("p",{className:"text-xs text-gray-600 mt-1 text-right",children:"* No incluye delivery"})]}),f&&y.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full shadow-lg text-center",children:[y.jsx("h3",{className:"text-xl font-bold mb-2",children:"¡Gracias por tu compra!"}),y.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Por favor envía la orden por WhatsApp. Un asesor se comunicará contigo."}),y.jsx("button",{onClick:R,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Muchas gracias"})]})})]})}function p9(){const[n,e]=k.useState(""),[t,i]=k.useState(""),[s,r]=k.useState(!1),[l,c]=k.useState(!1),[u,f]=k.useState(""),p=vn(),g=async b=>{b.preventDefault(),f("");try{const w=(await YV(on,n,t)).user;if(await w.reload(),!w.emailVerified)return await on.signOut(),f("Debes verificar tu correo antes de iniciar sesión.");const S=qn(st,"usuarios",w.uid),T=await ig(S);if(T.exists()&&T.data().active===!1)return await on.signOut(),f("Tu cuenta ha sido desactivada. Contacta con soporte.");if(!T.exists())return await on.signOut(),f("Tu cuenta presenta errores. Contacta con soporte.");const C=T.data(),{rol:R,usuarioMayorista:A=!1}=C;localStorage.removeItem("usuario"),sessionStorage.removeItem("usuario");const V=JSON.stringify({uid:w.uid,rol:R,usuarioMayorista:A});l?localStorage.setItem("usuario",V):(localStorage.setItem("usuario",V),sessionStorage.setItem("usuario",V)),p(R==="admin"?"/admin/dashboard":"/")}catch(x){console.error(x),f("Correo o contraseña incorrectos")}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:y.jsxs("form",{onSubmit:g,className:"w-full max-w-md p-6 border border-gray-200 rounded-xl shadow space-y-6",children:[y.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Iniciar sesión"}),u&&y.jsx("p",{className:"text-red-500 text-sm text-center",children:u}),y.jsxs("div",{className:"space-y-5",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1 text-black",children:"Correo electrónico"}),y.jsx("input",{type:"email",placeholder:"ejemplo@correo.com",value:n,onChange:b=>e(b.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm mb-1 text-black",children:"Contraseña"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:s?"text":"password",placeholder:"Contraseña",value:t,onChange:b=>i(b.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),y.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-3 top-2.5 text-gray-600",children:s?y.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):y.jsx("i",{className:"bx bx-eye h-5 w-5"})})]})]}),y.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 my-2",children:[y.jsxs("label",{className:"flex items-center space-x-2",children:[y.jsx("input",{type:"checkbox",checked:l,onChange:()=>c(!l),className:"form-checkbox border-gray-400"}),y.jsx("span",{children:"Recuérdame"})]}),y.jsx("button",{type:"button",onClick:()=>p("/forgotPassword"),className:"text-black hover:underline",children:"¿Olvidaste tu contraseña?"})]})]}),y.jsx("button",{type:"submit",className:"w-full py-2 bg-black text-white rounded hover:bg-gray-800 transition",children:"Iniciar sesión"}),y.jsxs("p",{className:"text-center text-sm text-gray-700 my-1",children:["¿No tienes cuenta?"," ",y.jsx("button",{type:"button",onClick:()=>p("/register"),className:"text-black hover:underline",children:"Registrarme"})]}),y.jsx("p",{className:"text-center text-sm text-gray-700 my-1",children:y.jsx("button",{type:"button",onClick:()=>p("/"),className:"text-black hover:underline",children:"Volver a la página principal"})})]})})}function m9(){const[n,e]=k.useState({name:"",lastname:"",email:"",password:"",confirmPassword:""}),[t,i]=k.useState(""),[s,r]=k.useState(!1),[l,c]=k.useState(!1),[u,f]=k.useState(!1),p=vn(),g=x=>{e({...n,[x.target.name]:x.target.value})},b=async x=>{if(x.preventDefault(),i(""),n.password!==n.confirmPassword)return i("Las contraseñas no coinciden.");f(!0);try{const S=(await GV(on,n.email,n.password)).user;await MR(S,{displayName:`${n.name} ${n.lastname}`}),await C2(qn(st,"usuarios",S.uid),{uid:S.uid,email:S.email,rol:"cliente",usuarioMayorista:!1,nombre:n.name,active:!0,apellido:n.lastname,creadoEn:new Date}),await WV(S),p("/confirmar")}catch(w){console.error(w),w.code==="auth/email-already-in-use"?i("Este correo ya está registrado."):i("No se pudo registrar el usuario.")}finally{f(!1)}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:y.jsxs("form",{onSubmit:b,className:"flex flex-col w-full max-w-md p-6 gap-2 border border-gray-200 rounded-xl shadow space-y-6",children:[y.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Crear cuenta"}),t&&y.jsx("p",{className:"text-red-500 text-sm text-center",children:t}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsx("input",{name:"name",type:"text",placeholder:"Nombre",value:n.name,onChange:g,required:!0,className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),y.jsx("input",{name:"lastname",type:"text",placeholder:"Apellido",value:n.lastname,onChange:g,required:!0,className:"px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"})]}),y.jsx("input",{name:"email",type:"email",placeholder:"Correo electrónico",value:n.email,onChange:g,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{name:"password",type:s?"text":"password",placeholder:"Contraseña",value:n.password,onChange:g,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),y.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-3 top-2.5 text-gray-600",children:s?y.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):y.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{name:"confirmPassword",type:l?"text":"password",placeholder:"Confirmar contraseña",value:n.confirmPassword,onChange:g,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black pr-10"}),y.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-3 top-2.5 text-gray-600",children:l?y.jsx("i",{className:"bx bx-eye-slash h-5 w-5"}):y.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),y.jsx("button",{type:"submit",disabled:u,className:`w-full py-2 text-white rounded transition ${u?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:u?"Creando cuenta...":"Registrarme"}),y.jsxs("p",{className:"text-sm text-center text-gray-600",children:["¿Ya tienes cuenta?"," ",y.jsx("a",{href:"/login",className:"text-black underline",children:"Inicia sesión"})]}),y.jsx("p",{className:"text-center text-sm text-gray-700 my-1",children:y.jsx("button",{type:"button",onClick:()=>p("/"),className:"text-black hover:underline",children:"Volver a la pagina principal"})})]})})}function g9(){const[n,e]=k.useState(""),[t,i]=k.useState(""),[s,r]=k.useState(!1),l=vn(),c=async u=>{u.preventDefault(),r(!0),i("");try{await HV(on,n,{url:`${window.location.origin}/reset`,handleCodeInApp:!0}),i("📬 Se ha enviado un enlace para restablecer tu contraseña. Redirigiendo..."),setTimeout(()=>l("/login"),3e3)}catch(f){i("❌ Ocurrió un error: "+f.message)}};return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:y.jsxs("form",{onSubmit:c,className:"flex flex-col gap-2 w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[y.jsx("h2",{className:"text-2xl font-semibold text-black text-center",children:"Recuperar Contraseña"}),t&&y.jsx("p",{className:`text-sm text-center ${t.startsWith("❌")?"text-red-500":"text-green-600"}`,children:t}),y.jsx("input",{type:"email",placeholder:"Correo electrónico",value:n,onChange:u=>e(u.target.value),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black"}),y.jsx("button",{type:"submit",disabled:s,className:`w-full py-2 text-white rounded transition ${s?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:s?"Enviando...":"Enviar enlace"}),y.jsxs("p",{className:"text-sm text-center text-gray-600",children:["¿Ya recordaste tu contraseña?"," ",y.jsx("button",{type:"button",onClick:()=>l("/login"),className:"text-black underline",children:"Inicia sesión"})]})]})})}function v9(){const[n]=x0(),[e,t]=k.useState(""),[i,s]=k.useState(""),[r,l]=k.useState(!1),[c,u]=k.useState(!1),[f,p]=k.useState(""),[g,b]=k.useState(!1),x=vn(),w=n.get("oobCode"),S=async C=>{if(C.preventDefault(),p(""),e!==i)return p("Las contraseñas no coinciden.");b(!0);try{await $V(on,w,e),p("Contraseña restablecida. Redirigiendo..."),setTimeout(()=>x("/login"),3e3)}catch(R){console.log(R),p("Error al cambiar la contraseña. Ya ha usado este enlace. Redirigiendo..."),setTimeout(()=>x("/login"),3e3)}};k.useEffect(()=>{w||p("Código inválido.")},[w]);const T=f.toLowerCase().includes("error")||f.toLowerCase().includes("inválido")||f.toLowerCase().includes("coinciden")||f.toLowerCase().includes("enlace");return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:y.jsxs("form",{onSubmit:S,className:"flex flex-col gap-2 w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[y.jsx("h2",{className:"text-2xl font-semibold text-black text-center",children:"Nueva Contraseña"}),f&&y.jsx("p",{className:`text-sm text-center ${T?"text-red-500":"text-green-600"}`,children:f}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:r?"text":"password",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Nueva contraseña",value:e,onChange:C=>t(C.target.value),required:!0}),y.jsx("button",{type:"button",onClick:()=>l(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:r?y.jsx("i",{className:"bx  bx-eye-slash h-5 w-5"}):y.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),y.jsxs("div",{className:"relative",children:[y.jsx("input",{type:c?"text":"password",className:"w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-black",placeholder:"Confirmar contraseña",value:i,onChange:C=>s(C.target.value),required:!0}),y.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-sm text-gray-500",children:c?y.jsx("i",{className:"bx  bx-eye-slash h-5 w-5"}):y.jsx("i",{className:"bx bx-eye h-5 w-5"})})]}),y.jsx("button",{type:"submit",disabled:g,className:`w-full py-2 text-white rounded transition ${g?"bg-gray-500 cursor-not-allowed":"bg-black hover:bg-gray-800"}`,children:g?"Cambiando...":"Cambiar Contraseña"})]})})}function y9(){return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:y.jsxs("div",{className:"w-full max-w-md p-6 border border-gray-200 rounded-xl shadow-sm space-y-6",children:[y.jsx("h1",{className:"text-2xl font-semibold text-black text-center",children:"Verifica tu correo"}),y.jsx("p",{className:"text-gray-700 text-center",children:"Te hemos enviado un correo con un enlace para verificar tu cuenta."})]})})}function b9(){const n=vn(),[e]=x0();return k.useEffect(()=>{const t=e.get("mode"),i=e.get("oobCode");t==="verifyEmail"&&i?n(`/verify-email?oobCode=${i}`):t==="resetPassword"&&i&&n(`/reset?oobCode=${i}`)},[e,n]),null}function _9(){const[n]=x0(),e=vn(),[t,i]=k.useState("Verificando...");return k.useEffect(()=>{const s=n.get("oobCode");if(!s){i("❌ Código inválido.");return}Zd(on,r=>{r!=null&&r.emailVerified?(i("✅ Tu correo ya está verificado. Redirigiendo..."),setTimeout(()=>e("/login"),3e3)):qV(on,s).then(()=>{i("✅ Correo verificado exitosamente. Redirigiendo..."),setTimeout(()=>e("/login"),3e3)}).catch(l=>{l.code==="auth/invalid-action-code"?i("✅ Enlace verificado. Redirigiendo..."):i("❌ Ocurrió un error inesperado.")})})},[n,e]),y.jsx("div",{className:"min-h-screen flex items-center justify-center text-black",children:y.jsx("p",{className:"text-lg",children:t})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function x9(n,e,t,i){function s(r){return r instanceof t?r:new t(function(l){l(r)})}return new(t||(t=Promise))(function(r,l){function c(p){try{f(i.next(p))}catch(g){l(g)}}function u(p){try{f(i.throw(p))}catch(g){l(g)}}function f(p){p.done?r(p.value):s(p.value).then(c,u)}f((i=i.apply(n,[])).next())})}function w9(n,e){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,s,r,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(f){return function(p){return u([f,p])}}function u(f){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,s&&(r=f[0]&2?s.return:f[0]?s.throw||((r=s.return)&&r.call(s),0):s.next)&&!(r=r.call(s,f[1])).done)return r;switch(s=0,r&&(f=[f[0]&2,r.value]),f[0]){case 0:case 1:r=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,s=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!r||f[1]>r[0]&&f[1]<r[3])){t.label=f[1];break}if(f[0]===6&&t.label<r[1]){t.label=r[1],r=f;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(f);break}r[2]&&t.ops.pop(),t.trys.pop();continue}f=e.call(n,t)}catch(p){f=[6,p],s=0}finally{i=r=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ic=function(){return ic=Object.assign||function(e){for(var t,i=1,s=arguments.length;i<s;i++){t=arguments[i];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},ic.apply(this,arguments)},bM=function(n){return{loading:n==null,value:n}},S9=function(){return function(n,e){switch(e.type){case"error":return ic(ic({},n),{error:e.error,loading:!1,value:void 0});case"reset":return bM(e.defaultValue);case"value":return ic(ic({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},E9=function(n){var e=n?n():void 0,t=k.useReducer(S9(),bM(e)),i=t[0],s=t[1],r=k.useCallback(function(){var u=n?n():void 0;s({type:"reset",defaultValue:u})},[n]),l=k.useCallback(function(u){s({type:"error",error:u})},[]),c=k.useCallback(function(u){s({type:"value",value:u})},[]);return k.useMemo(function(){return{error:i.error,loading:i.loading,reset:r,setError:l,setValue:c,value:i.value}},[i.error,i.loading,r,l,c,i.value])},T9=function(n,e){var t=E9(function(){return n.currentUser}),i=t.error,s=t.loading,r=t.setError,l=t.setValue,c=t.value;return k.useEffect(function(){var u=Zd(n,function(f){return x9(void 0,void 0,void 0,function(){var p;return w9(this,function(g){switch(g.label){case 0:return[3,4];case 1:return g.trys.push([1,3,,4]),[4,e.onUserChanged(f)];case 2:return g.sent(),[3,4];case 3:return p=g.sent(),r(p),[3,4];case 4:return l(f),[2]}})})},r);return function(){u()}},[n]),[c,s,i]};function U1({children:n}){const[e,t]=T9(on);return t?y.jsx("div",{className:"text-center mt-10",children:"Cargando..."}):e?n:y.jsx(_P,{to:"/login"})}function C9(){const[n,e]=k.useState(null),[t,i]=k.useState(!0),[s,r]=k.useState(!1),[l,c]=k.useState(""),u=vn(),{register:f,handleSubmit:p,watch:g,reset:b,formState:{errors:x}}=V_({mode:"onChange"}),w=g("ciudad"),S=Object.keys(gm),T=w?gm[w]:[];k.useEffect(()=>{const R=on.onAuthStateChanged(async A=>{if(!A)u("/login");else{e(A);try{const V=qn(st,"usuarios",A.uid),I=await ig(V),H=A.displayName||"",[D,O]=H.split(" ");if(I.exists()){const N=I.data();b({nombre:D||"",apellido:O||"",dni:N.dni||"",telefono:N.telefono||"",direccion:N.direccion||"",codigopostal:N.codigopostal||"",ciudad:N.ciudad||"",distrito:N.distrito||""})}else c("No se encontraron datos del usuario.")}catch(V){console.error("Error al obtener datos del usuario:",V),c("Ocurrió un error al cargar tu perfil.")}finally{i(!1)}}});return()=>R()},[u,b]);const C=async R=>{if(r(!0),!n)return;c("");const A=`${R.nombre} ${R.apellido}`.trim();try{const V=qn(st,"usuarios",n.uid);await Or(V,R),await MR(n,{displayName:A}),c("Datos actualizados correctamente."),setTimeout(()=>c(""),3e3),r(!1)}catch(V){console.error("Error al guardar:",V),r(!1),c("Error al guardar los cambios.")}};return t?y.jsx("div",{className:"text-center mt-10",children:"Cargando perfil..."}):y.jsxs("div",{className:"max-w-xl mx-auto p-6 bg-white rounded shadow mt-10",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Mi Perfil"}),l&&y.jsx("p",{className:"text-center text-sm text-blue-600 mb-4",children:l}),y.jsxs("form",{onSubmit:p(C),className:"p-6 space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsx(Fi,{label:"Nombre",name:"nombre",register:f,rules:{required:"El nombre es obligatorio",pattern:{value:/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,message:"Solo se permiten letras"}},error:x.nombre}),y.jsx(Fi,{label:"Apellido",name:"apellido",register:f,rules:{required:"El apellido es obligatorio",pattern:{value:/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/,message:"Solo se permiten letras"}},error:x.apellido}),y.jsx(Fi,{label:"DNI",name:"dni",register:f,rules:{required:"El DNI es obligatorio",pattern:{value:/^[0-9]{8}$/,message:"Debe tener exactamente 8 dígitos"}},error:x.dni}),y.jsx(Fi,{label:"Teléfono",name:"telefono",register:f,rules:{required:"El teléfono es obligatorio",pattern:{value:/^[0-9]+$/,message:"Solo se permiten números"}},error:x.telefono}),y.jsx(Fi,{label:"Dirección",name:"direccion",register:f,rules:{required:"La dirección es obligatoria"},error:x.direccion}),y.jsx(Fi,{label:"Código Postal",name:"codigopostal",register:f,rules:{required:"El código postal es obligatorio",pattern:{value:/^[0-9]{1,6}$/,message:"Máximo 6 dígitos numéricos"}},error:x.codigopostal}),y.jsx(mm,{label:"Ciudad",name:"ciudad",options:S,register:f,error:x.ciudad,required:!0}),y.jsx(mm,{label:"Distrito",name:"distrito",options:T,register:f,error:x.distrito,required:!0})]}),y.jsx("button",{type:"submit",disabled:t||s,className:`w-full py-3 my-3 rounded transition ${!t&&!s?"bg-black text-white hover:bg-gray-800":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:s?"Guardando...":"Guardar información"})]})]})}function A9(){const[n,e]=k.useState([]),[t,i]=k.useState(!0),[s,r]=k.useState(1),[l,c]=k.useState(null),u=vn(),f=5;k.useEffect(()=>{const x=on.currentUser;if(!x){u("/login");return}(async()=>{try{const S=lf(Qt(st,"ordenes"),lc("uid","==",x.uid)),C=(await Tn(S)).docs.map(R=>({id:R.id,...R.data()}));e(C)}catch(S){console.error("Error al obtener las compras:",S)}finally{i(!1)}})()},[u]),k.useEffect(()=>{document.body.style.overflow=l?"hidden":"auto"},[l]);const p=(s-1)*f,g=n.slice(p,p+f),b=Math.ceil(n.length/f);return t?y.jsx("p",{className:"text-center mt-10",children:"Cargando tus compras..."}):n.length===0?y.jsx("p",{className:"text-center mt-10",children:"No tienes compras registradas."}):y.jsxs("div",{className:"max-w-5xl mx-auto mt-10 p-4",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Mis Compras"}),y.jsxs("div",{className:"overflow-x-auto",children:[y.jsxs("table",{className:"min-w-full border",children:[y.jsx("thead",{className:"bg-gray-200",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-4 border",children:"Orden"}),y.jsx("th",{className:"py-2 px-4 border",children:"Fecha"}),y.jsx("th",{className:"py-2 px-4 border",children:"Total"}),y.jsx("th",{className:"py-2 px-4 border",children:"Detalles"})]})}),y.jsx("tbody",{children:g.map(x=>{var w;return y.jsxs("tr",{className:"border-t",children:[y.jsx("td",{className:"py-2 px-4 border",children:x.numeroOrden}),y.jsx("td",{className:"py-2 px-4 border",children:(w=x.creadoEn)==null?void 0:w.toDate().toLocaleDateString()}),y.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",x.total]}),y.jsx("td",{className:"py-2 px-4 border",children:y.jsx("button",{onClick:()=>c(x),className:"text-blue-600 hover:underline",children:"Ver productos"})})]},x.id)})})]}),y.jsxs("div",{className:"flex justify-between items-center mt-4",children:[y.jsx("button",{className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",onClick:()=>r(x=>Math.max(x-1,1)),disabled:s===1,children:"Anterior"}),y.jsxs("span",{className:"text-sm text-gray-600",children:["Página ",s," de ",b]}),y.jsx("button",{className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",onClick:()=>r(x=>Math.min(x+1,b)),disabled:s===b,children:"Siguiente"})]})]}),l&&y.jsx("div",{className:"fixed inset-0 backdrop-blur-lg flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white max-w-3xl w-full rounded shadow-lg p-6 relative max-h-[80vh] overflow-y-auto",children:[y.jsx("button",{onClick:()=>c(null),className:"absolute top-3 right-4 text-gray-600 hover:text-black text-xl",children:"×"}),y.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Detalle de productos"}),y.jsxs("table",{className:"min-w-full border",children:[y.jsx("thead",{className:"bg-gray-100",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-4 border",children:"Producto"}),y.jsx("th",{className:"py-2 px-4 border",children:"Cantidad"}),y.jsx("th",{className:"py-2 px-4 border",children:"Color"}),y.jsx("th",{className:"py-2 px-4 border",children:"Talla"})]})}),y.jsx("tbody",{children:l.carrito.map((x,w)=>y.jsxs("tr",{className:"border-t",children:[y.jsx("td",{className:"py-2 px-4 border",children:x.nombre}),y.jsx("td",{className:"py-2 px-4 border",children:x.cantidad}),y.jsx("td",{className:"py-2 px-4 border",children:x.color?y.jsx("div",{className:"w-4 h-4 rounded-full mx-auto",style:{backgroundColor:x.color}}):"N/A"}),y.jsx("td",{className:"py-2 px-4 border",children:x.talla||"N/A"})]},w))})]})]})})]})}function R9(){const[n,e]=k.useState(!1),[t,i]=k.useState(null),s=vn();k.useEffect(()=>{const l=Zd(on,c=>{c?i(c):s("/login")});return()=>l()},[s]);const r=async()=>{try{await k0(on),localStorage.removeItem("usuario"),sessionStorage.removeItem("usuario"),s("/login")}catch(l){console.error("Error al cerrar sesión:",l)}};return y.jsxs("div",{className:"flex h-screen bg-white text-black",children:[y.jsxs("aside",{className:`z-10 flex flex-col bg-black text-white p-4 ${n?"w-16":"w-64 absolute md:relative h-full"} transition-all duration-300`,children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[!n&&y.jsx("div",{className:"flex items-center justify-center font-[Anton] uppercase italic text-[40px]",children:"Nikos"}),y.jsx("button",{onClick:()=>e(!n),className:"text-white text-lg focus:outline-none",children:y.jsx("i",{className:"bx bx-menu"})})]}),y.jsxs("nav",{className:"flex-1 flex flex-col gap-4 text-sm",children:[y.jsxs(Po,{to:"/admin/dashboard",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[y.jsx("i",{className:"bx bx-dashboard text-lg"}),!n&&"Dashboard"]}),y.jsxs(Po,{to:"/admin/filtros",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[y.jsx("i",{className:"bx bx-menu-filter text-lg"}),!n&&"Filtros"]}),y.jsxs(Po,{to:"/admin/ventas",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[y.jsx("i",{className:"bx bx-receipt text-lg"}),!n&&"Ventas"]}),y.jsxs(Po,{to:"/admin/productos",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[y.jsx("i",{className:"bx bx-box text-lg"}),!n&&"Productos"]}),y.jsxs(Po,{to:"/admin/usuarios",className:"hover:text-gray-300 flex items-center gap-2 text-lg",children:[y.jsx("i",{className:"bx bx-community text-lg"}),!n&&"Usuarios"]})]}),y.jsx("div",{className:"mt-auto",children:y.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-white hover:text-gray-300 text-lg",children:[y.jsx("i",{className:"bx bx-door-open text-lg"}),!n&&"Cerrar Sesión"]})})]}),y.jsxs("main",{className:"flex-1 overflow-y-auto p-6 bg-gray-100",children:[y.jsx("header",{className:"flex justify-between items-center mb-6 border-b pb-2",children:y.jsxs("h1",{className:"text-lg font-bold whitespace-nowrap",children:["Hola ",(t==null?void 0:t.displayName)||"Admin"]})}),y.jsx(zA,{})]})]})}function Qo(n){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qo(n)}function I9(n,e){if(Qo(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(Qo(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _M(n){var e=I9(n,"string");return Qo(e)=="symbol"?e:e+""}function rd(n,e,t){return(e=_M(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function z1(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Ve(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(t),!0).forEach(function(i){rd(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):z1(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function M9(n){if(Array.isArray(n))return n}function O9(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,s,r,l,c=[],u=!0,f=!1;try{if(r=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(i=r.call(t)).done)&&(c.push(i.value),c.length!==e);u=!0);}catch(p){f=!0,s=p}finally{try{if(!u&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw s}}return c}}function Kb(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function xM(n,e){if(n){if(typeof n=="string")return Kb(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Kb(n,e):void 0}}function N9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kr(n,e){return M9(n)||O9(n,e)||xM(n,e)||N9()}function D9(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function qr(n,e){if(n==null)return{};var t,i,s=D9(n,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(i=0;i<r.length;i++)t=r[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(s[t]=n[t])}return s}var P9=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function k9(n){var e=n.defaultInputValue,t=e===void 0?"":e,i=n.defaultMenuIsOpen,s=i===void 0?!1:i,r=n.defaultValue,l=r===void 0?null:r,c=n.inputValue,u=n.menuIsOpen,f=n.onChange,p=n.onInputChange,g=n.onMenuClose,b=n.onMenuOpen,x=n.value,w=qr(n,P9),S=k.useState(c!==void 0?c:t),T=kr(S,2),C=T[0],R=T[1],A=k.useState(u!==void 0?u:s),V=kr(A,2),I=V[0],H=V[1],D=k.useState(x!==void 0?x:l),O=kr(D,2),N=O[0],L=O[1],U=k.useCallback(function(ue,ye){typeof f=="function"&&f(ue,ye),L(ue)},[f]),B=k.useCallback(function(ue,ye){var q;typeof p=="function"&&(q=p(ue,ye)),R(q!==void 0?q:ue)},[p]),j=k.useCallback(function(){typeof b=="function"&&b(),H(!0)},[b]),ie=k.useCallback(function(){typeof g=="function"&&g(),H(!1)},[g]),X=c!==void 0?c:C,$=u!==void 0?u:I,se=x!==void 0?x:N;return Ve(Ve({},w),{},{inputValue:X,menuIsOpen:$,onChange:U,onInputChange:B,onMenuClose:ie,onMenuOpen:j,value:se})}function Ue(){return Ue=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Ue.apply(null,arguments)}function L9(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function B1(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,_M(i.key),i)}}function V9(n,e,t){return e&&B1(n.prototype,e),t&&B1(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Xb(n,e){return Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Xb(n,e)}function j9(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Xb(n,e)}function vm(n){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vm(n)}function wM(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wM=function(){return!!n})()}function F9(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function U9(n,e){if(e&&(Qo(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F9(n)}function z9(n){var e=wM();return function(){var t,i=vm(n);if(e){var s=vm(this).constructor;t=Reflect.construct(i,arguments,s)}else t=i.apply(this,arguments);return U9(this,t)}}function B9(n){if(Array.isArray(n))return Kb(n)}function H9(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j_(n){return B9(n)||H9(n)||xM(n)||$9()}function q9(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function G9(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Y9=function(){function n(t){var i=this;this._insertTag=function(s){var r;i.tags.length===0?i.insertionPoint?r=i.insertionPoint.nextSibling:i.prepend?r=i.container.firstChild:r=i.before:r=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(s,r),i.tags.push(s)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(G9(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=q9(s);try{r.insertRule(i,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var s;return(s=i.parentNode)==null?void 0:s.removeChild(i)}),this.tags=[],this.ctr=0},n}(),Bn="-ms-",ym="-moz-",ht="-webkit-",SM="comm",F_="rule",U_="decl",W9="@import",EM="@keyframes",K9="@layer",X9=Math.abs,lg=String.fromCharCode,Q9=Object.assign;function Z9(n,e){return Pn(n,0)^45?(((e<<2^Pn(n,0))<<2^Pn(n,1))<<2^Pn(n,2))<<2^Pn(n,3):0}function TM(n){return n.trim()}function J9(n,e){return(n=e.exec(n))?n[0]:n}function pt(n,e,t){return n.replace(e,t)}function Qb(n,e){return n.indexOf(e)}function Pn(n,e){return n.charCodeAt(e)|0}function Vd(n,e,t){return n.slice(e,t)}function Os(n){return n.length}function z_(n){return n.length}function $h(n,e){return e.push(n),n}function eB(n,e){return n.map(e).join("")}var cg=1,bc=1,CM=0,ci=0,rn=0,Nc="";function ug(n,e,t,i,s,r,l){return{value:n,root:e,parent:t,type:i,props:s,children:r,line:cg,column:bc,length:l,return:""}}function qu(n,e){return Q9(ug("",null,null,"",null,null,0),n,{length:-n.length},e)}function tB(){return rn}function nB(){return rn=ci>0?Pn(Nc,--ci):0,bc--,rn===10&&(bc=1,cg--),rn}function Ei(){return rn=ci<CM?Pn(Nc,ci++):0,bc++,rn===10&&(bc=1,cg++),rn}function zs(){return Pn(Nc,ci)}function Cp(){return ci}function uf(n,e){return Vd(Nc,n,e)}function jd(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AM(n){return cg=bc=1,CM=Os(Nc=n),ci=0,[]}function RM(n){return Nc="",n}function Ap(n){return TM(uf(ci-1,Zb(n===91?n+2:n===40?n+1:n)))}function iB(n){for(;(rn=zs())&&rn<33;)Ei();return jd(n)>2||jd(rn)>3?"":" "}function sB(n,e){for(;--e&&Ei()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return uf(n,Cp()+(e<6&&zs()==32&&Ei()==32))}function Zb(n){for(;Ei();)switch(rn){case n:return ci;case 34:case 39:n!==34&&n!==39&&Zb(rn);break;case 40:n===41&&Zb(n);break;case 92:Ei();break}return ci}function rB(n,e){for(;Ei()&&n+rn!==57;)if(n+rn===84&&zs()===47)break;return"/*"+uf(e,ci-1)+"*"+lg(n===47?n:Ei())}function aB(n){for(;!jd(zs());)Ei();return uf(n,ci)}function oB(n){return RM(Rp("",null,null,null,[""],n=AM(n),0,[0],n))}function Rp(n,e,t,i,s,r,l,c,u){for(var f=0,p=0,g=l,b=0,x=0,w=0,S=1,T=1,C=1,R=0,A="",V=s,I=r,H=i,D=A;T;)switch(w=R,R=Ei()){case 40:if(w!=108&&Pn(D,g-1)==58){Qb(D+=pt(Ap(R),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:D+=Ap(R);break;case 9:case 10:case 13:case 32:D+=iB(w);break;case 92:D+=sB(Cp()-1,7);continue;case 47:switch(zs()){case 42:case 47:$h(lB(rB(Ei(),Cp()),e,t),u);break;default:D+="/"}break;case 123*S:c[f++]=Os(D)*C;case 125*S:case 59:case 0:switch(R){case 0:case 125:T=0;case 59+p:C==-1&&(D=pt(D,/\f/g,"")),x>0&&Os(D)-g&&$h(x>32?$1(D+";",i,t,g-1):$1(pt(D," ","")+";",i,t,g-2),u);break;case 59:D+=";";default:if($h(H=H1(D,e,t,f,p,s,c,A,V=[],I=[],g),r),R===123)if(p===0)Rp(D,e,H,H,V,r,g,c,I);else switch(b===99&&Pn(D,3)===110?100:b){case 100:case 108:case 109:case 115:Rp(n,H,H,i&&$h(H1(n,H,H,0,0,s,c,A,s,V=[],g),I),s,I,g,c,i?V:I);break;default:Rp(D,H,H,H,[""],I,0,c,I)}}f=p=x=0,S=C=1,A=D="",g=l;break;case 58:g=1+Os(D),x=w;default:if(S<1){if(R==123)--S;else if(R==125&&S++==0&&nB()==125)continue}switch(D+=lg(R),R*S){case 38:C=p>0?1:(D+="\f",-1);break;case 44:c[f++]=(Os(D)-1)*C,C=1;break;case 64:zs()===45&&(D+=Ap(Ei())),b=zs(),p=g=Os(A=D+=aB(Cp())),R++;break;case 45:w===45&&Os(D)==2&&(S=0)}}return r}function H1(n,e,t,i,s,r,l,c,u,f,p){for(var g=s-1,b=s===0?r:[""],x=z_(b),w=0,S=0,T=0;w<i;++w)for(var C=0,R=Vd(n,g+1,g=X9(S=l[w])),A=n;C<x;++C)(A=TM(S>0?b[C]+" "+R:pt(R,/&\f/g,b[C])))&&(u[T++]=A);return ug(n,e,t,s===0?F_:c,u,f,p)}function lB(n,e,t){return ug(n,e,t,SM,lg(tB()),Vd(n,2,-2),0)}function $1(n,e,t,i){return ug(n,e,t,U_,Vd(n,0,i),Vd(n,i+1,-1),i)}function uc(n,e){for(var t="",i=z_(n),s=0;s<i;s++)t+=e(n[s],s,n,e)||"";return t}function cB(n,e,t,i){switch(n.type){case K9:if(n.children.length)break;case W9:case U_:return n.return=n.return||n.value;case SM:return"";case EM:return n.return=n.value+"{"+uc(n.children,i)+"}";case F_:n.value=n.props.join(",")}return Os(t=uc(n.children,i))?n.return=n.value+"{"+t+"}":""}function uB(n){var e=z_(n);return function(t,i,s,r){for(var l="",c=0;c<e;c++)l+=n[c](t,i,s,r)||"";return l}}function dB(n){return function(e){e.root||(e=e.return)&&n(e)}}function fB(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var hB=function(e,t,i){for(var s=0,r=0;s=r,r=zs(),s===38&&r===12&&(t[i]=1),!jd(r);)Ei();return uf(e,ci)},pB=function(e,t){var i=-1,s=44;do switch(jd(s)){case 0:s===38&&zs()===12&&(t[i]=1),e[i]+=hB(ci-1,t,i);break;case 2:e[i]+=Ap(s);break;case 4:if(s===44){e[++i]=zs()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=lg(s)}while(s=Ei());return e},mB=function(e,t){return RM(pB(AM(e),t))},q1=new WeakMap,gB=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,s=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!q1.get(i))&&!s){q1.set(e,!0);for(var r=[],l=mB(t,r),c=i.props,u=0,f=0;u<l.length;u++)for(var p=0;p<c.length;p++,f++)e.props[f]=r[u]?l[u].replace(/&\f/g,c[p]):c[p]+" "+l[u]}}},vB=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function IM(n,e){switch(Z9(n,e)){case 5103:return ht+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ht+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return ht+n+ym+n+Bn+n+n;case 6828:case 4268:return ht+n+Bn+n+n;case 6165:return ht+n+Bn+"flex-"+n+n;case 5187:return ht+n+pt(n,/(\w+).+(:[^]+)/,ht+"box-$1$2"+Bn+"flex-$1$2")+n;case 5443:return ht+n+Bn+"flex-item-"+pt(n,/flex-|-self/,"")+n;case 4675:return ht+n+Bn+"flex-line-pack"+pt(n,/align-content|flex-|-self/,"")+n;case 5548:return ht+n+Bn+pt(n,"shrink","negative")+n;case 5292:return ht+n+Bn+pt(n,"basis","preferred-size")+n;case 6060:return ht+"box-"+pt(n,"-grow","")+ht+n+Bn+pt(n,"grow","positive")+n;case 4554:return ht+pt(n,/([^-])(transform)/g,"$1"+ht+"$2")+n;case 6187:return pt(pt(pt(n,/(zoom-|grab)/,ht+"$1"),/(image-set)/,ht+"$1"),n,"")+n;case 5495:case 3959:return pt(n,/(image-set\([^]*)/,ht+"$1$`$1");case 4968:return pt(pt(n,/(.+:)(flex-)?(.*)/,ht+"box-pack:$3"+Bn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ht+n+n;case 4095:case 3583:case 4068:case 2532:return pt(n,/(.+)-inline(.+)/,ht+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Os(n)-1-e>6)switch(Pn(n,e+1)){case 109:if(Pn(n,e+4)!==45)break;case 102:return pt(n,/(.+:)(.+)-([^]+)/,"$1"+ht+"$2-$3$1"+ym+(Pn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~Qb(n,"stretch")?IM(pt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Pn(n,e+1)!==115)break;case 6444:switch(Pn(n,Os(n)-3-(~Qb(n,"!important")&&10))){case 107:return pt(n,":",":"+ht)+n;case 101:return pt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ht+(Pn(n,14)===45?"inline-":"")+"box$3$1"+ht+"$2$3$1"+Bn+"$2box$3")+n}break;case 5936:switch(Pn(n,e+11)){case 114:return ht+n+Bn+pt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return ht+n+Bn+pt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return ht+n+Bn+pt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return ht+n+Bn+n+n}return n}var yB=function(e,t,i,s){if(e.length>-1&&!e.return)switch(e.type){case U_:e.return=IM(e.value,e.length);break;case EM:return uc([qu(e,{value:pt(e.value,"@","@"+ht)})],s);case F_:if(e.length)return eB(e.props,function(r){switch(J9(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return uc([qu(e,{props:[pt(r,/:(read-\w+)/,":"+ym+"$1")]})],s);case"::placeholder":return uc([qu(e,{props:[pt(r,/:(plac\w+)/,":"+ht+"input-$1")]}),qu(e,{props:[pt(r,/:(plac\w+)/,":"+ym+"$1")]}),qu(e,{props:[pt(r,/:(plac\w+)/,Bn+"input-$1")]})],s)}return""})}},bB=[yB],_B=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(S){var T=S.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(S),S.setAttribute("data-s",""))})}var s=e.stylisPlugins||bB,r={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(S){for(var T=S.getAttribute("data-emotion").split(" "),C=1;C<T.length;C++)r[T[C]]=!0;c.push(S)});var u,f=[gB,vB];{var p,g=[cB,dB(function(S){p.insert(S)})],b=uB(f.concat(s,g)),x=function(T){return uc(oB(T),b)};u=function(T,C,R,A){p=R,x(T?T+"{"+C.styles+"}":C.styles),A&&(w.inserted[C.name]=!0)}}var w={key:t,sheet:new Y9({key:t,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:r,registered:{},insert:u};return w.sheet.hydrate(c),w},$y={exports:{}},vt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1;function xB(){if(G1)return vt;G1=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,r=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,g=n?Symbol.for("react.suspense"):60113,b=n?Symbol.for("react.suspense_list"):60120,x=n?Symbol.for("react.memo"):60115,w=n?Symbol.for("react.lazy"):60116,S=n?Symbol.for("react.block"):60121,T=n?Symbol.for("react.fundamental"):60117,C=n?Symbol.for("react.responder"):60118,R=n?Symbol.for("react.scope"):60119;function A(I){if(typeof I=="object"&&I!==null){var H=I.$$typeof;switch(H){case e:switch(I=I.type,I){case u:case f:case i:case r:case s:case g:return I;default:switch(I=I&&I.$$typeof,I){case c:case p:case w:case x:case l:return I;default:return H}}case t:return H}}}function V(I){return A(I)===f}return vt.AsyncMode=u,vt.ConcurrentMode=f,vt.ContextConsumer=c,vt.ContextProvider=l,vt.Element=e,vt.ForwardRef=p,vt.Fragment=i,vt.Lazy=w,vt.Memo=x,vt.Portal=t,vt.Profiler=r,vt.StrictMode=s,vt.Suspense=g,vt.isAsyncMode=function(I){return V(I)||A(I)===u},vt.isConcurrentMode=V,vt.isContextConsumer=function(I){return A(I)===c},vt.isContextProvider=function(I){return A(I)===l},vt.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},vt.isForwardRef=function(I){return A(I)===p},vt.isFragment=function(I){return A(I)===i},vt.isLazy=function(I){return A(I)===w},vt.isMemo=function(I){return A(I)===x},vt.isPortal=function(I){return A(I)===t},vt.isProfiler=function(I){return A(I)===r},vt.isStrictMode=function(I){return A(I)===s},vt.isSuspense=function(I){return A(I)===g},vt.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===i||I===f||I===r||I===s||I===g||I===b||typeof I=="object"&&I!==null&&(I.$$typeof===w||I.$$typeof===x||I.$$typeof===l||I.$$typeof===c||I.$$typeof===p||I.$$typeof===T||I.$$typeof===C||I.$$typeof===R||I.$$typeof===S)},vt.typeOf=A,vt}var Y1;function wB(){return Y1||(Y1=1,$y.exports=xB()),$y.exports}var qy,W1;function SB(){if(W1)return qy;W1=1;var n=wB(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};r[n.ForwardRef]=i,r[n.Memo]=s;function l(w){return n.isMemo(w)?s:r[w.$$typeof]||e}var c=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,b=Object.prototype;function x(w,S,T){if(typeof S!="string"){if(b){var C=g(S);C&&C!==b&&x(w,C,T)}var R=u(S);f&&(R=R.concat(f(S)));for(var A=l(w),V=l(S),I=0;I<R.length;++I){var H=R[I];if(!t[H]&&!(T&&T[H])&&!(V&&V[H])&&!(A&&A[H])){var D=p(S,H);try{c(w,H,D)}catch{}}}}return w}return qy=x,qy}SB();var EB=!0;function TB(n,e,t){var i="";return t.split(" ").forEach(function(s){n[s]!==void 0?e.push(n[s]+";"):s&&(i+=s+" ")}),i}var MM=function(e,t,i){var s=e.key+"-"+t.name;(i===!1||EB===!1)&&e.registered[s]===void 0&&(e.registered[s]=t.styles)},CB=function(e,t,i){MM(e,t,i);var s=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var r=t;do e.insert(t===r?"."+s:"",r,e.sheet,!0),r=r.next;while(r!==void 0)}};function AB(n){for(var e=0,t,i=0,s=n.length;s>=4;++i,s-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var RB={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},IB=/[A-Z]|^ms/g,MB=/_EMO_([^_]+?)_([^]*?)_EMO_/g,OM=function(e){return e.charCodeAt(1)===45},K1=function(e){return e!=null&&typeof e!="boolean"},Gy=fB(function(n){return OM(n)?n:n.replace(IB,"-$&").toLowerCase()}),X1=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(MB,function(i,s,r){return Ns={name:s,styles:r,next:Ns},s})}return RB[e]!==1&&!OM(e)&&typeof t=="number"&&t!==0?t+"px":t};function Fd(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var s=t;if(s.anim===1)return Ns={name:s.name,styles:s.styles,next:Ns},s.name;var r=t;if(r.styles!==void 0){var l=r.next;if(l!==void 0)for(;l!==void 0;)Ns={name:l.name,styles:l.styles,next:Ns},l=l.next;var c=r.styles+";";return c}return OB(n,e,t)}case"function":{if(n!==void 0){var u=Ns,f=t(n);return Ns=u,Fd(n,e,f)}break}}var p=t;return p}function OB(n,e,t){var i="";if(Array.isArray(t))for(var s=0;s<t.length;s++)i+=Fd(n,e,t[s])+";";else for(var r in t){var l=t[r];if(typeof l!="object"){var c=l;K1(c)&&(i+=Gy(r)+":"+X1(r,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var u=0;u<l.length;u++)K1(l[u])&&(i+=Gy(r)+":"+X1(r,l[u])+";");else{var f=Fd(n,e,l);switch(r){case"animation":case"animationName":{i+=Gy(r)+":"+f+";";break}default:i+=r+"{"+f+"}"}}}return i}var Q1=/label:\s*([^\s;{]+)\s*(;|$)/g,Ns;function NM(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,s="";Ns=void 0;var r=n[0];if(r==null||r.raw===void 0)i=!1,s+=Fd(t,e,r);else{var l=r;s+=l[0]}for(var c=1;c<n.length;c++)if(s+=Fd(t,e,n[c]),i){var u=r;s+=u[c]}Q1.lastIndex=0;for(var f="",p;(p=Q1.exec(s))!==null;)f+="-"+p[1];var g=AB(s)+f;return{name:g,styles:s,next:Ns}}var NB=function(e){return e()},DB=xE.useInsertionEffect?xE.useInsertionEffect:!1,PB=DB||NB,DM=k.createContext(typeof HTMLElement<"u"?_B({key:"css"}):null);DM.Provider;var kB=function(e){return k.forwardRef(function(t,i){var s=k.useContext(DM);return e(t,s,i)})},LB=k.createContext({}),B_={}.hasOwnProperty,Jb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",VB=function(e,t){var i={};for(var s in t)B_.call(t,s)&&(i[s]=t[s]);return i[Jb]=e,i},jB=function(e){var t=e.cache,i=e.serialized,s=e.isStringTag;return MM(t,i,s),PB(function(){return CB(t,i,s)}),null},FB=kB(function(n,e,t){var i=n.css;typeof i=="string"&&e.registered[i]!==void 0&&(i=e.registered[i]);var s=n[Jb],r=[i],l="";typeof n.className=="string"?l=TB(e.registered,r,n.className):n.className!=null&&(l=n.className+" ");var c=NM(r,void 0,k.useContext(LB));l+=e.key+"-"+c.name;var u={};for(var f in n)B_.call(n,f)&&f!=="css"&&f!==Jb&&(u[f]=n[f]);return u.className=l,t&&(u.ref=t),k.createElement(k.Fragment,null,k.createElement(jB,{cache:e,serialized:c,isStringTag:typeof s=="string"}),k.createElement(s,u))}),UB=FB,De=function(e,t){var i=arguments;if(t==null||!B_.call(t,"css"))return k.createElement.apply(void 0,i);var s=i.length,r=new Array(s);r[0]=UB,r[1]=VB(e,t);for(var l=2;l<s;l++)r[l]=i[l];return k.createElement.apply(null,r)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(De||(De={}));function H_(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return NM(e)}function zB(){var n=H_.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function BB(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}const HB=Math.min,$B=Math.max,bm=Math.round,qh=Math.floor,_m=n=>({x:n,y:n});function qB(n){const{x:e,y:t,width:i,height:s}=n;return{width:i,height:s,top:t,left:e,right:e+i,bottom:t+s,x:e,y:t}}function dg(){return typeof window<"u"}function PM(n){return LM(n)?(n.nodeName||"").toLowerCase():"#document"}function Hr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function kM(n){var e;return(e=(LM(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function LM(n){return dg()?n instanceof Node||n instanceof Hr(n).Node:!1}function GB(n){return dg()?n instanceof Element||n instanceof Hr(n).Element:!1}function $_(n){return dg()?n instanceof HTMLElement||n instanceof Hr(n).HTMLElement:!1}function Z1(n){return!dg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Hr(n).ShadowRoot}function VM(n){const{overflow:e,overflowX:t,overflowY:i,display:s}=q_(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(s)}function YB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function WB(n){return["html","body","#document"].includes(PM(n))}function q_(n){return Hr(n).getComputedStyle(n)}function KB(n){if(PM(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Z1(n)&&n.host||kM(n);return Z1(e)?e.host:e}function jM(n){const e=KB(n);return WB(e)?n.ownerDocument?n.ownerDocument.body:n.body:$_(e)&&VM(e)?e:jM(e)}function xm(n,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=jM(n),r=s===((i=n.ownerDocument)==null?void 0:i.body),l=Hr(s);if(r){const c=e0(l);return e.concat(l,l.visualViewport||[],VM(s)?s:[],c&&t?xm(c):[])}return e.concat(s,xm(s,[],t))}function e0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function XB(n){const e=q_(n);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const s=$_(n),r=s?n.offsetWidth:t,l=s?n.offsetHeight:i,c=bm(t)!==r||bm(i)!==l;return c&&(t=r,i=l),{width:t,height:i,$:c}}function G_(n){return GB(n)?n:n.contextElement}function J1(n){const e=G_(n);if(!$_(e))return _m(1);const t=e.getBoundingClientRect(),{width:i,height:s,$:r}=XB(e);let l=(r?bm(t.width):t.width)/i,c=(r?bm(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const QB=_m(0);function ZB(n){const e=Hr(n);return!YB()||!e.visualViewport?QB:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function JB(n,e,t){return!1}function eC(n,e,t,i){e===void 0&&(e=!1);const s=n.getBoundingClientRect(),r=G_(n);let l=_m(1);e&&(l=J1(n));const c=JB()?ZB(r):_m(0);let u=(s.left+c.x)/l.x,f=(s.top+c.y)/l.y,p=s.width/l.x,g=s.height/l.y;if(r){const b=Hr(r),x=i;let w=b,S=e0(w);for(;S&&i&&x!==w;){const T=J1(S),C=S.getBoundingClientRect(),R=q_(S),A=C.left+(S.clientLeft+parseFloat(R.paddingLeft))*T.x,V=C.top+(S.clientTop+parseFloat(R.paddingTop))*T.y;u*=T.x,f*=T.y,p*=T.x,g*=T.y,u+=A,f+=V,w=Hr(S),S=e0(w)}}return qB({width:p,height:g,x:u,y:f})}function FM(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function e8(n,e){let t=null,i;const s=kM(n);function r(){var c;clearTimeout(i),(c=t)==null||c.disconnect(),t=null}function l(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),r();const f=n.getBoundingClientRect(),{left:p,top:g,width:b,height:x}=f;if(c||e(),!b||!x)return;const w=qh(g),S=qh(s.clientWidth-(p+b)),T=qh(s.clientHeight-(g+x)),C=qh(p),A={rootMargin:-w+"px "+-S+"px "+-T+"px "+-C+"px",threshold:$B(0,HB(1,u))||1};let V=!0;function I(H){const D=H[0].intersectionRatio;if(D!==u){if(!V)return l();D?l(!1,D):i=setTimeout(()=>{l(!1,1e-7)},1e3)}D===1&&!FM(f,n.getBoundingClientRect())&&l(),V=!1}try{t=new IntersectionObserver(I,{...A,root:s.ownerDocument})}catch{t=new IntersectionObserver(I,A)}t.observe(n)}return l(!0),r}function t8(n,e,t,i){i===void 0&&(i={});const{ancestorScroll:s=!0,ancestorResize:r=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=i,f=G_(n),p=s||r?[...f?xm(f):[],...xm(e)]:[];p.forEach(C=>{s&&C.addEventListener("scroll",t,{passive:!0}),r&&C.addEventListener("resize",t)});const g=f&&c?e8(f,t):null;let b=-1,x=null;l&&(x=new ResizeObserver(C=>{let[R]=C;R&&R.target===f&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=x)==null||A.observe(e)})),t()}),f&&!u&&x.observe(f),x.observe(e));let w,S=u?eC(n):null;u&&T();function T(){const C=eC(n);S&&!FM(S,C)&&t(),S=C,w=requestAnimationFrame(T)}return t(),()=>{var C;p.forEach(R=>{s&&R.removeEventListener("scroll",t),r&&R.removeEventListener("resize",t)}),g==null||g(),(C=x)==null||C.disconnect(),x=null,u&&cancelAnimationFrame(w)}}var t0=k.useLayoutEffect,n8=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],wm=function(){};function i8(n,e){return e?e[0]==="-"?n+e:n+"__"+e:n}function s8(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];var r=[].concat(i);if(e&&n)for(var l in e)e.hasOwnProperty(l)&&e[l]&&r.push("".concat(i8(n,l)));return r.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var tC=function(e){return h8(e)?e.filter(Boolean):Qo(e)==="object"&&e!==null?[e]:[]},UM=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var t=qr(e,n8);return Ve({},t)},Bt=function(e,t,i){var s=e.cx,r=e.getStyles,l=e.getClassNames,c=e.className;return{css:r(t,e),className:s(i??{},l(t,e),c)}};function fg(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function r8(n){return fg(n)?window.innerHeight:n.clientHeight}function zM(n){return fg(n)?window.pageYOffset:n.scrollTop}function Sm(n,e){if(fg(n)){window.scrollTo(0,e);return}n.scrollTop=e}function a8(n){var e=getComputedStyle(n),t=e.position==="absolute",i=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=n;s=s.parentElement;)if(e=getComputedStyle(s),!(t&&e.position==="static")&&i.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function o8(n,e,t,i){return t*((n=n/i-1)*n*n+1)+e}function Gh(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:wm,s=zM(n),r=e-s,l=10,c=0;function u(){c+=l;var f=o8(c,s,r,t);Sm(n,f),c<t?window.requestAnimationFrame(u):i(n)}u()}function nC(n,e){var t=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=e.offsetHeight/3;i.bottom+s>t.bottom?Sm(n,Math.min(e.offsetTop+e.clientHeight-n.offsetHeight+s,n.scrollHeight)):i.top-s<t.top&&Sm(n,Math.max(e.offsetTop-s,0))}function l8(n){var e=n.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function iC(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function c8(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var BM=!1,u8={get passive(){return BM=!0}},Yh=typeof window<"u"?window:{};Yh.addEventListener&&Yh.removeEventListener&&(Yh.addEventListener("p",wm,u8),Yh.removeEventListener("p",wm,!1));var d8=BM;function f8(n){return n!=null}function h8(n){return Array.isArray(n)}function Wh(n,e,t){return n?e:t}var p8=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var r=Object.entries(e).filter(function(l){var c=kr(l,1),u=c[0];return!i.includes(u)});return r.reduce(function(l,c){var u=kr(c,2),f=u[0],p=u[1];return l[f]=p,l},{})},m8=["children","innerProps"],g8=["children","innerProps"];function v8(n){var e=n.maxHeight,t=n.menuEl,i=n.minHeight,s=n.placement,r=n.shouldScroll,l=n.isFixedPosition,c=n.controlHeight,u=a8(t),f={placement:"bottom",maxHeight:e};if(!t||!t.offsetParent)return f;var p=u.getBoundingClientRect(),g=p.height,b=t.getBoundingClientRect(),x=b.bottom,w=b.height,S=b.top,T=t.offsetParent.getBoundingClientRect(),C=T.top,R=l?window.innerHeight:r8(u),A=zM(u),V=parseInt(getComputedStyle(t).marginBottom,10),I=parseInt(getComputedStyle(t).marginTop,10),H=C-I,D=R-S,O=H+A,N=g-A-S,L=x-R+A+V,U=A+S-I,B=160;switch(s){case"auto":case"bottom":if(D>=w)return{placement:"bottom",maxHeight:e};if(N>=w&&!l)return r&&Gh(u,L,B),{placement:"bottom",maxHeight:e};if(!l&&N>=i||l&&D>=i){r&&Gh(u,L,B);var j=l?D-V:N-V;return{placement:"bottom",maxHeight:j}}if(s==="auto"||l){var ie=e,X=l?H:O;return X>=i&&(ie=Math.min(X-V-c,e)),{placement:"top",maxHeight:ie}}if(s==="bottom")return r&&Sm(u,L),{placement:"bottom",maxHeight:e};break;case"top":if(H>=w)return{placement:"top",maxHeight:e};if(O>=w&&!l)return r&&Gh(u,U,B),{placement:"top",maxHeight:e};if(!l&&O>=i||l&&H>=i){var $=e;return(!l&&O>=i||l&&H>=i)&&($=l?H-I:O-I),r&&Gh(u,U,B),{placement:"top",maxHeight:$}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return f}function y8(n){var e={bottom:"top",top:"bottom"};return n?e[n]:"bottom"}var HM=function(e){return e==="auto"?"bottom":e},b8=function(e,t){var i,s=e.placement,r=e.theme,l=r.borderRadius,c=r.spacing,u=r.colors;return Ve((i={label:"menu"},rd(i,y8(s),"100%"),rd(i,"position","absolute"),rd(i,"width","100%"),rd(i,"zIndex",1),i),t?{}:{backgroundColor:u.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},$M=k.createContext(null),_8=function(e){var t=e.children,i=e.minMenuHeight,s=e.maxMenuHeight,r=e.menuPlacement,l=e.menuPosition,c=e.menuShouldScrollIntoView,u=e.theme,f=k.useContext($M)||{},p=f.setPortalPlacement,g=k.useRef(null),b=k.useState(s),x=kr(b,2),w=x[0],S=x[1],T=k.useState(null),C=kr(T,2),R=C[0],A=C[1],V=u.spacing.controlHeight;return t0(function(){var I=g.current;if(I){var H=l==="fixed",D=c&&!H,O=v8({maxHeight:s,menuEl:I,minHeight:i,placement:r,shouldScroll:D,isFixedPosition:H,controlHeight:V});S(O.maxHeight),A(O.placement),p==null||p(O.placement)}},[s,r,l,c,i,p,V]),t({ref:g,placerProps:Ve(Ve({},e),{},{placement:R||HM(r),maxHeight:w})})},x8=function(e){var t=e.children,i=e.innerRef,s=e.innerProps;return De("div",Ue({},Bt(e,"menu",{menu:!0}),{ref:i},s),t)},w8=x8,S8=function(e,t){var i=e.maxHeight,s=e.theme.spacing.baseUnit;return Ve({maxHeight:i,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:s,paddingTop:s})},E8=function(e){var t=e.children,i=e.innerProps,s=e.innerRef,r=e.isMulti;return De("div",Ue({},Bt(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:s},i),t)},qM=function(e,t){var i=e.theme,s=i.spacing.baseUnit,r=i.colors;return Ve({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},T8=qM,C8=qM,A8=function(e){var t=e.children,i=t===void 0?"No options":t,s=e.innerProps,r=qr(e,m8);return De("div",Ue({},Bt(Ve(Ve({},r),{},{children:i,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),i)},R8=function(e){var t=e.children,i=t===void 0?"Loading...":t,s=e.innerProps,r=qr(e,g8);return De("div",Ue({},Bt(Ve(Ve({},r),{},{children:i,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),i)},I8=function(e){var t=e.rect,i=e.offset,s=e.position;return{left:t.left,position:s,top:i,width:t.width,zIndex:1}},M8=function(e){var t=e.appendTo,i=e.children,s=e.controlElement,r=e.innerProps,l=e.menuPlacement,c=e.menuPosition,u=k.useRef(null),f=k.useRef(null),p=k.useState(HM(l)),g=kr(p,2),b=g[0],x=g[1],w=k.useMemo(function(){return{setPortalPlacement:x}},[]),S=k.useState(null),T=kr(S,2),C=T[0],R=T[1],A=k.useCallback(function(){if(s){var D=l8(s),O=c==="fixed"?0:window.pageYOffset,N=D[b]+O;(N!==(C==null?void 0:C.offset)||D.left!==(C==null?void 0:C.rect.left)||D.width!==(C==null?void 0:C.rect.width))&&R({offset:N,rect:D})}},[s,c,b,C==null?void 0:C.offset,C==null?void 0:C.rect.left,C==null?void 0:C.rect.width]);t0(function(){A()},[A]);var V=k.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),s&&u.current&&(f.current=t8(s,u.current,A,{elementResize:"ResizeObserver"in window}))},[s,A]);t0(function(){V()},[V]);var I=k.useCallback(function(D){u.current=D,V()},[V]);if(!t&&c!=="fixed"||!C)return null;var H=De("div",Ue({ref:I},Bt(Ve(Ve({},e),{},{offset:C.offset,position:c,rect:C.rect}),"menuPortal",{"menu-portal":!0}),r),i);return De($M.Provider,{value:w},t?ik.createPortal(H,t):H)},O8=function(e){var t=e.isDisabled,i=e.isRtl;return{label:"container",direction:i?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},N8=function(e){var t=e.children,i=e.innerProps,s=e.isDisabled,r=e.isRtl;return De("div",Ue({},Bt(e,"container",{"--is-disabled":s,"--is-rtl":r}),i),t)},D8=function(e,t){var i=e.theme.spacing,s=e.isMulti,r=e.hasValue,l=e.selectProps.controlShouldRenderValue;return Ve({alignItems:"center",display:s&&r&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(i.baseUnit/2,"px ").concat(i.baseUnit*2,"px")})},P8=function(e){var t=e.children,i=e.innerProps,s=e.isMulti,r=e.hasValue;return De("div",Ue({},Bt(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":r}),i),t)},k8=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},L8=function(e){var t=e.children,i=e.innerProps;return De("div",Ue({},Bt(e,"indicatorsContainer",{indicators:!0}),i),t)},sC,V8=["size"],j8=["innerProps","isRtl","size"],F8={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},GM=function(e){var t=e.size,i=qr(e,V8);return De("svg",Ue({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:F8},i))},Y_=function(e){return De(GM,Ue({size:20},e),De("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},YM=function(e){return De(GM,Ue({size:20},e),De("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},WM=function(e,t){var i=e.isFocused,s=e.theme,r=s.spacing.baseUnit,l=s.colors;return Ve({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:i?l.neutral60:l.neutral20,padding:r*2,":hover":{color:i?l.neutral80:l.neutral40}})},U8=WM,z8=function(e){var t=e.children,i=e.innerProps;return De("div",Ue({},Bt(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),i),t||De(YM,null))},B8=WM,H8=function(e){var t=e.children,i=e.innerProps;return De("div",Ue({},Bt(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),i),t||De(Y_,null))},$8=function(e,t){var i=e.isDisabled,s=e.theme,r=s.spacing.baseUnit,l=s.colors;return Ve({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:i?l.neutral10:l.neutral20,marginBottom:r*2,marginTop:r*2})},q8=function(e){var t=e.innerProps;return De("span",Ue({},t,Bt(e,"indicatorSeparator",{"indicator-separator":!0})))},G8=zB(sC||(sC=BB([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Y8=function(e,t){var i=e.isFocused,s=e.size,r=e.theme,l=r.colors,c=r.spacing.baseUnit;return Ve({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},t?{}:{color:i?l.neutral60:l.neutral20,padding:c*2})},Yy=function(e){var t=e.delay,i=e.offset;return De("span",{css:H_({animation:"".concat(G8," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},W8=function(e){var t=e.innerProps,i=e.isRtl,s=e.size,r=s===void 0?4:s,l=qr(e,j8);return De("div",Ue({},Bt(Ve(Ve({},l),{},{innerProps:t,isRtl:i,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),De(Yy,{delay:0,offset:i}),De(Yy,{delay:160,offset:!0}),De(Yy,{delay:320,offset:!i}))},K8=function(e,t){var i=e.isDisabled,s=e.isFocused,r=e.theme,l=r.colors,c=r.borderRadius,u=r.spacing;return Ve({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:u.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:i?l.neutral5:l.neutral0,borderColor:i?l.neutral10:s?l.primary:l.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:s?l.primary:l.neutral30}})},X8=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,r=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return De("div",Ue({ref:r},Bt(e,"control",{control:!0,"control--is-disabled":i,"control--is-focused":s,"control--menu-is-open":c}),l,{"aria-disabled":i||void 0}),t)},Q8=X8,Z8=["data"],J8=function(e,t){var i=e.theme.spacing;return t?{}:{paddingBottom:i.baseUnit*2,paddingTop:i.baseUnit*2}},eH=function(e){var t=e.children,i=e.cx,s=e.getStyles,r=e.getClassNames,l=e.Heading,c=e.headingProps,u=e.innerProps,f=e.label,p=e.theme,g=e.selectProps;return De("div",Ue({},Bt(e,"group",{group:!0}),u),De(l,Ue({},c,{selectProps:g,theme:p,getStyles:s,getClassNames:r,cx:i}),f),De("div",null,t))},tH=function(e,t){var i=e.theme,s=i.colors,r=i.spacing;return Ve({label:"group",cursor:"default",display:"block"},t?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:r.baseUnit*3,paddingRight:r.baseUnit*3,textTransform:"uppercase"})},nH=function(e){var t=UM(e);t.data;var i=qr(t,Z8);return De("div",Ue({},Bt(e,"groupHeading",{"group-heading":!0}),i))},iH=eH,sH=["innerRef","isDisabled","isHidden","inputClassName"],rH=function(e,t){var i=e.isDisabled,s=e.value,r=e.theme,l=r.spacing,c=r.colors;return Ve(Ve({visibility:i?"hidden":"visible",transform:s?"translateZ(0)":""},aH),t?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:c.neutral80})},KM={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},aH={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ve({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},KM)},oH=function(e){return Ve({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},KM)},lH=function(e){var t=e.cx,i=e.value,s=UM(e),r=s.innerRef,l=s.isDisabled,c=s.isHidden,u=s.inputClassName,f=qr(s,sH);return De("div",Ue({},Bt(e,"input",{"input-container":!0}),{"data-value":i||""}),De("input",Ue({className:t({input:!0},u),ref:r,style:oH(c),disabled:l},f)))},cH=lH,uH=function(e,t){var i=e.theme,s=i.spacing,r=i.borderRadius,l=i.colors;return Ve({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:l.neutral10,borderRadius:r/2,margin:s.baseUnit/2})},dH=function(e,t){var i=e.theme,s=i.borderRadius,r=i.colors,l=e.cropWithEllipsis;return Ve({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:s/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},fH=function(e,t){var i=e.theme,s=i.spacing,r=i.borderRadius,l=i.colors,c=e.isFocused;return Ve({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:c?l.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},XM=function(e){var t=e.children,i=e.innerProps;return De("div",i,t)},hH=XM,pH=XM;function mH(n){var e=n.children,t=n.innerProps;return De("div",Ue({role:"button"},t),e||De(Y_,{size:14}))}var gH=function(e){var t=e.children,i=e.components,s=e.data,r=e.innerProps,l=e.isDisabled,c=e.removeProps,u=e.selectProps,f=i.Container,p=i.Label,g=i.Remove;return De(f,{data:s,innerProps:Ve(Ve({},Bt(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),r),selectProps:u},De(p,{data:s,innerProps:Ve({},Bt(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:u},t),De(g,{data:s,innerProps:Ve(Ve({},Bt(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},c),selectProps:u}))},vH=gH,yH=function(e,t){var i=e.isDisabled,s=e.isFocused,r=e.isSelected,l=e.theme,c=l.spacing,u=l.colors;return Ve({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?u.primary:s?u.primary25:"transparent",color:i?u.neutral20:r?u.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:i?void 0:r?u.primary:u.primary50}})},bH=function(e){var t=e.children,i=e.isDisabled,s=e.isFocused,r=e.isSelected,l=e.innerRef,c=e.innerProps;return De("div",Ue({},Bt(e,"option",{option:!0,"option--is-disabled":i,"option--is-focused":s,"option--is-selected":r}),{ref:l,"aria-disabled":i},c),t)},_H=bH,xH=function(e,t){var i=e.theme,s=i.spacing,r=i.colors;return Ve({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},wH=function(e){var t=e.children,i=e.innerProps;return De("div",Ue({},Bt(e,"placeholder",{placeholder:!0}),i),t)},SH=wH,EH=function(e,t){var i=e.isDisabled,s=e.theme,r=s.spacing,l=s.colors;return Ve({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:i?l.neutral40:l.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},TH=function(e){var t=e.children,i=e.isDisabled,s=e.innerProps;return De("div",Ue({},Bt(e,"singleValue",{"single-value":!0,"single-value--is-disabled":i}),s),t)},CH=TH,AH={ClearIndicator:H8,Control:Q8,DropdownIndicator:z8,DownChevron:YM,CrossIcon:Y_,Group:iH,GroupHeading:nH,IndicatorsContainer:L8,IndicatorSeparator:q8,Input:cH,LoadingIndicator:W8,Menu:w8,MenuList:E8,MenuPortal:M8,LoadingMessage:R8,NoOptionsMessage:A8,MultiValue:vH,MultiValueContainer:hH,MultiValueLabel:pH,MultiValueRemove:mH,Option:_H,Placeholder:SH,SelectContainer:N8,SingleValue:CH,ValueContainer:P8},RH=function(e){return Ve(Ve({},AH),e.components)},rC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function IH(n,e){return!!(n===e||rC(n)&&rC(e))}function MH(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(!IH(n[t],e[t]))return!1;return!0}function OH(n,e){e===void 0&&(e=MH);var t=null;function i(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];if(t&&t.lastThis===this&&e(s,t.lastArgs))return t.lastResult;var l=n.apply(this,s);return t={lastResult:l,lastArgs:s,lastThis:this},l}return i.clear=function(){t=null},i}var NH={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},DH=function(e){return De("span",Ue({css:NH},e))},aC=DH,PH={guidance:function(e){var t=e.isSearchable,i=e.isMulti,s=e.tabSelectsValue,r=e.context,l=e.isInitialFocus;switch(r){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(i?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,i=e.label,s=i===void 0?"":i,r=e.labels,l=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return l?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var t=e.context,i=e.focused,s=e.options,r=e.label,l=r===void 0?"":r,c=e.selectValue,u=e.isDisabled,f=e.isSelected,p=e.isAppleDevice,g=function(S,T){return S&&S.length?"".concat(S.indexOf(T)+1," of ").concat(S.length):""};if(t==="value"&&c)return"value ".concat(l," focused, ").concat(g(c,i),".");if(t==="menu"&&p){var b=u?" disabled":"",x="".concat(f?" selected":"").concat(b);return"".concat(l).concat(x,", ").concat(g(s,i),".")}return""},onFilter:function(e){var t=e.inputValue,i=e.resultsMessage;return"".concat(i).concat(t?" for search term "+t:"",".")}},kH=function(e){var t=e.ariaSelection,i=e.focusedOption,s=e.focusedValue,r=e.focusableOptions,l=e.isFocused,c=e.selectValue,u=e.selectProps,f=e.id,p=e.isAppleDevice,g=u.ariaLiveMessages,b=u.getOptionLabel,x=u.inputValue,w=u.isMulti,S=u.isOptionDisabled,T=u.isSearchable,C=u.menuIsOpen,R=u.options,A=u.screenReaderStatus,V=u.tabSelectsValue,I=u.isLoading,H=u["aria-label"],D=u["aria-live"],O=k.useMemo(function(){return Ve(Ve({},PH),g||{})},[g]),N=k.useMemo(function(){var X="";if(t&&O.onChange){var $=t.option,se=t.options,ue=t.removedValue,ye=t.removedValues,q=t.value,oe=function(Ge){return Array.isArray(Ge)?null:Ge},me=ue||$||oe(q),de=me?b(me):"",Se=se||ye||void 0,Oe=Se?Se.map(b):[],Ce=Ve({isDisabled:me&&S(me,c),label:de,labels:Oe},t);X=O.onChange(Ce)}return X},[t,O,S,c,b]),L=k.useMemo(function(){var X="",$=i||s,se=!!(i&&c&&c.includes(i));if($&&O.onFocus){var ue={focused:$,label:b($),isDisabled:S($,c),isSelected:se,options:r,context:$===i?"menu":"value",selectValue:c,isAppleDevice:p};X=O.onFocus(ue)}return X},[i,s,b,S,O,r,c,p]),U=k.useMemo(function(){var X="";if(C&&R.length&&!I&&O.onFilter){var $=A({count:r.length});X=O.onFilter({inputValue:x,resultsMessage:$})}return X},[r,x,C,O,R,A,I]),B=(t==null?void 0:t.action)==="initial-input-focus",j=k.useMemo(function(){var X="";if(O.guidance){var $=s?"value":C?"menu":"input";X=O.guidance({"aria-label":H,context:$,isDisabled:i&&S(i,c),isMulti:w,isSearchable:T,tabSelectsValue:V,isInitialFocus:B})}return X},[H,i,s,w,S,T,C,O,c,V,B]),ie=De(k.Fragment,null,De("span",{id:"aria-selection"},N),De("span",{id:"aria-focused"},L),De("span",{id:"aria-results"},U),De("span",{id:"aria-guidance"},j));return De(k.Fragment,null,De(aC,{id:f},B&&ie),De(aC,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!B&&ie))},LH=kH,n0=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],VH=new RegExp("["+n0.map(function(n){return n.letters}).join("")+"]","g"),QM={};for(var Wy=0;Wy<n0.length;Wy++)for(var Ky=n0[Wy],Xy=0;Xy<Ky.letters.length;Xy++)QM[Ky.letters[Xy]]=Ky.base;var ZM=function(e){return e.replace(VH,function(t){return QM[t]})},jH=OH(ZM),oC=function(e){return e.replace(/^\s+|\s+$/g,"")},FH=function(e){return"".concat(e.label," ").concat(e.value)},UH=function(e){return function(t,i){if(t.data.__isNew__)return!0;var s=Ve({ignoreCase:!0,ignoreAccents:!0,stringify:FH,trim:!0,matchFrom:"any"},e),r=s.ignoreCase,l=s.ignoreAccents,c=s.stringify,u=s.trim,f=s.matchFrom,p=u?oC(i):i,g=u?oC(c(t)):c(t);return r&&(p=p.toLowerCase(),g=g.toLowerCase()),l&&(p=jH(p),g=ZM(g)),f==="start"?g.substr(0,p.length)===p:g.indexOf(p)>-1}},zH=["innerRef"];function BH(n){var e=n.innerRef,t=qr(n,zH),i=p8(t,"onExited","in","enter","exit","appear");return De("input",Ue({ref:e},i,{css:H_({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var HH=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function $H(n){var e=n.isEnabled,t=n.onBottomArrive,i=n.onBottomLeave,s=n.onTopArrive,r=n.onTopLeave,l=k.useRef(!1),c=k.useRef(!1),u=k.useRef(0),f=k.useRef(null),p=k.useCallback(function(T,C){if(f.current!==null){var R=f.current,A=R.scrollTop,V=R.scrollHeight,I=R.clientHeight,H=f.current,D=C>0,O=V-I-A,N=!1;O>C&&l.current&&(i&&i(T),l.current=!1),D&&c.current&&(r&&r(T),c.current=!1),D&&C>O?(t&&!l.current&&t(T),H.scrollTop=V,N=!0,l.current=!0):!D&&-C>A&&(s&&!c.current&&s(T),H.scrollTop=0,N=!0,c.current=!0),N&&HH(T)}},[t,i,s,r]),g=k.useCallback(function(T){p(T,T.deltaY)},[p]),b=k.useCallback(function(T){u.current=T.changedTouches[0].clientY},[]),x=k.useCallback(function(T){var C=u.current-T.changedTouches[0].clientY;p(T,C)},[p]),w=k.useCallback(function(T){if(T){var C=d8?{passive:!1}:!1;T.addEventListener("wheel",g,C),T.addEventListener("touchstart",b,C),T.addEventListener("touchmove",x,C)}},[x,b,g]),S=k.useCallback(function(T){T&&(T.removeEventListener("wheel",g,!1),T.removeEventListener("touchstart",b,!1),T.removeEventListener("touchmove",x,!1))},[x,b,g]);return k.useEffect(function(){if(e){var T=f.current;return w(T),function(){S(T)}}},[e,w,S]),function(T){f.current=T}}var lC=["boxSizing","height","overflow","paddingRight","position"],cC={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function uC(n){n.cancelable&&n.preventDefault()}function dC(n){n.stopPropagation()}function fC(){var n=this.scrollTop,e=this.scrollHeight,t=n+this.offsetHeight;n===0?this.scrollTop=1:t===e&&(this.scrollTop=n-1)}function hC(){return"ontouchstart"in window||navigator.maxTouchPoints}var pC=!!(typeof window<"u"&&window.document&&window.document.createElement),Gu=0,Kl={capture:!1,passive:!1};function qH(n){var e=n.isEnabled,t=n.accountForScrollbars,i=t===void 0?!0:t,s=k.useRef({}),r=k.useRef(null),l=k.useCallback(function(u){if(pC){var f=document.body,p=f&&f.style;if(i&&lC.forEach(function(w){var S=p&&p[w];s.current[w]=S}),i&&Gu<1){var g=parseInt(s.current.paddingRight,10)||0,b=document.body?document.body.clientWidth:0,x=window.innerWidth-b+g||0;Object.keys(cC).forEach(function(w){var S=cC[w];p&&(p[w]=S)}),p&&(p.paddingRight="".concat(x,"px"))}f&&hC()&&(f.addEventListener("touchmove",uC,Kl),u&&(u.addEventListener("touchstart",fC,Kl),u.addEventListener("touchmove",dC,Kl))),Gu+=1}},[i]),c=k.useCallback(function(u){if(pC){var f=document.body,p=f&&f.style;Gu=Math.max(Gu-1,0),i&&Gu<1&&lC.forEach(function(g){var b=s.current[g];p&&(p[g]=b)}),f&&hC()&&(f.removeEventListener("touchmove",uC,Kl),u&&(u.removeEventListener("touchstart",fC,Kl),u.removeEventListener("touchmove",dC,Kl)))}},[i]);return k.useEffect(function(){if(e){var u=r.current;return l(u),function(){c(u)}}},[e,l,c]),function(u){r.current=u}}var GH=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},YH={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function WH(n){var e=n.children,t=n.lockEnabled,i=n.captureEnabled,s=i===void 0?!0:i,r=n.onBottomArrive,l=n.onBottomLeave,c=n.onTopArrive,u=n.onTopLeave,f=$H({isEnabled:s,onBottomArrive:r,onBottomLeave:l,onTopArrive:c,onTopLeave:u}),p=qH({isEnabled:t}),g=function(x){f(x),p(x)};return De(k.Fragment,null,t&&De("div",{onClick:GH,css:YH}),e(g))}var KH={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},XH=function(e){var t=e.name,i=e.onFocus;return De("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:i,css:KH,value:"",onChange:function(){}})},QH=XH;function W_(n){var e;return typeof window<"u"&&window.navigator!=null?n.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function ZH(){return W_(/^iPhone/i)}function JM(){return W_(/^Mac/i)}function JH(){return W_(/^iPad/i)||JM()&&navigator.maxTouchPoints>1}function e7(){return ZH()||JH()}function t7(){return JM()||e7()}var n7=function(e){return e.label},i7=function(e){return e.label},s7=function(e){return e.value},r7=function(e){return!!e.isDisabled},a7={clearIndicator:B8,container:O8,control:K8,dropdownIndicator:U8,group:J8,groupHeading:tH,indicatorsContainer:k8,indicatorSeparator:$8,input:rH,loadingIndicator:Y8,loadingMessage:C8,menu:b8,menuList:S8,menuPortal:I8,multiValue:uH,multiValueLabel:dH,multiValueRemove:fH,noOptionsMessage:T8,option:yH,placeholder:xH,singleValue:EH,valueContainer:D8},o7={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},l7=4,eO=4,c7=38,u7=eO*2,d7={baseUnit:eO,controlHeight:c7,menuGutter:u7},Qy={borderRadius:l7,colors:o7,spacing:d7},f7={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:iC(),captureMenuScroll:!iC(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:UH(),formatGroupLabel:n7,getOptionLabel:i7,getOptionValue:s7,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:r7,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!c8(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(t!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function mC(n,e,t,i){var s=iO(n,e,t),r=sO(n,e,t),l=nO(n,e),c=Em(n,e);return{type:"option",data:e,isDisabled:s,isSelected:r,label:l,value:c,index:i}}function Ip(n,e){return n.options.map(function(t,i){if("options"in t){var s=t.options.map(function(l,c){return mC(n,l,e,c)}).filter(function(l){return vC(n,l)});return s.length>0?{type:"group",data:t,options:s,index:i}:void 0}var r=mC(n,t,e,i);return vC(n,r)?r:void 0}).filter(f8)}function tO(n){return n.reduce(function(e,t){return t.type==="group"?e.push.apply(e,j_(t.options.map(function(i){return i.data}))):e.push(t.data),e},[])}function gC(n,e){return n.reduce(function(t,i){return i.type==="group"?t.push.apply(t,j_(i.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(i.index,"-").concat(s.index)}}))):t.push({data:i.data,id:"".concat(e,"-").concat(i.index)}),t},[])}function h7(n,e){return tO(Ip(n,e))}function vC(n,e){var t=n.inputValue,i=t===void 0?"":t,s=e.data,r=e.isSelected,l=e.label,c=e.value;return(!aO(n)||!r)&&rO(n,{label:l,value:c,data:s},i)}function p7(n,e){var t=n.focusedValue,i=n.selectValue,s=i.indexOf(t);if(s>-1){var r=e.indexOf(t);if(r>-1)return t;if(s<e.length)return e[s]}return null}function m7(n,e){var t=n.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}var Zy=function(e,t){var i,s=(i=e.find(function(r){return r.data===t}))===null||i===void 0?void 0:i.id;return s||null},nO=function(e,t){return e.getOptionLabel(t)},Em=function(e,t){return e.getOptionValue(t)};function iO(n,e,t){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(e,t):!1}function sO(n,e,t){if(t.indexOf(e)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(e,t);var i=Em(n,e);return t.some(function(s){return Em(n,s)===i})}function rO(n,e,t){return n.filterOption?n.filterOption(e,t):!0}var aO=function(e){var t=e.hideSelectedOptions,i=e.isMulti;return t===void 0?i:t},g7=1,oO=function(n){j9(t,n);var e=z9(t);function t(i){var s;if(L9(this,t),s=e.call(this,i),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.isAppleDevice=t7(),s.controlRef=null,s.getControlRef=function(u){s.controlRef=u},s.focusedOptionRef=null,s.getFocusedOptionRef=function(u){s.focusedOptionRef=u},s.menuListRef=null,s.getMenuListRef=function(u){s.menuListRef=u},s.inputRef=null,s.getInputRef=function(u){s.inputRef=u},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(u,f){var p=s.props,g=p.onChange,b=p.name;f.name=b,s.ariaOnChange(u,f),g(u,f)},s.setValue=function(u,f,p){var g=s.props,b=g.closeMenuOnSelect,x=g.isMulti,w=g.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:w}),b&&(s.setState({inputIsHiddenAfterUpdate:!x}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(u,{action:f,option:p})},s.selectOption=function(u){var f=s.props,p=f.blurInputOnSelect,g=f.isMulti,b=f.name,x=s.state.selectValue,w=g&&s.isOptionSelected(u,x),S=s.isOptionDisabled(u,x);if(w){var T=s.getOptionValue(u);s.setValue(x.filter(function(C){return s.getOptionValue(C)!==T}),"deselect-option",u)}else if(!S)g?s.setValue([].concat(j_(x),[u]),"select-option",u):s.setValue(u,"select-option");else{s.ariaOnChange(u,{action:"select-option",option:u,name:b});return}p&&s.blurInput()},s.removeValue=function(u){var f=s.props.isMulti,p=s.state.selectValue,g=s.getOptionValue(u),b=p.filter(function(w){return s.getOptionValue(w)!==g}),x=Wh(f,b,b[0]||null);s.onChange(x,{action:"remove-value",removedValue:u}),s.focusInput()},s.clearValue=function(){var u=s.state.selectValue;s.onChange(Wh(s.props.isMulti,[],null),{action:"clear",removedValues:u})},s.popValue=function(){var u=s.props.isMulti,f=s.state.selectValue,p=f[f.length-1],g=f.slice(0,f.length-1),b=Wh(u,g,g[0]||null);p&&s.onChange(b,{action:"pop-value",removedValue:p})},s.getFocusedOptionId=function(u){return Zy(s.state.focusableOptionsWithIds,u)},s.getFocusableOptionsWithIds=function(){return gC(Ip(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var u=arguments.length,f=new Array(u),p=0;p<u;p++)f[p]=arguments[p];return s8.apply(void 0,[s.props.classNamePrefix].concat(f))},s.getOptionLabel=function(u){return nO(s.props,u)},s.getOptionValue=function(u){return Em(s.props,u)},s.getStyles=function(u,f){var p=s.props.unstyled,g=a7[u](f,p);g.boxSizing="border-box";var b=s.props.styles[u];return b?b(g,f):g},s.getClassNames=function(u,f){var p,g;return(p=(g=s.props.classNames)[u])===null||p===void 0?void 0:p.call(g,f)},s.getElementId=function(u){return"".concat(s.state.instancePrefix,"-").concat(u)},s.getComponents=function(){return RH(s.props)},s.buildCategorizedOptions=function(){return Ip(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return tO(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(u,f){s.setState({ariaSelection:Ve({value:u},f)})},s.onMenuMouseDown=function(u){u.button===0&&(u.stopPropagation(),u.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(u){s.blockOptionHover=!1},s.onControlMouseDown=function(u){if(!u.defaultPrevented){var f=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&s.onMenuClose():f&&s.openMenu("first"):(f&&(s.openAfterFocus=!0),s.focusInput()),u.target.tagName!=="INPUT"&&u.target.tagName!=="TEXTAREA"&&u.preventDefault()}},s.onDropdownIndicatorMouseDown=function(u){if(!(u&&u.type==="mousedown"&&u.button!==0)&&!s.props.isDisabled){var f=s.props,p=f.isMulti,g=f.menuIsOpen;s.focusInput(),g?(s.setState({inputIsHiddenAfterUpdate:!p}),s.onMenuClose()):s.openMenu("first"),u.preventDefault()}},s.onClearIndicatorMouseDown=function(u){u&&u.type==="mousedown"&&u.button!==0||(s.clearValue(),u.preventDefault(),s.openAfterFocus=!1,u.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(u){typeof s.props.closeMenuOnScroll=="boolean"?u.target instanceof HTMLElement&&fg(u.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(u)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(u){var f=u.touches,p=f&&f.item(0);p&&(s.initialTouchX=p.clientX,s.initialTouchY=p.clientY,s.userIsDragging=!1)},s.onTouchMove=function(u){var f=u.touches,p=f&&f.item(0);if(p){var g=Math.abs(p.clientX-s.initialTouchX),b=Math.abs(p.clientY-s.initialTouchY),x=5;s.userIsDragging=g>x||b>x}},s.onTouchEnd=function(u){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(u.target)&&s.menuListRef&&!s.menuListRef.contains(u.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(u){s.userIsDragging||s.onControlMouseDown(u)},s.onClearIndicatorTouchEnd=function(u){s.userIsDragging||s.onClearIndicatorMouseDown(u)},s.onDropdownIndicatorTouchEnd=function(u){s.userIsDragging||s.onDropdownIndicatorMouseDown(u)},s.handleInputChange=function(u){var f=s.props.inputValue,p=u.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(p,{action:"input-change",prevInputValue:f}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(u){s.props.onFocus&&s.props.onFocus(u),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(u){var f=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(u),s.onInputChange("",{action:"input-blur",prevInputValue:f}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(u){if(!(s.blockOptionHover||s.state.focusedOption===u)){var f=s.getFocusableOptions(),p=f.indexOf(u);s.setState({focusedOption:u,focusedOptionId:p>-1?s.getFocusedOptionId(u):null})}},s.shouldHideSelectedOptions=function(){return aO(s.props)},s.onValueInputFocus=function(u){u.preventDefault(),u.stopPropagation(),s.focus()},s.onKeyDown=function(u){var f=s.props,p=f.isMulti,g=f.backspaceRemovesValue,b=f.escapeClearsValue,x=f.inputValue,w=f.isClearable,S=f.isDisabled,T=f.menuIsOpen,C=f.onKeyDown,R=f.tabSelectsValue,A=f.openMenuOnFocus,V=s.state,I=V.focusedOption,H=V.focusedValue,D=V.selectValue;if(!S&&!(typeof C=="function"&&(C(u),u.defaultPrevented))){switch(s.blockOptionHover=!0,u.key){case"ArrowLeft":if(!p||x)return;s.focusValue("previous");break;case"ArrowRight":if(!p||x)return;s.focusValue("next");break;case"Delete":case"Backspace":if(x)return;if(H)s.removeValue(H);else{if(!g)return;p?s.popValue():w&&s.clearValue()}break;case"Tab":if(s.isComposing||u.shiftKey||!T||!R||!I||A&&s.isOptionSelected(I,D))return;s.selectOption(I);break;case"Enter":if(u.keyCode===229)break;if(T){if(!I||s.isComposing)return;s.selectOption(I);break}return;case"Escape":T?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:x}),s.onMenuClose()):w&&b&&s.clearValue();break;case" ":if(x)return;if(!T){s.openMenu("first");break}if(!I)return;s.selectOption(I);break;case"ArrowUp":T?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":T?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!T)return;s.focusOption("pageup");break;case"PageDown":if(!T)return;s.focusOption("pagedown");break;case"Home":if(!T)return;s.focusOption("first");break;case"End":if(!T)return;s.focusOption("last");break;default:return}u.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++g7),s.state.selectValue=tC(i.value),i.menuIsOpen&&s.state.selectValue.length){var r=s.getFocusableOptionsWithIds(),l=s.buildFocusableOptions(),c=l.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=r,s.state.focusedOption=l[c],s.state.focusedOptionId=Zy(r,l[c])}return s}return V9(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&nC(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(s){var r=this.props,l=r.isDisabled,c=r.menuIsOpen,u=this.state.isFocused;(u&&!l&&s.isDisabled||u&&c&&!s.menuIsOpen)&&this.focusInput(),u&&l&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!u&&!l&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(nC(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,r){this.props.onInputChange(s,r)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var r=this,l=this.state,c=l.selectValue,u=l.isFocused,f=this.buildFocusableOptions(),p=s==="first"?0:f.length-1;if(!this.props.isMulti){var g=f.indexOf(c[0]);g>-1&&(p=g)}this.scrollToFocusedOptionOnUpdate=!(u&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[p],focusedOptionId:this.getFocusedOptionId(f[p])},function(){return r.onMenuOpen()})}},{key:"focusValue",value:function(s){var r=this.state,l=r.selectValue,c=r.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var u=l.indexOf(c);c||(u=-1);var f=l.length-1,p=-1;if(l.length){switch(s){case"previous":u===0?p=0:u===-1?p=f:p=u-1;break;case"next":u>-1&&u<f&&(p=u+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:l[p]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",r=this.props.pageSize,l=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var u=0,f=c.indexOf(l);l||(f=-1),s==="up"?u=f>0?f-1:c.length-1:s==="down"?u=(f+1)%c.length:s==="pageup"?(u=f-r,u<0&&(u=0)):s==="pagedown"?(u=f+r,u>c.length-1&&(u=c.length-1)):s==="last"&&(u=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[u],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[u])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Qy):Ve(Ve({},Qy),this.props.theme):Qy}},{key:"getCommonProps",value:function(){var s=this.clearValue,r=this.cx,l=this.getStyles,c=this.getClassNames,u=this.getValue,f=this.selectOption,p=this.setValue,g=this.props,b=g.isMulti,x=g.isRtl,w=g.options,S=this.hasValue();return{clearValue:s,cx:r,getStyles:l,getClassNames:c,getValue:u,hasValue:S,isMulti:b,isRtl:x,options:w,selectOption:f,selectProps:g,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,r=s.isClearable,l=s.isMulti;return r===void 0?l:r}},{key:"isOptionDisabled",value:function(s,r){return iO(this.props,s,r)}},{key:"isOptionSelected",value:function(s,r){return sO(this.props,s,r)}},{key:"filterOption",value:function(s,r){return rO(this.props,s,r)}},{key:"formatOptionLabel",value:function(s,r){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(s,{context:r,inputValue:l,selectValue:c})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var s=this.props,r=s.isDisabled,l=s.isSearchable,c=s.inputId,u=s.inputValue,f=s.tabIndex,p=s.form,g=s.menuIsOpen,b=s.required,x=this.getComponents(),w=x.Input,S=this.state,T=S.inputIsHidden,C=S.ariaSelection,R=this.commonProps,A=c||this.getElementId("input"),V=Ve(Ve(Ve({"aria-autocomplete":"list","aria-expanded":g,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":b,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},g&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?(C==null?void 0:C.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?k.createElement(w,Ue({},R,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:A,innerRef:this.getInputRef,isDisabled:r,isHidden:T,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:p,type:"text",value:u},V)):k.createElement(BH,Ue({id:A,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:wm,onFocus:this.onInputFocus,disabled:r,tabIndex:f,inputMode:"none",form:p,value:""},V))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,r=this.getComponents(),l=r.MultiValue,c=r.MultiValueContainer,u=r.MultiValueLabel,f=r.MultiValueRemove,p=r.SingleValue,g=r.Placeholder,b=this.commonProps,x=this.props,w=x.controlShouldRenderValue,S=x.isDisabled,T=x.isMulti,C=x.inputValue,R=x.placeholder,A=this.state,V=A.selectValue,I=A.focusedValue,H=A.isFocused;if(!this.hasValue()||!w)return C?null:k.createElement(g,Ue({},b,{key:"placeholder",isDisabled:S,isFocused:H,innerProps:{id:this.getElementId("placeholder")}}),R);if(T)return V.map(function(O,N){var L=O===I,U="".concat(s.getOptionLabel(O),"-").concat(s.getOptionValue(O));return k.createElement(l,Ue({},b,{components:{Container:c,Label:u,Remove:f},isFocused:L,isDisabled:S,key:U,index:N,removeProps:{onClick:function(){return s.removeValue(O)},onTouchEnd:function(){return s.removeValue(O)},onMouseDown:function(j){j.preventDefault()}},data:O}),s.formatOptionLabel(O,"value"))});if(C)return null;var D=V[0];return k.createElement(p,Ue({},b,{data:D,isDisabled:S}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),r=s.ClearIndicator,l=this.commonProps,c=this.props,u=c.isDisabled,f=c.isLoading,p=this.state.isFocused;if(!this.isClearable()||!r||u||!this.hasValue()||f)return null;var g={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(r,Ue({},l,{innerProps:g,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),r=s.LoadingIndicator,l=this.commonProps,c=this.props,u=c.isDisabled,f=c.isLoading,p=this.state.isFocused;if(!r||!f)return null;var g={"aria-hidden":"true"};return k.createElement(r,Ue({},l,{innerProps:g,isDisabled:u,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),r=s.DropdownIndicator,l=s.IndicatorSeparator;if(!r||!l)return null;var c=this.commonProps,u=this.props.isDisabled,f=this.state.isFocused;return k.createElement(l,Ue({},c,{isDisabled:u,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),r=s.DropdownIndicator;if(!r)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return k.createElement(r,Ue({},l,{innerProps:f,isDisabled:c,isFocused:u}))}},{key:"renderMenu",value:function(){var s=this,r=this.getComponents(),l=r.Group,c=r.GroupHeading,u=r.Menu,f=r.MenuList,p=r.MenuPortal,g=r.LoadingMessage,b=r.NoOptionsMessage,x=r.Option,w=this.commonProps,S=this.state.focusedOption,T=this.props,C=T.captureMenuScroll,R=T.inputValue,A=T.isLoading,V=T.loadingMessage,I=T.minMenuHeight,H=T.maxMenuHeight,D=T.menuIsOpen,O=T.menuPlacement,N=T.menuPosition,L=T.menuPortalTarget,U=T.menuShouldBlockScroll,B=T.menuShouldScrollIntoView,j=T.noOptionsMessage,ie=T.onMenuScrollToTop,X=T.onMenuScrollToBottom;if(!D)return null;var $=function(de,Se){var Oe=de.type,Ce=de.data,ct=de.isDisabled,Ge=de.isSelected,Ht=de.label,jn=de.value,xe=S===Ce,Te=ct?void 0:function(){return s.onOptionHover(Ce)},Ze=ct?void 0:function(){return s.selectOption(Ce)},dt="".concat(s.getElementId("option"),"-").concat(Se),Nt={id:dt,onClick:Ze,onMouseMove:Te,onMouseOver:Te,tabIndex:-1,role:"option","aria-selected":s.isAppleDevice?void 0:Ge};return k.createElement(x,Ue({},w,{innerProps:Nt,data:Ce,isDisabled:ct,isSelected:Ge,key:dt,label:Ht,type:Oe,value:jn,isFocused:xe,innerRef:xe?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(de.data,"menu"))},se;if(this.hasOptions())se=this.getCategorizedOptions().map(function(me){if(me.type==="group"){var de=me.data,Se=me.options,Oe=me.index,Ce="".concat(s.getElementId("group"),"-").concat(Oe),ct="".concat(Ce,"-heading");return k.createElement(l,Ue({},w,{key:Ce,data:de,options:Se,Heading:c,headingProps:{id:ct,data:me.data},label:s.formatGroupLabel(me.data)}),me.options.map(function(Ge){return $(Ge,"".concat(Oe,"-").concat(Ge.index))}))}else if(me.type==="option")return $(me,"".concat(me.index))});else if(A){var ue=V({inputValue:R});if(ue===null)return null;se=k.createElement(g,w,ue)}else{var ye=j({inputValue:R});if(ye===null)return null;se=k.createElement(b,w,ye)}var q={minMenuHeight:I,maxMenuHeight:H,menuPlacement:O,menuPosition:N,menuShouldScrollIntoView:B},oe=k.createElement(_8,Ue({},w,q),function(me){var de=me.ref,Se=me.placerProps,Oe=Se.placement,Ce=Se.maxHeight;return k.createElement(u,Ue({},w,q,{innerRef:de,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:A,placement:Oe}),k.createElement(WH,{captureEnabled:C,onTopArrive:ie,onBottomArrive:X,lockEnabled:U},function(ct){return k.createElement(f,Ue({},w,{innerRef:function(Ht){s.getMenuListRef(Ht),ct(Ht)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:s.getElementId("listbox")},isLoading:A,maxHeight:Ce,focusedOption:S}),se)}))});return L||N==="fixed"?k.createElement(p,Ue({},w,{appendTo:L,controlElement:this.controlRef,menuPlacement:O,menuPosition:N}),oe):oe}},{key:"renderFormField",value:function(){var s=this,r=this.props,l=r.delimiter,c=r.isDisabled,u=r.isMulti,f=r.name,p=r.required,g=this.state.selectValue;if(p&&!this.hasValue()&&!c)return k.createElement(QH,{name:f,onFocus:this.onValueInputFocus});if(!(!f||c))if(u)if(l){var b=g.map(function(S){return s.getOptionValue(S)}).join(l);return k.createElement("input",{name:f,type:"hidden",value:b})}else{var x=g.length>0?g.map(function(S,T){return k.createElement("input",{key:"i-".concat(T),name:f,type:"hidden",value:s.getOptionValue(S)})}):k.createElement("input",{name:f,type:"hidden",value:""});return k.createElement("div",null,x)}else{var w=g[0]?this.getOptionValue(g[0]):"";return k.createElement("input",{name:f,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,r=this.state,l=r.ariaSelection,c=r.focusedOption,u=r.focusedValue,f=r.isFocused,p=r.selectValue,g=this.getFocusableOptions();return k.createElement(LH,Ue({},s,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:c,focusedValue:u,isFocused:f,selectValue:p,focusableOptions:g,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),r=s.Control,l=s.IndicatorsContainer,c=s.SelectContainer,u=s.ValueContainer,f=this.props,p=f.className,g=f.id,b=f.isDisabled,x=f.menuIsOpen,w=this.state.isFocused,S=this.commonProps=this.getCommonProps();return k.createElement(c,Ue({},S,{className:p,innerProps:{id:g,onKeyDown:this.onKeyDown},isDisabled:b,isFocused:w}),this.renderLiveRegion(),k.createElement(r,Ue({},S,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:b,isFocused:w,menuIsOpen:x}),k.createElement(u,Ue({},S,{isDisabled:b}),this.renderPlaceholderOrValue(),this.renderInput()),k.createElement(l,Ue({},S,{isDisabled:b}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,r){var l=r.prevProps,c=r.clearFocusValueOnUpdate,u=r.inputIsHiddenAfterUpdate,f=r.ariaSelection,p=r.isFocused,g=r.prevWasFocused,b=r.instancePrefix,x=s.options,w=s.value,S=s.menuIsOpen,T=s.inputValue,C=s.isMulti,R=tC(w),A={};if(l&&(w!==l.value||x!==l.options||S!==l.menuIsOpen||T!==l.inputValue)){var V=S?h7(s,R):[],I=S?gC(Ip(s,R),"".concat(b,"-option")):[],H=c?p7(r,R):null,D=m7(r,V),O=Zy(I,D);A={selectValue:R,focusedOption:D,focusedOptionId:O,focusableOptionsWithIds:I,focusedValue:H,clearFocusValueOnUpdate:!1}}var N=u!=null&&s!==l?{inputIsHidden:u,inputIsHiddenAfterUpdate:void 0}:{},L=f,U=p&&g;return p&&!U&&(L={value:Wh(C,R,R[0]||null),options:R,action:"initial-input-focus"},U=!g),(f==null?void 0:f.action)==="initial-input-focus"&&(L=null),Ve(Ve(Ve({},A),N),{},{prevProps:s,ariaSelection:L,prevWasFocused:U})}}]),t}(k.Component);oO.defaultProps=f7;var v7=k.forwardRef(function(n,e){var t=k9(n);return k.createElement(oO,Ue({ref:e},t))}),y7=v7;function Xl({name:n,label:e,control:t,options:i,errors:s,isMulti:r=!1,rules:l={}}){var c;return y.jsxs("div",{className:"mb-4",children:[e&&y.jsx("label",{className:"block text-sm font-medium mb-1",children:e}),y.jsx(Qz,{name:n,control:t,rules:l,render:({field:u})=>y.jsx(y7,{...u,isMulti:r,options:i,placeholder:e,classNamePrefix:"react-select"})}),(s==null?void 0:s[n])&&y.jsx("p",{className:"text-red-500 text-sm mt-1",children:(c=s[n])==null?void 0:c.message})]})}function b7({isOpen:n,onClose:e,editarProducto:t,disponibles:i}){const s=xe=>xe.map(Te=>({value:Te.valor,label:Te.valor,raw:Te})),r=xe=>Array.isArray(xe)?xe.map(Te=>typeof Te=="object"?{value:Te.valor||Te,label:Te.valor||Te,raw:Te}:{value:Te,label:Te}):[],l=xe=>xe&&typeof xe=="object"?{value:xe.valor,label:xe.valor,raw:xe}:xe?{value:xe,label:xe}:null,c=s(i.uso||[]),u=s(i.tipo||[]),f=s(i.material||[]),p=s(i.origen||[]),g=s(i.marca||[]),b=s(i.usuario||[]),[x,w]=k.useState([]),[S,T]=k.useState([]),[C,R]=k.useState(!1),[A,V]=k.useState([]),[I,H]=k.useState(""),[D,O]=k.useState([]),[N,L]=k.useState(null),[U,B]=k.useState(null),{register:j,handleSubmit:ie,control:X,reset:$,watch:se,formState:{errors:ue}}=V_();k.useEffect(()=>{if(n){if(t){$({...t,tipoCalzado:l(t.tipoCalzado),material:r(t.material),uso:r(t.uso),origen:l(t.origen),marca:l(t.marca),usuario:l(t.usuario)});const xe=(t.variantes||[]).map(Te=>({...Te,imagenLocal:Te.imagen||"",color:Te.color||"",codigoColor:Te.codigoColor||"",tallas:Array.isArray(Te.tallas)?Te.tallas:[]}));T(t.imagenes||[]),V(xe),O(t.etiquetas||[])}else $({nombre:"",descripcion:"",precio:"",precioDescuento:"",precioMayorista:"",tipoCalzado:null,material:[],uso:[],origen:null,marca:null,usuario:null}),T([]),V([]),O([]);w([])}},[n,t,$]);const ye=se("usuario");k.useEffect(()=>{var xe;if(ye!=null&&ye.raw)B(ye.raw);else if(ye!=null&&ye.value){const Te=(xe=i.usuario)==null?void 0:xe.find(Ze=>Ze.valor===ye.value);Te&&B(Te)}},[ye]);const q=xe=>{const Te=xe.target.files[0];if(Te&&S.length<9){const Ze=URL.createObjectURL(Te);w([...x,Te]),T([...S,Ze]);const dt=Array.isArray(U==null?void 0:U.tallas)?U.tallas.map(Nt=>({talla:Nt,stock:0})):[];V(Nt=>[...Nt,{imagenLocal:Ze,imagen:"",color:"",codigoColor:"",tallas:dt}])}xe.target.value=""},oe=xe=>{V(Te=>Te.filter((Ze,dt)=>dt!==xe))},me=(xe,Te,Ze)=>{const dt=[...A];dt[xe][Te]=Ze,V(dt)},de=xe=>{const Te=[...A];Te[xe].tallas.push({talla:"",stock:0}),V(Te)},Se=(xe,Te,Ze,dt)=>{const Nt=[...A];Nt[xe].tallas[Te][Ze]=dt,V(Nt)},Oe=(xe,Te)=>{const Ze=[...A];Ze[xe].tallas.splice(Te,1),V(Ze)},Ce=async xe=>{const Te="https://api.cloudinary.com/v1_1/ddebdvfcg/upload",Ze=new FormData;return Ze.append("file",xe),Ze.append("upload_preset","nikosperu_preset"),(await(await fetch(Te,{method:"POST",body:Ze})).json()).secure_url},ct=()=>{if(A.length===0)return L("Debes agregar al menos una variante."),!1;for(const xe of A)if(!Array.isArray(xe.tallas)||xe.tallas.length===0)return L("Cada variante debe tener al menos una talla."),!1;return L(null),!0},Ge=async xe=>{var Te,Ze,dt,Nt,Gs,Cn;if(ct()){R(!0);try{const Ys=await Promise.all(x.map(Ce)),us=await Dz(xe.nombre,t==null?void 0:t.id),Y=[...S];Ys.forEach((ve,be)=>{const ge=S.length-Ys.length+be;Y[ge]=ve});const ee=A.map((ve,be)=>({color:ve.color||"",codigoColor:ve.codigoColor||"",tallas:ve.tallas||[],imagen:Y[be]||""})),ae={...xe,slug:us,precio:parseFloat(xe.precio),precioDescuento:parseFloat(xe.precioDescuento),precioMayorista:parseFloat(xe.precioMayorista),imagenes:Y,variantes:ee,etiquetas:D,marca:((Te=xe.marca)==null?void 0:Te.value)||"",usuario:((Ze=xe.usuario)==null?void 0:Ze.value)||"",tipoCalzado:((dt=xe.tipoCalzado)==null?void 0:dt.value)||"",material:(Nt=xe.material)==null?void 0:Nt.map(ve=>ve.value),uso:(Gs=xe.uso)==null?void 0:Gs.map(ve=>ve.value),origen:((Cn=xe.origen)==null?void 0:Cn.value)||"",actualizadoEn:new Date};if(t){const ve=qn(st,"productos",t.id);await Or(ve,ae)}else ae.creadoEn=new Date,await x_(Qt(st,"productos"),ae);e()}catch(Ys){console.error("Error al guardar producto:",Ys)}finally{R(!1)}}};if(!n)return null;const Ht=()=>{I.trim()&&(O([...D,I.trim()]),H(""))},jn=xe=>{O(D.filter((Te,Ze)=>Ze!==xe))};return y.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[y.jsx("div",{className:"absolute inset-0 bg-opacity-50 backdrop-blur-sm transition-opacity"}),y.jsxs("div",{className:"bg-white w-full max-w-3xl rounded-lg p-6 shadow relative max-h-[90vh] flex flex-col",children:[y.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[t?"Editar":"Nuevo"," Producto"]}),y.jsxs("form",{onSubmit:ie(Ge),id:"form-producto",className:"space-y-4 flex-1 overflow-y-auto pr-1",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium",children:"Nombre"}),y.jsx("input",{...j("nombre",{required:"Nombre requerido"}),className:"w-full border px-3 py-2 rounded"}),ue.nombre&&y.jsx("p",{className:"text-red-500 text-sm",children:ue.nombre.message})]}),y.jsx(Xl,{name:"marca",label:"Marca",control:X,options:g,errors:ue,rules:{required:"La marca es requerida"}}),y.jsx(Xl,{name:"usuario",label:"Usuario",control:X,options:b,errors:ue,rules:{required:"Debe seleccionar al usuario"}}),y.jsx(Xl,{name:"tipoCalzado",label:"Tipo de calzado",control:X,options:u,errors:ue,rules:{required:"Debe seleccionar el tipo de calzado"}}),y.jsx(Xl,{name:"material",label:"Material",control:X,options:f,errors:ue,isMulti:!0,rules:{required:"Debe seleccionar al menos un material"}}),y.jsx(Xl,{name:"uso",label:"Usos",control:X,options:c,errors:ue,isMulti:!0,rules:{required:"Debe seleccionar al menos un uso"}}),y.jsx(Xl,{name:"origen",label:"Origen",control:X,options:p,errors:ue,rules:{required:"Debe seleccionar el origen"}})]}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium",children:"Precio original"}),y.jsx("input",{type:"number",...j("precio",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),ue.precio&&y.jsx("p",{className:"text-red-500 text-sm",children:ue.precio.message})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium",children:"Precio Mayorista"}),y.jsx("input",{type:"number",...j("precioMayorista",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),ue.precioMayorista&&y.jsx("p",{className:"text-red-500 text-sm",children:ue.precioMayorista.message})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium",children:"Precio con descuento"}),y.jsx("input",{type:"number",...j("precioDescuento",{required:"Precio requerido"}),className:"w-full border px-3 py-2 rounded"}),ue.precioDescuento&&y.jsx("p",{className:"text-red-500 text-sm",children:ue.precioDescuento.message})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium",children:"Descripcion"}),y.jsx("textarea",{...j("descripcion"),rows:3,className:"w-full border px-3 py-2 rounded",placeholder:"Descripción"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium",children:"Etiquetas"}),y.jsx("input",{value:I,onChange:xe=>H(xe.target.value),onKeyDown:xe=>xe.key==="Enter"&&(xe.preventDefault(),Ht()),placeholder:"Agregar etiqueta",className:"border px-2 py-1 rounded w-full"}),y.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:D.map((xe,Te)=>y.jsxs("span",{className:"bg-gray-200 px-3 py-1 rounded-full flex items-center gap-2",children:[xe,y.jsx("button",{type:"button",onClick:()=>jn(Te),className:"text-red-500",children:"×"})]},Te))})]}),y.jsx("label",{className:"block text-sm font-medium mt-2",children:"Imágenes (max. 9)"}),y.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2 mt-2",children:[A.map((xe,Te)=>y.jsxs("div",{className:"relative",children:[y.jsx("img",{src:xe.imagenLocal||xe.imagen,className:"w-full h-20 object-cover rounded border"}),y.jsx("button",{type:"button",onClick:()=>oe(Te),className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-5 h-5 text-xs",children:"×"})]},Te)),S.length<9&&y.jsxs("label",{className:"border-2 border-dashed w-full h-20 flex items-center justify-center rounded cursor-pointer",children:[y.jsx("span",{className:"text-gray-500",children:"+"}),y.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:q})]})]}),y.jsxs("div",{className:"my-2",children:[y.jsx("h3",{className:"text-md font-semibold mb-2",children:"Variantes por imagen y talla"}),N&&y.jsx("p",{className:"text-red-500 text-sm mb-2",children:N}),A.map((xe,Te)=>y.jsxs("div",{className:"border p-3 rounded mb-3",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("img",{src:xe.imagenLocal||xe.imagen,className:"w-12 h-12 object-cover rounded border"}),y.jsx("input",{value:xe.color,onChange:Ze=>me(Te,"color",Ze.target.value),placeholder:"Color",className:"flex-1 border px-2 py-1 rounded"}),y.jsx("button",{type:"button",onClick:()=>oe(Te),className:"text-red-500 ml-auto",children:"Eliminar"})]}),xe.tallas.map((Ze,dt)=>y.jsxs("div",{className:"flex gap-2 mb-1",children:[y.jsx("input",{value:Ze.talla,onChange:Nt=>Se(Te,dt,"talla",Nt.target.value),placeholder:"Talla",className:"border px-2 py-1 rounded w-24"}),y.jsx("input",{type:"number",value:Ze.stock,onChange:Nt=>Se(Te,dt,"stock",parseInt(Nt.target.value)),placeholder:"Stock",className:"border px-2 py-1 rounded w-24"}),y.jsx("button",{type:"button",onClick:()=>Oe(Te,dt),className:"text-sm text-red-500",children:"Quitar"})]},dt)),y.jsx("button",{type:"button",onClick:()=>de(Te),className:"text-blue-500 text-sm",children:"+ Agregar talla"})]},Te))]})]}),y.jsxs("div",{className:"sticky bottom-0 left-0 bg-white pt-4 mt-4 pb-2 border-t border-gray-200 flex justify-end gap-2 z-10",children:[y.jsx("button",{type:"submit",form:"form-producto",disabled:C,className:`px-4 py-2 bg-black text-white rounded hover:bg-gray-800 ${C?"opacity-50 cursor-not-allowed":""}`,children:C?"Guardando...":"Guardar Producto"}),y.jsx("button",{type:"button",onClick:e,disabled:C,className:`px-4 py-2 border border-gray-300 rounded hover:bg-gray-100 ${C?"opacity-50 cursor-not-allowed":""}`,children:"Cancelar"})]})]})]})}function _7(){const[n,e]=k.useState([]),[t,i]=k.useState(""),[s,r]=k.useState("recientes"),[l,c]=k.useState(1),u=6,[f,p]=k.useState(!1),[g,b]=k.useState(null),[x,w]=k.useState(!1),[S,T]=k.useState({}),C=()=>{b(null),setTimeout(()=>{p(!0)},0)},R=L=>{b(L),p(!0)},A=L=>{b(L),w(!0)},V=async()=>{g&&(await A2(qn(st,"productos",g.id)),e(L=>L.filter(U=>U.id!==g.id)),w(!1))};k.useEffect(()=>{(async()=>{const B=(await Tn(Qt(st,"productos"))).docs.map(j=>({id:j.id,...j.data()}));e(B)})()},[f]),k.useEffect(()=>{(async()=>{const j=(await Tn(Qt(st,"filtros"))).docs.map(ie=>({...ie.data()})).reduce((ie,X)=>{const $=X.tipo;return ie[$]||(ie[$]=[]),ie[$].some(se=>se.valor===X.valor)||ie[$].push(X),ie},{});T(j)})()},[]);const H=(()=>{let L=n.filter(U=>U.nombre.toLowerCase().includes(t.toLowerCase()));return s==="recientes"?L.sort((U,B)=>{var j,ie;return((j=B.creadoEn)==null?void 0:j.seconds)-((ie=U.creadoEn)==null?void 0:ie.seconds)}):L.sort((U,B)=>{var j,ie;return((j=U.creadoEn)==null?void 0:j.seconds)-((ie=B.creadoEn)==null?void 0:ie.seconds)}),L})(),D=Math.ceil(H.length/u),O=(l-1)*u,N=H.slice(O,O+u);return y.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-2xl font-bold",children:"Gestión de Productos"}),y.jsx("button",{onClick:C,className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"+ Nuevo Producto"})]}),y.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[y.jsx("input",{type:"text",placeholder:"Buscar por nombre",value:t,onChange:L=>i(L.target.value),className:"px-3 py-2 border border-gray-300 rounded w-full md:w-64"}),y.jsxs("select",{value:s,onChange:L=>r(L.target.value),className:"px-3 py-2 border border-gray-300 rounded",children:[y.jsx("option",{value:"recientes",children:"Más recientes"}),y.jsx("option",{value:"antiguos",children:"Más antiguos"})]})]}),y.jsxs("div",{className:"overflow-x-auto",children:[y.jsxs("table",{className:"min-w-full border text-sm",children:[y.jsx("thead",{className:"bg-gray-100 text-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-4 border",children:"Nombre"}),y.jsx("th",{className:"py-2 px-4 border",children:"Precio"}),y.jsx("th",{className:"py-2 px-4 border",children:"Precio Mayorista"}),y.jsx("th",{className:"py-2 px-4 border",children:"Marca"}),y.jsx("th",{className:"py-2 px-4 border",children:"Material"}),y.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),y.jsx("tbody",{children:N.map(L=>{var U;return y.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[y.jsx("td",{className:"py-2 px-4 border",children:L.nombre}),y.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",L.precio]}),y.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",L.precioMayorista]}),y.jsx("td",{className:"py-2 px-4 border",children:typeof L.marca=="object"?(U=L.marca)==null?void 0:U.valor:L.marca}),y.jsx("td",{className:"py-2 px-4 border",children:(L.material||[]).join(", ")}),y.jsxs("td",{className:"py-2 px-4 flex justify-center gap-2 text-center space-x-2",children:[y.jsx("button",{onClick:()=>R(L),className:"p-2 text-blue-600 hover:underline",children:y.jsx("i",{className:"bx bx-pencil"})}),y.jsx("button",{onClick:()=>A(L),className:"p-2 text-red-600 hover:underline",children:y.jsx("i",{className:"bx bx-trash"})})]})]},L.id)})})]}),y.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[y.jsx("button",{onClick:()=>c(L=>Math.max(L-1,1)),disabled:l===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),y.jsxs("span",{className:"text-gray-600",children:["Página ",l," de ",D]}),y.jsx("button",{onClick:()=>c(L=>Math.min(L+1,D)),disabled:l===D,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),y.jsx(b7,{isOpen:f,onClose:()=>p(!1),editarProducto:g,disponibles:S}),y.jsx(aM,{isOpen:x,onClose:()=>w(!1),children:y.jsxs("div",{className:"w-full max-w-md relative",children:[y.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Eliminar producto"}),y.jsxs("p",{className:"mb-4",children:['¿Estás seguro que deseas eliminar el producto "',(g==null?void 0:g.nombre)||"",'"?']}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{onClick:()=>w(!1),className:"bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"No, cancelar"}),y.jsx("button",{onClick:V,className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Sí, eliminar"})]})]})})]})}function x7(){const[n,e]=k.useState([]),[t,i]=k.useState({valor:"",tipo:""}),[s,r]=k.useState(null),[l,c]=k.useState(null),[u,f]=k.useState(!1),[p,g]=k.useState(""),[b,x]=k.useState(""),[w,S]=k.useState(!1),[T,C]=k.useState(1),R=6,A="https://api.cloudinary.com/v1_1/ddebdvfcg/upload",V=async()=>{const ie=(await Tn(Qt(st,"filtros"))).docs.map(X=>({id:X.id,...X.data()}));e(ie)};k.useEffect(()=>{V()},[]);const I=async j=>{const ie=new FormData;return ie.append("file",j),ie.append("upload_preset","nikosperu_preset"),(await(await fetch(A,{method:"POST",body:ie})).json()).secure_url},H=async()=>{var X;if(!t.valor||!t.tipo)return;f(!0);let j=null;t.tipo.toLowerCase()==="marca"&&(s&&(j=await I(s)),!s&&(l==null?void 0:l.imagen)===null&&(j=null));const ie={valor:t.valor,tipo:t.tipo.toLowerCase(),...j!==null?{imagen:j}:{}};t.tipo.toLowerCase()==="usuario"&&(ie.tallas=((X=t.tallas)==null?void 0:X.filter($=>$.trim()!==""))||[]),l?await Or(qn(st,"filtros",l.id),ie):await x_(Qt(st,"filtros"),ie),i({valor:"",tipo:"",tallas:[]}),r(null),c(null),S(!1),f(!1),V()},D=j=>{i({valor:j.valor,tipo:j.tipo,tallas:j.tallas||[]}),c(j),r(null),S(!0)},O=async j=>{confirm("¿Estás seguro de eliminar este filtro?")&&(await A2(qn(st,"filtros",j)),V())},N=n.filter(j=>{const ie=j.valor.toLowerCase().includes(p.toLowerCase()),X=b?j.tipo===b:!0;return ie&&X}),L=Math.ceil(N.length/R),U=(T-1)*R,B=N.slice(U,U+R);return y.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestión de Categorías"}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[y.jsx("input",{type:"text",placeholder:"Buscar por valor",value:p,onChange:j=>{g(j.target.value),C(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/2 shadow-sm"}),y.jsxs("select",{value:b,onChange:j=>{x(j.target.value),C(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/4 shadow-sm",children:[y.jsx("option",{value:"",children:"Todos los tipos"}),y.jsx("option",{value:"usuario",children:"Usuario"}),y.jsx("option",{value:"origen",children:"Origen"}),y.jsx("option",{value:"uso",children:"Uso"}),y.jsx("option",{value:"marca",children:"Marca"}),y.jsx("option",{value:"material",children:"Material"}),y.jsx("option",{value:"tipo",children:"Tipo"})]}),y.jsx("button",{onClick:()=>{i({valor:"",tipo:""}),c(null),S(!0)},className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800 transition w-full md:w-auto",children:"+ Nuevo Filtro"})]}),y.jsxs("div",{className:"overflow-x-auto",children:[y.jsxs("table",{className:"min-w-full text-sm border",children:[y.jsx("thead",{className:"bg-gray-100 text-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-4 border",children:"Valor"}),y.jsx("th",{className:"py-2 px-4 border",children:"Tipo"}),y.jsx("th",{className:"py-2 px-4 border",children:"Imagen"}),y.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),y.jsx("tbody",{children:B.map(j=>y.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[y.jsx("td",{className:"py-2 px-4 border",children:j.valor}),y.jsx("td",{className:"py-2 px-4 border",children:j.tipo}),y.jsx("td",{className:"py-2 px-4 border text-center",children:j.imagen?y.jsx("img",{src:j.imagen,alt:j.valor,className:"w-16 h-10 object-contain rounded border mx-auto"}):"—"}),y.jsxs("td",{className:"py-2 px-4 flex justify-center gap-2 text-center space-x-2",children:[y.jsx("button",{onClick:()=>D(j),className:"p-2 text-blue-600 hover:underline",children:y.jsx("i",{className:"bx bx-pencil"})}),y.jsx("button",{onClick:()=>O(j.id),className:"p-2 text-red-600 hover:underline",children:y.jsx("i",{className:"bx bx-trash"})})]})]},j.id))})]}),y.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[y.jsx("button",{onClick:()=>C(j=>Math.max(j-1,1)),disabled:T===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),y.jsxs("span",{className:"text-gray-600",children:["Página ",T," de ",L]}),y.jsx("button",{onClick:()=>C(j=>Math.min(j+1,L)),disabled:T===L,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),w&&y.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 backdrop-blur-sm bg-opacity-40 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-lg w-full max-w-lg p-6 relative",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:l?"Editar filtro":"Nuevo filtro"}),y.jsxs("div",{className:"flex flex-col space-y-4 gap-3",children:[y.jsx("input",{type:"text",placeholder:"Valor (ej. Hombre, Casual, Nike)",value:t.valor,onChange:j=>i({...t,valor:j.target.value}),className:"w-full px-3 py-2 border rounded shadow-sm"}),y.jsxs("select",{value:t.tipo,onChange:j=>{i({...t,tipo:j.target.value}),r(null)},className:"w-full px-3 py-2 border rounded shadow-sm",children:[y.jsx("option",{value:"",children:"Tipo de filtro"}),y.jsx("option",{value:"usuario",children:"Usuario"}),y.jsx("option",{value:"origen",children:"Origen"}),y.jsx("option",{value:"uso",children:"Uso"}),y.jsx("option",{value:"marca",children:"Marca"}),y.jsx("option",{value:"material",children:"Material"}),y.jsx("option",{value:"tipo",children:"Tipo"})]}),t.tipo==="usuario"&&y.jsxs("div",{children:[y.jsx("label",{className:"font-medium text-sm mb-2",children:"Tallas asociadas"}),y.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:(t.tallas||[]).map((j,ie)=>y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx("input",{type:"text",autoFocus:!0,value:j,onChange:X=>{const $=[...t.tallas];$[ie]=X.target.value,i({...t,tallas:$})},className:"w-16 px-2 py-1 border rounded text-sm"}),y.jsx("button",{type:"button",onClick:()=>{const X=t.tallas.filter(($,se)=>se!==ie);i({...t,tallas:X})},className:"text-red-500 text-sm hover:underline",children:"✕"})]},ie))}),y.jsx("button",{type:"button",onClick:()=>i({...t,tallas:[...t.tallas||[],""]}),className:"text-blue-600 text-sm hover:underline",children:"+ Agregar talla"})]}),t.tipo==="marca"&&y.jsx("div",{className:"flex flex-col items-start gap-2",children:s?y.jsxs("div",{className:"relative w-32 h-20 border rounded overflow-hidden",children:[y.jsx("img",{src:URL.createObjectURL(s),alt:"Vista previa",className:"object-contain w-full h-full"}),y.jsx("button",{onClick:()=>r(null),className:"absolute top-0 right-0 bg-black/60 text-white text-xs px-1 rounded-bl hover:bg-red-600",children:"✕"})]}):l!=null&&l.imagen?y.jsxs("div",{className:"relative w-32 h-20 border rounded overflow-hidden",children:[y.jsx("img",{src:l.imagen,alt:"Imagen actual",className:"object-contain w-full h-full"}),y.jsx("button",{onClick:()=>c({...l,imagen:null}),className:"absolute top-0 right-0 bg-black/60 text-white text-xs px-1 rounded-bl hover:bg-red-600",children:"✕"})]}):y.jsx("input",{type:"file",accept:"image/*",onChange:j=>{const ie=j.target.files[0];ie&&r(ie),j.target.value=""},className:"w-full px-3 py-2 border rounded shadow-sm"})})]}),y.jsxs("div",{className:"flex justify-end mt-6 space-x-2 gap-3",children:[y.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 border border-gray-300 rounded hover:bg-gray-100",children:"Cancelar"}),y.jsx("button",{onClick:H,disabled:u,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 disabled:opacity-50",children:u?"Subiendo...":l?"Actualizar":"Guardar"})]})]})})]})}function w7(){const[n,e]=k.useState([]),[t,i]=k.useState(""),[s,r]=k.useState(""),[l,c]=k.useState(1),[u,f]=k.useState(null),[p,g]=k.useState(null),[b,x]=k.useState(!0),w=6,S=async()=>{const H=(await Tn(Qt(st,"ordenes"))).docs.map(D=>({id:D.id,...D.data()}));e(H)};k.useEffect(()=>{S()},[]);const T=n.filter(I=>{var N,L;const D=`${((N=I.cliente)==null?void 0:N.nombre)||""} ${((L=I.cliente)==null?void 0:L.apellido)||""}`.toLowerCase().includes(t.toLowerCase()),O=s?I.estado===s:!0;return D&&O}).sort((I,H)=>b?I.numeroOrden-H.numeroOrden:H.numeroOrden-I.numeroOrden),C=Math.ceil(T.length/w),R=T.slice((l-1)*w,l*w),A=async(I,H)=>{await Or(qn(st,"ordenes",I.id),{estado:H}),g(null),S()},V=I=>{var N;const H=rM(I.numeroOrden,I.cliente,I.carrito,I.total),D=(N=I.cliente.telefono)==null?void 0:N.replace(/\D/g,"");if(!D)return alert("Número de teléfono no válido");const O=`https://wa.me/51${D}?text=${encodeURIComponent(H)}`;window.open(O,"_blank")};return y.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestión de Ventas"}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[y.jsx("input",{type:"text",placeholder:"Buscar por nombre del cliente",value:t,onChange:I=>{i(I.target.value),c(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/2"}),y.jsxs("select",{value:s,onChange:I=>{r(I.target.value),c(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/4",children:[y.jsx("option",{value:"",children:"Todos los estados"}),y.jsx("option",{value:"pendiente",children:"Pendiente"}),y.jsx("option",{value:"cancelado",children:"Cancelado"}),y.jsx("option",{value:"finalizado",children:"Finalizado"})]})]}),y.jsxs("div",{className:"overflow-x-auto",children:[y.jsxs("table",{className:"min-w-full text-sm border",children:[y.jsx("thead",{className:"bg-gray-100 text-gray-700",children:y.jsxs("tr",{children:[y.jsxs("th",{onClick:()=>{x(!b),c(1)},className:"py-2 px-4 border cursor-pointer select-none",children:["N° Orden ",b?"⬇":"⬆"]}),y.jsx("th",{className:"py-2 px-4 border",children:"Cliente"}),y.jsx("th",{className:"py-2 px-4 border",children:"Total"}),y.jsx("th",{className:"py-2 px-4 border",children:"Estado"}),y.jsx("th",{className:"py-2 px-4 border",children:"Fecha realizada"}),y.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),y.jsx("tbody",{children:R.map(I=>{var H,D,O;return y.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[y.jsxs("td",{className:"py-2 px-4 border text-center",children:["#",String(I.numeroOrden).padStart(4,"0")]}),y.jsxs("td",{className:"py-2 px-4 border",children:[(H=I.cliente)==null?void 0:H.nombre," ",(D=I.cliente)==null?void 0:D.apellido]}),y.jsxs("td",{className:"py-2 px-4 border",children:["S/ ",I.total.toFixed(2)]}),y.jsx("td",{className:"py-2 px-4 border capitalize",children:I.estado}),y.jsx("td",{className:"py-2 px-4 border text-center",children:(O=I.creadoEn)!=null&&O.toDate?I.creadoEn.toDate().toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"—"}),y.jsxs("td",{className:"py-2 px-4 flex justify-center gap-3 text-center",children:[y.jsx("button",{onClick:()=>f(I),title:"Ver detalle",children:y.jsx("i",{className:"bx bx-eye-alt text-blue-600 text-lg hover:scale-110 transition-transform"})}),y.jsx("button",{onClick:()=>g(I),title:"Cambiar estado",children:y.jsx("i",{className:"bx bx-checklist text-yellow-600 text-lg hover:scale-110 transition-transform"})}),y.jsx("button",{onClick:()=>V(I),title:"Reenviar a WhatsApp",children:y.jsx("i",{className:"bx bx-send-alt text-green-600 text-lg hover:scale-110 transition-transform"})})]})]},I.id)})})]}),y.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[y.jsx("button",{onClick:()=>c(I=>Math.max(I-1,1)),disabled:l===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),y.jsxs("span",{className:"text-gray-600",children:["Página ",l," de ",C]}),y.jsx("button",{onClick:()=>c(I=>Math.min(I+1,C)),disabled:l===C,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),u&&y.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow max-w-md w-full",children:[y.jsxs("h3",{className:"text-lg font-bold mb-4",children:["Detalle de Orden #",String(u.numeroOrden).padStart(4,"0")]}),y.jsxs("table",{className:"w-full text-sm mb-4",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left border-b",children:[y.jsx("th",{children:"Producto"}),y.jsx("th",{children:"Talla"}),y.jsx("th",{children:"Color"}),y.jsx("th",{children:"Cant"}),y.jsx("th",{children:"Subtotal"})]})}),y.jsx("tbody",{children:u.carrito.map((I,H)=>y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"py-1",children:I.nombre}),y.jsx("td",{className:"py-1",children:I.talla}),y.jsx("td",{className:"py-1",children:I.color}),y.jsx("td",{className:"py-1 text-center",children:I.cantidad}),y.jsxs("td",{className:"py-1 text-right",children:["S/ ",(I.precio*I.cantidad).toFixed(2)]})]},H))})]}),y.jsxs("div",{className:"text-right font-semibold text-lg",children:["Total: S/ ",u.total.toFixed(2)]}),y.jsx("div",{className:"text-right mt-4",children:y.jsx("button",{onClick:()=>f(null),className:"bg-black text-white px-4 py-2 rounded hover:bg-gray-800",children:"Cerrar"})})]})}),p&&y.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow max-w-sm w-full text-center",children:[y.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Cambiar estado"}),y.jsxs("p",{className:"mb-3 text-gray-600",children:["Estado actual: ",y.jsx("strong",{children:p.estado})]}),y.jsx("div",{className:"flex flex-col gap-2 mb-4",children:["pendiente","cancelado","finalizado"].map(I=>y.jsx("button",{onClick:()=>A(p,I),className:"px-4 py-2 border rounded hover:bg-gray-100",children:I},I))}),y.jsx("button",{onClick:()=>g(null),className:"text-sm text-gray-500 hover:underline",children:"Cancelar"})]})})]})}function S7(){const[n,e]=k.useState([]),[t,i]=k.useState(""),[s,r]=k.useState(""),[l,c]=k.useState(1),[u,f]=k.useState(null),p=6,g=async()=>{const V=(await Tn(Qt(st,"usuarios"))).docs.map(I=>({id:I.id,...I.data()}));e(V)};k.useEffect(()=>{g()},[]);const b=n.filter(A=>{const I=`${A.nombre||""} ${A.apellido||""}`.toLowerCase().includes(t.toLowerCase()),H=s?A.rol===s:!0;return I&&H}),x=Math.ceil(b.length/p),w=b.slice((l-1)*p,l*p),S=async A=>{await Or(qn(st,"usuarios",A.id),{rol:A.rol==="admin"?"cliente":"admin"}),f(null),g()},T=async A=>{await Or(qn(st,"usuarios",A.id),{usuarioMayorista:!A.usuarioMayorista}),f(null),g()},C=async A=>{await Or(qn(st,"usuarios",A.id),{active:!1}),f(null),g()},R=async A=>{await Or(qn(st,"usuarios",A.id),{active:!0}),f(null),g()};return y.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8",children:[y.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Gestión de Usuarios"}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[y.jsx("input",{type:"text",placeholder:"Buscar por nombre",value:t,onChange:A=>{i(A.target.value),c(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/2"}),y.jsxs("select",{value:s,onChange:A=>{r(A.target.value),c(1)},className:"px-4 py-2 border border-gray-300 rounded w-full md:w-1/4",children:[y.jsx("option",{value:"",children:"Todos los roles"}),y.jsx("option",{value:"cliente",children:"Cliente"}),y.jsx("option",{value:"admin",children:"Admin"})]})]}),y.jsxs("div",{className:"overflow-x-auto",children:[y.jsxs("table",{className:"min-w-full text-sm border",children:[y.jsx("thead",{className:"bg-gray-100 text-gray-700",children:y.jsxs("tr",{children:[y.jsx("th",{className:"py-2 px-4 border",children:"Nombre"}),y.jsx("th",{className:"py-2 px-4 border",children:"Fecha Creado"}),y.jsx("th",{className:"py-2 px-4 border",children:"Activo"}),y.jsx("th",{className:"py-2 px-4 border",children:"Rol"}),y.jsx("th",{className:"py-2 px-4 border",children:"Mayorista"}),y.jsx("th",{className:"py-2 px-4 border",children:"Acciones"})]})}),y.jsx("tbody",{children:w.map(A=>{var V,I;return y.jsxs("tr",{className:`border-t hover:bg-gray-50 ${A.active===!1?"bg-gray-100 text-gray-400":""}`,children:[y.jsxs("td",{className:"py-2 px-4 border",children:[A.nombre||"—"," ",A.apellido||""]}),y.jsx("td",{className:"py-2 px-4 border",children:(V=A.creadoEn)!=null&&V.toDate?A.creadoEn.toDate().toLocaleString("es-PE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}):"—"}),y.jsx("td",{className:"py-2 px-4 border capitalize",children:A.active?"Sí":"No"}),y.jsx("td",{className:"py-2 px-4 border capitalize",children:A.rol}),y.jsx("td",{className:"py-2 px-4 border text-center",children:A.usuarioMayorista?"Sí":"No"}),y.jsx("td",{className:"py-2 px-4 flex justify-center gap-2 text-center space-x-2",children:A.active===!1?y.jsx("button",{onClick:()=>f({tipo:"activar",usuario:A}),title:"Activar cuenta",children:y.jsx("i",{className:"bx bx-check-circle text-green-600 text-lg hover:scale-110 transition-transform"})}):y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>f({tipo:"cambiarRol",usuario:A}),title:"Cambiar rol",children:y.jsx("i",{className:"bx bx-user-id-card text-blue-600 text-lg hover:scale-110 transition-transform"})}),y.jsx("button",{onClick:()=>f({tipo:"cambiarMayorista",usuario:A}),title:"Cambiar estado mayorista",children:y.jsx("i",{className:"bx bx-piggy-bank text-yellow-600 text-lg hover:scale-110 transition-transform"})}),A.uid!==((I=on.currentUser)==null?void 0:I.uid)&&y.jsx("button",{onClick:()=>f({tipo:"eliminar",usuario:A}),title:"Desactivar cuenta",children:y.jsx("i",{className:"bx bx-trash text-red-600 text-lg hover:scale-110 transition-transform"})})]})})]},A.id)})})]}),y.jsxs("div",{className:"flex justify-between items-center mt-4 text-sm",children:[y.jsx("button",{onClick:()=>c(A=>Math.max(A-1,1)),disabled:l===1,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Anterior"}),y.jsxs("span",{className:"text-gray-600",children:["Página ",l," de ",x]}),y.jsx("button",{onClick:()=>c(A=>Math.min(A+1,x)),disabled:l===x,className:"px-4 py-2 bg-black text-white rounded disabled:opacity-30",children:"Siguiente"})]})]}),u&&y.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded-lg shadow max-w-sm w-full text-center",children:[y.jsxs("p",{className:"mb-4 text-gray-800",children:[u.tipo==="rol"&&`¿Cambiar rol de ${u.usuario.nombre} a ${u.usuario.rol==="admin"?"cliente":"admin"}?`,u.tipo==="mayorista"&&`¿Cambiar estado mayorista a ${u.usuario.usuarioMayorista?"NO":"SÍ"} para ${u.usuario.nombre}?`,u.tipo==="activar"&&`¿Deseas activar al usuario ${u.usuario.nombre}?`,u.tipo==="eliminar"&&`¿Deseas desactivar al usuario ${u.usuario.nombre}? No podrá iniciar sesión hasta que lo actives.`]}),y.jsxs("div",{className:"flex justify-center gap-4",children:[y.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 border border-gray-300 rounded",children:"Cancelar"}),y.jsx("button",{onClick:()=>{u.tipo==="rol"&&S(u.usuario),u.tipo==="mayorista"&&T(u.usuario),u.tipo==="eliminar"&&C(u.usuario),u.tipo==="activar"&&R(u.usuario)},className:"px-4 py-2 bg-black text-white rounded",children:"Confirmar"})]})]})})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function df(n){return n+.5|0}const Oa=(n,e,t)=>Math.max(Math.min(n,t),e);function ad(n){return Oa(df(n*2.55),0,255)}function La(n){return Oa(df(n*255),0,255)}function Rr(n){return Oa(df(n/2.55)/100,0,1)}function yC(n){return Oa(df(n*100),0,100)}const ji={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},i0=[..."0123456789ABCDEF"],E7=n=>i0[n&15],T7=n=>i0[(n&240)>>4]+i0[n&15],Kh=n=>(n&240)>>4===(n&15),C7=n=>Kh(n.r)&&Kh(n.g)&&Kh(n.b)&&Kh(n.a);function A7(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&ji[n[1]]*17,g:255&ji[n[2]]*17,b:255&ji[n[3]]*17,a:e===5?ji[n[4]]*17:255}:(e===7||e===9)&&(t={r:ji[n[1]]<<4|ji[n[2]],g:ji[n[3]]<<4|ji[n[4]],b:ji[n[5]]<<4|ji[n[6]],a:e===9?ji[n[7]]<<4|ji[n[8]]:255})),t}const R7=(n,e)=>n<255?e(n):"";function I7(n){var e=C7(n)?E7:T7;return n?"#"+e(n.r)+e(n.g)+e(n.b)+R7(n.a,e):void 0}const M7=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function lO(n,e,t){const i=e*Math.min(t,1-t),s=(r,l=(r+n/30)%12)=>t-i*Math.max(Math.min(l-3,9-l,1),-1);return[s(0),s(8),s(4)]}function O7(n,e,t){const i=(s,r=(s+n/60)%6)=>t-t*e*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function N7(n,e,t){const i=lO(n,1,.5);let s;for(e+t>1&&(s=1/(e+t),e*=s,t*=s),s=0;s<3;s++)i[s]*=1-e-t,i[s]+=e;return i}function D7(n,e,t,i,s){return n===s?(e-t)/i+(e<t?6:0):e===s?(t-n)/i+2:(n-e)/i+4}function K_(n){const t=n.r/255,i=n.g/255,s=n.b/255,r=Math.max(t,i,s),l=Math.min(t,i,s),c=(r+l)/2;let u,f,p;return r!==l&&(p=r-l,f=c>.5?p/(2-r-l):p/(r+l),u=D7(t,i,s,p,r),u=u*60+.5),[u|0,f||0,c]}function X_(n,e,t,i){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,i)).map(La)}function Q_(n,e,t){return X_(lO,n,e,t)}function P7(n,e,t){return X_(N7,n,e,t)}function k7(n,e,t){return X_(O7,n,e,t)}function cO(n){return(n%360+360)%360}function L7(n){const e=M7.exec(n);let t=255,i;if(!e)return;e[5]!==i&&(t=e[6]?ad(+e[5]):La(+e[5]));const s=cO(+e[2]),r=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?i=P7(s,r,l):e[1]==="hsv"?i=k7(s,r,l):i=Q_(s,r,l),{r:i[0],g:i[1],b:i[2],a:t}}function V7(n,e){var t=K_(n);t[0]=cO(t[0]+e),t=Q_(t),n.r=t[0],n.g=t[1],n.b=t[2]}function j7(n){if(!n)return;const e=K_(n),t=e[0],i=yC(e[1]),s=yC(e[2]);return n.a<255?`hsla(${t}, ${i}%, ${s}%, ${Rr(n.a)})`:`hsl(${t}, ${i}%, ${s}%)`}const bC={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_C={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function F7(){const n={},e=Object.keys(_C),t=Object.keys(bC);let i,s,r,l,c;for(i=0;i<e.length;i++){for(l=c=e[i],s=0;s<t.length;s++)r=t[s],c=c.replace(r,bC[r]);r=parseInt(_C[l],16),n[c]=[r>>16&255,r>>8&255,r&255]}return n}let Xh;function U7(n){Xh||(Xh=F7(),Xh.transparent=[0,0,0,0]);const e=Xh[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const z7=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function B7(n){const e=z7.exec(n);let t=255,i,s,r;if(e){if(e[7]!==i){const l=+e[7];t=e[8]?ad(l):Oa(l*255,0,255)}return i=+e[1],s=+e[3],r=+e[5],i=255&(e[2]?ad(i):Oa(i,0,255)),s=255&(e[4]?ad(s):Oa(s,0,255)),r=255&(e[6]?ad(r):Oa(r,0,255)),{r:i,g:s,b:r,a:t}}}function H7(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Rr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Jy=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Ql=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function $7(n,e,t){const i=Ql(Rr(n.r)),s=Ql(Rr(n.g)),r=Ql(Rr(n.b));return{r:La(Jy(i+t*(Ql(Rr(e.r))-i))),g:La(Jy(s+t*(Ql(Rr(e.g))-s))),b:La(Jy(r+t*(Ql(Rr(e.b))-r))),a:n.a+t*(e.a-n.a)}}function Qh(n,e,t){if(n){let i=K_(n);i[e]=Math.max(0,Math.min(i[e]+i[e]*t,e===0?360:1)),i=Q_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function uO(n,e){return n&&Object.assign(e||{},n)}function xC(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=La(n[3]))):(e=uO(n,{r:0,g:0,b:0,a:1}),e.a=La(e.a)),e}function q7(n){return n.charAt(0)==="r"?B7(n):L7(n)}class Ud{constructor(e){if(e instanceof Ud)return e;const t=typeof e;let i;t==="object"?i=xC(e):t==="string"&&(i=A7(e)||U7(e)||q7(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=uO(this._rgb);return e&&(e.a=Rr(e.a)),e}set rgb(e){this._rgb=xC(e)}rgbString(){return this._valid?H7(this._rgb):void 0}hexString(){return this._valid?I7(this._rgb):void 0}hslString(){return this._valid?j7(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let r;const l=t===r?.5:t,c=2*l-1,u=i.a-s.a,f=((c*u===-1?c:(c+u)/(1+c*u))+1)/2;r=1-f,i.r=255&f*i.r+r*s.r+.5,i.g=255&f*i.g+r*s.g+.5,i.b=255&f*i.b+r*s.b+.5,i.a=l*i.a+(1-l)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=$7(this._rgb,e._rgb,t)),this}clone(){return new Ud(this.rgb)}alpha(e){return this._rgb.a=La(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=df(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Qh(this._rgb,2,e),this}darken(e){return Qh(this._rgb,2,-e),this}saturate(e){return Qh(this._rgb,1,e),this}desaturate(e){return Qh(this._rgb,1,-e),this}rotate(e){return V7(this._rgb,e),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Er(){}const G7=(()=>{let n=0;return()=>n++})();function Ot(n){return n==null}function Ln(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function mt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Hi(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function As(n,e){return Hi(n)?n:e}function It(n,e){return typeof n>"u"?e:n}const Y7=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function Wt(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function wt(n,e,t,i){let s,r,l;if(Ln(n))for(r=n.length,s=0;s<r;s++)e.call(t,n[s],s);else if(mt(n))for(l=Object.keys(n),r=l.length,s=0;s<r;s++)e.call(t,n[l[s]],l[s])}function Tm(n,e){let t,i,s,r;if(!n||!e||n.length!==e.length)return!1;for(t=0,i=n.length;t<i;++t)if(s=n[t],r=e[t],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Cm(n){if(Ln(n))return n.map(Cm);if(mt(n)){const e=Object.create(null),t=Object.keys(n),i=t.length;let s=0;for(;s<i;++s)e[t[s]]=Cm(n[t[s]]);return e}return n}function dO(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function W7(n,e,t,i){if(!dO(n))return;const s=e[n],r=t[n];mt(s)&&mt(r)?zd(s,r,i):e[n]=Cm(r)}function zd(n,e,t){const i=Ln(e)?e:[e],s=i.length;if(!mt(n))return n;t=t||{};const r=t.merger||W7;let l;for(let c=0;c<s;++c){if(l=i[c],!mt(l))continue;const u=Object.keys(l);for(let f=0,p=u.length;f<p;++f)r(u[f],n,l,t)}return n}function bd(n,e){return zd(n,e,{merger:K7})}function K7(n,e,t){if(!dO(n))return;const i=e[n],s=t[n];mt(i)&&mt(s)?bd(i,s):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=Cm(s))}const wC={"":n=>n,x:n=>n.x,y:n=>n.y};function X7(n){const e=n.split("."),t=[];let i="";for(const s of e)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(t.push(i),i="");return t}function Q7(n){const e=X7(n);return t=>{for(const i of e){if(i==="")break;t=t&&t[i]}return t}}function Am(n,e){return(wC[e]||(wC[e]=Q7(e)))(n)}function Z_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Rm=n=>typeof n<"u",$a=n=>typeof n=="function",SC=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function Z7(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Gn=Math.PI,Lr=2*Gn,J7=Lr+Gn,Im=Number.POSITIVE_INFINITY,e$=Gn/180,ss=Gn/2,Ro=Gn/4,EC=Gn*2/3,fO=Math.log10,_c=Math.sign;function _d(n,e,t){return Math.abs(n-e)<t}function TC(n){const e=Math.round(n);n=_d(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(fO(n))),i=n/t;return(i<=1?1:i<=2?2:i<=5?5:10)*t}function t$(n){const e=[],t=Math.sqrt(n);let i;for(i=1;i<t;i++)n%i===0&&(e.push(i),e.push(n/i));return t===(t|0)&&e.push(t),e.sort((s,r)=>s-r).pop(),e}function n$(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Bd(n){return!n$(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function i$(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function s$(n,e,t){let i,s,r;for(i=0,s=n.length;i<s;i++)r=n[i][t],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function jo(n){return n*(Gn/180)}function r$(n){return n*(180/Gn)}function CC(n){if(!Hi(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function a$(n,e){const t=e.x-n.x,i=e.y-n.y,s=Math.sqrt(t*t+i*i);let r=Math.atan2(i,t);return r<-.5*Gn&&(r+=Lr),{angle:r,distance:s}}function s0(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function o$(n,e){return(n-e+J7)%Lr-Gn}function Sa(n){return(n%Lr+Lr)%Lr}function hO(n,e,t,i){const s=Sa(n),r=Sa(e),l=Sa(t),c=Sa(r-s),u=Sa(l-s),f=Sa(s-r),p=Sa(s-l);return s===r||s===l||i&&r===l||c>u&&f<p}function Ui(n,e,t){return Math.max(e,Math.min(t,n))}function l$(n){return Ui(n,-32768,32767)}function c$(n,e,t,i=1e-6){return n>=Math.min(e,t)-i&&n<=Math.max(e,t)+i}function J_(n,e,t){t=t||(l=>n[l]<e);let i=n.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,t(r)?s=r:i=r;return{lo:s,hi:i}}const Fo=(n,e,t,i)=>J_(n,t,i?s=>{const r=n[s][e];return r<t||r===t&&n[s+1][e]===t}:s=>n[s][e]<t),u$=(n,e,t)=>J_(n,t,i=>n[i][e]>=t);function d$(n,e,t){let i=0,s=n.length;for(;i<s&&n[i]<e;)i++;for(;s>i&&n[s-1]>t;)s--;return i>0||s<n.length?n.slice(i,s):n}const pO=["push","pop","shift","splice","unshift"];function f$(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pO.forEach(t=>{const i="_onData"+Z_(t),s=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...r){const l=s.apply(this,r);return n._chartjs.listeners.forEach(c=>{typeof c[i]=="function"&&c[i](...r)}),l}})})}function AC(n,e){const t=n._chartjs;if(!t)return;const i=t.listeners,s=i.indexOf(e);s!==-1&&i.splice(s,1),!(i.length>0)&&(pO.forEach(r=>{delete n[r]}),delete n._chartjs)}function h$(n){const e=new Set(n);return e.size===n.length?n:Array.from(e)}const mO=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function gO(n,e){let t=[],i=!1;return function(...s){t=s,i||(i=!0,mO.call(window,()=>{i=!1,n.apply(e,t)}))}}function p$(n,e){let t;return function(...i){return e?(clearTimeout(t),t=setTimeout(n,e,i)):n.apply(this,i),e}}const m$=n=>n==="start"?"left":n==="end"?"right":"center",RC=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2;function g$(n,e,t){const i=e.length;let s=0,r=i;if(n._sorted){const{iScale:l,vScale:c,_parsed:u}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:g,max:b,minDefined:x,maxDefined:w}=l.getUserBounds();if(x){if(s=Math.min(Fo(u,p,g).lo,t?i:Fo(e,p,l.getPixelForValue(g)).lo),f){const S=u.slice(0,s+1).reverse().findIndex(T=>!Ot(T[c.axis]));s-=Math.max(0,S)}s=Ui(s,0,i-1)}if(w){let S=Math.max(Fo(u,l.axis,b,!0).hi+1,t?0:Fo(e,p,l.getPixelForValue(b),!0).hi+1);if(f){const T=u.slice(S-1).findIndex(C=>!Ot(C[c.axis]));S+=Math.max(0,T)}r=Ui(S,s,i)-s}else r=i-s}return{start:s,count:r}}function v$(n){const{xScale:e,yScale:t,_scaleRanges:i}=n,s={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!i)return n._scaleRanges=s,!0;const r=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==t.min||i.ymax!==t.max;return Object.assign(i,s),r}const Zh=n=>n===0||n===1,IC=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*Lr/t)),MC=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*Lr/t)+1,xd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ss)+1,easeOutSine:n=>Math.sin(n*ss),easeInOutSine:n=>-.5*(Math.cos(Gn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Zh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Zh(n)?n:IC(n,.075,.3),easeOutElastic:n=>Zh(n)?n:MC(n,.075,.3),easeInOutElastic(n){return Zh(n)?n:n<.5?.5*IC(n*2,.1125,.45):.5+.5*MC(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-xd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?xd.easeInBounce(n*2)*.5:xd.easeOutBounce(n*2-1)*.5+.5};function ex(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function OC(n){return ex(n)?n:new Ud(n)}function eb(n){return ex(n)?n:new Ud(n).saturate(.5).darken(.1).hexString()}const y$=["x","y","borderWidth","radius","tension"],b$=["color","borderColor","backgroundColor"];function _$(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),n.set("animations",{colors:{type:"color",properties:b$},numbers:{type:"number",properties:y$}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function x$(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const NC=new Map;function w$(n,e){e=e||{};const t=n+JSON.stringify(e);let i=NC.get(t);return i||(i=new Intl.NumberFormat(n,e),NC.set(t,i)),i}function vO(n,e,t){return w$(e,t).format(n)}const S$={values(n){return Ln(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const i=this.chart.options.locale;let s,r=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(s="scientific"),r=E$(n,t)}const l=fO(Math.abs(r)),c=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:s,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(u,this.options.ticks.format),vO(n,i,u)}};function E$(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var yO={formatters:S$};function T$(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yO.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Zo=Object.create(null),r0=Object.create(null);function wd(n,e){if(!e)return n;const t=e.split(".");for(let i=0,s=t.length;i<s;++i){const r=t[i];n=n[r]||(n[r]=Object.create(null))}return n}function tb(n,e,t){return typeof e=="string"?zd(wd(n,e),t):zd(wd(n,""),e)}class C${constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>eb(s.backgroundColor),this.hoverBorderColor=(i,s)=>eb(s.borderColor),this.hoverColor=(i,s)=>eb(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return tb(this,e,t)}get(e){return wd(this,e)}describe(e,t){return tb(r0,e,t)}override(e,t){return tb(Zo,e,t)}route(e,t,i,s){const r=wd(this,e),l=wd(this,i),c="_"+t;Object.defineProperties(r,{[c]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const u=this[c],f=l[s];return mt(u)?Object.assign({},f,u):It(u,f)},set(u){this[c]=u}}})}apply(e){e.forEach(t=>t(this))}}var ln=new C$({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[_$,x$,T$]);function A$(n){return!n||Ot(n.size)||Ot(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function DC(n,e,t,i,s){let r=e[s];return r||(r=e[s]=n.measureText(s).width,t.push(s)),r>i&&(i=r),i}function Io(n,e,t){const i=n.currentDevicePixelRatio,s=t!==0?Math.max(t/2,.5):0;return Math.round((e-s)*i)/i+s}function PC(n,e){!e&&!n||(e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore())}function a0(n,e,t,i){R$(n,e,t,i)}function R$(n,e,t,i,s){let r,l,c,u,f,p,g,b;const x=e.pointStyle,w=e.rotation,S=e.radius;let T=(w||0)*e$;if(x&&typeof x=="object"&&(r=x.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(t,i),n.rotate(T),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(S)||S<=0)){switch(n.beginPath(),x){default:n.arc(t,i,S,0,Lr),n.closePath();break;case"triangle":p=S,n.moveTo(t+Math.sin(T)*p,i-Math.cos(T)*S),T+=EC,n.lineTo(t+Math.sin(T)*p,i-Math.cos(T)*S),T+=EC,n.lineTo(t+Math.sin(T)*p,i-Math.cos(T)*S),n.closePath();break;case"rectRounded":f=S*.516,u=S-f,l=Math.cos(T+Ro)*u,g=Math.cos(T+Ro)*u,c=Math.sin(T+Ro)*u,b=Math.sin(T+Ro)*u,n.arc(t-g,i-c,f,T-Gn,T-ss),n.arc(t+b,i-l,f,T-ss,T),n.arc(t+g,i+c,f,T,T+ss),n.arc(t-b,i+l,f,T+ss,T+Gn),n.closePath();break;case"rect":if(!w){u=Math.SQRT1_2*S,p=u,n.rect(t-p,i-u,2*p,2*u);break}T+=Ro;case"rectRot":g=Math.cos(T)*S,l=Math.cos(T)*S,c=Math.sin(T)*S,b=Math.sin(T)*S,n.moveTo(t-g,i-c),n.lineTo(t+b,i-l),n.lineTo(t+g,i+c),n.lineTo(t-b,i+l),n.closePath();break;case"crossRot":T+=Ro;case"cross":g=Math.cos(T)*S,l=Math.cos(T)*S,c=Math.sin(T)*S,b=Math.sin(T)*S,n.moveTo(t-g,i-c),n.lineTo(t+g,i+c),n.moveTo(t+b,i-l),n.lineTo(t-b,i+l);break;case"star":g=Math.cos(T)*S,l=Math.cos(T)*S,c=Math.sin(T)*S,b=Math.sin(T)*S,n.moveTo(t-g,i-c),n.lineTo(t+g,i+c),n.moveTo(t+b,i-l),n.lineTo(t-b,i+l),T+=Ro,g=Math.cos(T)*S,l=Math.cos(T)*S,c=Math.sin(T)*S,b=Math.sin(T)*S,n.moveTo(t-g,i-c),n.lineTo(t+g,i+c),n.moveTo(t+b,i-l),n.lineTo(t-b,i+l);break;case"line":l=Math.cos(T)*S,c=Math.sin(T)*S,n.moveTo(t-l,i-c),n.lineTo(t+l,i+c);break;case"dash":n.moveTo(t,i),n.lineTo(t+Math.cos(T)*S,i+Math.sin(T)*S);break;case!1:n.closePath();break}n.fill(),e.borderWidth>0&&n.stroke()}}function Hd(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function bO(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function _O(n){n.restore()}function I$(n,e,t,i,s){if(!e)return n.lineTo(t.x,t.y);if(s==="middle"){const r=(e.x+t.x)/2;n.lineTo(r,e.y),n.lineTo(r,t.y)}else s==="after"!=!!i?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function M$(n,e,t,i){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?t.cp2x:t.cp1x,i?t.cp2y:t.cp1y,t.x,t.y)}function O$(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),Ot(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function N$(n,e,t,i,s){if(s.strikethrough||s.underline){const r=n.measureText(i),l=e-r.actualBoundingBoxLeft,c=e+r.actualBoundingBoxRight,u=t-r.actualBoundingBoxAscent,f=t+r.actualBoundingBoxDescent,p=s.strikethrough?(u+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=s.decorationWidth||2,n.moveTo(l,p),n.lineTo(c,p),n.stroke()}}function D$(n,e){const t=n.fillStyle;n.fillStyle=e.color,n.fillRect(e.left,e.top,e.width,e.height),n.fillStyle=t}function kC(n,e,t,i,s,r={}){const l=Ln(e)?e:[e],c=r.strokeWidth>0&&r.strokeColor!=="";let u,f;for(n.save(),n.font=s.string,O$(n,r),u=0;u<l.length;++u)f=l[u],r.backdrop&&D$(n,r.backdrop),c&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),Ot(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(f,t,i,r.maxWidth)),n.fillText(f,t,i,r.maxWidth),N$(n,t,i,f,r),i+=Number(s.lineHeight);n.restore()}function LC(n,e){const{x:t,y:i,w:s,h:r,radius:l}=e;n.arc(t+l.topLeft,i+l.topLeft,l.topLeft,1.5*Gn,Gn,!0),n.lineTo(t,i+r-l.bottomLeft),n.arc(t+l.bottomLeft,i+r-l.bottomLeft,l.bottomLeft,Gn,ss,!0),n.lineTo(t+s-l.bottomRight,i+r),n.arc(t+s-l.bottomRight,i+r-l.bottomRight,l.bottomRight,ss,0,!0),n.lineTo(t+s,i+l.topRight),n.arc(t+s-l.topRight,i+l.topRight,l.topRight,0,-ss,!0),n.lineTo(t+l.topLeft,i)}const P$=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,k$=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function L$(n,e){const t=(""+n).match(P$);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const V$=n=>+n||0;function xO(n,e){const t={},i=mt(e),s=i?Object.keys(e):e,r=mt(n)?i?l=>It(n[l],n[e[l]]):l=>n[l]:()=>n;for(const l of s)t[l]=V$(r(l));return t}function j$(n){return xO(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Mp(n){return xO(n,["topLeft","topRight","bottomLeft","bottomRight"])}function qa(n){const e=j$(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ks(n,e){n=n||{},e=e||ln.font;let t=It(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let i=It(n.style,e.style);i&&!(""+i).match(k$)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:It(n.family,e.family),lineHeight:L$(It(n.lineHeight,e.lineHeight),t),size:t,style:i,weight:It(n.weight,e.weight),string:""};return s.string=A$(s),s}function Jh(n,e,t,i){let s,r,l;for(s=0,r=n.length;s<r;++s)if(l=n[s],l!==void 0&&l!==void 0)return l}function F$(n,e,t){const{min:i,max:s}=n,r=Y7(e,(s-i)/2),l=(c,u)=>t&&c===0?0:c+u;return{min:l(i,-Math.abs(r)),max:l(s,r)}}function sl(n,e){return Object.assign(Object.create(n),e)}function tx(n,e=[""],t,i,s=()=>n[0]){const r=t||n;typeof i>"u"&&(i=TO("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:i,_getTarget:s,override:c=>tx([c,...n],e,r,i)};return new Proxy(l,{deleteProperty(c,u){return delete c[u],delete c._keys,delete n[0][u],!0},get(c,u){return SO(c,u,()=>Y$(u,e,n,c))},getOwnPropertyDescriptor(c,u){return Reflect.getOwnPropertyDescriptor(c._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(c,u){return jC(c).includes(u)},ownKeys(c){return jC(c)},set(c,u,f){const p=c._storage||(c._storage=s());return c[u]=p[u]=f,delete c._keys,!0}})}function xc(n,e,t,i){const s={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:wO(n,i),setContext:r=>xc(n,r,t,i),override:r=>xc(n.override(r),e,t,i)};return new Proxy(s,{deleteProperty(r,l){return delete r[l],delete n[l],!0},get(r,l,c){return SO(r,l,()=>z$(r,l,c))},getOwnPropertyDescriptor(r,l){return r._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(r,l,c){return n[l]=c,delete r[l],!0}})}function wO(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:i=e.indexable,_allKeys:s=e.allKeys}=n;return{allKeys:s,scriptable:t,indexable:i,isScriptable:$a(t)?t:()=>t,isIndexable:$a(i)?i:()=>i}}const U$=(n,e)=>n?n+Z_(e):e,nx=(n,e)=>mt(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function SO(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e)||e==="constructor")return n[e];const i=t();return n[e]=i,i}function z$(n,e,t){const{_proxy:i,_context:s,_subProxy:r,_descriptors:l}=n;let c=i[e];return $a(c)&&l.isScriptable(e)&&(c=B$(e,c,n,t)),Ln(c)&&c.length&&(c=H$(e,c,n,l.isIndexable)),nx(e,c)&&(c=xc(c,s,r&&r[e],l)),c}function B$(n,e,t,i){const{_proxy:s,_context:r,_subProxy:l,_stack:c}=t;if(c.has(n))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+n);c.add(n);let u=e(r,l||i);return c.delete(n),nx(n,u)&&(u=ix(s._scopes,s,n,u)),u}function H$(n,e,t,i){const{_proxy:s,_context:r,_subProxy:l,_descriptors:c}=t;if(typeof r.index<"u"&&i(n))return e[r.index%e.length];if(mt(e[0])){const u=e,f=s._scopes.filter(p=>p!==u);e=[];for(const p of u){const g=ix(f,s,n,p);e.push(xc(g,r,l&&l[n],c))}}return e}function EO(n,e,t){return $a(n)?n(e,t):n}const $$=(n,e)=>n===!0?e:typeof n=="string"?Am(e,n):void 0;function q$(n,e,t,i,s){for(const r of e){const l=$$(t,r);if(l){n.add(l);const c=EO(l._fallback,t,s);if(typeof c<"u"&&c!==t&&c!==i)return c}else if(l===!1&&typeof i<"u"&&t!==i)return null}return!1}function ix(n,e,t,i){const s=e._rootScopes,r=EO(e._fallback,t,i),l=[...n,...s],c=new Set;c.add(i);let u=VC(c,l,t,r||t,i);return u===null||typeof r<"u"&&r!==t&&(u=VC(c,l,r,u,i),u===null)?!1:tx(Array.from(c),[""],s,r,()=>G$(e,t,i))}function VC(n,e,t,i,s){for(;t;)t=q$(n,e,t,i,s);return t}function G$(n,e,t){const i=n._getTarget();e in i||(i[e]={});const s=i[e];return Ln(s)&&mt(t)?t:s||{}}function Y$(n,e,t,i){let s;for(const r of e)if(s=TO(U$(r,n),t),typeof s<"u")return nx(n,s)?ix(t,i,n,s):s}function TO(n,e){for(const t of e){if(!t)continue;const i=t[n];if(typeof i<"u")return i}}function jC(n){let e=n._keys;return e||(e=n._keys=W$(n._scopes)),e}function W$(n){const e=new Set;for(const t of n)for(const i of Object.keys(t).filter(s=>!s.startsWith("_")))e.add(i);return Array.from(e)}const K$=Number.EPSILON||1e-14,wc=(n,e)=>e<n.length&&!n[e].skip&&n[e],CO=n=>n==="x"?"y":"x";function X$(n,e,t,i){const s=n.skip?e:n,r=e,l=t.skip?e:t,c=s0(r,s),u=s0(l,r);let f=c/(c+u),p=u/(c+u);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const g=i*f,b=i*p;return{previous:{x:r.x-g*(l.x-s.x),y:r.y-g*(l.y-s.y)},next:{x:r.x+b*(l.x-s.x),y:r.y+b*(l.y-s.y)}}}function Q$(n,e,t){const i=n.length;let s,r,l,c,u,f=wc(n,0);for(let p=0;p<i-1;++p)if(u=f,f=wc(n,p+1),!(!u||!f)){if(_d(e[p],0,K$)){t[p]=t[p+1]=0;continue}s=t[p]/e[p],r=t[p+1]/e[p],c=Math.pow(s,2)+Math.pow(r,2),!(c<=9)&&(l=3/Math.sqrt(c),t[p]=s*l*e[p],t[p+1]=r*l*e[p])}}function Z$(n,e,t="x"){const i=CO(t),s=n.length;let r,l,c,u=wc(n,0);for(let f=0;f<s;++f){if(l=c,c=u,u=wc(n,f+1),!c)continue;const p=c[t],g=c[i];l&&(r=(p-l[t])/3,c[`cp1${t}`]=p-r,c[`cp1${i}`]=g-r*e[f]),u&&(r=(u[t]-p)/3,c[`cp2${t}`]=p+r,c[`cp2${i}`]=g+r*e[f])}}function J$(n,e="x"){const t=CO(e),i=n.length,s=Array(i).fill(0),r=Array(i);let l,c,u,f=wc(n,0);for(l=0;l<i;++l)if(c=u,u=f,f=wc(n,l+1),!!u){if(f){const p=f[e]-u[e];s[l]=p!==0?(f[t]-u[t])/p:0}r[l]=c?f?_c(s[l-1])!==_c(s[l])?0:(s[l-1]+s[l])/2:s[l-1]:s[l]}Q$(n,s,r),Z$(n,r,e)}function ep(n,e,t){return Math.max(Math.min(n,t),e)}function eq(n,e){let t,i,s,r,l,c=Hd(n[0],e);for(t=0,i=n.length;t<i;++t)l=r,r=c,c=t<i-1&&Hd(n[t+1],e),r&&(s=n[t],l&&(s.cp1x=ep(s.cp1x,e.left,e.right),s.cp1y=ep(s.cp1y,e.top,e.bottom)),c&&(s.cp2x=ep(s.cp2x,e.left,e.right),s.cp2y=ep(s.cp2y,e.top,e.bottom)))}function tq(n,e,t,i,s){let r,l,c,u;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")J$(n,s);else{let f=i?n[n.length-1]:n[0];for(r=0,l=n.length;r<l;++r)c=n[r],u=X$(f,c,n[Math.min(r+1,l-(i?0:1))%l],e.tension),c.cp1x=u.previous.x,c.cp1y=u.previous.y,c.cp2x=u.next.x,c.cp2y=u.next.y,f=c}e.capBezierPoints&&eq(n,t)}function sx(){return typeof window<"u"&&typeof document<"u"}function rx(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Mm(n,e,t){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*e.parentNode[t])):i=n,i}const hg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function nq(n,e){return hg(n).getPropertyValue(e)}const iq=["top","right","bottom","left"];function zo(n,e,t){const i={};t=t?"-"+t:"";for(let s=0;s<4;s++){const r=iq[s];i[r]=parseFloat(n[e+"-"+r+t])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const sq=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function rq(n,e){const t=n.touches,i=t&&t.length?t[0]:n,{offsetX:s,offsetY:r}=i;let l=!1,c,u;if(sq(s,r,n.target))c=s,u=r;else{const f=e.getBoundingClientRect();c=i.clientX-f.left,u=i.clientY-f.top,l=!0}return{x:c,y:u,box:l}}function No(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:i}=e,s=hg(t),r=s.boxSizing==="border-box",l=zo(s,"padding"),c=zo(s,"border","width"),{x:u,y:f,box:p}=rq(n,t),g=l.left+(p&&c.left),b=l.top+(p&&c.top);let{width:x,height:w}=e;return r&&(x-=l.width+c.width,w-=l.height+c.height),{x:Math.round((u-g)/x*t.width/i),y:Math.round((f-b)/w*t.height/i)}}function aq(n,e,t){let i,s;if(e===void 0||t===void 0){const r=n&&rx(n);if(!r)e=n.clientWidth,t=n.clientHeight;else{const l=r.getBoundingClientRect(),c=hg(r),u=zo(c,"border","width"),f=zo(c,"padding");e=l.width-f.width-u.width,t=l.height-f.height-u.height,i=Mm(c.maxWidth,r,"clientWidth"),s=Mm(c.maxHeight,r,"clientHeight")}}return{width:e,height:t,maxWidth:i||Im,maxHeight:s||Im}}const tp=n=>Math.round(n*10)/10;function oq(n,e,t,i){const s=hg(n),r=zo(s,"margin"),l=Mm(s.maxWidth,n,"clientWidth")||Im,c=Mm(s.maxHeight,n,"clientHeight")||Im,u=aq(n,e,t);let{width:f,height:p}=u;if(s.boxSizing==="content-box"){const b=zo(s,"border","width"),x=zo(s,"padding");f-=x.width+b.width,p-=x.height+b.height}return f=Math.max(0,f-r.width),p=Math.max(0,i?f/i:p-r.height),f=tp(Math.min(f,l,u.maxWidth)),p=tp(Math.min(p,c,u.maxHeight)),f&&!p&&(p=tp(f/2)),(e!==void 0||t!==void 0)&&i&&u.height&&p>u.height&&(p=u.height,f=tp(Math.floor(p*i))),{width:f,height:p}}function FC(n,e,t){const i=e||1,s=Math.floor(n.height*i),r=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const l=n.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==s||l.width!==r?(n.currentDevicePixelRatio=i,l.height=s,l.width=r,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const lq=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};sx()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return n}();function UC(n,e){const t=nq(n,e),i=t&&t.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Do(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function cq(n,e,t,i){return{x:n.x+t*(e.x-n.x),y:i==="middle"?t<.5?n.y:e.y:i==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function uq(n,e,t,i){const s={x:n.cp2x,y:n.cp2y},r={x:e.cp1x,y:e.cp1y},l=Do(n,s,t),c=Do(s,r,t),u=Do(r,e,t),f=Do(l,c,t),p=Do(c,u,t);return Do(f,p,t)}const dq=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,i){return t-i},leftForLtr(t,i){return t-i}}},fq=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function nb(n,e,t){return n?dq(e,t):fq()}function hq(n,e){let t,i;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,i=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=i)}function pq(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function AO(n){return n==="angle"?{between:hO,compare:o$,normalize:Sa}:{between:c$,compare:(e,t)=>e-t,normalize:e=>e}}function zC({start:n,end:e,count:t,loop:i,style:s}){return{start:n%t,end:e%t,loop:i&&(e-n+1)%t===0,style:s}}function mq(n,e,t){const{property:i,start:s,end:r}=t,{between:l,normalize:c}=AO(i),u=e.length;let{start:f,end:p,loop:g}=n,b,x;if(g){for(f+=u,p+=u,b=0,x=u;b<x&&l(c(e[f%u][i]),s,r);++b)f--,p--;f%=u,p%=u}return p<f&&(p+=u),{start:f,end:p,loop:g,style:n.style}}function gq(n,e,t){if(!t)return[n];const{property:i,start:s,end:r}=t,l=e.length,{compare:c,between:u,normalize:f}=AO(i),{start:p,end:g,loop:b,style:x}=mq(n,e,t),w=[];let S=!1,T=null,C,R,A;const V=()=>u(s,A,C)&&c(s,A)!==0,I=()=>c(r,C)===0||u(r,A,C),H=()=>S||V(),D=()=>!S||I();for(let O=p,N=p;O<=g;++O)R=e[O%l],!R.skip&&(C=f(R[i]),C!==A&&(S=u(C,s,r),T===null&&H()&&(T=c(C,s)===0?O:N),T!==null&&D()&&(w.push(zC({start:T,end:O,loop:b,count:l,style:x})),T=null),N=O,A=C));return T!==null&&w.push(zC({start:T,end:g,loop:b,count:l,style:x})),w}function vq(n,e){const t=[],i=n.segments;for(let s=0;s<i.length;s++){const r=gq(i[s],n.points,e);r.length&&t.push(...r)}return t}function yq(n,e,t,i){let s=0,r=e-1;if(t&&!i)for(;s<e&&!n[s].skip;)s++;for(;s<e&&n[s].skip;)s++;for(s%=e,t&&(r+=s);r>s&&n[r%e].skip;)r--;return r%=e,{start:s,end:r}}function bq(n,e,t,i){const s=n.length,r=[];let l=e,c=n[e],u;for(u=e+1;u<=t;++u){const f=n[u%s];f.skip||f.stop?c.skip||(i=!1,r.push({start:e%s,end:(u-1)%s,loop:i}),e=l=f.stop?u:null):(l=u,c.skip&&(e=u)),c=f}return l!==null&&r.push({start:e%s,end:l%s,loop:i}),r}function _q(n,e){const t=n.points,i=n.options.spanGaps,s=t.length;if(!s)return[];const r=!!n._loop,{start:l,end:c}=yq(t,s,r,i);if(i===!0)return BC(n,[{start:l,end:c,loop:r}],t,e);const u=c<l?c+s:c,f=!!n._fullLoop&&l===0&&c===s-1;return BC(n,bq(t,l,u,f),t,e)}function BC(n,e,t,i){return!i||!i.setContext||!t?e:xq(n,e,t,i)}function xq(n,e,t,i){const s=n._chart.getContext(),r=HC(n.options),{_datasetIndex:l,options:{spanGaps:c}}=n,u=t.length,f=[];let p=r,g=e[0].start,b=g;function x(w,S,T,C){const R=c?-1:1;if(w!==S){for(w+=u;t[w%u].skip;)w-=R;for(;t[S%u].skip;)S+=R;w%u!==S%u&&(f.push({start:w%u,end:S%u,loop:T,style:C}),p=C,g=S%u)}}for(const w of e){g=c?g:w.start;let S=t[g%u],T;for(b=g+1;b<=w.end;b++){const C=t[b%u];T=HC(i.setContext(sl(s,{type:"segment",p0:S,p1:C,p0DataIndex:(b-1)%u,p1DataIndex:b%u,datasetIndex:l}))),wq(T,p)&&x(g,b-1,w.loop,p),S=C,p=T}g<b-1&&x(g,b-1,w.loop,p)}return f}function HC(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function wq(n,e){if(!e)return!1;const t=[],i=function(s,r){return ex(r)?(t.includes(r)||t.push(r),t.indexOf(r)):r};return JSON.stringify(n,i)!==JSON.stringify(e,i)}function np(n,e,t){return n.options.clip?n[t]:e[t]}function Sq(n,e){const{xScale:t,yScale:i}=n;return t&&i?{left:np(t,e,"left"),right:np(t,e,"right"),top:np(i,e,"top"),bottom:np(i,e,"bottom")}:e}function Eq(n,e){const t=e._clip;if(t.disabled)return!1;const i=Sq(e,n.chartArea);return{left:t.left===!1?0:i.left-(t.left===!0?0:t.left),right:t.right===!1?n.width:i.right+(t.right===!0?0:t.right),top:t.top===!1?0:i.top-(t.top===!0?0:t.top),bottom:t.bottom===!1?n.height:i.bottom+(t.bottom===!0?0:t.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Tq{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const r=t.listeners[s],l=t.duration;r.forEach(c=>c({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(i-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=mO.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let l=r.length-1,c=!1,u;for(;l>=0;--l)u=r[l],u._active?(u._total>i.duration&&(i.duration=u._total),u.tick(e),c=!0):(r[l]=r[r.length-1],r.pop());c&&(s.draw(),this._notify(s,i,e,"progress")),r.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=r.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Cr=new Tq;const $C="transparent",Cq={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const i=OC(n||$C),s=i.valid&&OC(e||$C);return s&&s.valid?s.mix(i,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class Aq{constructor(e,t,i,s){const r=t[i];s=Jh([e.to,s,r,e.from]);const l=Jh([e.from,r,s]);this._active=!0,this._fn=e.fn||Cq[e.type||typeof l],this._easing=xd[e.easing]||xd.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=l,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,l=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Jh([e.to,t,s,e.from]),this._from=Jh([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,r=this._from,l=this._loop,c=this._to;let u;if(this._active=r!==c&&(l||t<i),!this._active){this._target[s]=c,this._notify(!0);return}if(t<0){this._target[s]=r;return}u=t/i%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[s]=this._fn(r,c,u)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][t]()}}class RO{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!mt(e))return;const t=Object.keys(ln.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const r=e[s];if(!mt(r))return;const l={};for(const c of t)l[c]=r[c];(Ln(r.properties)&&r.properties||[s]).forEach(c=>{(c===s||!i.has(c))&&i.set(c,l)})})}_animateOptions(e,t){const i=t.options,s=Iq(e,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&Rq(e.options.$animations,i).then(()=>{e.options=i},()=>{}),r}_createAnimations(e,t){const i=this._properties,s=[],r=e.$animations||(e.$animations={}),l=Object.keys(t),c=Date.now();let u;for(u=l.length-1;u>=0;--u){const f=l[u];if(f.charAt(0)==="$")continue;if(f==="options"){s.push(...this._animateOptions(e,t));continue}const p=t[f];let g=r[f];const b=i.get(f);if(g)if(b&&g.active()){g.update(b,p,c);continue}else g.cancel();if(!b||!b.duration){e[f]=p;continue}r[f]=g=new Aq(b,e,f,p),s.push(g)}return s}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const i=this._createAnimations(e,t);if(i.length)return Cr.add(this._chart,i),!0}}function Rq(n,e){const t=[],i=Object.keys(e);for(let s=0;s<i.length;s++){const r=n[i[s]];r&&r.active()&&t.push(r.wait())}return Promise.all(t)}function Iq(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function qC(n,e){const t=n&&n.options||{},i=t.reverse,s=t.min===void 0?e:0,r=t.max===void 0?e:0;return{start:i?r:s,end:i?s:r}}function Mq(n,e,t){if(t===!1)return!1;const i=qC(n,t),s=qC(e,t);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function Oq(n){let e,t,i,s;return mt(n)?(e=n.top,t=n.right,i=n.bottom,s=n.left):e=t=i=s=n,{top:e,right:t,bottom:i,left:s,disabled:n===!1}}function IO(n,e){const t=[],i=n._getSortedDatasetMetas(e);let s,r;for(s=0,r=i.length;s<r;++s)t.push(i[s].index);return t}function GC(n,e,t,i={}){const s=n.keys,r=i.mode==="single";let l,c,u,f;if(e===null)return;let p=!1;for(l=0,c=s.length;l<c;++l){if(u=+s[l],u===t){if(p=!0,i.all)continue;break}f=n.values[u],Hi(f)&&(r||e===0||_c(e)===_c(f))&&(e+=f)}return!p&&!i.all?0:e}function Nq(n,e){const{iScale:t,vScale:i}=e,s=t.axis==="x"?"x":"y",r=i.axis==="x"?"x":"y",l=Object.keys(n),c=new Array(l.length);let u,f,p;for(u=0,f=l.length;u<f;++u)p=l[u],c[u]={[s]:p,[r]:n[p]};return c}function ib(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function Dq(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function Pq(n){const{min:e,max:t,minDefined:i,maxDefined:s}=n.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:s?t:Number.POSITIVE_INFINITY}}function kq(n,e,t){const i=n[e]||(n[e]={});return i[t]||(i[t]={})}function YC(n,e,t,i){for(const s of e.getMatchingVisibleMetas(i).reverse()){const r=n[s.index];if(t&&r>0||!t&&r<0)return s.index}return null}function WC(n,e){const{chart:t,_cachedMeta:i}=n,s=t._stacks||(t._stacks={}),{iScale:r,vScale:l,index:c}=i,u=r.axis,f=l.axis,p=Dq(r,l,i),g=e.length;let b;for(let x=0;x<g;++x){const w=e[x],{[u]:S,[f]:T}=w,C=w._stacks||(w._stacks={});b=C[f]=kq(s,p,S),b[c]=T,b._top=YC(b,l,!0,i.type),b._bottom=YC(b,l,!1,i.type);const R=b._visualValues||(b._visualValues={});R[c]=T}}function sb(n,e){const t=n.scales;return Object.keys(t).filter(i=>t[i].axis===e).shift()}function Lq(n,e){return sl(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Vq(n,e,t){return sl(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function Yu(n,e){const t=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){e=e||n._parsed;for(const s of e){const r=s._stacks;if(!r||r[i]===void 0||r[i][t]===void 0)return;delete r[i][t],r[i]._visualValues!==void 0&&r[i]._visualValues[t]!==void 0&&delete r[i]._visualValues[t]}}}const rb=n=>n==="reset"||n==="none",KC=(n,e)=>e?n:Object.assign({},n),jq=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:IO(t,!0),values:null};class Sd{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=ib(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Yu(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(g,b,x,w)=>g==="x"?b:g==="r"?w:x,r=t.xAxisID=It(i.xAxisID,sb(e,"x")),l=t.yAxisID=It(i.yAxisID,sb(e,"y")),c=t.rAxisID=It(i.rAxisID,sb(e,"r")),u=t.indexAxis,f=t.iAxisID=s(u,r,l,c),p=t.vAxisID=s(u,l,r,c);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(c),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&AC(this._data,this),e._stacked&&Yu(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(mt(t)){const s=this._cachedMeta;this._data=Nq(t,s)}else if(i!==t){if(i){AC(i,this);const s=this._cachedMeta;Yu(s),s._parsed=[]}t&&Object.isExtensible(t)&&f$(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=t._stacked;t._stacked=ib(t.vScale,t),t.stack!==i.stack&&(s=!0,Yu(t),t.stack=i.stack),this._resyncElements(e),(s||r!==t._stacked)&&(WC(this,t._parsed),t._stacked=ib(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:l}=i,c=r.axis;let u=e===0&&t===s.length?!0:i._sorted,f=e>0&&i._parsed[e-1],p,g,b;if(this._parsing===!1)i._parsed=s,i._sorted=!0,b=s;else{Ln(s[e])?b=this.parseArrayData(i,s,e,t):mt(s[e])?b=this.parseObjectData(i,s,e,t):b=this.parsePrimitiveData(i,s,e,t);const x=()=>g[c]===null||f&&g[c]<f[c];for(p=0;p<t;++p)i._parsed[p+e]=g=b[p],u&&(x()&&(u=!1),f=g);i._sorted=u}l&&WC(this,b)}parsePrimitiveData(e,t,i,s){const{iScale:r,vScale:l}=e,c=r.axis,u=l.axis,f=r.getLabels(),p=r===l,g=new Array(s);let b,x,w;for(b=0,x=s;b<x;++b)w=b+i,g[b]={[c]:p||r.parse(f[w],w),[u]:l.parse(t[w],w)};return g}parseArrayData(e,t,i,s){const{xScale:r,yScale:l}=e,c=new Array(s);let u,f,p,g;for(u=0,f=s;u<f;++u)p=u+i,g=t[p],c[u]={x:r.parse(g[0],p),y:l.parse(g[1],p)};return c}parseObjectData(e,t,i,s){const{xScale:r,yScale:l}=e,{xAxisKey:c="x",yAxisKey:u="y"}=this._parsing,f=new Array(s);let p,g,b,x;for(p=0,g=s;p<g;++p)b=p+i,x=t[b],f[p]={x:r.parse(Am(x,c),b),y:l.parse(Am(x,u),b)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,r=this._cachedMeta,l=t[e.axis],c={keys:IO(s,!0),values:t._stacks[e.axis]._visualValues};return GC(c,l,r.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const r=i[t.axis];let l=r===null?NaN:r;const c=s&&i._stacks[t.axis];s&&c&&(s.values=c,l=GC(s,r,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&e===i.iScale,l=s.length,c=this._getOtherScale(e),u=jq(t,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:g}=Pq(c);let b,x;function w(){x=s[b];const S=x[c.axis];return!Hi(x[e.axis])||p>S||g<S}for(b=0;b<l&&!(!w()&&(this.updateRangeFromParsed(f,e,x,u),r));++b);if(r){for(b=l-1;b>=0;--b)if(!w()){this.updateRangeFromParsed(f,e,x,u);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,r,l;for(s=0,r=t.length;s<r;++s)l=t[s][e.axis],Hi(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,r=this.getParsed(e);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=Oq(It(this.options.clip,Mq(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],r=t.chartArea,l=[],c=this._drawStart||0,u=this._drawCount||s.length-c,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(e,r,c,u),p=c;p<c+u;++p){const g=s[p];g.hidden||(g.active&&f?l.push(g):g.draw(e,r))}for(p=0;p<l.length;++p)l[p].draw(e,r)}getStyle(e,t){const i=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];r=l.$context||(l.$context=Vq(this.getContext(),e,l)),r.parsed=this.getParsed(e),r.raw=s.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=Lq(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=i,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s=t==="active",r=this._cachedDataOpts,l=e+"-"+t,c=r[l],u=this.enableOptionSharing&&Rm(i);if(c)return KC(c,u);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,e),g=s?[`${e}Hover`,"hover",e,""]:[e,""],b=f.getOptionScopes(this.getDataset(),p),x=Object.keys(ln.elements[e]),w=()=>this.getContext(i,s,t),S=f.resolveNamedOptions(b,x,w,g);return S.$shared&&(S.$shared=u,r[l]=Object.freeze(KC(S,u))),S}_resolveAnimations(e,t,i){const s=this.chart,r=this._cachedDataOpts,l=`animation-${t}`,c=r[l];if(c)return c;let u;if(s.options.animation!==!1){const p=this.chart.config,g=p.datasetAnimationScopeKeys(this._type,t),b=p.getOptionScopes(this.getDataset(),g);u=p.createResolver(b,this.getContext(e,i,t))}const f=new RO(s,u&&u.animations);return u&&u._cacheable&&(r[l]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||rb(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,r=this.getSharedOptions(i),l=this.includeOptions(t,r)||r!==s;return this.updateSharedOptions(r,t,i),{sharedOptions:r,includeOptions:l}}updateElement(e,t,i,s){rb(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!rb(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const r=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[c,u,f]of this._syncList)this[c](u,f);this._syncList=[];const s=i.length,r=t.length,l=Math.min(r,s);l&&this.parse(0,l),r>s?this._insertElements(s,r-s,e):r<s&&this._removeElements(r,s-r)}_insertElements(e,t,i=!0){const s=this._cachedMeta,r=s.data,l=e+t;let c;const u=f=>{for(f.length+=t,c=f.length-1;c>=l;c--)f[c]=f[c-t]};for(u(r),c=e;c<l;++c)r[c]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(e,t),i&&this.updateElements(r,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&Yu(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Ke(Sd,"defaults",{}),Ke(Sd,"datasetElementType",null),Ke(Sd,"dataElementType",null);class Op extends Sd{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=t,l=this.chart._animationsDisabled;let{start:c,count:u}=g$(t,s,l);this._drawStart=c,this._drawCount=u,v$(t)&&(c=0,u=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},e),this.updateElements(s,c,u,e)}updateElements(e,t,i,s){const r=s==="reset",{iScale:l,vScale:c,_stacked:u,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(t,s),b=l.axis,x=c.axis,{spanGaps:w,segment:S}=this.options,T=Bd(w)?w:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||r||s==="none",R=t+i,A=e.length;let V=t>0&&this.getParsed(t-1);for(let I=0;I<A;++I){const H=e[I],D=C?H:{};if(I<t||I>=R){D.skip=!0;continue}const O=this.getParsed(I),N=Ot(O[x]),L=D[b]=l.getPixelForValue(O[b],I),U=D[x]=r||N?c.getBasePixel():c.getPixelForValue(u?this.applyStack(c,O,u):O[x],I);D.skip=isNaN(L)||isNaN(U)||N,D.stop=I>0&&Math.abs(O[b]-V[b])>T,S&&(D.parsed=O,D.raw=f.data[I]),g&&(D.options=p||this.resolveDataElementOptions(I,H.active?"active":s)),C||this.updateElement(H,I,D,s),V=O}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),l=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Ke(Op,"id","line"),Ke(Op,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Ke(Op,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Mo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ax{constructor(e){Ke(this,"options");this.options=e||{}}static override(e){Object.assign(ax.prototype,e)}init(){}formats(){return Mo()}parse(){return Mo()}format(){return Mo()}add(){return Mo()}diff(){return Mo()}startOf(){return Mo()}endOf(){return Mo()}}var Fq={_date:ax};function Uq(n,e,t,i){const{controller:s,data:r,_sorted:l}=n,c=s._cachedMeta.iScale,u=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&l&&r.length){const f=c._reversePixels?u$:Fo;if(i){if(s._sharedOptions){const p=r[0],g=typeof p.getRange=="function"&&p.getRange(e);if(g){const b=f(r,e,t-g),x=f(r,e,t+g);return{lo:b.lo,hi:x.hi}}}}else{const p=f(r,e,t);if(u){const{vScale:g}=s._cachedMeta,{_parsed:b}=n,x=b.slice(0,p.lo+1).reverse().findIndex(S=>!Ot(S[g.axis]));p.lo-=Math.max(0,x);const w=b.slice(p.hi).findIndex(S=>!Ot(S[g.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:r.length-1}}function pg(n,e,t,i,s){const r=n.getSortedVisibleDatasetMetas(),l=t[e];for(let c=0,u=r.length;c<u;++c){const{index:f,data:p}=r[c],{lo:g,hi:b}=Uq(r[c],e,l,s);for(let x=g;x<=b;++x){const w=p[x];w.skip||i(w,f,x)}}}function zq(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(i,s){const r=e?Math.abs(i.x-s.x):0,l=t?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(l,2))}}function ab(n,e,t,i,s){const r=[];return!s&&!n.isPointInArea(e)||pg(n,t,e,function(c,u,f){!s&&!Hd(c,n.chartArea,0)||c.inRange(e.x,e.y,i)&&r.push({element:c,datasetIndex:u,index:f})},!0),r}function Bq(n,e,t,i){let s=[];function r(l,c,u){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:g}=a$(l,{x:e.x,y:e.y});hO(g,f,p)&&s.push({element:l,datasetIndex:c,index:u})}return pg(n,t,e,r),s}function Hq(n,e,t,i,s,r){let l=[];const c=zq(t);let u=Number.POSITIVE_INFINITY;function f(p,g,b){const x=p.inRange(e.x,e.y,s);if(i&&!x)return;const w=p.getCenterPoint(s);if(!(!!r||n.isPointInArea(w))&&!x)return;const T=c(e,w);T<u?(l=[{element:p,datasetIndex:g,index:b}],u=T):T===u&&l.push({element:p,datasetIndex:g,index:b})}return pg(n,t,e,f),l}function ob(n,e,t,i,s,r){return!r&&!n.isPointInArea(e)?[]:t==="r"&&!i?Bq(n,e,t,s):Hq(n,e,t,i,s,r)}function XC(n,e,t,i,s){const r=[],l=t==="x"?"inXRange":"inYRange";let c=!1;return pg(n,t,e,(u,f,p)=>{u[l]&&u[l](e[t],s)&&(r.push({element:u,datasetIndex:f,index:p}),c=c||u.inRange(e.x,e.y,s))}),i&&!c?[]:r}var $q={modes:{index(n,e,t,i){const s=No(e,n),r=t.axis||"x",l=t.includeInvisible||!1,c=t.intersect?ab(n,s,r,i,l):ob(n,s,r,!1,i,l),u=[];return c.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=c[0].index,g=f.data[p];g&&!g.skip&&u.push({element:g,datasetIndex:f.index,index:p})}),u):[]},dataset(n,e,t,i){const s=No(e,n),r=t.axis||"xy",l=t.includeInvisible||!1;let c=t.intersect?ab(n,s,r,i,l):ob(n,s,r,!1,i,l);if(c.length>0){const u=c[0].datasetIndex,f=n.getDatasetMeta(u).data;c=[];for(let p=0;p<f.length;++p)c.push({element:f[p],datasetIndex:u,index:p})}return c},point(n,e,t,i){const s=No(e,n),r=t.axis||"xy",l=t.includeInvisible||!1;return ab(n,s,r,i,l)},nearest(n,e,t,i){const s=No(e,n),r=t.axis||"xy",l=t.includeInvisible||!1;return ob(n,s,r,t.intersect,i,l)},x(n,e,t,i){const s=No(e,n);return XC(n,s,"x",t.intersect,i)},y(n,e,t,i){const s=No(e,n);return XC(n,s,"y",t.intersect,i)}}};const MO=["left","top","right","bottom"];function Wu(n,e){return n.filter(t=>t.pos===e)}function QC(n,e){return n.filter(t=>MO.indexOf(t.pos)===-1&&t.box.axis===e)}function Ku(n,e){return n.sort((t,i)=>{const s=e?i:t,r=e?t:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function qq(n){const e=[];let t,i,s,r,l,c;for(t=0,i=(n||[]).length;t<i;++t)s=n[t],{position:r,options:{stack:l,stackWeight:c=1}}=s,e.push({index:t,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:l&&r+l,stackWeight:c});return e}function Gq(n){const e={};for(const t of n){const{stack:i,pos:s,stackWeight:r}=t;if(!i||!MO.includes(s))continue;const l=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=r}return e}function Yq(n,e){const t=Gq(n),{vBoxMaxWidth:i,hBoxMaxHeight:s}=e;let r,l,c;for(r=0,l=n.length;r<l;++r){c=n[r];const{fullSize:u}=c.box,f=t[c.stack],p=f&&c.stackWeight/f.weight;c.horizontal?(c.width=p?p*i:u&&e.availableWidth,c.height=s):(c.width=i,c.height=p?p*s:u&&e.availableHeight)}return t}function Wq(n){const e=qq(n),t=Ku(e.filter(f=>f.box.fullSize),!0),i=Ku(Wu(e,"left"),!0),s=Ku(Wu(e,"right")),r=Ku(Wu(e,"top"),!0),l=Ku(Wu(e,"bottom")),c=QC(e,"x"),u=QC(e,"y");return{fullSize:t,leftAndTop:i.concat(r),rightAndBottom:s.concat(u).concat(l).concat(c),chartArea:Wu(e,"chartArea"),vertical:i.concat(s).concat(u),horizontal:r.concat(l).concat(c)}}function ZC(n,e,t,i){return Math.max(n[t],e[t])+Math.max(n[i],e[i])}function OO(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function Kq(n,e,t,i){const{pos:s,box:r}=t,l=n.maxPadding;if(!mt(s)){t.size&&(n[s]-=t.size);const g=i[t.stack]||{size:0,count:1};g.size=Math.max(g.size,t.horizontal?r.height:r.width),t.size=g.size/g.count,n[s]+=t.size}r.getPadding&&OO(l,r.getPadding());const c=Math.max(0,e.outerWidth-ZC(l,n,"left","right")),u=Math.max(0,e.outerHeight-ZC(l,n,"top","bottom")),f=c!==n.w,p=u!==n.h;return n.w=c,n.h=u,t.horizontal?{same:f,other:p}:{same:p,other:f}}function Xq(n){const e=n.maxPadding;function t(i){const s=Math.max(e[i]-n[i],0);return n[i]+=s,s}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function Qq(n,e){const t=e.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(l=>{r[l]=Math.max(e[l],t[l])}),r}return i(n?["left","right"]:["top","bottom"])}function od(n,e,t,i){const s=[];let r,l,c,u,f,p;for(r=0,l=n.length,f=0;r<l;++r){c=n[r],u=c.box,u.update(c.width||e.w,c.height||e.h,Qq(c.horizontal,e));const{same:g,other:b}=Kq(e,t,c,i);f|=g&&s.length,p=p||b,u.fullSize||s.push(c)}return f&&od(s,e,t,i)||p}function ip(n,e,t,i,s){n.top=t,n.left=e,n.right=e+i,n.bottom=t+s,n.width=i,n.height=s}function JC(n,e,t,i){const s=t.padding;let{x:r,y:l}=e;for(const c of n){const u=c.box,f=i[c.stack]||{placed:0,weight:1},p=c.stackWeight/f.weight||1;if(c.horizontal){const g=e.w*p,b=f.size||u.height;Rm(f.start)&&(l=f.start),u.fullSize?ip(u,s.left,l,t.outerWidth-s.right-s.left,b):ip(u,e.left+f.placed,l,g,b),f.start=l,f.placed+=g,l=u.bottom}else{const g=e.h*p,b=f.size||u.width;Rm(f.start)&&(r=f.start),u.fullSize?ip(u,r,s.top,b,t.outerHeight-s.bottom-s.top):ip(u,r,e.top+f.placed,b,g),f.start=r,f.placed+=g,r=u.right}}e.x=r,e.y=l}var sp={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,i){if(!n)return;const s=qa(n.options.layout.padding),r=Math.max(e-s.width,0),l=Math.max(t-s.height,0),c=Wq(n.boxes),u=c.vertical,f=c.horizontal;wt(n.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const p=u.reduce((S,T)=>T.box.options&&T.box.options.display===!1?S:S+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:t,padding:s,availableWidth:r,availableHeight:l,vBoxMaxWidth:r/2/p,hBoxMaxHeight:l/2}),b=Object.assign({},s);OO(b,qa(i));const x=Object.assign({maxPadding:b,w:r,h:l,x:s.left,y:s.top},s),w=Yq(u.concat(f),g);od(c.fullSize,x,g,w),od(u,x,g,w),od(f,x,g,w)&&od(u,x,g,w),Xq(x),JC(c.leftAndTop,x,g,w),x.x+=x.w,x.y+=x.h,JC(c.rightAndBottom,x,g,w),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},wt(c.chartArea,S=>{const T=S.box;Object.assign(T,n.chartArea),T.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class NO{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class Zq extends NO{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Np="$chartjs",Jq={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},eA=n=>n===null||n==="";function eG(n,e){const t=n.style,i=n.getAttribute("height"),s=n.getAttribute("width");if(n[Np]={initial:{height:i,width:s,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",eA(s)){const r=UC(n,"width");r!==void 0&&(n.width=r)}if(eA(i))if(n.style.height==="")n.height=n.width/(e||2);else{const r=UC(n,"height");r!==void 0&&(n.height=r)}return n}const DO=lq?{passive:!0}:!1;function tG(n,e,t){n&&n.addEventListener(e,t,DO)}function nG(n,e,t){n&&n.canvas&&n.canvas.removeEventListener(e,t,DO)}function iG(n,e){const t=Jq[n.type]||n.type,{x:i,y:s}=No(n,e);return{type:t,chart:e,native:n,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Om(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function sG(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||Om(c.addedNodes,i),l=l&&!Om(c.removedNodes,i);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}function rG(n,e,t){const i=n.canvas,s=new MutationObserver(r=>{let l=!1;for(const c of r)l=l||Om(c.removedNodes,i),l=l&&!Om(c.addedNodes,i);l&&t()});return s.observe(document,{childList:!0,subtree:!0}),s}const $d=new Map;let tA=0;function PO(){const n=window.devicePixelRatio;n!==tA&&(tA=n,$d.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function aG(n,e){$d.size||window.addEventListener("resize",PO),$d.set(n,e)}function oG(n){$d.delete(n),$d.size||window.removeEventListener("resize",PO)}function lG(n,e,t){const i=n.canvas,s=i&&rx(i);if(!s)return;const r=gO((c,u)=>{const f=s.clientWidth;t(c,u),f<s.clientWidth&&t()},window),l=new ResizeObserver(c=>{const u=c[0],f=u.contentRect.width,p=u.contentRect.height;f===0&&p===0||r(f,p)});return l.observe(s),aG(n,r),l}function lb(n,e,t){t&&t.disconnect(),e==="resize"&&oG(n)}function cG(n,e,t){const i=n.canvas,s=gO(r=>{n.ctx!==null&&t(iG(r,n))},n);return tG(i,e,s),s}class uG extends NO{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(eG(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[Np])return!1;const i=t[Np].initial;["height","width"].forEach(r=>{const l=i[r];Ot(l)?t.removeAttribute(r):t.setAttribute(r,l)});const s=i.style||{};return Object.keys(s).forEach(r=>{t.style[r]=s[r]}),t.width=t.width,delete t[Np],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),l={attach:sG,detach:rG,resize:lG}[t]||cG;s[t]=l(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];if(!s)return;({attach:lb,detach:lb,resize:lb}[t]||nG)(e,t,s),i[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return oq(e,t,i,s)}isAttached(e){const t=e&&rx(e);return!!(t&&t.isConnected)}}function dG(n){return!sx()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Zq:uG}var dp;let ff=(dp=class{constructor(){Ke(this,"x");Ke(this,"y");Ke(this,"active",!1);Ke(this,"options");Ke(this,"$animations")}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return Bd(this.x)&&Bd(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},Ke(dp,"defaults",{}),Ke(dp,"defaultRoutes"),dp);function fG(n,e){const t=n.options.ticks,i=hG(n),s=Math.min(t.maxTicksLimit||i,i),r=t.major.enabled?mG(e):[],l=r.length,c=r[0],u=r[l-1],f=[];if(l>s)return gG(e,f,r,l/s),f;const p=pG(r,e,s);if(l>0){let g,b;const x=l>1?Math.round((u-c)/(l-1)):null;for(rp(e,f,p,Ot(x)?0:c-x,c),g=0,b=l-1;g<b;g++)rp(e,f,p,r[g],r[g+1]);return rp(e,f,p,u,Ot(x)?e.length:u+x),f}return rp(e,f,p),f}function hG(n){const e=n.options.offset,t=n._tickSize(),i=n._length/t+(e?0:1),s=n._maxLength/t;return Math.floor(Math.min(i,s))}function pG(n,e,t){const i=vG(n),s=e.length/t;if(!i)return Math.max(s,1);const r=t$(i);for(let l=0,c=r.length-1;l<c;l++){const u=r[l];if(u>s)return u}return Math.max(s,1)}function mG(n){const e=[];let t,i;for(t=0,i=n.length;t<i;t++)n[t].major&&e.push(t);return e}function gG(n,e,t,i){let s=0,r=t[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===r&&(e.push(n[l]),s++,r=t[s*i])}function rp(n,e,t,i,s){const r=It(i,0),l=Math.min(It(s,n.length),n.length);let c=0,u,f,p;for(t=Math.ceil(t),s&&(u=s-i,t=u/Math.floor(u/t)),p=r;p<0;)c++,p=Math.round(r+c*t);for(f=Math.max(r,0);f<l;f++)f===p&&(e.push(n[f]),c++,p=Math.round(r+c*t))}function vG(n){const e=n.length;let t,i;if(e<2)return!1;for(i=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==i)return!1;return i}const yG=n=>n==="left"?"right":n==="right"?"left":n,nA=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t,iA=(n,e)=>Math.min(e||n,n);function sA(n,e){const t=[],i=n.length/e,s=n.length;let r=0;for(;r<s;r+=i)t.push(n[Math.floor(r)]);return t}function bG(n,e,t){const i=n.ticks.length,s=Math.min(e,i-1),r=n._startPixel,l=n._endPixel,c=1e-6;let u=n.getPixelForTick(s),f;if(!(t&&(i===1?f=Math.max(u-r,l-u):e===0?f=(n.getPixelForTick(1)-u)/2:f=(u-n.getPixelForTick(s-1))/2,u+=s<e?f:-f,u<r-c||u>l+c)))return u}function _G(n,e){wt(n,t=>{const i=t.gc,s=i.length/2;let r;if(s>e){for(r=0;r<s;++r)delete t.data[i[r]];i.splice(0,s)}})}function Xu(n){return n.drawTicks?n.tickLength:0}function rA(n,e){if(!n.display)return 0;const t=ks(n.font,e),i=qa(n.padding);return(Ln(n.text)?n.text.length:1)*t.lineHeight+i.height}function xG(n,e){return sl(n,{scale:e,type:"scale"})}function wG(n,e,t){return sl(n,{tick:t,index:e,type:"tick"})}function SG(n,e,t){let i=m$(n);return(t&&e!=="right"||!t&&e==="right")&&(i=yG(i)),i}function EG(n,e,t,i){const{top:s,left:r,bottom:l,right:c,chart:u}=n,{chartArea:f,scales:p}=u;let g=0,b,x,w;const S=l-s,T=c-r;if(n.isHorizontal()){if(x=RC(i,r,c),mt(t)){const C=Object.keys(t)[0],R=t[C];w=p[C].getPixelForValue(R)+S-e}else t==="center"?w=(f.bottom+f.top)/2+S-e:w=nA(n,t,e);b=c-r}else{if(mt(t)){const C=Object.keys(t)[0],R=t[C];x=p[C].getPixelForValue(R)-T+e}else t==="center"?x=(f.left+f.right)/2-T+e:x=nA(n,t,e);w=RC(i,l,s),g=t==="left"?-ss:ss}return{titleX:x,titleY:w,maxWidth:b,rotation:g}}class Dc extends ff{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=As(e,Number.POSITIVE_INFINITY),t=As(t,Number.NEGATIVE_INFINITY),i=As(i,Number.POSITIVE_INFINITY),s=As(s,Number.NEGATIVE_INFINITY),{min:As(e,i),max:As(t,s),minDefined:Hi(e),maxDefined:Hi(t)}}getMinMax(e){let{min:t,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),l;if(s&&r)return{min:t,max:i};const c=this.getMatchingVisibleMetas();for(let u=0,f=c.length;u<f;++u)l=c[u].controller.getMinMax(this,e),s||(t=Math.min(t,l.min)),r||(i=Math.max(i,l.max));return t=r&&t>i?i:t,i=s&&t>i?t:i,{min:As(t,As(i,t)),max:As(i,As(t,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Wt(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:r,ticks:l}=this.options,c=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=F$(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=c<this.ticks.length;this._convertTicksToLabels(u?sA(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=fG(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,i;this.isHorizontal()?(t=this.left,i=this.right):(t=this.top,i=this.bottom,e=!e),this._startPixel=t,this._endPixel=i,this._reversePixels=e,this._length=i-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Wt(this.options.afterUpdate,[this])}beforeSetDimensions(){Wt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Wt(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Wt(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Wt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i],r.label=Wt(t.callback,[r.value,i,e],this)}afterTickToLabelConversion(){Wt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Wt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=iA(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,r=t.maxRotation;let l=s,c,u,f;if(!this._isVisible()||!t.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const p=this._getLabelSizes(),g=p.widest.width,b=p.highest.height,x=Ui(this.chart.width-g,0,this.maxWidth);c=e.offset?this.maxWidth/i:x/(i-1),g+6>c&&(c=x/(i-(e.offset?.5:1)),u=this.maxHeight-Xu(e.grid)-t.padding-rA(e.title,this.chart.options.font),f=Math.sqrt(g*g+b*b),l=r$(Math.min(Math.asin(Ui((p.highest.height+6)/c,-1,1)),Math.asin(Ui(u/f,-1,1))-Math.asin(Ui(b/f,-1,1)))),l=Math.max(s,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){Wt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Wt(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:r}}=this,l=this._isVisible(),c=this.isHorizontal();if(l){const u=rA(s,t.options.font);if(c?(e.width=this.maxWidth,e.height=Xu(r)+u):(e.height=this.maxHeight,e.width=Xu(r)+u),i.display&&this.ticks.length){const{first:f,last:p,widest:g,highest:b}=this._getLabelSizes(),x=i.padding*2,w=jo(this.labelRotation),S=Math.cos(w),T=Math.sin(w);if(c){const C=i.mirror?0:T*g.width+S*b.height;e.height=Math.min(this.maxHeight,e.height+C+x)}else{const C=i.mirror?0:S*g.width+T*b.height;e.width=Math.min(this.maxWidth,e.width+C+x)}this._calculatePadding(f,p,T,S)}}this._handleMargins(),c?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:r,padding:l},position:c}=this.options,u=this.labelRotation!==0,f=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,x=0;u?f?(b=s*e.width,x=i*t.height):(b=i*e.height,x=s*t.width):r==="start"?x=t.width:r==="end"?b=e.width:r!=="inner"&&(b=e.width/2,x=t.width/2),this.paddingLeft=Math.max((b-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-g+l)*this.width/(this.width-g),0)}else{let p=t.height/2,g=e.height/2;r==="start"?(p=0,g=e.height):r==="end"&&(p=t.height,g=0),this.paddingTop=p+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Wt(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,i;for(t=0,i=e.length;t<i;t++)Ot(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=sA(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,i){const{ctx:s,_longestTextCache:r}=this,l=[],c=[],u=Math.floor(t/iA(t,i));let f=0,p=0,g,b,x,w,S,T,C,R,A,V,I;for(g=0;g<t;g+=u){if(w=e[g].label,S=this._resolveTickFontOptions(g),s.font=T=S.string,C=r[T]=r[T]||{data:{},gc:[]},R=S.lineHeight,A=V=0,!Ot(w)&&!Ln(w))A=DC(s,C.data,C.gc,A,w),V=R;else if(Ln(w))for(b=0,x=w.length;b<x;++b)I=w[b],!Ot(I)&&!Ln(I)&&(A=DC(s,C.data,C.gc,A,I),V+=R);l.push(A),c.push(V),f=Math.max(A,f),p=Math.max(V,p)}_G(r,t);const H=l.indexOf(f),D=c.indexOf(p),O=N=>({width:l[N]||0,height:c[N]||0});return{first:O(0),last:O(t-1),widest:O(H),highest:O(D),widths:l,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return l$(this._alignToPixels?Io(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=wG(this.getContext(),e,i))}return this.$context||(this.$context=xG(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=jo(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),r=this._getLabelSizes(),l=e.autoSkipPadding||0,c=r?r.widest.width+l:0,u=r?r.highest.height+l:0;return this.isHorizontal()?u*i>c*s?c/i:u/s:u*s<c*i?u/i:c/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:r,position:l,border:c}=s,u=r.offset,f=this.isHorizontal(),g=this.ticks.length+(u?1:0),b=Xu(r),x=[],w=c.setContext(this.getContext()),S=w.display?w.width:0,T=S/2,C=function($){return Io(i,$,S)};let R,A,V,I,H,D,O,N,L,U,B,j;if(l==="top")R=C(this.bottom),D=this.bottom-b,N=R-T,U=C(e.top)+T,j=e.bottom;else if(l==="bottom")R=C(this.top),U=e.top,j=C(e.bottom)-T,D=R+T,N=this.top+b;else if(l==="left")R=C(this.right),H=this.right-b,O=R-T,L=C(e.left)+T,B=e.right;else if(l==="right")R=C(this.left),L=e.left,B=C(e.right)-T,H=R+T,O=this.left+b;else if(t==="x"){if(l==="center")R=C((e.top+e.bottom)/2+.5);else if(mt(l)){const $=Object.keys(l)[0],se=l[$];R=C(this.chart.scales[$].getPixelForValue(se))}U=e.top,j=e.bottom,D=R+T,N=D+b}else if(t==="y"){if(l==="center")R=C((e.left+e.right)/2);else if(mt(l)){const $=Object.keys(l)[0],se=l[$];R=C(this.chart.scales[$].getPixelForValue(se))}H=R-T,O=H-b,L=e.left,B=e.right}const ie=It(s.ticks.maxTicksLimit,g),X=Math.max(1,Math.ceil(g/ie));for(A=0;A<g;A+=X){const $=this.getContext(A),se=r.setContext($),ue=c.setContext($),ye=se.lineWidth,q=se.color,oe=ue.dash||[],me=ue.dashOffset,de=se.tickWidth,Se=se.tickColor,Oe=se.tickBorderDash||[],Ce=se.tickBorderDashOffset;V=bG(this,A,u),V!==void 0&&(I=Io(i,V,ye),f?H=O=L=B=I:D=N=U=j=I,x.push({tx1:H,ty1:D,tx2:O,ty2:N,x1:L,y1:U,x2:B,y2:j,width:ye,color:q,borderDash:oe,borderDashOffset:me,tickWidth:de,tickColor:Se,tickBorderDash:Oe,tickBorderDashOffset:Ce}))}return this._ticksLength=g,this._borderValue=R,x}_computeLabelItems(e){const t=this.axis,i=this.options,{position:s,ticks:r}=i,l=this.isHorizontal(),c=this.ticks,{align:u,crossAlign:f,padding:p,mirror:g}=r,b=Xu(i.grid),x=b+p,w=g?-p:x,S=-jo(this.labelRotation),T=[];let C,R,A,V,I,H,D,O,N,L,U,B,j="middle";if(s==="top")H=this.bottom-w,D=this._getXAxisLabelAlignment();else if(s==="bottom")H=this.top+w,D=this._getXAxisLabelAlignment();else if(s==="left"){const X=this._getYAxisLabelAlignment(b);D=X.textAlign,I=X.x}else if(s==="right"){const X=this._getYAxisLabelAlignment(b);D=X.textAlign,I=X.x}else if(t==="x"){if(s==="center")H=(e.top+e.bottom)/2+x;else if(mt(s)){const X=Object.keys(s)[0],$=s[X];H=this.chart.scales[X].getPixelForValue($)+x}D=this._getXAxisLabelAlignment()}else if(t==="y"){if(s==="center")I=(e.left+e.right)/2-x;else if(mt(s)){const X=Object.keys(s)[0],$=s[X];I=this.chart.scales[X].getPixelForValue($)}D=this._getYAxisLabelAlignment(b).textAlign}t==="y"&&(u==="start"?j="top":u==="end"&&(j="bottom"));const ie=this._getLabelSizes();for(C=0,R=c.length;C<R;++C){A=c[C],V=A.label;const X=r.setContext(this.getContext(C));O=this.getPixelForTick(C)+r.labelOffset,N=this._resolveTickFontOptions(C),L=N.lineHeight,U=Ln(V)?V.length:1;const $=U/2,se=X.color,ue=X.textStrokeColor,ye=X.textStrokeWidth;let q=D;l?(I=O,D==="inner"&&(C===R-1?q=this.options.reverse?"left":"right":C===0?q=this.options.reverse?"right":"left":q="center"),s==="top"?f==="near"||S!==0?B=-U*L+L/2:f==="center"?B=-ie.highest.height/2-$*L+L:B=-ie.highest.height+L/2:f==="near"||S!==0?B=L/2:f==="center"?B=ie.highest.height/2-$*L:B=ie.highest.height-U*L,g&&(B*=-1),S!==0&&!X.showLabelBackdrop&&(I+=L/2*Math.sin(S))):(H=O,B=(1-U)*L/2);let oe;if(X.showLabelBackdrop){const me=qa(X.backdropPadding),de=ie.heights[C],Se=ie.widths[C];let Oe=B-me.top,Ce=0-me.left;switch(j){case"middle":Oe-=de/2;break;case"bottom":Oe-=de;break}switch(D){case"center":Ce-=Se/2;break;case"right":Ce-=Se;break;case"inner":C===R-1?Ce-=Se:C>0&&(Ce-=Se/2);break}oe={left:Ce,top:Oe,width:Se+me.width,height:de+me.height,color:X.backdropColor}}T.push({label:V,font:N,textOffset:B,options:{rotation:S,color:se,strokeColor:ue,strokeWidth:ye,textAlign:q,textBaseline:j,translation:[I,H],backdrop:oe}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-jo(this.labelRotation))return e==="top"?"left":"right";let s="center";return t.align==="start"?s="left":t.align==="end"?s="right":t.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,l=this._getLabelSizes(),c=e+r,u=l.widest.width;let f,p;return t==="left"?s?(p=this.right+r,i==="near"?f="left":i==="center"?(f="center",p+=u/2):(f="right",p+=u)):(p=this.right-c,i==="near"?f="right":i==="center"?(f="center",p-=u/2):(f="left",p=this.left)):t==="right"?s?(p=this.left+r,i==="near"?f="right":i==="center"?(f="center",p-=u/2):(f="left",p-=u)):(p=this.left+c,i==="near"?f="left":i==="center"?(f="center",p+=u/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:r,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,r,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const s=this.ticks.findIndex(r=>r.value===e);return s>=0?t.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,l;const c=(u,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(u.x,u.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(t.display)for(r=0,l=s.length;r<l;++r){const u=s[r];t.drawOnChartArea&&c({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),t.drawTicks&&c({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),l=i.display?r.width:0;if(!l)return;const c=s.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let f,p,g,b;this.isHorizontal()?(f=Io(e,this.left,l)-l/2,p=Io(e,this.right,c)+c/2,g=b=u):(g=Io(e,this.top,l)-l/2,b=Io(e,this.bottom,c)+c/2,f=p=u),t.save(),t.lineWidth=r.width,t.strokeStyle=r.color,t.beginPath(),t.moveTo(f,g),t.lineTo(p,b),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&bO(i,s);const r=this.getLabelItems(e);for(const l of r){const c=l.options,u=l.font,f=l.label,p=l.textOffset;kC(i,f,0,p,u,c)}s&&_O(i)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:s}}=this;if(!i.display)return;const r=ks(i.font),l=qa(i.padding),c=i.align;let u=r.lineHeight/2;t==="bottom"||t==="center"||mt(t)?(u+=l.bottom,Ln(i.text)&&(u+=r.lineHeight*(i.text.length-1))):u+=l.top;const{titleX:f,titleY:p,maxWidth:g,rotation:b}=EG(this,u,t,c);kC(e,i.text,0,0,r,{color:i.color,maxWidth:g,rotation:b,textAlign:SG(c,t,s),textBaseline:"middle",translation:[f,p]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=It(e.grid&&e.grid.z,-1),s=It(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Dc.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,l;for(r=0,l=t.length;r<l;++r){const c=t[r];c[i]===this.id&&(!e||c.type===e)&&s.push(c)}return s}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ks(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ap{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;AG(t)&&(i=this.register(t));const s=this.items,r=e.id,l=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in s||(s[r]=e,TG(e,l,i),this.override&&ln.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in ln[s]&&(delete ln[s][i],this.override&&delete Zo[i])}}function TG(n,e,t){const i=zd(Object.create(null),[t?ln.get(t):{},ln.get(e),n.defaults]);ln.set(e,i),n.defaultRoutes&&CG(e,n.defaultRoutes),n.descriptors&&ln.describe(e,n.descriptors)}function CG(n,e){Object.keys(e).forEach(t=>{const i=t.split("."),s=i.pop(),r=[n].concat(i).join("."),l=e[t].split("."),c=l.pop(),u=l.join(".");ln.route(r,s,u,c)})}function AG(n){return"id"in n&&"defaults"in n}class RG{constructor(){this.controllers=new ap(Sd,"datasets",!0),this.elements=new ap(ff,"elements"),this.plugins=new ap(Object,"plugins"),this.scales=new ap(Dc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(e,r,s):wt(s,l=>{const c=i||this._getRegistryForType(l);this._exec(e,c,l)})})}_exec(e,t,i){const s=Z_(e);Wt(i["before"+s],[],i),t[e](i),Wt(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return s}}var Is=new RG;class IG{constructor(){this._init=[]}notify(e,t,i,s){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=s?this._descriptors(e).filter(s):this._descriptors(e),l=this._notify(r,e,t,i);return t==="afterDestroy"&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,i,s){s=s||{};for(const r of e){const l=r.plugin,c=l[i],u=[t,s,r.options];if(Wt(c,u,l)===!1&&s.cancelable)return!1}return!0}invalidate(){Ot(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=It(i.options&&i.options.plugins,{}),r=MG(i);return s===!1&&!t?[]:NG(e,r,s,t)}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(r,l)=>r.filter(c=>!l.some(u=>c.plugin.id===u.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function MG(n){const e={},t=[],i=Object.keys(Is.plugins.items);for(let r=0;r<i.length;r++)t.push(Is.getPlugin(i[r]));const s=n.plugins||[];for(let r=0;r<s.length;r++){const l=s[r];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function OG(n,e){return!e&&n===!1?null:n===!0?{}:n}function NG(n,{plugins:e,localIds:t},i,s){const r=[],l=n.getContext();for(const c of e){const u=c.id,f=OG(i[u],s);f!==null&&r.push({plugin:c,options:DG(n.config,{plugin:c,local:t[u]},f,l)})}return r}function DG(n,{plugin:e,local:t},i,s){const r=n.pluginScopeKeys(e),l=n.getOptionScopes(i,r);return t&&e.defaults&&l.push(e.defaults),n.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function o0(n,e){const t=ln.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function PG(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function kG(n,e){return n===e?"_index_":"_value_"}function aA(n){if(n==="x"||n==="y"||n==="r")return n}function LG(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function l0(n,...e){if(aA(n))return n;for(const t of e){const i=t.axis||LG(t.position)||n.length>1&&aA(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function oA(n,e,t){if(t[e+"AxisID"]===n)return{axis:e}}function VG(n,e){if(e.data&&e.data.datasets){const t=e.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(t.length)return oA(n,"x",t[0])||oA(n,"y",t[0])}return{}}function jG(n,e){const t=Zo[n.type]||{scales:{}},i=e.scales||{},s=o0(n.type,e),r=Object.create(null);return Object.keys(i).forEach(l=>{const c=i[l];if(!mt(c))return console.error(`Invalid scale configuration for scale: ${l}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=l0(l,c,VG(l,n),ln.scales[c.type]),f=kG(u,s),p=t.scales||{};r[l]=bd(Object.create(null),[{axis:u},c,p[u],p[f]])}),n.data.datasets.forEach(l=>{const c=l.type||n.type,u=l.indexAxis||o0(c,e),p=(Zo[c]||{}).scales||{};Object.keys(p).forEach(g=>{const b=PG(g,u),x=l[b+"AxisID"]||b;r[x]=r[x]||Object.create(null),bd(r[x],[{axis:b},i[x],p[g]])})}),Object.keys(r).forEach(l=>{const c=r[l];bd(c,[ln.scales[c.type],ln.scale])}),r}function kO(n){const e=n.options||(n.options={});e.plugins=It(e.plugins,{}),e.scales=jG(n,e)}function LO(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function FG(n){return n=n||{},n.data=LO(n.data),kO(n),n}const lA=new Map,VO=new Set;function op(n,e){let t=lA.get(n);return t||(t=e(),lA.set(n,t),VO.add(t)),t}const Qu=(n,e,t)=>{const i=Am(e,t);i!==void 0&&n.add(i)};class UG{constructor(e){this._config=FG(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=LO(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),kO(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return op(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return op(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return op(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,i=this.type;return op(`${i}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return(!s||t)&&(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:r}=this,l=this._cachedScopes(e,i),c=l.get(t);if(c)return c;const u=new Set;t.forEach(p=>{e&&(u.add(e),p.forEach(g=>Qu(u,e,g))),p.forEach(g=>Qu(u,s,g)),p.forEach(g=>Qu(u,Zo[r]||{},g)),p.forEach(g=>Qu(u,ln,g)),p.forEach(g=>Qu(u,r0,g))});const f=Array.from(u);return f.length===0&&f.push(Object.create(null)),VO.has(t)&&l.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Zo[t]||{},ln.datasets[t]||{},{type:t},ln,r0]}resolveNamedOptions(e,t,i,s=[""]){const r={$shared:!0},{resolver:l,subPrefixes:c}=cA(this._resolverCache,e,s);let u=l;if(BG(l,t)){r.$shared=!1,i=$a(i)?i():i;const f=this.createResolver(e,i,c);u=xc(l,i,f)}for(const f of t)r[f]=u[f];return r}createResolver(e,t,i=[""],s){const{resolver:r}=cA(this._resolverCache,e,i);return mt(t)?xc(r,t,void 0,s):r}}function cA(n,e,t){let i=n.get(e);i||(i=new Map,n.set(e,i));const s=t.join();let r=i.get(s);return r||(r={resolver:tx(e,t),subPrefixes:t.filter(c=>!c.toLowerCase().includes("hover"))},i.set(s,r)),r}const zG=n=>mt(n)&&Object.getOwnPropertyNames(n).some(e=>$a(n[e]));function BG(n,e){const{isScriptable:t,isIndexable:i}=wO(n);for(const s of e){const r=t(s),l=i(s),c=(l||r)&&n[s];if(r&&($a(c)||zG(c))||l&&Ln(c))return!0}return!1}var HG="4.5.0";const $G=["top","bottom","left","right","chartArea"];function uA(n,e){return n==="top"||n==="bottom"||$G.indexOf(n)===-1&&e==="x"}function dA(n,e){return function(t,i){return t[n]===i[n]?t[e]-i[e]:t[n]-i[n]}}function fA(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),Wt(t&&t.onComplete,[n],e)}function qG(n){const e=n.chart,t=e.options.animation;Wt(t&&t.onProgress,[n],e)}function jO(n){return sx()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Dp={},hA=n=>{const e=jO(n);return Object.values(Dp).filter(t=>t.canvas===e).pop()};function GG(n,e,t){const i=Object.keys(n);for(const s of i){const r=+s;if(r>=e){const l=n[s];delete n[s],(t>0||r>e)&&(n[r+t]=l)}}}function YG(n,e,t,i){return!t||n.type==="mouseout"?null:i?e:n}var wa;let mg=(wa=class{static register(...e){Is.add(...e),pA()}static unregister(...e){Is.remove(...e),pA()}constructor(e,t){const i=this.config=new UG(t),s=jO(e),r=hA(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||dG(s)),this.platform.updateConfig(i);const c=this.platform.acquireContext(s,l.aspectRatio),u=c&&c.canvas,f=u&&u.height,p=u&&u.width;if(this.id=G7(),this.ctx=c,this.canvas=u,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new IG,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=p$(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],Dp[this.id]=this,!c||!u){console.error("Failed to create chart: can't acquire context from the given item");return}Cr.listen(this,"complete",fA),Cr.listen(this,"progress",qG),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:s,_aspectRatio:r}=this;return Ot(e)?t&&r?r:s?i/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Is}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():FC(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return PC(this.canvas,this.ctx),this}stop(){return Cr.stop(this),this}resize(e,t){Cr.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(s,e,t,r),c=i.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,FC(this,c,!0)&&(this.notifyPlugins("resize",{size:l}),Wt(i.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};wt(t,(i,s)=>{i.id=s})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((l,c)=>(l[c]=!1,l),{});let r=[];t&&(r=r.concat(Object.keys(t).map(l=>{const c=t[l],u=l0(l,c),f=u==="r",p=u==="x";return{options:c,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),wt(r,l=>{const c=l.options,u=c.id,f=l0(u,c),p=It(c.type,l.dtype);(c.position===void 0||uA(c.position,f)!==uA(l.dposition))&&(c.position=l.dposition),s[u]=!0;let g=null;if(u in i&&i[u].type===p)g=i[u];else{const b=Is.getScale(p);g=new b({id:u,type:p,ctx:this.ctx,chart:this}),i[g.id]=g}g.init(c,e)}),wt(s,(l,c)=>{l||delete i[c]}),wt(i,l=>{sp.configure(this,l,l.options),sp.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((s,r)=>s.index-r.index),i>t){for(let s=t;s<i;++s)this._destroyDatasetMeta(s);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(dA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((i,s)=>{t.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const r=t[i];let l=this.getDatasetMeta(i);const c=r.type||this.config.type;if(l.type&&l.type!==c&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=c,l.indexAxis=r.indexAxis||o0(c,this.options),l.order=r.order||0,l.index=i,l.label=""+r.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const u=Is.getController(c),{datasetElementType:f,dataElementType:p}=ln.datasets[c];Object.assign(u,{dataElementType:Is.getElement(p),datasetElementType:f&&Is.getElement(f)}),l.controller=new u(this,i),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){wt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:g}=this.getDatasetMeta(f),b=!s&&r.indexOf(g)===-1;g.buildOrUpdateElements(b),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),s||wt(r,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(dA("z","_idx"));const{_active:c,_lastEvent:u}=this;u?this._eventHandler(u,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){wt(this.scales,e=>{sp.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!SC(t,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of t){const l=i==="_removeElements"?-r:r;GG(e,s,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=r=>new Set(e.filter(l=>l[0]===r).map((l,c)=>c+","+l.splice(1).join(","))),s=i(0);for(let r=1;r<t;r++)if(!SC(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;sp.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],wt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,i=this.data.datasets.length;t<i;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,$a(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Cr.has(this)?this.attached&&!Cr.running(this)&&Cr.start(this):(this.draw(),fA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,r;for(s=0,r=t.length;s<r;++s){const l=t[s];(!e||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i={meta:e,index:e.index,cancelable:!0},s=Eq(this,e);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(s&&bO(t,s),e.controller.draw(),s&&_O(t),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(e){return Hd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const r=$q.modes[t];return typeof r=="function"?r(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(r=>r&&r._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=sl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!t.hidden}setDatasetVisibility(e,t){const i=this.getDatasetMeta(e);i.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",r=this.getDatasetMeta(e),l=r.controller._resolveAnimations(void 0,s);Rm(t)?(r.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),l.update(r,{visible:i}),this.update(c=>c.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Cr.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),PC(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Dp[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(r,l)=>{t.addEventListener(this,r,l),e[r]=l},s=(r,l,c)=>{r.offsetX=l,r.offsetY=c,this._eventHandler(r)};wt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(u,f)=>{t.addEventListener(this,u,f),e[u]=f},s=(u,f)=>{e[u]&&(t.removeEventListener(this,u,f),delete e[u])},r=(u,f)=>{this.canvas&&this.resize(u,f)};let l;const c=()=>{s("attach",c),this.attached=!0,this.resize(),i("resize",r),i("detach",l)};l=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",c)},t.isAttached(this.canvas)?c():l()}unbindEvents(){wt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},wt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let r,l,c,u;for(t==="dataset"&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),c=0,u=e.length;c<u;++c){l=e[c];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[s+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:r,index:l})=>{const c=this.getDatasetMeta(r);if(!c)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:c.data[l],index:l}});!Tm(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}isPluginEnabled(e){return this._plugins._cache.filter(t=>t.plugin.id===e).length===1}_updateHoverStyles(e,t,i){const s=this.options.hover,r=(u,f)=>u.filter(p=>!f.some(g=>p.datasetIndex===g.datasetIndex&&p.index===g.index)),l=r(t,e),c=i?e:r(e,t);l.length&&this.updateHoverStyle(l,s.mode,!1),c.length&&s.mode&&this.updateHoverStyle(c,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:r}=this,l=t,c=this._getActiveElements(e,s,i,l),u=Z7(e),f=YG(e,this._lastEvent,i,u);i&&(this._lastEvent=null,Wt(r.onHover,[e,c,this],this),u&&Wt(r.onClick,[e,c,this],this));const p=!Tm(c,s);return(p||t)&&(this._active=c,this._updateHoverStyles(c,s,t)),this._lastEvent=f,p}_getActiveElements(e,t,i,s){if(e.type==="mouseout")return[];if(!i)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,s)}},Ke(wa,"defaults",ln),Ke(wa,"instances",Dp),Ke(wa,"overrides",Zo),Ke(wa,"registry",Is),Ke(wa,"version",HG),Ke(wa,"getChart",hA),wa);function pA(){return wt(mg.instances,n=>n._plugins.invalidate())}function FO(n,e,t=e){n.lineCap=It(t.borderCapStyle,e.borderCapStyle),n.setLineDash(It(t.borderDash,e.borderDash)),n.lineDashOffset=It(t.borderDashOffset,e.borderDashOffset),n.lineJoin=It(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=It(t.borderWidth,e.borderWidth),n.strokeStyle=It(t.borderColor,e.borderColor)}function WG(n,e,t){n.lineTo(t.x,t.y)}function KG(n){return n.stepped?I$:n.tension||n.cubicInterpolationMode==="monotone"?M$:WG}function UO(n,e,t={}){const i=n.length,{start:s=0,end:r=i-1}=t,{start:l,end:c}=e,u=Math.max(s,l),f=Math.min(r,c),p=s<l&&r<l||s>c&&r>c;return{count:i,start:u,loop:e.loop,ilen:f<u&&!p?i+f-u:f-u}}function XG(n,e,t,i){const{points:s,options:r}=e,{count:l,start:c,loop:u,ilen:f}=UO(s,t,i),p=KG(r);let{move:g=!0,reverse:b}=i||{},x,w,S;for(x=0;x<=f;++x)w=s[(c+(b?f-x:x))%l],!w.skip&&(g?(n.moveTo(w.x,w.y),g=!1):p(n,S,w,b,r.stepped),S=w);return u&&(w=s[(c+(b?f:0))%l],p(n,S,w,b,r.stepped)),!!u}function QG(n,e,t,i){const s=e.points,{count:r,start:l,ilen:c}=UO(s,t,i),{move:u=!0,reverse:f}=i||{};let p=0,g=0,b,x,w,S,T,C;const R=V=>(l+(f?c-V:V))%r,A=()=>{S!==T&&(n.lineTo(p,T),n.lineTo(p,S),n.lineTo(p,C))};for(u&&(x=s[R(0)],n.moveTo(x.x,x.y)),b=0;b<=c;++b){if(x=s[R(b)],x.skip)continue;const V=x.x,I=x.y,H=V|0;H===w?(I<S?S=I:I>T&&(T=I),p=(g*p+V)/++g):(A(),n.lineTo(V,I),w=H,g=0,S=T=I),C=I}A()}function c0(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?QG:XG}function ZG(n){return n.stepped?cq:n.tension||n.cubicInterpolationMode==="monotone"?uq:Do}function JG(n,e,t,i){let s=e._path;s||(s=e._path=new Path2D,e.path(s,t,i)&&s.closePath()),FO(n,e.options),n.stroke(s)}function eY(n,e,t,i){const{segments:s,options:r}=e,l=c0(e);for(const c of s)FO(n,r,c.style),n.beginPath(),l(n,e,c,{start:t,end:t+i-1})&&n.closePath(),n.stroke()}const tY=typeof Path2D=="function";function nY(n,e,t,i){tY&&!e.options.segment?JG(n,e,t,i):eY(n,e,t,i)}class ld extends ff{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;tq(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_q(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],r=this.points,l=vq(this,{property:t,start:s,end:s});if(!l.length)return;const c=[],u=ZG(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:g,end:b}=l[f],x=r[g],w=r[b];if(x===w){c.push(x);continue}const S=Math.abs((s-x[t])/(w[t]-x[t])),T=u(x,w,S,i.stepped);T[t]=e[t],c.push(T)}return c.length===1?c[0]:c}pathSegment(e,t,i){return c0(this)(e,this,t,i)}path(e,t,i){const s=this.segments,r=c0(this);let l=this._loop;t=t||0,i=i||this.points.length-t;for(const c of s)l&=r(e,this,c,{start:t,end:t+i-1});return!!l}draw(e,t,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),nY(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Ke(ld,"id","line"),Ke(ld,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Ke(ld,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Ke(ld,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function mA(n,e,t,i){const s=n.options,{[t]:r}=n.getProps([t],i);return Math.abs(e-r)<s.radius+s.hitRadius}class Pp extends ff{constructor(t){super();Ke(this,"parsed");Ke(this,"skip");Ke(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,s){const r=this.options,{x:l,y:c}=this.getProps(["x","y"],s);return Math.pow(t-l,2)+Math.pow(i-c,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,i){return mA(this,t,"x",i)}inYRange(t,i){return mA(this,t,"y",i)}getCenterPoint(t){const{x:i,y:s}=this.getProps(["x","y"],t);return{x:i,y:s}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);const s=i&&t.borderWidth||0;return(i+s)*2}draw(t,i){const s=this.options;this.skip||s.radius<.1||!Hd(this,i,this.size(s)/2)||(t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.fillStyle=s.backgroundColor,a0(t,s,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}Ke(Pp,"id","point"),Ke(Pp,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Ke(Pp,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const cd={average(n){if(!n.length)return!1;let e,t,i=new Set,s=0,r=0;for(e=0,t=n.length;e<t;++e){const c=n[e].element;if(c&&c.hasValue()){const u=c.tooltipPosition();i.add(u.x),s+=u.y,++r}}return r===0||i.size===0?!1:{x:[...i].reduce((c,u)=>c+u)/i.size,y:s/r}},nearest(n,e){if(!n.length)return!1;let t=e.x,i=e.y,s=Number.POSITIVE_INFINITY,r,l,c;for(r=0,l=n.length;r<l;++r){const u=n[r].element;if(u&&u.hasValue()){const f=u.getCenterPoint(),p=s0(e,f);p<s&&(s=p,c=u)}}if(c){const u=c.tooltipPosition();t=u.x,i=u.y}return{x:t,y:i}}};function Rs(n,e){return e&&(Ln(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function Ar(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function iY(n,e){const{element:t,datasetIndex:i,index:s}=e,r=n.getDatasetMeta(i).controller,{label:l,value:c}=r.getLabelAndValue(s);return{chart:n,label:l,parsed:r.getParsed(s),raw:n.data.datasets[i].data[s],formattedValue:c,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:t}}function gA(n,e){const t=n.chart.ctx,{body:i,footer:s,title:r}=n,{boxWidth:l,boxHeight:c}=e,u=ks(e.bodyFont),f=ks(e.titleFont),p=ks(e.footerFont),g=r.length,b=s.length,x=i.length,w=qa(e.padding);let S=w.height,T=0,C=i.reduce((V,I)=>V+I.before.length+I.lines.length+I.after.length,0);if(C+=n.beforeBody.length+n.afterBody.length,g&&(S+=g*f.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),C){const V=e.displayColors?Math.max(c,u.lineHeight):u.lineHeight;S+=x*V+(C-x)*u.lineHeight+(C-1)*e.bodySpacing}b&&(S+=e.footerMarginTop+b*p.lineHeight+(b-1)*e.footerSpacing);let R=0;const A=function(V){T=Math.max(T,t.measureText(V).width+R)};return t.save(),t.font=f.string,wt(n.title,A),t.font=u.string,wt(n.beforeBody.concat(n.afterBody),A),R=e.displayColors?l+2+e.boxPadding:0,wt(i,V=>{wt(V.before,A),wt(V.lines,A),wt(V.after,A)}),R=0,t.font=p.string,wt(n.footer,A),t.restore(),T+=w.width,{width:T,height:S}}function sY(n,e){const{y:t,height:i}=e;return t<i/2?"top":t>n.height-i/2?"bottom":"center"}function rY(n,e,t,i){const{x:s,width:r}=i,l=t.caretSize+t.caretPadding;if(n==="left"&&s+r+l>e.width||n==="right"&&s-r-l<0)return!0}function aY(n,e,t,i){const{x:s,width:r}=t,{width:l,chartArea:{left:c,right:u}}=n;let f="center";return i==="center"?f=s<=(c+u)/2?"left":"right":s<=r/2?f="left":s>=l-r/2&&(f="right"),rY(f,n,e,t)&&(f="center"),f}function vA(n,e,t){const i=t.yAlign||e.yAlign||sY(n,t);return{xAlign:t.xAlign||e.xAlign||aY(n,e,t,i),yAlign:i}}function oY(n,e){let{x:t,width:i}=n;return e==="right"?t-=i:e==="center"&&(t-=i/2),t}function lY(n,e,t){let{y:i,height:s}=n;return e==="top"?i+=t:e==="bottom"?i-=s+t:i-=s/2,i}function yA(n,e,t,i){const{caretSize:s,caretPadding:r,cornerRadius:l}=n,{xAlign:c,yAlign:u}=t,f=s+r,{topLeft:p,topRight:g,bottomLeft:b,bottomRight:x}=Mp(l);let w=oY(e,c);const S=lY(e,u,f);return u==="center"?c==="left"?w+=f:c==="right"&&(w-=f):c==="left"?w-=Math.max(p,b)+s:c==="right"&&(w+=Math.max(g,x)+s),{x:Ui(w,0,i.width-e.width),y:Ui(S,0,i.height-e.height)}}function lp(n,e,t){const i=qa(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-i.right:n.x+i.left}function bA(n){return Rs([],Ar(n))}function cY(n,e,t){return sl(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function _A(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}const zO={beforeTitle:Er,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,i=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return t[e.dataIndex]}return""},afterTitle:Er,beforeBody:Er,beforeLabel:Er,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return Ot(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Er,afterBody:Er,beforeFooter:Er,footer:Er,afterFooter:Er};function si(n,e,t,i){const s=n[e].call(t,i);return typeof s>"u"?zO[e].call(t,i):s}class u0 extends ff{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,r=new RO(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=cY(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:i}=t,s=si(i,"beforeTitle",this,e),r=si(i,"title",this,e),l=si(i,"afterTitle",this,e);let c=[];return c=Rs(c,Ar(s)),c=Rs(c,Ar(r)),c=Rs(c,Ar(l)),c}getBeforeBody(e,t){return bA(si(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:i}=t,s=[];return wt(e,r=>{const l={before:[],lines:[],after:[]},c=_A(i,r);Rs(l.before,Ar(si(c,"beforeLabel",this,r))),Rs(l.lines,si(c,"label",this,r)),Rs(l.after,Ar(si(c,"afterLabel",this,r))),s.push(l)}),s}getAfterBody(e,t){return bA(si(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:i}=t,s=si(i,"beforeFooter",this,e),r=si(i,"footer",this,e),l=si(i,"afterFooter",this,e);let c=[];return c=Rs(c,Ar(s)),c=Rs(c,Ar(r)),c=Rs(c,Ar(l)),c}_createItems(e){const t=this._active,i=this.chart.data,s=[],r=[],l=[];let c=[],u,f;for(u=0,f=t.length;u<f;++u)c.push(iY(this.chart,t[u]));return e.filter&&(c=c.filter((p,g,b)=>e.filter(p,g,b,i))),e.itemSort&&(c=c.sort((p,g)=>e.itemSort(p,g,i))),wt(c,p=>{const g=_A(e.callbacks,p);s.push(si(g,"labelColor",this,p)),r.push(si(g,"labelPointStyle",this,p)),l.push(si(g,"labelTextColor",this,p))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=l,this.dataPoints=c,c}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let r,l=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const c=cd[i.position].call(this,s,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const u=this._size=gA(this,i),f=Object.assign({},c,u),p=vA(this.chart,i,f),g=yA(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,r={opacity:1,x:g.x,y:g.y,width:u.width,height:u.height,caretX:c.x,caretY:c.y}}this._tooltipItems=l,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const r=this.getCaretPosition(e,i,s);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:r}=this,{caretSize:l,cornerRadius:c}=i,{topLeft:u,topRight:f,bottomLeft:p,bottomRight:g}=Mp(c),{x:b,y:x}=e,{width:w,height:S}=t;let T,C,R,A,V,I;return r==="center"?(V=x+S/2,s==="left"?(T=b,C=T-l,A=V+l,I=V-l):(T=b+w,C=T+l,A=V-l,I=V+l),R=T):(s==="left"?C=b+Math.max(u,p)+l:s==="right"?C=b+w-Math.max(f,g)-l:C=this.caretX,r==="top"?(A=x,V=A-l,T=C-l,R=C+l):(A=x+S,V=A+l,T=C+l,R=C-l),I=A),{x1:T,x2:C,x3:R,y1:A,y2:V,y3:I}}drawTitle(e,t,i){const s=this.title,r=s.length;let l,c,u;if(r){const f=nb(i.rtl,this.x,this.width);for(e.x=lp(this,i.titleAlign,i),t.textAlign=f.textAlign(i.titleAlign),t.textBaseline="middle",l=ks(i.titleFont),c=i.titleSpacing,t.fillStyle=i.titleColor,t.font=l.string,u=0;u<r;++u)t.fillText(s[u],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+c,u+1===r&&(e.y+=i.titleMarginBottom-c)}}_drawColorBox(e,t,i,s,r){const l=this.labelColors[i],c=this.labelPointStyles[i],{boxHeight:u,boxWidth:f}=r,p=ks(r.bodyFont),g=lp(this,"left",r),b=s.x(g),x=u<p.lineHeight?(p.lineHeight-u)/2:0,w=t.y+x;if(r.usePointStyle){const S={radius:Math.min(f,u)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},T=s.leftForLtr(b,f)+f/2,C=w+u/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,a0(e,S,T,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,a0(e,S,T,C)}else{e.lineWidth=mt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const S=s.leftForLtr(b,f),T=s.leftForLtr(s.xPlus(b,1),f-2),C=Mp(l.borderRadius);Object.values(C).some(R=>R!==0)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,LC(e,{x:S,y:w,w:f,h:u,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),LC(e,{x:T,y:w+1,w:f-2,h:u-2,radius:C}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(S,w,f,u),e.strokeRect(S,w,f,u),e.fillStyle=l.backgroundColor,e.fillRect(T,w+1,f-2,u-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:r,bodyAlign:l,displayColors:c,boxHeight:u,boxWidth:f,boxPadding:p}=i,g=ks(i.bodyFont);let b=g.lineHeight,x=0;const w=nb(i.rtl,this.x,this.width),S=function(O){t.fillText(O,w.x(e.x+x),e.y+b/2),e.y+=b+r},T=w.textAlign(l);let C,R,A,V,I,H,D;for(t.textAlign=l,t.textBaseline="middle",t.font=g.string,e.x=lp(this,T,i),t.fillStyle=i.bodyColor,wt(this.beforeBody,S),x=c&&T!=="right"?l==="center"?f/2+p:f+2+p:0,V=0,H=s.length;V<H;++V){for(C=s[V],R=this.labelTextColors[V],t.fillStyle=R,wt(C.before,S),A=C.lines,c&&A.length&&(this._drawColorBox(t,e,V,w,i),b=Math.max(g.lineHeight,u)),I=0,D=A.length;I<D;++I)S(A[I]),b=g.lineHeight;wt(C.after,S)}x=0,b=g.lineHeight,wt(this.afterBody,S),e.y-=r}drawFooter(e,t,i){const s=this.footer,r=s.length;let l,c;if(r){const u=nb(i.rtl,this.x,this.width);for(e.x=lp(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=u.textAlign(i.footerAlign),t.textBaseline="middle",l=ks(i.footerFont),t.fillStyle=i.footerColor,t.font=l.string,c=0;c<r;++c)t.fillText(s[c],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:r,yAlign:l}=this,{x:c,y:u}=e,{width:f,height:p}=i,{topLeft:g,topRight:b,bottomLeft:x,bottomRight:w}=Mp(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(c+g,u),l==="top"&&this.drawCaret(e,t,i,s),t.lineTo(c+f-b,u),t.quadraticCurveTo(c+f,u,c+f,u+b),l==="center"&&r==="right"&&this.drawCaret(e,t,i,s),t.lineTo(c+f,u+p-w),t.quadraticCurveTo(c+f,u+p,c+f-w,u+p),l==="bottom"&&this.drawCaret(e,t,i,s),t.lineTo(c+x,u+p),t.quadraticCurveTo(c,u+p,c,u+p-x),l==="center"&&r==="left"&&this.drawCaret(e,t,i,s),t.lineTo(c,u+g),t.quadraticCurveTo(c,u,c+g,u),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const l=cd[e.position].call(this,this._active,this._eventPosition);if(!l)return;const c=this._size=gA(this,e),u=Object.assign({},l,this._size),f=vA(t,e,u),p=yA(e,u,f,t);(s._to!==p.x||r._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=c.width,this.height=c.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=qa(t.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&c&&(e.save(),e.globalAlpha=i,this.drawBackground(r,e,s,t),hq(e,t.textDirection),r.y+=l.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),pq(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:c,index:u})=>{const f=this.chart.getDatasetMeta(c);if(!f)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:f.data[u],index:u}}),r=!Tm(i,s),l=this._positionChanged(s,t);(r||l)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],l=this._getActiveElements(e,r,t,i),c=this._positionChanged(l,e),u=t||!Tm(l,r)||c;return u&&(this._active=l,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),u}_getActiveElements(e,t,i,s){const r=this.options;if(e.type==="mouseout")return[];if(!s)return t.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const l=this.chart.getElementsAtEventForMode(e,r.mode,r,i);return r.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:i,caretY:s,options:r}=this,l=cd[r.position].call(this,e,t);return l!==!1&&(i!==l.x||s!==l.y)}}Ke(u0,"positioners",cd);var uY={id:"tooltip",_element:u0,positioners:cd,afterInit(n,e,t){t&&(n.tooltip=new u0({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",{...t,cancelable:!0})===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:zO},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const dY=(n,e,t,i)=>(typeof e=="string"?(t=n.push(e)-1,i.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function fY(n,e,t,i){const s=n.indexOf(e);if(s===-1)return dY(n,e,t,i);const r=n.lastIndexOf(e);return s!==r?t:s}const hY=(n,e)=>n===null?null:Ui(Math.round(n),0,e);function xA(n){const e=this.getLabels();return n>=0&&n<e.length?e[n]:n}class d0 extends Dc{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const i=this.getLabels();for(const{index:s,label:r}of t)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Ot(e))return null;const i=this.getLabels();return t=isFinite(t)&&i[t]===e?t:fY(i,e,It(t,e),this._addedLabels),hY(t,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=e===0&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=e;l<=t;l++)s.push({value:l});return s}getLabelForValue(e){return xA.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Ke(d0,"id","category"),Ke(d0,"defaults",{ticks:{callback:xA}});function pY(n,e){const t=[],{bounds:s,step:r,min:l,max:c,precision:u,count:f,maxTicks:p,maxDigits:g,includeBounds:b}=n,x=r||1,w=p-1,{min:S,max:T}=e,C=!Ot(l),R=!Ot(c),A=!Ot(f),V=(T-S)/(g+1);let I=TC((T-S)/w/x)*x,H,D,O,N;if(I<1e-14&&!C&&!R)return[{value:S},{value:T}];N=Math.ceil(T/I)-Math.floor(S/I),N>w&&(I=TC(N*I/w/x)*x),Ot(u)||(H=Math.pow(10,u),I=Math.ceil(I*H)/H),s==="ticks"?(D=Math.floor(S/I)*I,O=Math.ceil(T/I)*I):(D=S,O=T),C&&R&&r&&i$((c-l)/r,I/1e3)?(N=Math.round(Math.min((c-l)/I,p)),I=(c-l)/N,D=l,O=c):A?(D=C?l:D,O=R?c:O,N=f-1,I=(O-D)/N):(N=(O-D)/I,_d(N,Math.round(N),I/1e3)?N=Math.round(N):N=Math.ceil(N));const L=Math.max(CC(I),CC(D));H=Math.pow(10,Ot(u)?L:u),D=Math.round(D*H)/H,O=Math.round(O*H)/H;let U=0;for(C&&(b&&D!==l?(t.push({value:l}),D<l&&U++,_d(Math.round((D+U*I)*H)/H,l,wA(l,V,n))&&U++):D<l&&U++);U<N;++U){const B=Math.round((D+U*I)*H)/H;if(R&&B>c)break;t.push({value:B})}return R&&b&&O!==c?t.length&&_d(t[t.length-1].value,c,wA(c,V,n))?t[t.length-1].value=c:t.push({value:c}):(!R||O===c)&&t.push({value:O}),t}function wA(n,e,{horizontal:t,minRotation:i}){const s=jo(i),r=(t?Math.sin(s):Math.cos(s))||.001,l=.75*e*(""+n).length;return Math.min(e/r,l)}class mY extends Dc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Ot(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const l=u=>s=t?s:u,c=u=>r=i?r:u;if(e){const u=_c(s),f=_c(r);u<0&&f<0?c(0):u>0&&f>0&&l(0)}if(s===r){let u=r===0?1:Math.abs(r*.05);c(r+u),e||l(s-u)}this.min=s,this.max=r}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:i}=e,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),t=t||11),t&&(s=Math.min(t,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},r=this._range||this,l=pY(s,r);return e.bounds==="ticks"&&s$(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return vO(e,this.chart.options.locale,this.options.ticks.format)}}class f0 extends mY{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=Hi(e)?e:0,this.max=Hi(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=jo(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Ke(f0,"id","linear"),Ke(f0,"defaults",{ticks:{callback:yO.formatters.numeric}});const gg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},li=Object.keys(gg);function SA(n,e){return n-e}function EA(n,e){if(Ot(e))return null;const t=n._adapter,{parser:i,round:s,isoWeekday:r}=n._parseOpts;let l=e;return typeof i=="function"&&(l=i(l)),Hi(l)||(l=typeof i=="string"?t.parse(l,i):t.parse(l)),l===null?null:(s&&(l=s==="week"&&(Bd(r)||r===!0)?t.startOf(l,"isoWeek",r):t.startOf(l,s)),+l)}function TA(n,e,t,i){const s=li.length;for(let r=li.indexOf(n);r<s-1;++r){const l=gg[li[r]],c=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(c*l.size))<=i)return li[r]}return li[s-1]}function gY(n,e,t,i,s){for(let r=li.length-1;r>=li.indexOf(t);r--){const l=li[r];if(gg[l].common&&n._adapter.diff(s,i,l)>=e-1)return l}return li[t?li.indexOf(t):0]}function vY(n){for(let e=li.indexOf(n)+1,t=li.length;e<t;++e)if(gg[li[e]].common)return li[e]}function CA(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:i,hi:s}=J_(t,e),r=t[i]>=e?t[i]:t[s];n[r]=!0}}function yY(n,e,t,i){const s=n._adapter,r=+s.startOf(e[0].value,i),l=e[e.length-1].value;let c,u;for(c=r;c<=l;c=+s.add(c,1,i))u=t[c],u>=0&&(e[u].major=!0);return e}function AA(n,e,t){const i=[],s={},r=e.length;let l,c;for(l=0;l<r;++l)c=e[l],s[c]=l,i.push({value:c,major:!1});return r===0||!t?i:yY(n,i,s,t)}class Nm extends Dc{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t={}){const i=e.time||(e.time={}),s=this._adapter=new Fq._date(e.adapters.date);s.init(t),bd(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:EA(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:r,minDefined:l,maxDefined:c}=this.getUserBounds();function u(f){!l&&!isNaN(f.min)&&(s=Math.min(s,f.min)),!c&&!isNaN(f.max)&&(r=Math.max(r,f.max))}(!l||!c)&&(u(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&u(this.getMinMax(!1))),s=Hi(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),r=Hi(r)&&!isNaN(r)?r:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,l=this.max,c=d$(s,r,l);return this._unit=t.unit||(i.autoSkip?TA(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):gY(this,c.length,t.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:vY(this._unit),this.initOffsets(s),e.reverse&&c.reverse(),AA(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let t=0,i=0,s,r;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?t=1-s:t=(this.getDecimalForValue(e[1])-s)/2,r=this.getDecimalForValue(e[e.length-1]),e.length===1?i=r:i=(r-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=Ui(t,0,l),i=Ui(i,0,l),this._offsets={start:t,end:i,factor:1/(t+1+i)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,r=s.time,l=r.unit||TA(r.minUnit,t,i,this._getLabelCapacity(t)),c=It(s.ticks.stepSize,1),u=l==="week"?r.isoWeekday:!1,f=Bd(u)||u===!0,p={};let g=t,b,x;if(f&&(g=+e.startOf(g,"isoWeek",u)),g=+e.startOf(g,f?"day":l),e.diff(i,t,l)>1e5*c)throw new Error(t+" and "+i+" are too far apart with stepSize of "+c+" "+l);const w=s.ticks.source==="data"&&this.getDataTimestamps();for(b=g,x=0;b<i;b=+e.add(b,c,l),x++)CA(p,b,w);return(b===i||s.bounds==="ticks"||x===1)&&CA(p,b,w),Object.keys(p).sort(SA).map(S=>+S)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}format(e,t){const s=this.options.time.displayFormats,r=this._unit,l=t||s[r];return this._adapter.format(e,l)}_tickFormatFunction(e,t,i,s){const r=this.options,l=r.ticks.callback;if(l)return Wt(l,[e,t,i],this);const c=r.time.displayFormats,u=this._unit,f=this._majorUnit,p=u&&c[u],g=f&&c[f],b=i[t],x=f&&g&&b&&b.major;return this._adapter.format(e,s||(x?g:p))}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=jo(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(s),l=Math.sin(s),c=this._resolveTickFontOptions(0).size;return{w:i*r+c*l,h:i*l+c*r}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,r=this._tickFormatFunction(e,0,AA(this,[e],this._majorUnit),s),l=this._getLabelSize(r),c=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],t,i;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(t=0,i=s.length;t<i;++t)e=e.concat(s[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(EA(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return h$(e.sort(SA))}}Ke(Nm,"id","time"),Ke(Nm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function cp(n,e,t){let i=0,s=n.length-1,r,l,c,u;t?(e>=n[i].pos&&e<=n[s].pos&&({lo:i,hi:s}=Fo(n,"pos",e)),{pos:r,time:c}=n[i],{pos:l,time:u}=n[s]):(e>=n[i].time&&e<=n[s].time&&({lo:i,hi:s}=Fo(n,"time",e)),{time:r,pos:c}=n[i],{time:l,pos:u}=n[s]);const f=l-r;return f?c+(u-c)*(e-r)/f:c}class RA extends Nm{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=cp(t,this.min),this._tableRange=cp(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],r=[];let l,c,u,f,p;for(l=0,c=e.length;l<c;++l)f=e[l],f>=t&&f<=i&&s.push(f);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(l=0,c=s.length;l<c;++l)p=s[l+1],u=s[l-1],f=s[l],Math.round((p+u)/2)!==f&&r.push({time:f,pos:l/(c-1)});return r}_generate(){const e=this.min,t=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(t)||i.length===1)&&i.push(t),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return t.length&&i.length?e=this.normalize(t.concat(i)):e=t.length?t:i,e=this._cache.all=e,e}getDecimalForValue(e){return(cp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return cp(this._table,i*this._tableRange+this._minPos,!0)}}Ke(RA,"id","timeseries"),Ke(RA,"defaults",Nm.defaults);const BO="label";function IA(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function bY(n,e){const t=n.options;t&&e&&Object.assign(t,e)}function HO(n,e){n.labels=e}function $O(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:BO;const i=[];n.datasets=e.map(s=>{const r=n.datasets.find(l=>l[t]===s[t]);return!r||!s.data||i.includes(r)?{...s}:(i.push(r),Object.assign(r,s),r)})}function _Y(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BO;const t={labels:[],datasets:[]};return HO(t,n.labels),$O(t,n.datasets,e),t}function xY(n,e){const{height:t=150,width:i=300,redraw:s=!1,datasetIdKey:r,type:l,data:c,options:u,plugins:f=[],fallbackContent:p,updateMode:g,...b}=n,x=k.useRef(null),w=k.useRef(null),S=()=>{x.current&&(w.current=new mg(x.current,{type:l,data:_Y(c,r),options:u&&{...u},plugins:f}),IA(e,w.current))},T=()=>{IA(e,null),w.current&&(w.current.destroy(),w.current=null)};return k.useEffect(()=>{!s&&w.current&&u&&bY(w.current,u)},[s,u]),k.useEffect(()=>{!s&&w.current&&HO(w.current.config.data,c.labels)},[s,c.labels]),k.useEffect(()=>{!s&&w.current&&c.datasets&&$O(w.current.config.data,c.datasets,r)},[s,c.datasets]),k.useEffect(()=>{w.current&&(s?(T(),setTimeout(S)):w.current.update(g))},[s,u,c.labels,c.datasets,g]),k.useEffect(()=>{w.current&&(T(),setTimeout(S))},[l]),k.useEffect(()=>(S(),()=>T()),[]),Le.createElement("canvas",{ref:x,role:"img",height:t,width:i,...b},p)}const wY=k.forwardRef(xY);function SY(n,e){return mg.register(e),k.forwardRef((t,i)=>Le.createElement(wY,{...t,ref:i,type:n}))}const EY=SY("line",Op);mg.register(ld,Pp,d0,f0,uY);function cb(n){return n.toISOString().split("T")[0]}function TY(n,e){const t=new Date(n);return t.setDate(t.getDate()-e),t}function CY(){const[n,e]=k.useState([]),[t,i]=k.useState([]),[s,r]=k.useState([]),[l,c]=k.useState(!0),u=new Date,f=TY(u,7),[p,g]=k.useState(cb(f)),[b,x]=k.useState(cb(u));if(k.useEffect(()=>{(async()=>{const[H,D,O]=await Promise.all([Tn(Qt(st,"usuarios")),Tn(Qt(st,"productos")),Tn(Qt(st,"ordenes"))]);e(H.docs.map(N=>({id:N.id,...N.data()}))),i(D.docs.map(N=>({id:N.id,...N.data()}))),r(O.docs.map(N=>({id:N.id,...N.data()}))),c(!1)})()},[]),l)return y.jsx("div",{className:"p-6",children:"Cargando dashboard..."});const w=s.filter(I=>{var N,L;const H=(L=(N=I.creadoEn)==null?void 0:N.toDate)==null?void 0:L.call(N);if(!H)return!1;const D=new Date(p),O=new Date(b);return H>=D&&H<=O}),S=w.reduce((I,H)=>I+(H.total||0),0),T={};w.forEach(I=>{var O;const H=(O=I.creadoEn)==null?void 0:O.toDate();if(!H)return;const D=cb(H);T[D]=(T[D]||0)+(I.total||0)});const C=Object.keys(T).sort(),R=C.map(I=>T[I]),A={};w.forEach(I=>{(I.carrito||[]).forEach(H=>{A[H.nombre]=(A[H.nombre]||0)+H.cantidad})});const V=Object.entries(A).sort((I,H)=>H[1]-I[1]).slice(0,5);return y.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-10",children:[y.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[y.jsx(up,{icon:"👥",label:"Usuarios",value:n.length}),y.jsx(up,{icon:"📦",label:"Productos",value:t.length}),y.jsx(up,{icon:"🧾",label:"Órdenes",value:s.length}),y.jsx(up,{icon:"💰",label:"Total Ventas",value:`S/. ${S.toFixed(2)}`})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 sm:items-center",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600",children:"Desde"}),y.jsx("input",{type:"date",value:p,onChange:I=>g(I.target.value),className:"border px-3 py-1 rounded w-full sm:w-auto"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm text-gray-600",children:"Hasta"}),y.jsx("input",{type:"date",value:b,onChange:I=>x(I.target.value),className:"border px-3 py-1 rounded w-full sm:w-auto"})]})]}),y.jsxs("div",{className:"bg-white rounded shadow p-4",children:[y.jsx("h2",{className:"font-semibold mb-2",children:"Ventas por día"}),y.jsx(EY,{data:{labels:C,datasets:[{label:"Ventas (S/.)",data:R,fill:!0,borderColor:"#4B5563",backgroundColor:"rgba(75,85,99,0.2)"}]}})]}),y.jsxs("div",{className:"bg-white rounded shadow p-4 overflow-auto",children:[y.jsx("h2",{className:"font-semibold mb-2",children:"Últimos 5 usuarios"}),y.jsxs("table",{className:"min-w-full text-sm",children:[y.jsx("thead",{className:"bg-gray-100 text-gray-600",children:y.jsxs("tr",{children:[y.jsx("th",{className:"text-left px-2 py-1",children:"Nombre"}),y.jsx("th",{className:"text-left px-2 py-1",children:"Correo"}),y.jsx("th",{className:"text-left px-2 py-1",children:"Fecha"})]})}),y.jsx("tbody",{children:n.sort((I,H)=>{var D,O;return((D=H.creadoEn)==null?void 0:D.toDate())-((O=I.creadoEn)==null?void 0:O.toDate())}).slice(0,5).map(I=>{var H;return y.jsxs("tr",{className:"border-b",children:[y.jsxs("td",{className:"px-2 py-1",children:[I.nombre," ",I.apellido]}),y.jsx("td",{className:"px-2 py-1",children:I.email||"—"}),y.jsx("td",{className:"px-2 py-1",children:(H=I.creadoEn)==null?void 0:H.toDate().toLocaleString("es-PE")})]},I.id)})})]})]}),y.jsxs("div",{className:"bg-white rounded shadow p-4 overflow-auto",children:[y.jsx("h2",{className:"font-semibold mb-2",children:"Top 5 productos más vendidos"}),y.jsxs("table",{className:"min-w-full text-sm",children:[y.jsx("thead",{className:"bg-gray-100 text-gray-600",children:y.jsxs("tr",{children:[y.jsx("th",{className:"text-left px-2 py-1",children:"Producto"}),y.jsx("th",{className:"text-left px-2 py-1",children:"Cantidad"})]})}),y.jsx("tbody",{children:V.map(([I,H])=>y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"px-2 py-1",children:I}),y.jsxs("td",{className:"px-2 py-1",children:[H," unidades"]})]},I))})]})]})]})}function up({icon:n,label:e,value:t}){return y.jsxs("div",{className:"bg-white shadow rounded p-4 flex flex-col items-center text-center",children:[y.jsx("div",{className:"text-3xl",children:n}),y.jsx("div",{className:"text-sm text-gray-600",children:e}),y.jsx("div",{className:"text-xl font-bold",children:t})]})}function AY(){return y.jsx("div",{className:"relative",style:{minHeight:"100dvh"},children:y.jsxs(wP,{children:[y.jsx(Yt,{path:"/redirect",element:y.jsx(b9,{})}),y.jsx(Yt,{path:"/login",element:y.jsx(p9,{})}),y.jsx(Yt,{path:"/register",element:y.jsx(m9,{})}),y.jsx(Yt,{path:"/forgotPassword",element:y.jsx(g9,{})}),y.jsx(Yt,{path:"/reset",element:y.jsx(v9,{})}),y.jsx(Yt,{path:"/verify-email",element:y.jsx(_9,{})}),y.jsx(Yt,{path:"/confirmar",element:y.jsx(y9,{})}),y.jsxs(Yt,{path:"/*",element:y.jsx(YF,{}),children:[y.jsx(Yt,{index:!0,element:y.jsx(Fz,{})}),y.jsx(Yt,{path:"productos",element:y.jsx(qz,{})}),y.jsx(Yt,{path:"productos/:slug",element:y.jsx($z,{})}),y.jsx(Yt,{path:"checkout",element:y.jsx(h9,{})}),y.jsx(Yt,{path:"mi-perfil",element:y.jsx(U1,{children:y.jsx(C9,{})})}),y.jsx(Yt,{path:"mis-compras",element:y.jsx(U1,{children:y.jsx(A9,{})})})]}),y.jsxs(Yt,{path:"/admin",element:y.jsx(R9,{}),children:[y.jsx(Yt,{path:"dashboard",element:y.jsx(CY,{})}),y.jsx(Yt,{path:"productos",element:y.jsx(_7,{})}),y.jsx(Yt,{path:"filtros",element:y.jsx(x7,{})}),y.jsx(Yt,{path:"ventas",element:y.jsx(w7,{})}),y.jsx(Yt,{path:"usuarios",element:y.jsx(S7,{})})]})]})})}AD.createRoot(document.getElementById("root")).render(y.jsx(Le.StrictMode,{children:y.jsx(YP,{children:y.jsx(Z5,{children:y.jsx(J5,{children:y.jsx(AY,{})})})})}));
